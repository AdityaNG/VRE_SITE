function start_search() {
    for ($("#search_query")[0].value = "", $("#search_query").on("change keydown paste input", (function(t) {
            "13" == (t.keyCode ? t.keyCode : t.which) && perform_search(), perform_search()
        })), tablinks = document.getElementsByClassName("tablinks"), selected_tab = "", i = 0; i < tablinks.length; i++)
        if (tablinks[i].classList.contains("active")) {
            selected_tab = tablinks[i].innerText;
            break
        } if (search_domain = search_space[selected_tab], $("#search_property")[0].innerHTML = "", black_list = ["photoURL", "email", "deadline_url", "drive_link_url"], search_domain.length > 0)
        for (prop in search_domain[0].data)
            if (-1 == black_list.indexOf(prop)) {
                var t = document.createElement("option");
                t.text = prop, t.value = prop, $("#search_property")[0].add(t)
            } for (i = 0; i < $("#search_property")[0].options.length; i++)
        if ($("#search_property")[0].options[i].value.includes("desc")) {
            $("#search_property")[0].value = $("#search_property")[0].options[i].value;
            break
        } for (results_array = $("#search_result_result_array")[0], results_array.innerHTML = "", i = 0; i < search_domain.length; i++) results_array.innerHTML += search_domain[i].ele;
    $("#search_window").dialog({
        modal: !0,
        title: "Search " + selected_tab,
        show: "blind",
        hide: "blind",
        width: $(window).width(),
        height: $(window).height(),
        draggable: !1,
        resizable: !1,
        dialogClass: "dialog-full-mode"
    })
}

function perform_search() {
    for (searchQuery = $("#search_query").val().toLowerCase(), prop = $("#search_property").val(), tablinks = document.getElementsByClassName("tablinks"), selected_tab = "", i = 0; i < tablinks.length; i++)
        if (tablinks[i].classList.contains("active")) {
            selected_tab = tablinks[i].innerText;
            break
        } for (search_domain = search_space[selected_tab], found_eles = [], i = 0; i < search_domain.length - 1; i++) num_flag = !1, num1 = Number(search_domain[i].data[prop]), num2 = Number(searchQuery), "NaN" != String(num1) && "NaN" != String(num2) && (console.log("Numbers"), Math.abs(num1 - num2) < .2 * num2 && (num_flag = !0)), (num_flag || String(search_domain[i].data[prop]).toLowerCase().includes(searchQuery) || new Date(search_domain[i].data[prop]).toDateString().toLowerCase().includes(searchQuery)) && found_eles.push(search_domain[i]);
    for (results_array = $("#search_result_result_array")[0], results_array.innerHTML = "", i = 0; i < found_eles.length; i++) results_array.innerHTML += found_eles[i].ele
}

function is_seen(t, e) {
    return Boolean(LOADED_COOKIE) || (LOADED_COOKIE = {}), !!Boolean(LOADED_COOKIE[e]) && Boolean(LOADED_COOKIE[e][t])
}

function get_cache(t) {
    return Boolean(LOADED_COOKIE) || (LOADED_COOKIE = {}), LOADED_COOKIE[t]
}

function set_seen(t, e, n) {
    load_all_cookies(), Boolean(LOADED_COOKIE) || (LOADED_COOKIE = {}), Boolean(LOADED_COOKIE[e]) || (LOADED_COOKIE[e] = {}), LOADED_COOKIE[e][t] = n, save_all_cookies()
}

function set_unseen(t, e) {
    Boolean(LOADED_COOKIE[e]) || (LOADED_COOKIE[e] = {}), delete LOADED_COOKIE[e][t]
}

function bake_cookie(t) {
    localStorage.setItem("cache_dataV1", JSON.stringify(t))
}

function read_cookie() {
    data = "{}";
    try {
        data = localStorage.getItem("cache_dataV1")
    } catch (t) {
        data = "{}"
    }
    return JSON.parse(data)
}

function load_all_cookies() {
    LOADED_COOKIE = read_cookie()
}

function save_all_cookies() {
    bake_cookie(LOADED_COOKIE)
}

function refresh_bug_report() {
    ref.root.child("bug_report").on("value", (function(t) {
        for (key in document.getElementById("bug_report_array").innerHTML = "", list = t.val(), elements_list = [], list) {
            bug_report = list[key];
            const t = key;
            if (ele = document.getElementById(t), ele)
                for (i = 0; i < children.length; i++) children[i].innerHTML = bug_report[children[i].id];
            else {
                for (property in bug_report_array = document.getElementById("bug_report_array"), bug_report_ele = BUG_REPORT_FORMAT, bug_report_ele = bug_report_ele.split("{{bug_report_id}}").join(t), bug_report) bug_report_ele = bug_report_ele.split("{{" + property + "}}").join(bug_report[property]);
                bug_report.bug_report_id = t, elements_list.push({
                    ele: bug_report_ele,
                    data: bug_report
                }), storage.root.child(t + "/bill").getDownloadURL().then((function(e) {
                    $("#" + t).find("#bill_img")[0].src = e
                })).catch((function(t) {})), storage.root.child(t + "/item").getDownloadURL().then((function(e) {
                    $("#" + t).find("#item_img")[0].src = e
                })).catch((function(t) {}))
            }
        }
        for (search_space["Report Bug"] = elements_list, i = 0; i < elements_list.length; i++) bug_report_array.innerHTML = elements_list[i].ele + bug_report_array.innerHTML;
        for (i = 0; i < elements_list.length; i++) bug_report_id = elements_list[i].data.bug_report_id, comment_rotoator(bug_report_id, "bug_report", $("#comment_rotoator_bug_report_" + bug_report_id)[0])
    }))
}

function new_bug_report() {
    $("<p>Would you like to add a new BugReport?</p>").dialog({
        modal: !0,
        title: "Add New BugReport",
        show: "blind",
        hide: "blind",
        draggable: !1,
        resizable: !1,
        buttons: {
            No: function() {
                $(this).dialog("close"), $(this).dialog("destroy")
            },
            Yes: function() {
                $(this).dialog("close"), $(this).dialog("destroy"), $('<form><textarea rows=10 id="new_bug_report_desc" type="text" style="z-index:10000; width: 100%;" name="new_bug_report_desc" placeholder="Description of bug" value=""></textarea></form>').dialog({
                    modal: !0,
                    title: "Add New BugReport",
                    show: "blind",
                    hide: "fold",
                    width: .5 * $(window).width(),
                    height: .5 * $(window).height(),
                    draggable: !1,
                    resizable: !1,
                    dialogClass: "dialog-full-mode",
                    buttons: {
                        Add: function() {
                            bug_report_desc = $("#new_bug_report_desc").val(), bug_report_id = ref.root.child("bug_report").push({
                                bug_report_desc: bug_report_desc,
                                email: USER.email,
                                displayName: USER.providerData[0].displayName,
                                photoURL: USER.photoURL
                            }).path.pieces_[1], $(this).dialog("close"), $(this).dialog("destroy")
                        }
                    }
                })
            }
        }
    })
}

function refresh_drive_links() {
    ref.root.child("drive_links").on("value", (function(t) {
        update_drive_link_UI(t.val())
    }), (function(t) {
        console.log(t)
    }))
}

function update_drive_link_UI(t) {
    for (key in document.getElementById("drive_link_array").innerHTML = "", elements_list = [], drive_link_array = document.getElementById("drive_link_array"), t) {
        drive_link = t[key];
        const e = key;
        if (ele = document.getElementById(e), ele)
            for (i = 0; i < children.length; i++) children[i].innerHTML = drive_link[children[i].id];
        else {
            for (property in drive_link_ele = DRIVE_LINK_FORMAT, drive_link_ele = drive_link_ele.split("{{drive_link_id}}").join(e), drive_link) drive_link_ele = drive_link_ele.split("{{" + property + "}}").join(drive_link[property]);
            drive_link.drive_link_id = e, elements_list.push({
                ele: drive_link_ele,
                data: drive_link
            })
        }
    }
    for (search_space.Drive = elements_list, i = 0; i < elements_list.length; i++) drive_link_array.innerHTML = elements_list[i].ele + drive_link_array.innerHTML;
    for (i = 0; i < elements_list.length; i++) drive_link_id = elements_list[i].data.drive_link_id, comment_rotoator(drive_link_id, "drive_links", $("#comment_rotoator_drive_link_" + drive_link_id)[0])
}

function edit_drive_link(t) {
    $("<p>Would you like to Edit this DriveLink?</p>").dialog({
        modal: !0,
        title: "Add New DriveLink",
        show: "blind",
        hide: "blind",
        draggable: !1,
        resizable: !1,
        buttons: {
            No: function() {
                $(this).dialog("close"), $(this).dialog("destroy")
            },
            Yes: function() {
                $(this).dialog("close"), $(this).dialog("destroy"), ref.root.child("drive_links").child(t).once("value", (function(e) {
                    for (property in drive_link = e.val(), drive_link) drive_link[property] || (drive_link[property] = "");
                    $('<form><input id="edit_drive_link_desc" type="text" style="z-index:10000; width: 100%;" name="edit_drive_link_desc" placeholder="Description" value="' + drive_link.drive_link_desc + '"><input id="edit_drive_link_url" type="text" style="z-index:10000; width: 100%;" name="edit_drive_link_url" placeholder="URL" value="' + drive_link.drive_link_url + '"><br></form>').dialog({
                        modal: !0,
                        title: "Edit DriveLink",
                        show: "blind",
                        hide: "fold",
                        width: .5 * $(window).width(),
                        height: .5 * $(window).height(),
                        draggable: !1,
                        resizable: !1,
                        dialogClass: "dialog-full-mode",
                        buttons: {
                            Delete: function() {
                                const e = this;
                                $("<p>Are you sure you would like to Delete this DriveLink?</p>").dialog({
                                    modal: !0,
                                    title: "Delete DriveLink?",
                                    show: "blind",
                                    hide: "blind",
                                    draggable: !1,
                                    resizable: !1,
                                    buttons: {
                                        No: function() {
                                            $(this).dialog("close"), $(this).dialog("destroy")
                                        },
                                        Yes: function() {
                                            ref.root.child("drive_links").child(t).remove(), $(e).dialog("close"), $(e).dialog("destroy"), $(this).dialog("close"), $(this).dialog("destroy")
                                        }
                                    }
                                })
                            },
                            Save: function() {
                                drive_link_desc = $("#edit_drive_link_desc").val(), drive_link_url = $("#edit_drive_link_url").val(), ref.root.child("drive_links").child(t).set({
                                    drive_link_desc: drive_link_desc,
                                    drive_link_url: drive_link_url,
                                    email: USER.email,
                                    displayName: USER.providerData[0].displayName,
                                    photoURL: USER.photoURL,
                                    uid: USER.uid
                                }), $(this).dialog("close"), $(this).dialog("destroy")
                            }
                        }
                    })
                }))
            }
        }
    })
}

function new_drive_link() {
    $("<p>Would you like to add a new DriveLink?</p>").dialog({
        modal: !0,
        title: "Add New DriveLink",
        show: "blind",
        hide: "blind",
        draggable: !1,
        resizable: !1,
        buttons: {
            No: function() {
                $(this).dialog("close"), $(this).dialog("destroy")
            },
            Yes: function() {
                $(this).dialog("close"), $(this).dialog("destroy"), $('<form><input id="new_drive_link_desc" type="text" style="z-index:10000; width: 100%;" name="new_drive_link_desc" placeholder="Description" value=""><input id="new_drive_link_url" type="text" style="z-index:10000; width: 100%;" name="new_drive_link_url" placeholder="URL" value=""><br></form>').dialog({
                    modal: !0,
                    title: "Add New DriveLink",
                    show: "blind",
                    hide: "fold",
                    width: .5 * $(window).width(),
                    height: .5 * $(window).height(),
                    draggable: !1,
                    resizable: !1,
                    dialogClass: "dialog-full-mode",
                    buttons: {
                        Add: function() {
                            drive_link_desc = $("#new_drive_link_desc").val(), drive_link_url = $("#new_drive_link_url").val(), drive_link_id = ref.root.child("drive_links").push({
                                drive_link_desc: drive_link_desc,
                                drive_link_url: drive_link_url,
                                email: USER.email,
                                displayName: USER.providerData[0].displayName,
                                photoURL: USER.photoURL,
                                uid: USER.uid
                            }).path.pieces_[1], $(this).dialog("close"), $(this).dialog("destroy")
                        }
                    }
                })
            }
        }
    })
}

function refresh_deadlines() {
    navigator.onLine || update_deadline_UI(get_cache("deadline")), ref.root.child("deadlines").on("value", (function(t) {
        update_deadline_UI(t.val()), setTimeout((function() {
            for (i = 0; i < search_space.Timeline.length; i++)
                if (search_space.Timeline[i].data.deadline_url) {
                    for (found_link = !1, j = 0; j < search_space.Drive.length; j++)
                        if (search_space.Timeline[i].data.deadline_url == search_space.Drive[j].data.drive_link_url) {
                            found_link = !0;
                            break
                        } found_link || (console.log("New link : " + search_space.Timeline[i].data.deadline_url), drive_link_desc = search_space.Timeline[i].data.deadline_title, drive_link_url = search_space.Timeline[i].data.deadline_url, drive_link_id = ref.root.child("drive_links").push({
                        drive_link_desc: drive_link_desc,
                        drive_link_url: drive_link_url,
                        email: "deadline",
                        displayName: "",
                        photoURL: "/time.png",
                        uid: USER.uid
                    }).path.pieces_[1])
                }
        }), 1e3)
    }), (function(t) {
        console.log(t)
    }))
}

function update_deadline_UI(t) {
    for (key in document.getElementById("timeline_array").innerHTML = "", elements_list = [], last_pos = !0, t)
        if (deadline = t[key], deadline_id = key, ele = document.getElementById(deadline_id), !ele) {
            for (property in timeline_array = document.getElementById("timeline_array"), deadline_ele = DEADLINE_FORMAT, deadline_ele = deadline_ele.split("{{deadline_id}}").join(deadline_id), deadline_ele = deadline_ele.split("{{deadline_date}}").join(new Date(deadline.deadline_date).toDateString()), deadline.deadline_url || (deadline_ele = deadline_ele.replace('<a id="deadline_url" target="_blank" href="{{deadline_url}}"><button class="w3-button w3-round-large"><i class="fa fa-external-link"></i> Link</button></a>', "")), deadline) deadline_ele = deadline_ele.split("{{" + property + "}}").join(deadline[property]);
            is_seen(deadline_id, "deadline") || (unseen_deadlines++, set_seen(deadline_id, "deadline", deadline)), deadline.deadline_id = deadline_id, "All" != document.getElementById("sortBy_deadline_department").value && document.getElementById("sortBy_deadline_department").value != deadline.deadline_department || elements_list.push({
                ele: deadline_ele,
                data: deadline
            })
        } for (elements_list.push({
            ele: '<div id="today"></div><br><br><br><div class="container left"><div class="content"><h4>Today</h4></div></div>',
            data: {
                deadline_date: formatDate((new Date).toDateString())
            }
        }), i = 0; i < elements_list.length - 1; i++)
        for (j = i + 1; j < elements_list.length; j++) new Date(elements_list[i].data.deadline_date).getTime() < new Date(elements_list[j].data.deadline_date).getTime() && (tmp = elements_list[i], elements_list[i] = elements_list[j], elements_list[j] = tmp);
    for (last_pos = !0, i = 0; i < elements_list.length; i++) last_pos && (elements_list[i].ele = elements_list[i].ele.split('class="container left"').join('class="container right"')), last_pos = !last_pos;
    for (search_space.Timeline = elements_list, i = 0; i < elements_list.length; i++) timeline_array.innerHTML = elements_list[i].ele + timeline_array.innerHTML;
    for (i = 0; i < elements_list.length; i++) deadline_id = elements_list[i].data.deadline_id, comment_rotoator(deadline_id, "deadline", $("#comment_rotoator_deadline_" + deadline_id)[0]);
    for (listOfComments = $(".deadlineComment"), w = window.innerWidth / 2 * .7, window.innerWidth < 450 && (w *= 2), i = 0; i < listOfComments.length; i++) c = listOfComments[i], c.style.width = String(w) + "px";
    $("#today")[0].scrollIntoView()
}

function formatDate(t) {
    var e = new Date(t),
        n = "" + (e.getMonth() + 1),
        i = "" + e.getDate(),
        r = e.getFullYear();
    return n.length < 2 && (n = "0" + n), i.length < 2 && (i = "0" + i), [r, n, i].join("-")
}

function new_deadline() {
    $("<p>Would you like to add a new Deadline?</p>").dialog({
        modal: !0,
        title: "Add New Deadline",
        show: "blind",
        hide: "fold",
        draggable: !1,
        resizable: !1,
        buttons: {
            No: function() {
                $(this).dialog("close"), $(this).dialog("destroy")
            },
            Yes: function() {
                $(this).dialog("close"), $(this).dialog("destroy"), $('<form><input id="new_deadline_date" type="date" style="z-index:10000; width: 100%;" name="new_deadline_date" placeholder="Deadline" value=""><br><input id="new_deadline_title" type="text" style="z-index:10000; width: 100%;" name="new_deadline_title" placeholder="Title" value=""><br><select id="new_deadline_status" type="text" style="z-index:10000; width: 100%;" name="new_deadline_status" placeholder="Department" value=""><option value="Pending">Pending</option><option value="In Progress">In Progress</option><option value="Done">Done</option></select><br><select id="new_deadline_department" type="text" style="z-index:10000; width: 100%;" name="new_deadline_department" placeholder="Department" value="General"><option value="Electrical">Electrical</option><option value="Mechanical">Mechanical</option><option value="General">General</option></select><br><input id="new_deadline_url" type="text" style="z-index:10000; width: 100%;" name="new_deadline_url" placeholder="URL (Optional)" value=""><br><input id="new_deadline_desc" type="text" style="z-index:10000; width: 100%;" name="new_deadline_desc" placeholder="Description (Optional)" value=""></form>').dialog({
                    modal: !0,
                    title: "Add New Deadline",
                    show: "blind",
                    hide: "fold",
                    draggable: !1,
                    width: .9 * $(window).width(),
                    height: .9 * $(window).height(),
                    resizable: !1,
                    buttons: {
                        Add: function() {
                            deadline_date = $("#new_deadline_date").val(), deadline_title = $("#new_deadline_title").val(), deadline_url = $("#new_deadline_url").val(), deadline_desc = $("#new_deadline_desc").val(), deadline_status = $("#new_deadline_status").val(), deadline_department = $("#new_deadline_department").val(), ref.root.child("deadlines").push({
                                deadline_date: deadline_date,
                                deadline_title: deadline_title,
                                deadline_url: deadline_url,
                                deadline_desc: deadline_desc,
                                deadline_status: deadline_status,
                                deadline_department: deadline_department
                            }), $(this).dialog("close"), $(this).dialog("destroy")
                        }
                    }
                })
            }
        }
    })
}

function edit_deadline(t) {
    $("<p>Would you like to edit this Deadline?</p>").dialog({
        modal: !0,
        title: "Add edit Deadline",
        show: "blind",
        hide: "fold",
        draggable: !1,
        resizable: !1,
        buttons: {
            No: function() {
                $(this).dialog("close"), $(this).dialog("destroy")
            },
            Yes: function() {
                $(this).dialog("close"), $(this).dialog("destroy"), ref.root.child("deadlines").child(t).once("value", (function(e) {
                    for (property in deadline = e.val(), deadline) deadline[property] || (deadline[property] = "");
                    $('<form><input id="edit_deadline_date" type="date" style="z-index:10000; width: 100%;" name="edit_deadline_date" placeholder="Deadline" value="' + deadline.deadline_date + '"><br><input id="edit_deadline_title" type="text" style="z-index:10000; width: 100%;" name="edit_deadline_title" placeholder="Title" value="' + deadline.deadline_title + '"><br><select id="edit_deadline_status" type="text" style="z-index:10000; width: 100%;" name="edit_deadline_status" placeholder="Status" value="' + deadline.deadline_status + '"><option value="Pending">Pending</option><option value="In Progress">In Progress</option><option value="Done">Done</option></select><br><select id="edit_deadline_department" type="text" style="z-index:10000; width: 100%;" name="edit_deadline_department" placeholder="Department" value="' + deadline.deadline_department + '"><option value="General">General</option><option value="Electrical">Electrical</option><option value="Mechanical">Mechanical</option></select><br><input id="edit_deadline_url" type="text" style="z-index:10000; width: 100%;" name="edit_deadline_url" placeholder="URL (Optional)" value="' + deadline.deadline_url + '"><br><input id="edit_deadline_desc" type="text" style="z-index:10000; width: 100%;" name="edit_deadline_desc" placeholder="Description (Optional)" value="' + deadline.deadline_desc + '"></form>').dialog({
                        modal: !0,
                        title: "Edit Deadline",
                        show: "blind",
                        hide: "fold",
                        draggable: !1,
                        width: .9 * $(window).width(),
                        height: .9 * $(window).height(),
                        resizable: !1,
                        buttons: {
                            Save: function() {
                                deadline_date = $("#edit_deadline_date").val(), deadline_title = $("#edit_deadline_title").val(), deadline_url = $("#edit_deadline_url").val(), deadline_desc = $("#edit_deadline_desc").val(), deadline_status = $("#edit_deadline_status").val(), deadline_department = $("#edit_deadline_department").val(), ref.root.child("deadlines").child(t).set({
                                    deadline_date: deadline_date,
                                    deadline_title: deadline_title,
                                    deadline_url: deadline_url,
                                    deadline_desc: deadline_desc,
                                    deadline_status: deadline_status,
                                    deadline_department: deadline_department
                                }), $(this).dialog("close"), $(this).dialog("destroy")
                            }
                        }
                    }), $("#edit_deadline_status")[0].value = deadline.deadline_status, $("#edit_deadline_department")[0].value = deadline.deadline_department
                }))
            }
        }
    })
}

function expand_purchase(t) {
    ele = document.getElementById(t), cont = $(ele).find("#purchasecontent")[0], but = $(ele).find("#expandButton")[0], cont && ("none" == cont.style.display ? (cont.style.display = "block", but.innerHTML = '<i class="fa fa-folder-open"></i>') : (cont.style.display = "none", but.innerHTML = '<i class="fa fa-folder"></i>'))
}

function refresh_purchases() {
    purchase_ref = ref.root.child("purchases").orderByChild("uid").equalTo(USER.uid), USER_IS_ADMIN && (purchase_ref = ref.root.child("purchases")), purchase_ref.on("value", (function(t) {
        update_purchases_UI(t.val())
    }), (function(t) {
        console.log(t)
    }))
}

function update_purchases_UI(t) {
    for (key in document.getElementById("purchase_array").innerHTML = "", elements_list = [], t) {
        purchase = t[key];
        const e = key;
        if (ele = document.getElementById(e), ele)
            for (i = 0; i < children.length; i++) children[i].innerHTML = purchase[children[i].id];
        else {
            for (property in purchase_array = document.getElementById("purchase_array"), purchase_ele = PURCHASE_FORMAT, purchase_ele = purchase_ele.split("{{purchase_id}}").join(e), purchase) purchase_ele = purchase_ele.split("{{" + property + "}}").join(purchase[property]);
            purchase.purchase_id = e, elements_list.push({
                ele: purchase_ele,
                data: purchase
            }), is_seen(e, "purchase") || (unseen_purchases++, set_seen(e, "purchase", purchase)), storage.root.child(e + "/bill").getDownloadURL().then((function(t) {
                $("#" + e).find("#bill_img")[0].src = t
            })).catch((function(t) {})), storage.root.child(e + "/item").getDownloadURL().then((function(t) {
                $("#" + e).find("#item_img")[0].src = t
            })).catch((function(t) {}))
        }
    }
    for (search_space.Purchase = elements_list, i = 0; i < elements_list.length; i++) purchase_array.innerHTML = elements_list[i].ele + purchase_array.innerHTML;
    for (i = 0; i < elements_list.length; i++) purchase_id = elements_list[i].data.purchase_id, comment_rotoator(purchase_id, "purchase", $("#comment_rotoator_purchase_" + purchase_id)[0])
}

function new_purchase() {
    $("<p>Would you like to add a new Purchase?</p>").dialog({
        modal: !0,
        title: "Add New Purchase",
        show: "blind",
        hide: "blind",
        draggable: !1,
        resizable: !1,
        buttons: {
            No: function() {
                $(this).dialog("close"), $(this).dialog("destroy")
            },
            Yes: function() {
                $(this).dialog("close"), $(this).dialog("destroy"), $('<form><input id="new_purchase_date" type="date" style="z-index:10000; width: 100%;" name="new_purchase_date" placeholder="Purchase" value=""><br><select id="new_purchase_department" type="text" style="z-index:10000; width: 100%;" name="new_purchase_department" placeholder="Department" value="General"><option value="Electrical">Electrical</option><option value="Mechanical">Mechanical</option><option value="General">General</option></select><br><input id="new_purchase_desc" type="text" style="z-index:10000; width: 100%;" name="new_purchase_desc" placeholder="Description" value=""><input id="new_purchase_place" type="text" style="z-index:10000; width: 100%;" name="new_purchase_place" placeholder="Place" value=""><br><input id="new_purchase_cost" type="number" style="z-index:10000; width: 100%;" name="new_purchase_cost" placeholder="Cost of Item" value=""><br><input id="new_purchase_cost_vega" type="number" style="z-index:10000; width: 100%;" name="new_purchase_cost_vega" placeholder="Cost Covered by Vega" value=""><br><p>Item Image</p><input type="file" id="item_img_upload" name="img" accept="image/*"><p>Bill Image</p><input type="file" id="bill_img_upload" name="img" accept="image/*"></form>').dialog({
                    modal: !0,
                    title: "Add New Purchase",
                    show: "blind",
                    hide: "fold",
                    width: .9 * $(window).width(),
                    height: .9 * $(window).height(),
                    draggable: !1,
                    resizable: !1,
                    dialogClass: "dialog-full-mode",
                    buttons: {
                        Close: function() {
                            $(this).dialog("close"), $(this).dialog("destroy")
                        },
                        Add: function() {
                            purchase_date = $("#new_purchase_date").val(), purchase_department = $("#new_purchase_department").val(), purchase_desc = $("#new_purchase_desc").val(), purchase_place = $("#new_purchase_place").val(), purchase_cost = $("#new_purchase_cost").val(), purchase_cost_vega = $("#new_purchase_cost_vega").val(), purchase_item_img = $("#item_img_upload")[0].files[0], purchase_bill_img = $("#bill_img_upload")[0].files[0], purchase_id = ref.root.child("purchases").push({
                                purchase_date: purchase_date,
                                purchase_department: purchase_department,
                                purchase_desc: purchase_desc,
                                purchase_place: purchase_place,
                                purchase_cost: purchase_cost,
                                purchase_cost_vega: purchase_cost_vega,
                                email: USER.email,
                                displayName: USER.providerData[0].displayName,
                                photoURL: USER.photoURL,
                                uid: USER.uid
                            }).path.pieces_[1], storage.root.child(purchase_id).child("item").put(purchase_item_img).then((function(t) {
                                console.log("Uploaded"), console.log(purchase_item_img), console.log(t)
                            })), storage.root.child(purchase_id).child("bill").put(purchase_bill_img).then((function(t) {
                                console.log("Uploaded"), console.log(purchase_bill_img), console.log(t)
                            })), $(this).dialog("close"), $(this).dialog("destroy")
                        }
                    }
                })
            }
        }
    })
}

function comment_rotoator(t, e, n) {
    const r = t,
        o = e,
        s = n;
    if (!s) return;
    const a = '<button class="w3-button w3-round-large" id="commentButton" onclick="show_comments(\'' + r + "', '" + o + '\')"><i class="fa fa-comment"></i></button>';
    s.innerHTML = a, "deadline" == o && (s.innerHTML += "<br>"), ref.root.child("comments").child(o).child(r).on("value", (function(t) {
        for (key in comments = t.val(), comments_rotator_list[r + o] = [], comments) "deadline" == o && $(window).width() / 2 - 200 > 100 ? comments_rotator_list[r + o].push('<div style="width:' + ($(window).width() / 2 - 200) + 'px; height: 50px; overflow: hidden; float: left;"><img style="border-radius: 50%; width: 20px; height: 20px;" id="photoURL" src="' + comments[key].photoURL + '"></td><td><b>' + comments[key].displayName + "</b></td><td>" + comments[key].comment + "</div>") : comments_rotator_list[r + o].push('<div style="width:' + ($(window).width() - 200) + 'px; height: 50px; overflow: hidden; float: right;"><img style="border-radius: 50%; width: 20px; height: 20px;" id="photoURL" src="' + comments[key].photoURL + '"></td><td><b>' + comments[key].displayName + "</b></td><td>" + comments[key].comment + "</div>");
        const e = comments_rotator_list[r + o].length > 0 ? '<button class="w3-button w3-round-large" id="commentButton" onclick="show_comments(\'' + r + "', '" + o + '\')"><i class="fa fa-comment"> ' + comments_rotator_list[r + o].length + "</i></button>" : a;
        comment_rotoator_counter[r + o] = 0, s.innerHTML = "deadline" == o ? e + "<br>" + ("undefined" == String(comments_rotator_list[r + o][comment_rotoator_counter[r + o]]) ? "" : String(comments_rotator_list[r + o][comment_rotoator_counter[r + o]])) : e + ("undefined" == String(comments_rotator_list[r + o][comment_rotoator_counter[r + o]]) ? "" : String(comments_rotator_list[r + o][comment_rotoator_counter[r + o]])), comments_rotator_list[r + o].length > 1 && setInterval((function() {
            comment_rotoator_counter[r + o]++, comment_rotoator_counter[r + o] >= comments_rotator_list[r + o].length && (comment_rotoator_counter[r + o] = 0), i = comment_rotoator_counter[r + o], s.innerHTML = e + ("undefined" == String(comments_rotator_list[r + o][i]) ? "" : String(comments_rotator_list[r + o][i]))
        }), 5e3)
    }), (function(t) {
        console.log(t)
    }))
}

function truncateString(t, e, n) {
    return t.length <= e ? t : t.slice(0, e) + n
}

function show_comments(t, e) {
    ref.root.child("comments").child(e).child(t).on("value", (function(t) {
        for (key in comments = t.val(), comments_list = "", comments) comments_list += '<tr><td><img style="border-radius: 50%; width: 20px; height: 20px;" id="photoURL" src="' + comments[key].photoURL + '"></td><td><b>' + comments[key].displayName + "</b></td><td>" + comments[key].comment + "</td></tr>";
        $("#comment_array")[0].innerHTML = comments_list
    }), (function(t) {
        console.log(t)
    })), $("#new_comment").keypress((function(n) {
        "13" == (n.keyCode ? n.keyCode : n.which) && add_comment(t, e)
    })), $("#comment_window").dialog({
        modal: !0,
        position: {
            my: "right bottom",
            at: "right bottom",
            of: window
        },
        title: "Comments",
        show: "slide",
        hide: "slide",
        draggable: !1,
        width: $(window).width(),
        height: $(window).height() / 2,
        resizable: !1,
        close: function(t, e) {},
        buttons: {
            Close: function() {
                $(this).dialog("close"), $(this).dialog("destroy")
            },
            "Add Comment": function() {
                add_comment(t, e)
            }
        }
    })
}

function add_comment(t, e) {
    $("#new_comment").val() && (ref.root.child("comments").child(e).child(t).push({
        comment: $("#new_comment").val(),
        email: USER.email,
        displayName: USER.providerData[0].displayName,
        photoURL: USER.photoURL,
        uid: USER.uid
    }), $("#new_comment")[0].value = "")
}

function refresh_attendances() {
    ref.root.child("attendances").on("value", (function(t) {
        for (key in document.getElementById("attendance_array").innerHTML = "", list = t.val(), elements_list = [], attendance_array = document.getElementById("attendance_array"), list) {
            attendance = list[key];
            const t = key;
            if (ele = document.getElementById(t), ele)
                for (i = 0; i < children.length; i++) children[i].innerHTML = attendance[children[i].id];
            else {
                for (property in attendance_ele = ATTENDANCE_FORMAT, attendance_ele = attendance_ele.split("{{attendance_id}}").join(t), attendance_ele = attendance_ele.split("{{attendance_date}}").join(new Date(attendance.attendance_date).toDateString()), attendance) attendance_ele = attendance_ele.split("{{" + property + "}}").join(attendance[property]);
                elements_list.push({
                    ele: attendance_ele,
                    data: attendance
                })
            }
        }
        for (search_space.Attendance = elements_list, i = 0; i < elements_list.length - 1; i++)
            for (j = i + 1; j < elements_list.length; j++) new Date(elements_list[i].data.attendance_date).getTime() < new Date(elements_list[j].data.attendance_date).getTime() && (tmp = elements_list[i], elements_list[i] = elements_list[j], elements_list[j] = tmp);
        for (attendance_array.innerHTML = "", i = 0; i < elements_list.length; i++) attendance_array.innerHTML += elements_list[i].ele
    }), (function(t) {
        console.log(t)
    }))
}

function show_users_by_attendance() {
    ref.root.child("attendances").on("value", (function(t) {
        for (attendance_id in attendance_list = t.val(), user_attendance_list = {}, attendance_list)
            for (user in attendance_date = attendance_list[attendance_id].attendance_date, attendance_desc = attendance_list[attendance_id].attendance_desc, attendance_list[attendance_id].attendance_list) user_attendance_list[user] || (user_attendance_list[user] = attendance_list[attendance_id].attendance_list[user]), user_attendance_list[user].attendance || (user_attendance_list[user].attendance = {}), user_attendance_list[user].attendance[attendance_id] = {
                attendance_date: attendance_date,
                attendance_desc: attendance_desc
            };
        $("#show_users_by_attendance_window").dialog({
            modal: !0,
            title: "Users By Attendance",
            show: "blind",
            hide: "fold",
            width: $(window).width(),
            height: $(window).height(),
            draggable: !1,
            resizable: !1,
            dialogClass: "dialog-full-mode",
            buttons: {
                Close: function() {
                    $(this).dialog("close"), $(this).dialog("destroy")
                }
            }
        }), UI_UPDATE_show_users_by_attendance(user_attendance_list)
    }))
}

function UI_UPDATE_show_users_by_attendance(t) {
    for (user_id in show_users_by_attendance_window_list = $("#show_users_by_attendance_window_list")[0], show_users_by_attendance_window_list.innerHTML = "", t) {
        for (attendance_id in user = t[user_id], res = ATTENDANCE_USER_FORMAT_DETAILED, attendance_count = 0, event_list = "", user.attendance) attendance_count++, "" != user.attendance[attendance_id].attendance_desc ? event_list += "<div class='event_list_element'>" + new Date(user.attendance[attendance_id].attendance_date).toDateString() + " (" + user.attendance[attendance_id].attendance_desc + ")</div>" : event_list += "<div class='event_list_element'>" + new Date(user.attendance[attendance_id].attendance_date).toDateString() + "</div>";
        for (property in res = res.split("{{uid}}").join(user_id), res = res.split("{{attendance_count}}").join(attendance_count), res = res.split("{{event_list}}").join(event_list), user) res = res.split("{{" + property + "}}").join(user[property]);
        show_users_by_attendance_window_list.innerHTML += res
    }
}

function openAttendanceButtonClick(t) {
    ref.root.child("attendances").child(t).on("value", (function(t) {
        res = t.val(), attendance_date = res.attendance_date, attendance_desc = res.attendance_desc, attendance_list = res.attendance_list, console.log("Opening"), console.log(attendance_list), $("#attendance_user_list_window").dialog({
            modal: !0,
            title: "Attendance",
            show: "blind",
            hide: "fold",
            width: $(window).width(),
            height: $(window).height(),
            draggable: !1,
            resizable: !1,
            dialogClass: "dialog-full-mode",
            buttons: {
                Close: function() {
                    $(this).dialog("close"), $(this).dialog("destroy")
                }
            }
        }), updateUserListAttendance("show_attendance_member_list", attendance_list, !0)
    }))
}

function updateUserListAttendance(t, e, n) {
    for (key in new_attendance_member_list = document.getElementById(t), new_attendance_member_list.innerHTML = "", e) {
        for (property in user = e[key], user_id = key, res = ATTENDANCE_USER_FORMAT, n && (res = ATTENDANCE_USER_FORMAT_no_check), res = res.split("{{uid}}").join(user_id), user) res = res.split("{{" + property + "}}").join(user[property]);
        new_attendance_member_list.innerHTML += res
    }
}

function generateUserListAttendance() {
    ref.root.child("user_id").on("value", (function(t) {
        attendance_user_list = t.val(), updateUserListAttendance("new_attendance_member_list", attendance_user_list)
    }))
}

function selectAllUsersAttendance() {
    for (user_list = $("#new_attendance_member_list").find("[type='checkbox']"), i = 0; i < user_list.length; i++) user_list[i].checked = !0
}

function unselectAllUsersAttendance() {
    for (user_list = $("#new_attendance_member_list").find("[type='checkbox']"), i = 0; i < user_list.length; i++) user_list[i].checked = !1
}

function getUserSelectedListAttendance() {
    for (selected_users = {}, user_list = $("#new_attendance_member_list").find("[type='checkbox']"), i = 0; i < user_list.length; i++) user_list[i].checked && (user_id = user_list[i].value, selected_users[user_id] = attendance_user_list[user_id]);
    return selected_users
}

function new_attendance() {
    attendance_user_list = [], $("<p>Would you like to add a new Attendance?</p>").dialog({
        modal: !0,
        title: "Add New Attendance",
        show: "blind",
        hide: "blind",
        draggable: !1,
        resizable: !1,
        buttons: {
            No: function() {
                $(this).dialog("close"), $(this).dialog("destroy")
            },
            Yes: function() {
                $(this).dialog("close"), $(this).dialog("destroy"), $('<div><input id="new_attendance_date" type="date" style="z-index:10000; width: 100%;" name="new_purchase_date" placeholder="Purchase" value=""><br><input id="new_attendance_desc" type="text" style="z-index:10000; width: 100%;" name="new_attendance_desc" placeholder="Description" value=""><button class="w3-button w3-round-large" id="selectAllUsersAttendance" onclick="selectAllUsersAttendance()">Select All</button><button class="w3-button w3-round-large" id="unselectAllUsersAttendance" onclick="unselectAllUsersAttendance()">Unselect All</button><div id="new_attendance_member_list" rows=5 readonly type="text" style="z-index:10000; width: 100%;" name="new_attendance_member_list" placeholder="Members" value=""></div><br></div>').dialog({
                    modal: !0,
                    title: "Add New Attendance",
                    show: "blind",
                    hide: "fold",
                    width: $(window).width(),
                    height: $(window).height(),
                    draggable: !1,
                    resizable: !1,
                    dialogClass: "dialog-full-mode",
                    buttons: {
                        Close: function() {
                            $(this).dialog("close"), $(this).dialog("destroy")
                        },
                        Add: function() {
                            if (attendance_date = $("#new_attendance_date").val(), attendance_desc = $("#new_attendance_desc").val(), attendance_list = getUserSelectedListAttendance(), "" != attendance_date) {
                                for (key in i = 0, attendance_list) i++;
                                0 != i ? (attendance_id = ref.root.child("attendances").push({
                                    attendance_date: attendance_date,
                                    attendance_desc: attendance_desc,
                                    attendance_list: attendance_list,
                                    uid: USER.uid
                                }).path.pieces_[1], $(this).dialog("close"), $(this).dialog("destroy")) : alert("Invalid list; minimum one person")
                            } else alert("Invalid date")
                        }
                    }
                }), generateUserListAttendance()
            }
        }
    })
}

function open_admin_console(t) {
    ref.root.child("user_id").on("value", (function(t) {
        all_user_list = t.val(), ref.root.child("admin").on("value", (function(t) {
            all_admin_list = t.val(), ref.root.child("verified").on("value", (function(t) {
                all_verified_list = t.val(), updateAllUserList(all_user_list, all_admin_list, all_verified_list)
            }))
        }))
    })), $("#admin_menu").dialog({
        modal: !0,
        position: {
            my: "right bottom",
            at: "right bottom",
            of: window
        },
        title: "VRE",
        show: "slide",
        hide: "slide",
        clickOutside: !0,
        draggable: !1,
        width: $(window).width(),
        height: $(window).height(),
        resizable: !1,
        buttons: {
            Done: function() {
                $(this).dialog("close"), $(this).dialog("destroy")
            }
        }
    })
}

function updateAllUserList(t, e, n) {
    for (user_id in user_list = $("#all_users_list")[0], user_list.innerHTML = "", admin_list = "", normal_user_list = "", t) {
        for (property in user = t[user_id], res = ALL_USER_FORMAT_DETAILED, res = res.split("{{uid}}").join(user_id), user_id in e ? res = res.split("{{admin_status}}").join("<div onclick='remove_admin(\"" + user_id + '", "' + user.displayName + "\")' style='padding: 5px;margin: 5px;display:inline-block;background: #FF5252;color: white;border-radius: 10%;'>MOD</div>") : res = res.split("{{admin_status}}").join("<div onclick='new_admin(\"" + user_id + '", "' + user.displayName + "\")' style='padding: 5px;margin: 5px;display:inline-block;background: #455A64;color: white;border-radius: 10%;'>Make Mod</div>"), user_id in n ? res = res.split("{{verified_status}}").join("<div onclick='unverify_user(\"" + user_id + '", "' + user.displayName + "\")' style='padding: 5px;margin: 5px;display:inline-block;background: #455A64;color: white;border-radius: 10%;'>Verified</div>") : res = res.split("{{verified_status}}").join("<div onclick='verify_user(\"" + user_id + '", "' + user.displayName + "\")' style='padding: 5px;margin: 5px;display:inline-block;background: #455A64;color: white;border-radius: 10%;'>Unverified</div>"), user) res = res.split("{{" + property + "}}").join(user[property]);
        user_id in e ? admin_list += res : normal_user_list += res
    }
    user_list.innerHTML += admin_list, user_list.innerHTML += normal_user_list
}

function new_admin(t, e) {
    USER.uid in all_admin_list ? USER.uid != t ? $("<p>Convert to MOD?</p>").dialog({
        modal: !0,
        title: "Are you sure you want to convert " + e + " to a MOD account?",
        show: "blind",
        hide: "blind",
        draggable: !1,
        resizable: !1,
        buttons: {
            No: function() {
                $(this).dialog("close"), $(this).dialog("destroy")
            },
            Yes: function() {
                ref.root.child("admin").child(t).set(!0), alert("Done, " + e + " is now a MOD"), $(this).dialog("close"), $(this).dialog("destroy")
            }
        }
    }) : alert("You Cannot modifiy your own account") : alert("You are not a mod")
}

function remove_admin(t, e) {
    USER.uid in all_admin_list ? USER.uid != t ? $("<p>Remove MOD?</p>").dialog({
        modal: !0,
        title: "Are you sure you want to convert " + e + " to NON-MOD account?",
        show: "blind",
        hide: "blind",
        draggable: !1,
        resizable: !1,
        buttons: {
            No: function() {
                $(this).dialog("close"), $(this).dialog("destroy")
            },
            Yes: function() {
                ref.root.child("admin").child(t).remove(), alert("Done, " + e + " is no longer a MOD"), $(this).dialog("close"), $(this).dialog("destroy")
            }
        }
    }) : alert("You Cannot modifiy your own account") : alert("You are not a mod")
}

function verify_user(t, e) {
    USER.uid in all_admin_list ? USER.uid != t ? $("<p>Convert to Verified?</p>").dialog({
        modal: !0,
        title: "Are you sure you want to convert " + e + " to a verified account?",
        show: "blind",
        hide: "blind",
        draggable: !1,
        resizable: !1,
        buttons: {
            No: function() {
                $(this).dialog("close"), $(this).dialog("destroy")
            },
            Yes: function() {
                ref.root.child("verified").child(t).set(!0), alert("Done, " + e + " is now verified"), $(this).dialog("close"), $(this).dialog("destroy")
            }
        }
    }) : alert("You Cannot modifiy your own account") : alert("You are not a mod")
}

function unverify_user(t, e) {
    USER.uid in all_admin_list ? USER.uid != t ? $("<p>Convert to Un-Verified?</p>").dialog({
        modal: !0,
        title: "Are you sure you want to convert " + e + " to an unverified account?",
        show: "blind",
        hide: "blind",
        draggable: !1,
        resizable: !1,
        buttons: {
            No: function() {
                $(this).dialog("close"), $(this).dialog("destroy")
            },
            Yes: function() {
                ref.root.child("verified").child(t).remove(), alert("Done, " + e + " is no longer verified"), $(this).dialog("close"), $(this).dialog("destroy")
            }
        }
    }) : alert("You Cannot modifiy your own account") : alert("You are not a mod")
}! function(t, e) {
    "use strict";
    "object" == typeof module && "object" == typeof module.exports ? module.exports = t.document ? e(t, !0) : function(t) {
        if (!t.document) throw new Error("jQuery requires a window with a document");
        return e(t)
    } : e(t)
}("undefined" != typeof window ? window : this, (function(t, e) {
    "use strict";
    var n = [],
        i = Object.getPrototypeOf,
        r = n.slice,
        o = n.flat ? function(t) {
            return n.flat.call(t)
        } : function(t) {
            return n.concat.apply([], t)
        },
        s = n.push,
        a = n.indexOf,
        u = {},
        l = u.toString,
        h = u.hasOwnProperty,
        c = h.toString,
        d = c.call(Object),
        p = {},
        f = function(t) {
            return "function" == typeof t && "number" != typeof t.nodeType
        },
        g = function(t) {
            return null != t && t === t.window
        },
        v = t.document,
        m = {
            type: !0,
            src: !0,
            nonce: !0,
            noModule: !0
        };

    function y(t, e, n) {
        var i, r, o = (n = n || v).createElement("script");
        if (o.text = t, e)
            for (i in m)(r = e[i] || e.getAttribute && e.getAttribute(i)) && o.setAttribute(i, r);
        n.head.appendChild(o).parentNode.removeChild(o)
    }

    function _(t) {
        return null == t ? t + "" : "object" == typeof t || "function" == typeof t ? u[l.call(t)] || "object" : typeof t
    }
    var b = "3.5.1",
        w = function(t, e) {
            return new w.fn.init(t, e)
        };

    function E(t) {
        var e = !!t && "length" in t && t.length,
            n = _(t);
        return !f(t) && !g(t) && ("array" === n || 0 === e || "number" == typeof e && 0 < e && e - 1 in t)
    }
    w.fn = w.prototype = {
        jquery: b,
        constructor: w,
        length: 0,
        toArray: function() {
            return r.call(this)
        },
        get: function(t) {
            return null == t ? r.call(this) : t < 0 ? this[t + this.length] : this[t]
        },
        pushStack: function(t) {
            var e = w.merge(this.constructor(), t);
            return e.prevObject = this, e
        },
        each: function(t) {
            return w.each(this, t)
        },
        map: function(t) {
            return this.pushStack(w.map(this, (function(e, n) {
                return t.call(e, n, e)
            })))
        },
        slice: function() {
            return this.pushStack(r.apply(this, arguments))
        },
        first: function() {
            return this.eq(0)
        },
        last: function() {
            return this.eq(-1)
        },
        even: function() {
            return this.pushStack(w.grep(this, (function(t, e) {
                return (e + 1) % 2
            })))
        },
        odd: function() {
            return this.pushStack(w.grep(this, (function(t, e) {
                return e % 2
            })))
        },
        eq: function(t) {
            var e = this.length,
                n = +t + (t < 0 ? e : 0);
            return this.pushStack(0 <= n && n < e ? [this[n]] : [])
        },
        end: function() {
            return this.prevObject || this.constructor()
        },
        push: s,
        sort: n.sort,
        splice: n.splice
    }, w.extend = w.fn.extend = function() {
        var t, e, n, i, r, o, s = arguments[0] || {},
            a = 1,
            u = arguments.length,
            l = !1;
        for ("boolean" == typeof s && (l = s, s = arguments[a] || {}, a++), "object" == typeof s || f(s) || (s = {}), a === u && (s = this, a--); a < u; a++)
            if (null != (t = arguments[a]))
                for (e in t) i = t[e], "__proto__" !== e && s !== i && (l && i && (w.isPlainObject(i) || (r = Array.isArray(i))) ? (n = s[e], o = r && !Array.isArray(n) ? [] : r || w.isPlainObject(n) ? n : {}, r = !1, s[e] = w.extend(l, o, i)) : void 0 !== i && (s[e] = i));
        return s
    }, w.extend({
        expando: "jQuery" + (b + Math.random()).replace(/\D/g, ""),
        isReady: !0,
        error: function(t) {
            throw new Error(t)
        },
        noop: function() {},
        isPlainObject: function(t) {
            var e, n;
            return !(!t || "[object Object]" !== l.call(t) || (e = i(t)) && ("function" != typeof(n = h.call(e, "constructor") && e.constructor) || c.call(n) !== d))
        },
        isEmptyObject: function(t) {
            var e;
            for (e in t) return !1;
            return !0
        },
        globalEval: function(t, e, n) {
            y(t, {
                nonce: e && e.nonce
            }, n)
        },
        each: function(t, e) {
            var n, i = 0;
            if (E(t))
                for (n = t.length; i < n && !1 !== e.call(t[i], i, t[i]); i++);
            else
                for (i in t)
                    if (!1 === e.call(t[i], i, t[i])) break;
            return t
        },
        makeArray: function(t, e) {
            var n = e || [];
            return null != t && (E(Object(t)) ? w.merge(n, "string" == typeof t ? [t] : t) : s.call(n, t)), n
        },
        inArray: function(t, e, n) {
            return null == e ? -1 : a.call(e, t, n)
        },
        merge: function(t, e) {
            for (var n = +e.length, i = 0, r = t.length; i < n; i++) t[r++] = e[i];
            return t.length = r, t
        },
        grep: function(t, e, n) {
            for (var i = [], r = 0, o = t.length, s = !n; r < o; r++) !e(t[r], r) !== s && i.push(t[r]);
            return i
        },
        map: function(t, e, n) {
            var i, r, s = 0,
                a = [];
            if (E(t))
                for (i = t.length; s < i; s++) null != (r = e(t[s], s, n)) && a.push(r);
            else
                for (s in t) null != (r = e(t[s], s, n)) && a.push(r);
            return o(a)
        },
        guid: 1,
        support: p
    }), "function" == typeof Symbol && (w.fn[Symbol.iterator] = n[Symbol.iterator]), w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "), (function(t, e) {
        u["[object " + e + "]"] = e.toLowerCase()
    }));
    var I = function(t) {
        var e, n, i, r, o, s, a, u, l, h, c, d, p, f, g, v, m, y, _, b = "sizzle" + 1 * new Date,
            w = t.document,
            E = 0,
            I = 0,
            T = ut(),
            C = ut(),
            k = ut(),
            S = ut(),
            x = function(t, e) {
                return t === e && (c = !0), 0
            },
            D = {}.hasOwnProperty,
            N = [],
            A = N.pop,
            P = N.push,
            O = N.push,
            R = N.slice,
            L = function(t, e) {
                for (var n = 0, i = t.length; n < i; n++)
                    if (t[n] === e) return n;
                return -1
            },
            M = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
            F = "[\\x20\\t\\r\\n\\f]",
            U = "(?:\\\\[\\da-fA-F]{1,6}" + F + "?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",
            j = "\\[" + F + "*(" + U + ")(?:" + F + "*([*^$|!~]?=)" + F + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + U + "))|)" + F + "*\\]",
            H = ":(" + U + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + j + ")*)|.*)\\)|)",
            q = new RegExp(F + "+", "g"),
            W = new RegExp("^" + F + "+|((?:^|[^\\\\])(?:\\\\.)*)" + F + "+$", "g"),
            V = new RegExp("^" + F + "*," + F + "*"),
            B = new RegExp("^" + F + "*([>+~]|" + F + ")" + F + "*"),
            z = new RegExp(F + "|>"),
            $ = new RegExp(H),
            K = new RegExp("^" + U + "$"),
            G = {
                ID: new RegExp("^#(" + U + ")"),
                CLASS: new RegExp("^\\.(" + U + ")"),
                TAG: new RegExp("^(" + U + "|[*])"),
                ATTR: new RegExp("^" + j),
                PSEUDO: new RegExp("^" + H),
                CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + F + "*(even|odd|(([+-]|)(\\d*)n|)" + F + "*(?:([+-]|)" + F + "*(\\d+)|))" + F + "*\\)|)", "i"),
                bool: new RegExp("^(?:" + M + ")$", "i"),
                needsContext: new RegExp("^" + F + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + F + "*((?:-\\d)?\\d*)" + F + "*\\)|)(?=[^-]|$)", "i")
            },
            Y = /HTML$/i,
            Q = /^(?:input|select|textarea|button)$/i,
            X = /^h\d$/i,
            J = /^[^{]+\{\s*\[native \w/,
            Z = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
            tt = /[+~]/,
            et = new RegExp("\\\\[\\da-fA-F]{1,6}" + F + "?|\\\\([^\\r\\n\\f])", "g"),
            nt = function(t, e) {
                var n = "0x" + t.slice(1) - 65536;
                return e || (n < 0 ? String.fromCharCode(n + 65536) : String.fromCharCode(n >> 10 | 55296, 1023 & n | 56320))
            },
            it = /([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,
            rt = function(t, e) {
                return e ? "\0" === t ? "" : t.slice(0, -1) + "\\" + t.charCodeAt(t.length - 1).toString(16) + " " : "\\" + t
            },
            ot = function() {
                d()
            },
            st = bt((function(t) {
                return !0 === t.disabled && "fieldset" === t.nodeName.toLowerCase()
            }), {
                dir: "parentNode",
                next: "legend"
            });
        try {
            O.apply(N = R.call(w.childNodes), w.childNodes), N[w.childNodes.length].nodeType
        } catch (e) {
            O = {
                apply: N.length ? function(t, e) {
                    P.apply(t, R.call(e))
                } : function(t, e) {
                    for (var n = t.length, i = 0; t[n++] = e[i++];);
                    t.length = n - 1
                }
            }
        }

        function at(t, e, i, r) {
            var o, a, l, h, c, f, m, y = e && e.ownerDocument,
                w = e ? e.nodeType : 9;
            if (i = i || [], "string" != typeof t || !t || 1 !== w && 9 !== w && 11 !== w) return i;
            if (!r && (d(e), e = e || p, g)) {
                if (11 !== w && (c = Z.exec(t)))
                    if (o = c[1]) {
                        if (9 === w) {
                            if (!(l = e.getElementById(o))) return i;
                            if (l.id === o) return i.push(l), i
                        } else if (y && (l = y.getElementById(o)) && _(e, l) && l.id === o) return i.push(l), i
                    } else {
                        if (c[2]) return O.apply(i, e.getElementsByTagName(t)), i;
                        if ((o = c[3]) && n.getElementsByClassName && e.getElementsByClassName) return O.apply(i, e.getElementsByClassName(o)), i
                    } if (n.qsa && !S[t + " "] && (!v || !v.test(t)) && (1 !== w || "object" !== e.nodeName.toLowerCase())) {
                    if (m = t, y = e, 1 === w && (z.test(t) || B.test(t))) {
                        for ((y = tt.test(t) && mt(e.parentNode) || e) === e && n.scope || ((h = e.getAttribute("id")) ? h = h.replace(it, rt) : e.setAttribute("id", h = b)), a = (f = s(t)).length; a--;) f[a] = (h ? "#" + h : ":scope") + " " + _t(f[a]);
                        m = f.join(",")
                    }
                    try {
                        return O.apply(i, y.querySelectorAll(m)), i
                    } catch (e) {
                        S(t, !0)
                    } finally {
                        h === b && e.removeAttribute("id")
                    }
                }
            }
            return u(t.replace(W, "$1"), e, i, r)
        }

        function ut() {
            var t = [];
            return function e(n, r) {
                return t.push(n + " ") > i.cacheLength && delete e[t.shift()], e[n + " "] = r
            }
        }

        function lt(t) {
            return t[b] = !0, t
        }

        function ht(t) {
            var e = p.createElement("fieldset");
            try {
                return !!t(e)
            } catch (t) {
                return !1
            } finally {
                e.parentNode && e.parentNode.removeChild(e), e = null
            }
        }

        function ct(t, e) {
            for (var n = t.split("|"), r = n.length; r--;) i.attrHandle[n[r]] = e
        }

        function dt(t, e) {
            var n = e && t,
                i = n && 1 === t.nodeType && 1 === e.nodeType && t.sourceIndex - e.sourceIndex;
            if (i) return i;
            if (n)
                for (; n = n.nextSibling;)
                    if (n === e) return -1;
            return t ? 1 : -1
        }

        function pt(t) {
            return function(e) {
                return "input" === e.nodeName.toLowerCase() && e.type === t
            }
        }

        function ft(t) {
            return function(e) {
                var n = e.nodeName.toLowerCase();
                return ("input" === n || "button" === n) && e.type === t
            }
        }

        function gt(t) {
            return function(e) {
                return "form" in e ? e.parentNode && !1 === e.disabled ? "label" in e ? "label" in e.parentNode ? e.parentNode.disabled === t : e.disabled === t : e.isDisabled === t || e.isDisabled !== !t && st(e) === t : e.disabled === t : "label" in e && e.disabled === t
            }
        }

        function vt(t) {
            return lt((function(e) {
                return e = +e, lt((function(n, i) {
                    for (var r, o = t([], n.length, e), s = o.length; s--;) n[r = o[s]] && (n[r] = !(i[r] = n[r]))
                }))
            }))
        }

        function mt(t) {
            return t && void 0 !== t.getElementsByTagName && t
        }
        for (e in n = at.support = {}, o = at.isXML = function(t) {
                var e = t.namespaceURI,
                    n = (t.ownerDocument || t).documentElement;
                return !Y.test(e || n && n.nodeName || "HTML")
            }, d = at.setDocument = function(t) {
                var e, r, s = t ? t.ownerDocument || t : w;
                return s != p && 9 === s.nodeType && s.documentElement && (f = (p = s).documentElement, g = !o(p), w != p && (r = p.defaultView) && r.top !== r && (r.addEventListener ? r.addEventListener("unload", ot, !1) : r.attachEvent && r.attachEvent("onunload", ot)), n.scope = ht((function(t) {
                    return f.appendChild(t).appendChild(p.createElement("div")), void 0 !== t.querySelectorAll && !t.querySelectorAll(":scope fieldset div").length
                })), n.attributes = ht((function(t) {
                    return t.className = "i", !t.getAttribute("className")
                })), n.getElementsByTagName = ht((function(t) {
                    return t.appendChild(p.createComment("")), !t.getElementsByTagName("*").length
                })), n.getElementsByClassName = J.test(p.getElementsByClassName), n.getById = ht((function(t) {
                    return f.appendChild(t).id = b, !p.getElementsByName || !p.getElementsByName(b).length
                })), n.getById ? (i.filter.ID = function(t) {
                    var e = t.replace(et, nt);
                    return function(t) {
                        return t.getAttribute("id") === e
                    }
                }, i.find.ID = function(t, e) {
                    if (void 0 !== e.getElementById && g) {
                        var n = e.getElementById(t);
                        return n ? [n] : []
                    }
                }) : (i.filter.ID = function(t) {
                    var e = t.replace(et, nt);
                    return function(t) {
                        var n = void 0 !== t.getAttributeNode && t.getAttributeNode("id");
                        return n && n.value === e
                    }
                }, i.find.ID = function(t, e) {
                    if (void 0 !== e.getElementById && g) {
                        var n, i, r, o = e.getElementById(t);
                        if (o) {
                            if ((n = o.getAttributeNode("id")) && n.value === t) return [o];
                            for (r = e.getElementsByName(t), i = 0; o = r[i++];)
                                if ((n = o.getAttributeNode("id")) && n.value === t) return [o]
                        }
                        return []
                    }
                }), i.find.TAG = n.getElementsByTagName ? function(t, e) {
                    return void 0 !== e.getElementsByTagName ? e.getElementsByTagName(t) : n.qsa ? e.querySelectorAll(t) : void 0
                } : function(t, e) {
                    var n, i = [],
                        r = 0,
                        o = e.getElementsByTagName(t);
                    if ("*" === t) {
                        for (; n = o[r++];) 1 === n.nodeType && i.push(n);
                        return i
                    }
                    return o
                }, i.find.CLASS = n.getElementsByClassName && function(t, e) {
                    if (void 0 !== e.getElementsByClassName && g) return e.getElementsByClassName(t)
                }, m = [], v = [], (n.qsa = J.test(p.querySelectorAll)) && (ht((function(t) {
                    var e;
                    f.appendChild(t).innerHTML = "<a id='" + b + "'></a><select id='" + b + "-\r\\' msallowcapture=''><option selected=''></option></select>", t.querySelectorAll("[msallowcapture^='']").length && v.push("[*^$]=" + F + "*(?:''|\"\")"), t.querySelectorAll("[selected]").length || v.push("\\[" + F + "*(?:value|" + M + ")"), t.querySelectorAll("[id~=" + b + "-]").length || v.push("~="), (e = p.createElement("input")).setAttribute("name", ""), t.appendChild(e), t.querySelectorAll("[name='']").length || v.push("\\[" + F + "*name" + F + "*=" + F + "*(?:''|\"\")"), t.querySelectorAll(":checked").length || v.push(":checked"), t.querySelectorAll("a#" + b + "+*").length || v.push(".#.+[+~]"), t.querySelectorAll("\\\f"), v.push("[\\r\\n\\f]")
                })), ht((function(t) {
                    t.innerHTML = "<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";
                    var e = p.createElement("input");
                    e.setAttribute("type", "hidden"), t.appendChild(e).setAttribute("name", "D"), t.querySelectorAll("[name=d]").length && v.push("name" + F + "*[*^$|!~]?="), 2 !== t.querySelectorAll(":enabled").length && v.push(":enabled", ":disabled"), f.appendChild(t).disabled = !0, 2 !== t.querySelectorAll(":disabled").length && v.push(":enabled", ":disabled"), t.querySelectorAll("*,:x"), v.push(",.*:")
                }))), (n.matchesSelector = J.test(y = f.matches || f.webkitMatchesSelector || f.mozMatchesSelector || f.oMatchesSelector || f.msMatchesSelector)) && ht((function(t) {
                    n.disconnectedMatch = y.call(t, "*"), y.call(t, "[s!='']:x"), m.push("!=", H)
                })), v = v.length && new RegExp(v.join("|")), m = m.length && new RegExp(m.join("|")), e = J.test(f.compareDocumentPosition), _ = e || J.test(f.contains) ? function(t, e) {
                    var n = 9 === t.nodeType ? t.documentElement : t,
                        i = e && e.parentNode;
                    return t === i || !(!i || 1 !== i.nodeType || !(n.contains ? n.contains(i) : t.compareDocumentPosition && 16 & t.compareDocumentPosition(i)))
                } : function(t, e) {
                    if (e)
                        for (; e = e.parentNode;)
                            if (e === t) return !0;
                    return !1
                }, x = e ? function(t, e) {
                    if (t === e) return c = !0, 0;
                    var i = !t.compareDocumentPosition - !e.compareDocumentPosition;
                    return i || (1 & (i = (t.ownerDocument || t) == (e.ownerDocument || e) ? t.compareDocumentPosition(e) : 1) || !n.sortDetached && e.compareDocumentPosition(t) === i ? t == p || t.ownerDocument == w && _(w, t) ? -1 : e == p || e.ownerDocument == w && _(w, e) ? 1 : h ? L(h, t) - L(h, e) : 0 : 4 & i ? -1 : 1)
                } : function(t, e) {
                    if (t === e) return c = !0, 0;
                    var n, i = 0,
                        r = t.parentNode,
                        o = e.parentNode,
                        s = [t],
                        a = [e];
                    if (!r || !o) return t == p ? -1 : e == p ? 1 : r ? -1 : o ? 1 : h ? L(h, t) - L(h, e) : 0;
                    if (r === o) return dt(t, e);
                    for (n = t; n = n.parentNode;) s.unshift(n);
                    for (n = e; n = n.parentNode;) a.unshift(n);
                    for (; s[i] === a[i];) i++;
                    return i ? dt(s[i], a[i]) : s[i] == w ? -1 : a[i] == w ? 1 : 0
                }), p
            }, at.matches = function(t, e) {
                return at(t, null, null, e)
            }, at.matchesSelector = function(t, e) {
                if (d(t), n.matchesSelector && g && !S[e + " "] && (!m || !m.test(e)) && (!v || !v.test(e))) try {
                    var i = y.call(t, e);
                    if (i || n.disconnectedMatch || t.document && 11 !== t.document.nodeType) return i
                } catch (t) {
                    S(e, !0)
                }
                return 0 < at(e, p, null, [t]).length
            }, at.contains = function(t, e) {
                return (t.ownerDocument || t) != p && d(t), _(t, e)
            }, at.attr = function(t, e) {
                (t.ownerDocument || t) != p && d(t);
                var r = i.attrHandle[e.toLowerCase()],
                    o = r && D.call(i.attrHandle, e.toLowerCase()) ? r(t, e, !g) : void 0;
                return void 0 !== o ? o : n.attributes || !g ? t.getAttribute(e) : (o = t.getAttributeNode(e)) && o.specified ? o.value : null
            }, at.escape = function(t) {
                return (t + "").replace(it, rt)
            }, at.error = function(t) {
                throw new Error("Syntax error, unrecognized expression: " + t)
            }, at.uniqueSort = function(t) {
                var e, i = [],
                    r = 0,
                    o = 0;
                if (c = !n.detectDuplicates, h = !n.sortStable && t.slice(0), t.sort(x), c) {
                    for (; e = t[o++];) e === t[o] && (r = i.push(o));
                    for (; r--;) t.splice(i[r], 1)
                }
                return h = null, t
            }, r = at.getText = function(t) {
                var e, n = "",
                    i = 0,
                    o = t.nodeType;
                if (o) {
                    if (1 === o || 9 === o || 11 === o) {
                        if ("string" == typeof t.textContent) return t.textContent;
                        for (t = t.firstChild; t; t = t.nextSibling) n += r(t)
                    } else if (3 === o || 4 === o) return t.nodeValue
                } else
                    for (; e = t[i++];) n += r(e);
                return n
            }, (i = at.selectors = {
                cacheLength: 50,
                createPseudo: lt,
                match: G,
                attrHandle: {},
                find: {},
                relative: {
                    ">": {
                        dir: "parentNode",
                        first: !0
                    },
                    " ": {
                        dir: "parentNode"
                    },
                    "+": {
                        dir: "previousSibling",
                        first: !0
                    },
                    "~": {
                        dir: "previousSibling"
                    }
                },
                preFilter: {
                    ATTR: function(t) {
                        return t[1] = t[1].replace(et, nt), t[3] = (t[3] || t[4] || t[5] || "").replace(et, nt), "~=" === t[2] && (t[3] = " " + t[3] + " "), t.slice(0, 4)
                    },
                    CHILD: function(t) {
                        return t[1] = t[1].toLowerCase(), "nth" === t[1].slice(0, 3) ? (t[3] || at.error(t[0]), t[4] = +(t[4] ? t[5] + (t[6] || 1) : 2 * ("even" === t[3] || "odd" === t[3])), t[5] = +(t[7] + t[8] || "odd" === t[3])) : t[3] && at.error(t[0]), t
                    },
                    PSEUDO: function(t) {
                        var e, n = !t[6] && t[2];
                        return G.CHILD.test(t[0]) ? null : (t[3] ? t[2] = t[4] || t[5] || "" : n && $.test(n) && (e = s(n, !0)) && (e = n.indexOf(")", n.length - e) - n.length) && (t[0] = t[0].slice(0, e), t[2] = n.slice(0, e)), t.slice(0, 3))
                    }
                },
                filter: {
                    TAG: function(t) {
                        var e = t.replace(et, nt).toLowerCase();
                        return "*" === t ? function() {
                            return !0
                        } : function(t) {
                            return t.nodeName && t.nodeName.toLowerCase() === e
                        }
                    },
                    CLASS: function(t) {
                        var e = T[t + " "];
                        return e || (e = new RegExp("(^|" + F + ")" + t + "(" + F + "|$)")) && T(t, (function(t) {
                            return e.test("string" == typeof t.className && t.className || void 0 !== t.getAttribute && t.getAttribute("class") || "")
                        }))
                    },
                    ATTR: function(t, e, n) {
                        return function(i) {
                            var r = at.attr(i, t);
                            return null == r ? "!=" === e : !e || (r += "", "=" === e ? r === n : "!=" === e ? r !== n : "^=" === e ? n && 0 === r.indexOf(n) : "*=" === e ? n && -1 < r.indexOf(n) : "$=" === e ? n && r.slice(-n.length) === n : "~=" === e ? -1 < (" " + r.replace(q, " ") + " ").indexOf(n) : "|=" === e && (r === n || r.slice(0, n.length + 1) === n + "-"))
                        }
                    },
                    CHILD: function(t, e, n, i, r) {
                        var o = "nth" !== t.slice(0, 3),
                            s = "last" !== t.slice(-4),
                            a = "of-type" === e;
                        return 1 === i && 0 === r ? function(t) {
                            return !!t.parentNode
                        } : function(e, n, u) {
                            var l, h, c, d, p, f, g = o !== s ? "nextSibling" : "previousSibling",
                                v = e.parentNode,
                                m = a && e.nodeName.toLowerCase(),
                                y = !u && !a,
                                _ = !1;
                            if (v) {
                                if (o) {
                                    for (; g;) {
                                        for (d = e; d = d[g];)
                                            if (a ? d.nodeName.toLowerCase() === m : 1 === d.nodeType) return !1;
                                        f = g = "only" === t && !f && "nextSibling"
                                    }
                                    return !0
                                }
                                if (f = [s ? v.firstChild : v.lastChild], s && y) {
                                    for (_ = (p = (l = (h = (c = (d = v)[b] || (d[b] = {}))[d.uniqueID] || (c[d.uniqueID] = {}))[t] || [])[0] === E && l[1]) && l[2], d = p && v.childNodes[p]; d = ++p && d && d[g] || (_ = p = 0) || f.pop();)
                                        if (1 === d.nodeType && ++_ && d === e) {
                                            h[t] = [E, p, _];
                                            break
                                        }
                                } else if (y && (_ = p = (l = (h = (c = (d = e)[b] || (d[b] = {}))[d.uniqueID] || (c[d.uniqueID] = {}))[t] || [])[0] === E && l[1]), !1 === _)
                                    for (;
                                        (d = ++p && d && d[g] || (_ = p = 0) || f.pop()) && ((a ? d.nodeName.toLowerCase() !== m : 1 !== d.nodeType) || !++_ || (y && ((h = (c = d[b] || (d[b] = {}))[d.uniqueID] || (c[d.uniqueID] = {}))[t] = [E, _]), d !== e)););
                                return (_ -= r) === i || _ % i == 0 && 0 <= _ / i
                            }
                        }
                    },
                    PSEUDO: function(t, e) {
                        var n, r = i.pseudos[t] || i.setFilters[t.toLowerCase()] || at.error("unsupported pseudo: " + t);
                        return r[b] ? r(e) : 1 < r.length ? (n = [t, t, "", e], i.setFilters.hasOwnProperty(t.toLowerCase()) ? lt((function(t, n) {
                            for (var i, o = r(t, e), s = o.length; s--;) t[i = L(t, o[s])] = !(n[i] = o[s])
                        })) : function(t) {
                            return r(t, 0, n)
                        }) : r
                    }
                },
                pseudos: {
                    not: lt((function(t) {
                        var e = [],
                            n = [],
                            i = a(t.replace(W, "$1"));
                        return i[b] ? lt((function(t, e, n, r) {
                            for (var o, s = i(t, null, r, []), a = t.length; a--;)(o = s[a]) && (t[a] = !(e[a] = o))
                        })) : function(t, r, o) {
                            return e[0] = t, i(e, null, o, n), e[0] = null, !n.pop()
                        }
                    })),
                    has: lt((function(t) {
                        return function(e) {
                            return 0 < at(t, e).length
                        }
                    })),
                    contains: lt((function(t) {
                        return t = t.replace(et, nt),
                            function(e) {
                                return -1 < (e.textContent || r(e)).indexOf(t)
                            }
                    })),
                    lang: lt((function(t) {
                        return K.test(t || "") || at.error("unsupported lang: " + t), t = t.replace(et, nt).toLowerCase(),
                            function(e) {
                                var n;
                                do {
                                    if (n = g ? e.lang : e.getAttribute("xml:lang") || e.getAttribute("lang")) return (n = n.toLowerCase()) === t || 0 === n.indexOf(t + "-")
                                } while ((e = e.parentNode) && 1 === e.nodeType);
                                return !1
                            }
                    })),
                    target: function(e) {
                        var n = t.location && t.location.hash;
                        return n && n.slice(1) === e.id
                    },
                    root: function(t) {
                        return t === f
                    },
                    focus: function(t) {
                        return t === p.activeElement && (!p.hasFocus || p.hasFocus()) && !!(t.type || t.href || ~t.tabIndex)
                    },
                    enabled: gt(!1),
                    disabled: gt(!0),
                    checked: function(t) {
                        var e = t.nodeName.toLowerCase();
                        return "input" === e && !!t.checked || "option" === e && !!t.selected
                    },
                    selected: function(t) {
                        return t.parentNode && t.parentNode.selectedIndex, !0 === t.selected
                    },
                    empty: function(t) {
                        for (t = t.firstChild; t; t = t.nextSibling)
                            if (t.nodeType < 6) return !1;
                        return !0
                    },
                    parent: function(t) {
                        return !i.pseudos.empty(t)
                    },
                    header: function(t) {
                        return X.test(t.nodeName)
                    },
                    input: function(t) {
                        return Q.test(t.nodeName)
                    },
                    button: function(t) {
                        var e = t.nodeName.toLowerCase();
                        return "input" === e && "button" === t.type || "button" === e
                    },
                    text: function(t) {
                        var e;
                        return "input" === t.nodeName.toLowerCase() && "text" === t.type && (null == (e = t.getAttribute("type")) || "text" === e.toLowerCase())
                    },
                    first: vt((function() {
                        return [0]
                    })),
                    last: vt((function(t, e) {
                        return [e - 1]
                    })),
                    eq: vt((function(t, e, n) {
                        return [n < 0 ? n + e : n]
                    })),
                    even: vt((function(t, e) {
                        for (var n = 0; n < e; n += 2) t.push(n);
                        return t
                    })),
                    odd: vt((function(t, e) {
                        for (var n = 1; n < e; n += 2) t.push(n);
                        return t
                    })),
                    lt: vt((function(t, e, n) {
                        for (var i = n < 0 ? n + e : e < n ? e : n; 0 <= --i;) t.push(i);
                        return t
                    })),
                    gt: vt((function(t, e, n) {
                        for (var i = n < 0 ? n + e : n; ++i < e;) t.push(i);
                        return t
                    }))
                }
            }).pseudos.nth = i.pseudos.eq, {
                radio: !0,
                checkbox: !0,
                file: !0,
                password: !0,
                image: !0
            }) i.pseudos[e] = pt(e);
        for (e in {
                submit: !0,
                reset: !0
            }) i.pseudos[e] = ft(e);

        function yt() {}

        function _t(t) {
            for (var e = 0, n = t.length, i = ""; e < n; e++) i += t[e].value;
            return i
        }

        function bt(t, e, n) {
            var i = e.dir,
                r = e.next,
                o = r || i,
                s = n && "parentNode" === o,
                a = I++;
            return e.first ? function(e, n, r) {
                for (; e = e[i];)
                    if (1 === e.nodeType || s) return t(e, n, r);
                return !1
            } : function(e, n, u) {
                var l, h, c, d = [E, a];
                if (u) {
                    for (; e = e[i];)
                        if ((1 === e.nodeType || s) && t(e, n, u)) return !0
                } else
                    for (; e = e[i];)
                        if (1 === e.nodeType || s)
                            if (h = (c = e[b] || (e[b] = {}))[e.uniqueID] || (c[e.uniqueID] = {}), r && r === e.nodeName.toLowerCase()) e = e[i] || e;
                            else {
                                if ((l = h[o]) && l[0] === E && l[1] === a) return d[2] = l[2];
                                if ((h[o] = d)[2] = t(e, n, u)) return !0
                            } return !1
            }
        }

        function wt(t) {
            return 1 < t.length ? function(e, n, i) {
                for (var r = t.length; r--;)
                    if (!t[r](e, n, i)) return !1;
                return !0
            } : t[0]
        }

        function Et(t, e, n, i, r) {
            for (var o, s = [], a = 0, u = t.length, l = null != e; a < u; a++)(o = t[a]) && (n && !n(o, i, r) || (s.push(o), l && e.push(a)));
            return s
        }

        function It(t, e, n, i, r, o) {
            return i && !i[b] && (i = It(i)), r && !r[b] && (r = It(r, o)), lt((function(o, s, a, u) {
                var l, h, c, d = [],
                    p = [],
                    f = s.length,
                    g = o || function(t, e, n) {
                        for (var i = 0, r = e.length; i < r; i++) at(t, e[i], n);
                        return n
                    }(e || "*", a.nodeType ? [a] : a, []),
                    v = !t || !o && e ? g : Et(g, d, t, a, u),
                    m = n ? r || (o ? t : f || i) ? [] : s : v;
                if (n && n(v, m, a, u), i)
                    for (l = Et(m, p), i(l, [], a, u), h = l.length; h--;)(c = l[h]) && (m[p[h]] = !(v[p[h]] = c));
                if (o) {
                    if (r || t) {
                        if (r) {
                            for (l = [], h = m.length; h--;)(c = m[h]) && l.push(v[h] = c);
                            r(null, m = [], l, u)
                        }
                        for (h = m.length; h--;)(c = m[h]) && -1 < (l = r ? L(o, c) : d[h]) && (o[l] = !(s[l] = c))
                    }
                } else m = Et(m === s ? m.splice(f, m.length) : m), r ? r(null, s, m, u) : O.apply(s, m)
            }))
        }

        function Tt(t) {
            for (var e, n, r, o = t.length, s = i.relative[t[0].type], a = s || i.relative[" "], u = s ? 1 : 0, h = bt((function(t) {
                    return t === e
                }), a, !0), c = bt((function(t) {
                    return -1 < L(e, t)
                }), a, !0), d = [function(t, n, i) {
                    var r = !s && (i || n !== l) || ((e = n).nodeType ? h(t, n, i) : c(t, n, i));
                    return e = null, r
                }]; u < o; u++)
                if (n = i.relative[t[u].type]) d = [bt(wt(d), n)];
                else {
                    if ((n = i.filter[t[u].type].apply(null, t[u].matches))[b]) {
                        for (r = ++u; r < o && !i.relative[t[r].type]; r++);
                        return It(1 < u && wt(d), 1 < u && _t(t.slice(0, u - 1).concat({
                            value: " " === t[u - 2].type ? "*" : ""
                        })).replace(W, "$1"), n, u < r && Tt(t.slice(u, r)), r < o && Tt(t = t.slice(r)), r < o && _t(t))
                    }
                    d.push(n)
                } return wt(d)
        }
        return yt.prototype = i.filters = i.pseudos, i.setFilters = new yt, s = at.tokenize = function(t, e) {
            var n, r, o, s, a, u, l, h = C[t + " "];
            if (h) return e ? 0 : h.slice(0);
            for (a = t, u = [], l = i.preFilter; a;) {
                for (s in n && !(r = V.exec(a)) || (r && (a = a.slice(r[0].length) || a), u.push(o = [])), n = !1, (r = B.exec(a)) && (n = r.shift(), o.push({
                        value: n,
                        type: r[0].replace(W, " ")
                    }), a = a.slice(n.length)), i.filter) !(r = G[s].exec(a)) || l[s] && !(r = l[s](r)) || (n = r.shift(), o.push({
                    value: n,
                    type: s,
                    matches: r
                }), a = a.slice(n.length));
                if (!n) break
            }
            return e ? a.length : a ? at.error(t) : C(t, u).slice(0)
        }, a = at.compile = function(t, e) {
            var n, r, o, a, u, h, c = [],
                f = [],
                v = k[t + " "];
            if (!v) {
                for (e || (e = s(t)), n = e.length; n--;)(v = Tt(e[n]))[b] ? c.push(v) : f.push(v);
                (v = k(t, (r = f, a = 0 < (o = c).length, u = 0 < r.length, h = function(t, e, n, s, h) {
                    var c, f, v, m = 0,
                        y = "0",
                        _ = t && [],
                        b = [],
                        w = l,
                        I = t || u && i.find.TAG("*", h),
                        T = E += null == w ? 1 : Math.random() || .1,
                        C = I.length;
                    for (h && (l = e == p || e || h); y !== C && null != (c = I[y]); y++) {
                        if (u && c) {
                            for (f = 0, e || c.ownerDocument == p || (d(c), n = !g); v = r[f++];)
                                if (v(c, e || p, n)) {
                                    s.push(c);
                                    break
                                } h && (E = T)
                        }
                        a && ((c = !v && c) && m--, t && _.push(c))
                    }
                    if (m += y, a && y !== m) {
                        for (f = 0; v = o[f++];) v(_, b, e, n);
                        if (t) {
                            if (0 < m)
                                for (; y--;) _[y] || b[y] || (b[y] = A.call(s));
                            b = Et(b)
                        }
                        O.apply(s, b), h && !t && 0 < b.length && 1 < m + o.length && at.uniqueSort(s)
                    }
                    return h && (E = T, l = w), _
                }, a ? lt(h) : h))).selector = t
            }
            return v
        }, u = at.select = function(t, e, n, r) {
            var o, u, l, h, c, d = "function" == typeof t && t,
                p = !r && s(t = d.selector || t);
            if (n = n || [], 1 === p.length) {
                if (2 < (u = p[0] = p[0].slice(0)).length && "ID" === (l = u[0]).type && 9 === e.nodeType && g && i.relative[u[1].type]) {
                    if (!(e = (i.find.ID(l.matches[0].replace(et, nt), e) || [])[0])) return n;
                    d && (e = e.parentNode), t = t.slice(u.shift().value.length)
                }
                for (o = G.needsContext.test(t) ? 0 : u.length; o-- && (l = u[o], !i.relative[h = l.type]);)
                    if ((c = i.find[h]) && (r = c(l.matches[0].replace(et, nt), tt.test(u[0].type) && mt(e.parentNode) || e))) {
                        if (u.splice(o, 1), !(t = r.length && _t(u))) return O.apply(n, r), n;
                        break
                    }
            }
            return (d || a(t, p))(r, e, !g, n, !e || tt.test(t) && mt(e.parentNode) || e), n
        }, n.sortStable = b.split("").sort(x).join("") === b, n.detectDuplicates = !!c, d(), n.sortDetached = ht((function(t) {
            return 1 & t.compareDocumentPosition(p.createElement("fieldset"))
        })), ht((function(t) {
            return t.innerHTML = "<a href='#'></a>", "#" === t.firstChild.getAttribute("href")
        })) || ct("type|href|height|width", (function(t, e, n) {
            if (!n) return t.getAttribute(e, "type" === e.toLowerCase() ? 1 : 2)
        })), n.attributes && ht((function(t) {
            return t.innerHTML = "<input/>", t.firstChild.setAttribute("value", ""), "" === t.firstChild.getAttribute("value")
        })) || ct("value", (function(t, e, n) {
            if (!n && "input" === t.nodeName.toLowerCase()) return t.defaultValue
        })), ht((function(t) {
            return null == t.getAttribute("disabled")
        })) || ct(M, (function(t, e, n) {
            var i;
            if (!n) return !0 === t[e] ? e.toLowerCase() : (i = t.getAttributeNode(e)) && i.specified ? i.value : null
        })), at
    }(t);
    w.find = I, w.expr = I.selectors, w.expr[":"] = w.expr.pseudos, w.uniqueSort = w.unique = I.uniqueSort, w.text = I.getText, w.isXMLDoc = I.isXML, w.contains = I.contains, w.escapeSelector = I.escape;
    var T = function(t, e, n) {
            for (var i = [], r = void 0 !== n;
                (t = t[e]) && 9 !== t.nodeType;)
                if (1 === t.nodeType) {
                    if (r && w(t).is(n)) break;
                    i.push(t)
                } return i
        },
        C = function(t, e) {
            for (var n = []; t; t = t.nextSibling) 1 === t.nodeType && t !== e && n.push(t);
            return n
        },
        k = w.expr.match.needsContext;

    function S(t, e) {
        return t.nodeName && t.nodeName.toLowerCase() === e.toLowerCase()
    }
    var x = /^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;

    function D(t, e, n) {
        return f(e) ? w.grep(t, (function(t, i) {
            return !!e.call(t, i, t) !== n
        })) : e.nodeType ? w.grep(t, (function(t) {
            return t === e !== n
        })) : "string" != typeof e ? w.grep(t, (function(t) {
            return -1 < a.call(e, t) !== n
        })) : w.filter(e, t, n)
    }
    w.filter = function(t, e, n) {
        var i = e[0];
        return n && (t = ":not(" + t + ")"), 1 === e.length && 1 === i.nodeType ? w.find.matchesSelector(i, t) ? [i] : [] : w.find.matches(t, w.grep(e, (function(t) {
            return 1 === t.nodeType
        })))
    }, w.fn.extend({
        find: function(t) {
            var e, n, i = this.length,
                r = this;
            if ("string" != typeof t) return this.pushStack(w(t).filter((function() {
                for (e = 0; e < i; e++)
                    if (w.contains(r[e], this)) return !0
            })));
            for (n = this.pushStack([]), e = 0; e < i; e++) w.find(t, r[e], n);
            return 1 < i ? w.uniqueSort(n) : n
        },
        filter: function(t) {
            return this.pushStack(D(this, t || [], !1))
        },
        not: function(t) {
            return this.pushStack(D(this, t || [], !0))
        },
        is: function(t) {
            return !!D(this, "string" == typeof t && k.test(t) ? w(t) : t || [], !1).length
        }
    });
    var N, A = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;
    (w.fn.init = function(t, e, n) {
        var i, r;
        if (!t) return this;
        if (n = n || N, "string" == typeof t) {
            if (!(i = "<" === t[0] && ">" === t[t.length - 1] && 3 <= t.length ? [null, t, null] : A.exec(t)) || !i[1] && e) return !e || e.jquery ? (e || n).find(t) : this.constructor(e).find(t);
            if (i[1]) {
                if (e = e instanceof w ? e[0] : e, w.merge(this, w.parseHTML(i[1], e && e.nodeType ? e.ownerDocument || e : v, !0)), x.test(i[1]) && w.isPlainObject(e))
                    for (i in e) f(this[i]) ? this[i](e[i]) : this.attr(i, e[i]);
                return this
            }
            return (r = v.getElementById(i[2])) && (this[0] = r, this.length = 1), this
        }
        return t.nodeType ? (this[0] = t, this.length = 1, this) : f(t) ? void 0 !== n.ready ? n.ready(t) : t(w) : w.makeArray(t, this)
    }).prototype = w.fn, N = w(v);
    var P = /^(?:parents|prev(?:Until|All))/,
        O = {
            children: !0,
            contents: !0,
            next: !0,
            prev: !0
        };

    function R(t, e) {
        for (;
            (t = t[e]) && 1 !== t.nodeType;);
        return t
    }
    w.fn.extend({
        has: function(t) {
            var e = w(t, this),
                n = e.length;
            return this.filter((function() {
                for (var t = 0; t < n; t++)
                    if (w.contains(this, e[t])) return !0
            }))
        },
        closest: function(t, e) {
            var n, i = 0,
                r = this.length,
                o = [],
                s = "string" != typeof t && w(t);
            if (!k.test(t))
                for (; i < r; i++)
                    for (n = this[i]; n && n !== e; n = n.parentNode)
                        if (n.nodeType < 11 && (s ? -1 < s.index(n) : 1 === n.nodeType && w.find.matchesSelector(n, t))) {
                            o.push(n);
                            break
                        } return this.pushStack(1 < o.length ? w.uniqueSort(o) : o)
        },
        index: function(t) {
            return t ? "string" == typeof t ? a.call(w(t), this[0]) : a.call(this, t.jquery ? t[0] : t) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1
        },
        add: function(t, e) {
            return this.pushStack(w.uniqueSort(w.merge(this.get(), w(t, e))))
        },
        addBack: function(t) {
            return this.add(null == t ? this.prevObject : this.prevObject.filter(t))
        }
    }), w.each({
        parent: function(t) {
            var e = t.parentNode;
            return e && 11 !== e.nodeType ? e : null
        },
        parents: function(t) {
            return T(t, "parentNode")
        },
        parentsUntil: function(t, e, n) {
            return T(t, "parentNode", n)
        },
        next: function(t) {
            return R(t, "nextSibling")
        },
        prev: function(t) {
            return R(t, "previousSibling")
        },
        nextAll: function(t) {
            return T(t, "nextSibling")
        },
        prevAll: function(t) {
            return T(t, "previousSibling")
        },
        nextUntil: function(t, e, n) {
            return T(t, "nextSibling", n)
        },
        prevUntil: function(t, e, n) {
            return T(t, "previousSibling", n)
        },
        siblings: function(t) {
            return C((t.parentNode || {}).firstChild, t)
        },
        children: function(t) {
            return C(t.firstChild)
        },
        contents: function(t) {
            return null != t.contentDocument && i(t.contentDocument) ? t.contentDocument : (S(t, "template") && (t = t.content || t), w.merge([], t.childNodes))
        }
    }, (function(t, e) {
        w.fn[t] = function(n, i) {
            var r = w.map(this, e, n);
            return "Until" !== t.slice(-5) && (i = n), i && "string" == typeof i && (r = w.filter(i, r)), 1 < this.length && (O[t] || w.uniqueSort(r), P.test(t) && r.reverse()), this.pushStack(r)
        }
    }));
    var L = /[^\x20\t\r\n\f]+/g;

    function M(t) {
        return t
    }

    function F(t) {
        throw t
    }

    function U(t, e, n, i) {
        var r;
        try {
            t && f(r = t.promise) ? r.call(t).done(e).fail(n) : t && f(r = t.then) ? r.call(t, e, n) : e.apply(void 0, [t].slice(i))
        } catch (t) {
            n.apply(void 0, [t])
        }
    }
    w.Callbacks = function(t) {
        var e, n;
        t = "string" == typeof t ? (e = t, n = {}, w.each(e.match(L) || [], (function(t, e) {
            n[e] = !0
        })), n) : w.extend({}, t);
        var i, r, o, s, a = [],
            u = [],
            l = -1,
            h = function() {
                for (s = s || t.once, o = i = !0; u.length; l = -1)
                    for (r = u.shift(); ++l < a.length;) !1 === a[l].apply(r[0], r[1]) && t.stopOnFalse && (l = a.length, r = !1);
                t.memory || (r = !1), i = !1, s && (a = r ? [] : "")
            },
            c = {
                add: function() {
                    return a && (r && !i && (l = a.length - 1, u.push(r)), function e(n) {
                        w.each(n, (function(n, i) {
                            f(i) ? t.unique && c.has(i) || a.push(i) : i && i.length && "string" !== _(i) && e(i)
                        }))
                    }(arguments), r && !i && h()), this
                },
                remove: function() {
                    return w.each(arguments, (function(t, e) {
                        for (var n; - 1 < (n = w.inArray(e, a, n));) a.splice(n, 1), n <= l && l--
                    })), this
                },
                has: function(t) {
                    return t ? -1 < w.inArray(t, a) : 0 < a.length
                },
                empty: function() {
                    return a && (a = []), this
                },
                disable: function() {
                    return s = u = [], a = r = "", this
                },
                disabled: function() {
                    return !a
                },
                lock: function() {
                    return s = u = [], r || i || (a = r = ""), this
                },
                locked: function() {
                    return !!s
                },
                fireWith: function(t, e) {
                    return s || (e = [t, (e = e || []).slice ? e.slice() : e], u.push(e), i || h()), this
                },
                fire: function() {
                    return c.fireWith(this, arguments), this
                },
                fired: function() {
                    return !!o
                }
            };
        return c
    }, w.extend({
        Deferred: function(e) {
            var n = [
                    ["notify", "progress", w.Callbacks("memory"), w.Callbacks("memory"), 2],
                    ["resolve", "done", w.Callbacks("once memory"), w.Callbacks("once memory"), 0, "resolved"],
                    ["reject", "fail", w.Callbacks("once memory"), w.Callbacks("once memory"), 1, "rejected"]
                ],
                i = "pending",
                r = {
                    state: function() {
                        return i
                    },
                    always: function() {
                        return o.done(arguments).fail(arguments), this
                    },
                    catch: function(t) {
                        return r.then(null, t)
                    },
                    pipe: function() {
                        var t = arguments;
                        return w.Deferred((function(e) {
                            w.each(n, (function(n, i) {
                                var r = f(t[i[4]]) && t[i[4]];
                                o[i[1]]((function() {
                                    var t = r && r.apply(this, arguments);
                                    t && f(t.promise) ? t.promise().progress(e.notify).done(e.resolve).fail(e.reject) : e[i[0] + "With"](this, r ? [t] : arguments)
                                }))
                            })), t = null
                        })).promise()
                    },
                    then: function(e, i, r) {
                        var o = 0;

                        function s(e, n, i, r) {
                            return function() {
                                var a = this,
                                    u = arguments,
                                    l = function() {
                                        var t, l;
                                        if (!(e < o)) {
                                            if ((t = i.apply(a, u)) === n.promise()) throw new TypeError("Thenable self-resolution");
                                            l = t && ("object" == typeof t || "function" == typeof t) && t.then, f(l) ? r ? l.call(t, s(o, n, M, r), s(o, n, F, r)) : (o++, l.call(t, s(o, n, M, r), s(o, n, F, r), s(o, n, M, n.notifyWith))) : (i !== M && (a = void 0, u = [t]), (r || n.resolveWith)(a, u))
                                        }
                                    },
                                    h = r ? l : function() {
                                        try {
                                            l()
                                        } catch (t) {
                                            w.Deferred.exceptionHook && w.Deferred.exceptionHook(t, h.stackTrace), o <= e + 1 && (i !== F && (a = void 0, u = [t]), n.rejectWith(a, u))
                                        }
                                    };
                                e ? h() : (w.Deferred.getStackHook && (h.stackTrace = w.Deferred.getStackHook()), t.setTimeout(h))
                            }
                        }
                        return w.Deferred((function(t) {
                            n[0][3].add(s(0, t, f(r) ? r : M, t.notifyWith)), n[1][3].add(s(0, t, f(e) ? e : M)), n[2][3].add(s(0, t, f(i) ? i : F))
                        })).promise()
                    },
                    promise: function(t) {
                        return null != t ? w.extend(t, r) : r
                    }
                },
                o = {};
            return w.each(n, (function(t, e) {
                var s = e[2],
                    a = e[5];
                r[e[1]] = s.add, a && s.add((function() {
                    i = a
                }), n[3 - t][2].disable, n[3 - t][3].disable, n[0][2].lock, n[0][3].lock), s.add(e[3].fire), o[e[0]] = function() {
                    return o[e[0] + "With"](this === o ? void 0 : this, arguments), this
                }, o[e[0] + "With"] = s.fireWith
            })), r.promise(o), e && e.call(o, o), o
        },
        when: function(t) {
            var e = arguments.length,
                n = e,
                i = Array(n),
                o = r.call(arguments),
                s = w.Deferred(),
                a = function(t) {
                    return function(n) {
                        i[t] = this, o[t] = 1 < arguments.length ? r.call(arguments) : n, --e || s.resolveWith(i, o)
                    }
                };
            if (e <= 1 && (U(t, s.done(a(n)).resolve, s.reject, !e), "pending" === s.state() || f(o[n] && o[n].then))) return s.then();
            for (; n--;) U(o[n], a(n), s.reject);
            return s.promise()
        }
    });
    var j = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;
    w.Deferred.exceptionHook = function(e, n) {
        t.console && t.console.warn && e && j.test(e.name) && t.console.warn("jQuery.Deferred exception: " + e.message, e.stack, n)
    }, w.readyException = function(e) {
        t.setTimeout((function() {
            throw e
        }))
    };
    var H = w.Deferred();

    function q() {
        v.removeEventListener("DOMContentLoaded", q), t.removeEventListener("load", q), w.ready()
    }
    w.fn.ready = function(t) {
        return H.then(t).catch((function(t) {
            w.readyException(t)
        })), this
    }, w.extend({
        isReady: !1,
        readyWait: 1,
        ready: function(t) {
            (!0 === t ? --w.readyWait : w.isReady) || (w.isReady = !0) !== t && 0 < --w.readyWait || H.resolveWith(v, [w])
        }
    }), w.ready.then = H.then, "complete" === v.readyState || "loading" !== v.readyState && !v.documentElement.doScroll ? t.setTimeout(w.ready) : (v.addEventListener("DOMContentLoaded", q), t.addEventListener("load", q));
    var W = function(t, e, n, i, r, o, s) {
            var a = 0,
                u = t.length,
                l = null == n;
            if ("object" === _(n))
                for (a in r = !0, n) W(t, e, a, n[a], !0, o, s);
            else if (void 0 !== i && (r = !0, f(i) || (s = !0), l && (s ? (e.call(t, i), e = null) : (l = e, e = function(t, e, n) {
                    return l.call(w(t), n)
                })), e))
                for (; a < u; a++) e(t[a], n, s ? i : i.call(t[a], a, e(t[a], n)));
            return r ? t : l ? e.call(t) : u ? e(t[0], n) : o
        },
        V = /^-ms-/,
        B = /-([a-z])/g;

    function z(t, e) {
        return e.toUpperCase()
    }

    function $(t) {
        return t.replace(V, "ms-").replace(B, z)
    }
    var K = function(t) {
        return 1 === t.nodeType || 9 === t.nodeType || !+t.nodeType
    };

    function G() {
        this.expando = w.expando + G.uid++
    }
    G.uid = 1, G.prototype = {
        cache: function(t) {
            var e = t[this.expando];
            return e || (e = {}, K(t) && (t.nodeType ? t[this.expando] = e : Object.defineProperty(t, this.expando, {
                value: e,
                configurable: !0
            }))), e
        },
        set: function(t, e, n) {
            var i, r = this.cache(t);
            if ("string" == typeof e) r[$(e)] = n;
            else
                for (i in e) r[$(i)] = e[i];
            return r
        },
        get: function(t, e) {
            return void 0 === e ? this.cache(t) : t[this.expando] && t[this.expando][$(e)]
        },
        access: function(t, e, n) {
            return void 0 === e || e && "string" == typeof e && void 0 === n ? this.get(t, e) : (this.set(t, e, n), void 0 !== n ? n : e)
        },
        remove: function(t, e) {
            var n, i = t[this.expando];
            if (void 0 !== i) {
                if (void 0 !== e) {
                    n = (e = Array.isArray(e) ? e.map($) : (e = $(e)) in i ? [e] : e.match(L) || []).length;
                    for (; n--;) delete i[e[n]]
                }(void 0 === e || w.isEmptyObject(i)) && (t.nodeType ? t[this.expando] = void 0 : delete t[this.expando])
            }
        },
        hasData: function(t) {
            var e = t[this.expando];
            return void 0 !== e && !w.isEmptyObject(e)
        }
    };
    var Y = new G,
        Q = new G,
        X = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
        J = /[A-Z]/g;

    function Z(t, e, n) {
        var i, r;
        if (void 0 === n && 1 === t.nodeType)
            if (i = "data-" + e.replace(J, "-$&").toLowerCase(), "string" == typeof(n = t.getAttribute(i))) {
                try {
                    n = "true" === (r = n) || "false" !== r && ("null" === r ? null : r === +r + "" ? +r : X.test(r) ? JSON.parse(r) : r)
                } catch (t) {}
                Q.set(t, e, n)
            } else n = void 0;
        return n
    }
    w.extend({
        hasData: function(t) {
            return Q.hasData(t) || Y.hasData(t)
        },
        data: function(t, e, n) {
            return Q.access(t, e, n)
        },
        removeData: function(t, e) {
            Q.remove(t, e)
        },
        _data: function(t, e, n) {
            return Y.access(t, e, n)
        },
        _removeData: function(t, e) {
            Y.remove(t, e)
        }
    }), w.fn.extend({
        data: function(t, e) {
            var n, i, r, o = this[0],
                s = o && o.attributes;
            if (void 0 === t) {
                if (this.length && (r = Q.get(o), 1 === o.nodeType && !Y.get(o, "hasDataAttrs"))) {
                    for (n = s.length; n--;) s[n] && 0 === (i = s[n].name).indexOf("data-") && (i = $(i.slice(5)), Z(o, i, r[i]));
                    Y.set(o, "hasDataAttrs", !0)
                }
                return r
            }
            return "object" == typeof t ? this.each((function() {
                Q.set(this, t)
            })) : W(this, (function(e) {
                var n;
                if (o && void 0 === e) return void 0 !== (n = Q.get(o, t)) || void 0 !== (n = Z(o, t)) ? n : void 0;
                this.each((function() {
                    Q.set(this, t, e)
                }))
            }), null, e, 1 < arguments.length, null, !0)
        },
        removeData: function(t) {
            return this.each((function() {
                Q.remove(this, t)
            }))
        }
    }), w.extend({
        queue: function(t, e, n) {
            var i;
            if (t) return e = (e || "fx") + "queue", i = Y.get(t, e), n && (!i || Array.isArray(n) ? i = Y.access(t, e, w.makeArray(n)) : i.push(n)), i || []
        },
        dequeue: function(t, e) {
            e = e || "fx";
            var n = w.queue(t, e),
                i = n.length,
                r = n.shift(),
                o = w._queueHooks(t, e);
            "inprogress" === r && (r = n.shift(), i--), r && ("fx" === e && n.unshift("inprogress"), delete o.stop, r.call(t, (function() {
                w.dequeue(t, e)
            }), o)), !i && o && o.empty.fire()
        },
        _queueHooks: function(t, e) {
            var n = e + "queueHooks";
            return Y.get(t, n) || Y.access(t, n, {
                empty: w.Callbacks("once memory").add((function() {
                    Y.remove(t, [e + "queue", n])
                }))
            })
        }
    }), w.fn.extend({
        queue: function(t, e) {
            var n = 2;
            return "string" != typeof t && (e = t, t = "fx", n--), arguments.length < n ? w.queue(this[0], t) : void 0 === e ? this : this.each((function() {
                var n = w.queue(this, t, e);
                w._queueHooks(this, t), "fx" === t && "inprogress" !== n[0] && w.dequeue(this, t)
            }))
        },
        dequeue: function(t) {
            return this.each((function() {
                w.dequeue(this, t)
            }))
        },
        clearQueue: function(t) {
            return this.queue(t || "fx", [])
        },
        promise: function(t, e) {
            var n, i = 1,
                r = w.Deferred(),
                o = this,
                s = this.length,
                a = function() {
                    --i || r.resolveWith(o, [o])
                };
            for ("string" != typeof t && (e = t, t = void 0), t = t || "fx"; s--;)(n = Y.get(o[s], t + "queueHooks")) && n.empty && (i++, n.empty.add(a));
            return a(), r.promise(e)
        }
    });
    var tt = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
        et = new RegExp("^(?:([+-])=|)(" + tt + ")([a-z%]*)$", "i"),
        nt = ["Top", "Right", "Bottom", "Left"],
        it = v.documentElement,
        rt = function(t) {
            return w.contains(t.ownerDocument, t)
        },
        ot = {
            composed: !0
        };
    it.getRootNode && (rt = function(t) {
        return w.contains(t.ownerDocument, t) || t.getRootNode(ot) === t.ownerDocument
    });
    var st = function(t, e) {
        return "none" === (t = e || t).style.display || "" === t.style.display && rt(t) && "none" === w.css(t, "display")
    };

    function at(t, e, n, i) {
        var r, o, s = 20,
            a = i ? function() {
                return i.cur()
            } : function() {
                return w.css(t, e, "")
            },
            u = a(),
            l = n && n[3] || (w.cssNumber[e] ? "" : "px"),
            h = t.nodeType && (w.cssNumber[e] || "px" !== l && +u) && et.exec(w.css(t, e));
        if (h && h[3] !== l) {
            for (u /= 2, l = l || h[3], h = +u || 1; s--;) w.style(t, e, h + l), (1 - o) * (1 - (o = a() / u || .5)) <= 0 && (s = 0), h /= o;
            h *= 2, w.style(t, e, h + l), n = n || []
        }
        return n && (h = +h || +u || 0, r = n[1] ? h + (n[1] + 1) * n[2] : +n[2], i && (i.unit = l, i.start = h, i.end = r)), r
    }
    var ut = {};

    function lt(t, e) {
        for (var n, i, r, o, s, a, u, l = [], h = 0, c = t.length; h < c; h++)(i = t[h]).style && (n = i.style.display, e ? ("none" === n && (l[h] = Y.get(i, "display") || null, l[h] || (i.style.display = "")), "" === i.style.display && st(i) && (l[h] = (u = s = o = void 0, s = (r = i).ownerDocument, a = r.nodeName, (u = ut[a]) || (o = s.body.appendChild(s.createElement(a)), u = w.css(o, "display"), o.parentNode.removeChild(o), "none" === u && (u = "block"), ut[a] = u)))) : "none" !== n && (l[h] = "none", Y.set(i, "display", n)));
        for (h = 0; h < c; h++) null != l[h] && (t[h].style.display = l[h]);
        return t
    }
    w.fn.extend({
        show: function() {
            return lt(this, !0)
        },
        hide: function() {
            return lt(this)
        },
        toggle: function(t) {
            return "boolean" == typeof t ? t ? this.show() : this.hide() : this.each((function() {
                st(this) ? w(this).show() : w(this).hide()
            }))
        }
    });
    var ht, ct, dt = /^(?:checkbox|radio)$/i,
        pt = /<([a-z][^\/\0>\x20\t\r\n\f]*)/i,
        ft = /^$|^module$|\/(?:java|ecma)script/i;
    ht = v.createDocumentFragment().appendChild(v.createElement("div")), (ct = v.createElement("input")).setAttribute("type", "radio"), ct.setAttribute("checked", "checked"), ct.setAttribute("name", "t"), ht.appendChild(ct), p.checkClone = ht.cloneNode(!0).cloneNode(!0).lastChild.checked, ht.innerHTML = "<textarea>x</textarea>", p.noCloneChecked = !!ht.cloneNode(!0).lastChild.defaultValue, ht.innerHTML = "<option></option>", p.option = !!ht.lastChild;
    var gt = {
        thead: [1, "<table>", "</table>"],
        col: [2, "<table><colgroup>", "</colgroup></table>"],
        tr: [2, "<table><tbody>", "</tbody></table>"],
        td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
        _default: [0, "", ""]
    };

    function vt(t, e) {
        var n;
        return n = void 0 !== t.getElementsByTagName ? t.getElementsByTagName(e || "*") : void 0 !== t.querySelectorAll ? t.querySelectorAll(e || "*") : [], void 0 === e || e && S(t, e) ? w.merge([t], n) : n
    }

    function mt(t, e) {
        for (var n = 0, i = t.length; n < i; n++) Y.set(t[n], "globalEval", !e || Y.get(e[n], "globalEval"))
    }
    gt.tbody = gt.tfoot = gt.colgroup = gt.caption = gt.thead, gt.th = gt.td, p.option || (gt.optgroup = gt.option = [1, "<select multiple='multiple'>", "</select>"]);
    var yt = /<|&#?\w+;/;

    function _t(t, e, n, i, r) {
        for (var o, s, a, u, l, h, c = e.createDocumentFragment(), d = [], p = 0, f = t.length; p < f; p++)
            if ((o = t[p]) || 0 === o)
                if ("object" === _(o)) w.merge(d, o.nodeType ? [o] : o);
                else if (yt.test(o)) {
            for (s = s || c.appendChild(e.createElement("div")), a = (pt.exec(o) || ["", ""])[1].toLowerCase(), u = gt[a] || gt._default, s.innerHTML = u[1] + w.htmlPrefilter(o) + u[2], h = u[0]; h--;) s = s.lastChild;
            w.merge(d, s.childNodes), (s = c.firstChild).textContent = ""
        } else d.push(e.createTextNode(o));
        for (c.textContent = "", p = 0; o = d[p++];)
            if (i && -1 < w.inArray(o, i)) r && r.push(o);
            else if (l = rt(o), s = vt(c.appendChild(o), "script"), l && mt(s), n)
            for (h = 0; o = s[h++];) ft.test(o.type || "") && n.push(o);
        return c
    }
    var bt = /^key/,
        wt = /^(?:mouse|pointer|contextmenu|drag|drop)|click/,
        Et = /^([^.]*)(?:\.(.+)|)/;

    function It() {
        return !0
    }

    function Tt() {
        return !1
    }

    function Ct(t, e) {
        return t === function() {
            try {
                return v.activeElement
            } catch (t) {}
        }() == ("focus" === e)
    }

    function kt(t, e, n, i, r, o) {
        var s, a;
        if ("object" == typeof e) {
            for (a in "string" != typeof n && (i = i || n, n = void 0), e) kt(t, a, n, i, e[a], o);
            return t
        }
        if (null == i && null == r ? (r = n, i = n = void 0) : null == r && ("string" == typeof n ? (r = i, i = void 0) : (r = i, i = n, n = void 0)), !1 === r) r = Tt;
        else if (!r) return t;
        return 1 === o && (s = r, (r = function(t) {
            return w().off(t), s.apply(this, arguments)
        }).guid = s.guid || (s.guid = w.guid++)), t.each((function() {
            w.event.add(this, e, r, i, n)
        }))
    }

    function St(t, e, n) {
        n ? (Y.set(t, e, !1), w.event.add(t, e, {
            namespace: !1,
            handler: function(t) {
                var i, o, s = Y.get(this, e);
                if (1 & t.isTrigger && this[e]) {
                    if (s.length)(w.event.special[e] || {}).delegateType && t.stopPropagation();
                    else if (s = r.call(arguments), Y.set(this, e, s), i = n(this, e), this[e](), s !== (o = Y.get(this, e)) || i ? Y.set(this, e, !1) : o = {}, s !== o) return t.stopImmediatePropagation(), t.preventDefault(), o.value
                } else s.length && (Y.set(this, e, {
                    value: w.event.trigger(w.extend(s[0], w.Event.prototype), s.slice(1), this)
                }), t.stopImmediatePropagation())
            }
        })) : void 0 === Y.get(t, e) && w.event.add(t, e, It)
    }
    w.event = {
        global: {},
        add: function(t, e, n, i, r) {
            var o, s, a, u, l, h, c, d, p, f, g, v = Y.get(t);
            if (K(t))
                for (n.handler && (n = (o = n).handler, r = o.selector), r && w.find.matchesSelector(it, r), n.guid || (n.guid = w.guid++), (u = v.events) || (u = v.events = Object.create(null)), (s = v.handle) || (s = v.handle = function(e) {
                        return void 0 !== w && w.event.triggered !== e.type ? w.event.dispatch.apply(t, arguments) : void 0
                    }), l = (e = (e || "").match(L) || [""]).length; l--;) p = g = (a = Et.exec(e[l]) || [])[1], f = (a[2] || "").split(".").sort(), p && (c = w.event.special[p] || {}, p = (r ? c.delegateType : c.bindType) || p, c = w.event.special[p] || {}, h = w.extend({
                    type: p,
                    origType: g,
                    data: i,
                    handler: n,
                    guid: n.guid,
                    selector: r,
                    needsContext: r && w.expr.match.needsContext.test(r),
                    namespace: f.join(".")
                }, o), (d = u[p]) || ((d = u[p] = []).delegateCount = 0, c.setup && !1 !== c.setup.call(t, i, f, s) || t.addEventListener && t.addEventListener(p, s)), c.add && (c.add.call(t, h), h.handler.guid || (h.handler.guid = n.guid)), r ? d.splice(d.delegateCount++, 0, h) : d.push(h), w.event.global[p] = !0)
        },
        remove: function(t, e, n, i, r) {
            var o, s, a, u, l, h, c, d, p, f, g, v = Y.hasData(t) && Y.get(t);
            if (v && (u = v.events)) {
                for (l = (e = (e || "").match(L) || [""]).length; l--;)
                    if (p = g = (a = Et.exec(e[l]) || [])[1], f = (a[2] || "").split(".").sort(), p) {
                        for (c = w.event.special[p] || {}, d = u[p = (i ? c.delegateType : c.bindType) || p] || [], a = a[2] && new RegExp("(^|\\.)" + f.join("\\.(?:.*\\.|)") + "(\\.|$)"), s = o = d.length; o--;) h = d[o], !r && g !== h.origType || n && n.guid !== h.guid || a && !a.test(h.namespace) || i && i !== h.selector && ("**" !== i || !h.selector) || (d.splice(o, 1), h.selector && d.delegateCount--, c.remove && c.remove.call(t, h));
                        s && !d.length && (c.teardown && !1 !== c.teardown.call(t, f, v.handle) || w.removeEvent(t, p, v.handle), delete u[p])
                    } else
                        for (p in u) w.event.remove(t, p + e[l], n, i, !0);
                w.isEmptyObject(u) && Y.remove(t, "handle events")
            }
        },
        dispatch: function(t) {
            var e, n, i, r, o, s, a = new Array(arguments.length),
                u = w.event.fix(t),
                l = (Y.get(this, "events") || Object.create(null))[u.type] || [],
                h = w.event.special[u.type] || {};
            for (a[0] = u, e = 1; e < arguments.length; e++) a[e] = arguments[e];
            if (u.delegateTarget = this, !h.preDispatch || !1 !== h.preDispatch.call(this, u)) {
                for (s = w.event.handlers.call(this, u, l), e = 0;
                    (r = s[e++]) && !u.isPropagationStopped();)
                    for (u.currentTarget = r.elem, n = 0;
                        (o = r.handlers[n++]) && !u.isImmediatePropagationStopped();) u.rnamespace && !1 !== o.namespace && !u.rnamespace.test(o.namespace) || (u.handleObj = o, u.data = o.data, void 0 !== (i = ((w.event.special[o.origType] || {}).handle || o.handler).apply(r.elem, a)) && !1 === (u.result = i) && (u.preventDefault(), u.stopPropagation()));
                return h.postDispatch && h.postDispatch.call(this, u), u.result
            }
        },
        handlers: function(t, e) {
            var n, i, r, o, s, a = [],
                u = e.delegateCount,
                l = t.target;
            if (u && l.nodeType && !("click" === t.type && 1 <= t.button))
                for (; l !== this; l = l.parentNode || this)
                    if (1 === l.nodeType && ("click" !== t.type || !0 !== l.disabled)) {
                        for (o = [], s = {}, n = 0; n < u; n++) void 0 === s[r = (i = e[n]).selector + " "] && (s[r] = i.needsContext ? -1 < w(r, this).index(l) : w.find(r, this, null, [l]).length), s[r] && o.push(i);
                        o.length && a.push({
                            elem: l,
                            handlers: o
                        })
                    } return l = this, u < e.length && a.push({
                elem: l,
                handlers: e.slice(u)
            }), a
        },
        addProp: function(t, e) {
            Object.defineProperty(w.Event.prototype, t, {
                enumerable: !0,
                configurable: !0,
                get: f(e) ? function() {
                    if (this.originalEvent) return e(this.originalEvent)
                } : function() {
                    if (this.originalEvent) return this.originalEvent[t]
                },
                set: function(e) {
                    Object.defineProperty(this, t, {
                        enumerable: !0,
                        configurable: !0,
                        writable: !0,
                        value: e
                    })
                }
            })
        },
        fix: function(t) {
            return t[w.expando] ? t : new w.Event(t)
        },
        special: {
            load: {
                noBubble: !0
            },
            click: {
                setup: function(t) {
                    var e = this || t;
                    return dt.test(e.type) && e.click && S(e, "input") && St(e, "click", It), !1
                },
                trigger: function(t) {
                    var e = this || t;
                    return dt.test(e.type) && e.click && S(e, "input") && St(e, "click"), !0
                },
                _default: function(t) {
                    var e = t.target;
                    return dt.test(e.type) && e.click && S(e, "input") && Y.get(e, "click") || S(e, "a")
                }
            },
            beforeunload: {
                postDispatch: function(t) {
                    void 0 !== t.result && t.originalEvent && (t.originalEvent.returnValue = t.result)
                }
            }
        }
    }, w.removeEvent = function(t, e, n) {
        t.removeEventListener && t.removeEventListener(e, n)
    }, w.Event = function(t, e) {
        if (!(this instanceof w.Event)) return new w.Event(t, e);
        t && t.type ? (this.originalEvent = t, this.type = t.type, this.isDefaultPrevented = t.defaultPrevented || void 0 === t.defaultPrevented && !1 === t.returnValue ? It : Tt, this.target = t.target && 3 === t.target.nodeType ? t.target.parentNode : t.target, this.currentTarget = t.currentTarget, this.relatedTarget = t.relatedTarget) : this.type = t, e && w.extend(this, e), this.timeStamp = t && t.timeStamp || Date.now(), this[w.expando] = !0
    }, w.Event.prototype = {
        constructor: w.Event,
        isDefaultPrevented: Tt,
        isPropagationStopped: Tt,
        isImmediatePropagationStopped: Tt,
        isSimulated: !1,
        preventDefault: function() {
            var t = this.originalEvent;
            this.isDefaultPrevented = It, t && !this.isSimulated && t.preventDefault()
        },
        stopPropagation: function() {
            var t = this.originalEvent;
            this.isPropagationStopped = It, t && !this.isSimulated && t.stopPropagation()
        },
        stopImmediatePropagation: function() {
            var t = this.originalEvent;
            this.isImmediatePropagationStopped = It, t && !this.isSimulated && t.stopImmediatePropagation(), this.stopPropagation()
        }
    }, w.each({
        altKey: !0,
        bubbles: !0,
        cancelable: !0,
        changedTouches: !0,
        ctrlKey: !0,
        detail: !0,
        eventPhase: !0,
        metaKey: !0,
        pageX: !0,
        pageY: !0,
        shiftKey: !0,
        view: !0,
        char: !0,
        code: !0,
        charCode: !0,
        key: !0,
        keyCode: !0,
        button: !0,
        buttons: !0,
        clientX: !0,
        clientY: !0,
        offsetX: !0,
        offsetY: !0,
        pointerId: !0,
        pointerType: !0,
        screenX: !0,
        screenY: !0,
        targetTouches: !0,
        toElement: !0,
        touches: !0,
        which: function(t) {
            var e = t.button;
            return null == t.which && bt.test(t.type) ? null != t.charCode ? t.charCode : t.keyCode : !t.which && void 0 !== e && wt.test(t.type) ? 1 & e ? 1 : 2 & e ? 3 : 4 & e ? 2 : 0 : t.which
        }
    }, w.event.addProp), w.each({
        focus: "focusin",
        blur: "focusout"
    }, (function(t, e) {
        w.event.special[t] = {
            setup: function() {
                return St(this, t, Ct), !1
            },
            trigger: function() {
                return St(this, t), !0
            },
            delegateType: e
        }
    })), w.each({
        mouseenter: "mouseover",
        mouseleave: "mouseout",
        pointerenter: "pointerover",
        pointerleave: "pointerout"
    }, (function(t, e) {
        w.event.special[t] = {
            delegateType: e,
            bindType: e,
            handle: function(t) {
                var n, i = t.relatedTarget,
                    r = t.handleObj;
                return i && (i === this || w.contains(this, i)) || (t.type = r.origType, n = r.handler.apply(this, arguments), t.type = e), n
            }
        }
    })), w.fn.extend({
        on: function(t, e, n, i) {
            return kt(this, t, e, n, i)
        },
        one: function(t, e, n, i) {
            return kt(this, t, e, n, i, 1)
        },
        off: function(t, e, n) {
            var i, r;
            if (t && t.preventDefault && t.handleObj) return i = t.handleObj, w(t.delegateTarget).off(i.namespace ? i.origType + "." + i.namespace : i.origType, i.selector, i.handler), this;
            if ("object" == typeof t) {
                for (r in t) this.off(r, e, t[r]);
                return this
            }
            return !1 !== e && "function" != typeof e || (n = e, e = void 0), !1 === n && (n = Tt), this.each((function() {
                w.event.remove(this, t, n, e)
            }))
        }
    });
    var xt = /<script|<style|<link/i,
        Dt = /checked\s*(?:[^=]|=\s*.checked.)/i,
        Nt = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;

    function At(t, e) {
        return S(t, "table") && S(11 !== e.nodeType ? e : e.firstChild, "tr") && w(t).children("tbody")[0] || t
    }

    function Pt(t) {
        return t.type = (null !== t.getAttribute("type")) + "/" + t.type, t
    }

    function Ot(t) {
        return "true/" === (t.type || "").slice(0, 5) ? t.type = t.type.slice(5) : t.removeAttribute("type"), t
    }

    function Rt(t, e) {
        var n, i, r, o, s, a;
        if (1 === e.nodeType) {
            if (Y.hasData(t) && (a = Y.get(t).events))
                for (r in Y.remove(e, "handle events"), a)
                    for (n = 0, i = a[r].length; n < i; n++) w.event.add(e, r, a[r][n]);
            Q.hasData(t) && (o = Q.access(t), s = w.extend({}, o), Q.set(e, s))
        }
    }

    function Lt(t, e, n, i) {
        e = o(e);
        var r, s, a, u, l, h, c = 0,
            d = t.length,
            g = d - 1,
            v = e[0],
            m = f(v);
        if (m || 1 < d && "string" == typeof v && !p.checkClone && Dt.test(v)) return t.each((function(r) {
            var o = t.eq(r);
            m && (e[0] = v.call(this, r, o.html())), Lt(o, e, n, i)
        }));
        if (d && (s = (r = _t(e, t[0].ownerDocument, !1, t, i)).firstChild, 1 === r.childNodes.length && (r = s), s || i)) {
            for (u = (a = w.map(vt(r, "script"), Pt)).length; c < d; c++) l = r, c !== g && (l = w.clone(l, !0, !0), u && w.merge(a, vt(l, "script"))), n.call(t[c], l, c);
            if (u)
                for (h = a[a.length - 1].ownerDocument, w.map(a, Ot), c = 0; c < u; c++) l = a[c], ft.test(l.type || "") && !Y.access(l, "globalEval") && w.contains(h, l) && (l.src && "module" !== (l.type || "").toLowerCase() ? w._evalUrl && !l.noModule && w._evalUrl(l.src, {
                    nonce: l.nonce || l.getAttribute("nonce")
                }, h) : y(l.textContent.replace(Nt, ""), l, h))
        }
        return t
    }

    function Mt(t, e, n) {
        for (var i, r = e ? w.filter(e, t) : t, o = 0; null != (i = r[o]); o++) n || 1 !== i.nodeType || w.cleanData(vt(i)), i.parentNode && (n && rt(i) && mt(vt(i, "script")), i.parentNode.removeChild(i));
        return t
    }
    w.extend({
        htmlPrefilter: function(t) {
            return t
        },
        clone: function(t, e, n) {
            var i, r, o, s, a, u, l, h = t.cloneNode(!0),
                c = rt(t);
            if (!(p.noCloneChecked || 1 !== t.nodeType && 11 !== t.nodeType || w.isXMLDoc(t)))
                for (s = vt(h), i = 0, r = (o = vt(t)).length; i < r; i++) a = o[i], "input" === (l = (u = s[i]).nodeName.toLowerCase()) && dt.test(a.type) ? u.checked = a.checked : "input" !== l && "textarea" !== l || (u.defaultValue = a.defaultValue);
            if (e)
                if (n)
                    for (o = o || vt(t), s = s || vt(h), i = 0, r = o.length; i < r; i++) Rt(o[i], s[i]);
                else Rt(t, h);
            return 0 < (s = vt(h, "script")).length && mt(s, !c && vt(t, "script")), h
        },
        cleanData: function(t) {
            for (var e, n, i, r = w.event.special, o = 0; void 0 !== (n = t[o]); o++)
                if (K(n)) {
                    if (e = n[Y.expando]) {
                        if (e.events)
                            for (i in e.events) r[i] ? w.event.remove(n, i) : w.removeEvent(n, i, e.handle);
                        n[Y.expando] = void 0
                    }
                    n[Q.expando] && (n[Q.expando] = void 0)
                }
        }
    }), w.fn.extend({
        detach: function(t) {
            return Mt(this, t, !0)
        },
        remove: function(t) {
            return Mt(this, t)
        },
        text: function(t) {
            return W(this, (function(t) {
                return void 0 === t ? w.text(this) : this.empty().each((function() {
                    1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || (this.textContent = t)
                }))
            }), null, t, arguments.length)
        },
        append: function() {
            return Lt(this, arguments, (function(t) {
                1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || At(this, t).appendChild(t)
            }))
        },
        prepend: function() {
            return Lt(this, arguments, (function(t) {
                if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                    var e = At(this, t);
                    e.insertBefore(t, e.firstChild)
                }
            }))
        },
        before: function() {
            return Lt(this, arguments, (function(t) {
                this.parentNode && this.parentNode.insertBefore(t, this)
            }))
        },
        after: function() {
            return Lt(this, arguments, (function(t) {
                this.parentNode && this.parentNode.insertBefore(t, this.nextSibling)
            }))
        },
        empty: function() {
            for (var t, e = 0; null != (t = this[e]); e++) 1 === t.nodeType && (w.cleanData(vt(t, !1)), t.textContent = "");
            return this
        },
        clone: function(t, e) {
            return t = null != t && t, e = null == e ? t : e, this.map((function() {
                return w.clone(this, t, e)
            }))
        },
        html: function(t) {
            return W(this, (function(t) {
                var e = this[0] || {},
                    n = 0,
                    i = this.length;
                if (void 0 === t && 1 === e.nodeType) return e.innerHTML;
                if ("string" == typeof t && !xt.test(t) && !gt[(pt.exec(t) || ["", ""])[1].toLowerCase()]) {
                    t = w.htmlPrefilter(t);
                    try {
                        for (; n < i; n++) 1 === (e = this[n] || {}).nodeType && (w.cleanData(vt(e, !1)), e.innerHTML = t);
                        e = 0
                    } catch (t) {}
                }
                e && this.empty().append(t)
            }), null, t, arguments.length)
        },
        replaceWith: function() {
            var t = [];
            return Lt(this, arguments, (function(e) {
                var n = this.parentNode;
                w.inArray(this, t) < 0 && (w.cleanData(vt(this)), n && n.replaceChild(e, this))
            }), t)
        }
    }), w.each({
        appendTo: "append",
        prependTo: "prepend",
        insertBefore: "before",
        insertAfter: "after",
        replaceAll: "replaceWith"
    }, (function(t, e) {
        w.fn[t] = function(t) {
            for (var n, i = [], r = w(t), o = r.length - 1, a = 0; a <= o; a++) n = a === o ? this : this.clone(!0), w(r[a])[e](n), s.apply(i, n.get());
            return this.pushStack(i)
        }
    }));
    var Ft = new RegExp("^(" + tt + ")(?!px)[a-z%]+$", "i"),
        Ut = function(e) {
            var n = e.ownerDocument.defaultView;
            return n && n.opener || (n = t), n.getComputedStyle(e)
        },
        jt = function(t, e, n) {
            var i, r, o = {};
            for (r in e) o[r] = t.style[r], t.style[r] = e[r];
            for (r in i = n.call(t), e) t.style[r] = o[r];
            return i
        },
        Ht = new RegExp(nt.join("|"), "i");

    function qt(t, e, n) {
        var i, r, o, s, a = t.style;
        return (n = n || Ut(t)) && ("" !== (s = n.getPropertyValue(e) || n[e]) || rt(t) || (s = w.style(t, e)), !p.pixelBoxStyles() && Ft.test(s) && Ht.test(e) && (i = a.width, r = a.minWidth, o = a.maxWidth, a.minWidth = a.maxWidth = a.width = s, s = n.width, a.width = i, a.minWidth = r, a.maxWidth = o)), void 0 !== s ? s + "" : s
    }

    function Wt(t, e) {
        return {
            get: function() {
                if (!t()) return (this.get = e).apply(this, arguments);
                delete this.get
            }
        }
    }! function() {
        function e() {
            if (h) {
                l.style.cssText = "position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0", h.style.cssText = "position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%", it.appendChild(l).appendChild(h);
                var e = t.getComputedStyle(h);
                i = "1%" !== e.top, u = 12 === n(e.marginLeft), h.style.right = "60%", s = 36 === n(e.right), r = 36 === n(e.width), h.style.position = "absolute", o = 12 === n(h.offsetWidth / 3), it.removeChild(l), h = null
            }
        }

        function n(t) {
            return Math.round(parseFloat(t))
        }
        var i, r, o, s, a, u, l = v.createElement("div"),
            h = v.createElement("div");
        h.style && (h.style.backgroundClip = "content-box", h.cloneNode(!0).style.backgroundClip = "", p.clearCloneStyle = "content-box" === h.style.backgroundClip, w.extend(p, {
            boxSizingReliable: function() {
                return e(), r
            },
            pixelBoxStyles: function() {
                return e(), s
            },
            pixelPosition: function() {
                return e(), i
            },
            reliableMarginLeft: function() {
                return e(), u
            },
            scrollboxSize: function() {
                return e(), o
            },
            reliableTrDimensions: function() {
                var e, n, i, r;
                return null == a && (e = v.createElement("table"), n = v.createElement("tr"), i = v.createElement("div"), e.style.cssText = "position:absolute;left:-11111px", n.style.height = "1px", i.style.height = "9px", it.appendChild(e).appendChild(n).appendChild(i), r = t.getComputedStyle(n), a = 3 < parseInt(r.height), it.removeChild(e)), a
            }
        }))
    }();
    var Vt = ["Webkit", "Moz", "ms"],
        Bt = v.createElement("div").style,
        zt = {};

    function $t(t) {
        return w.cssProps[t] || zt[t] || (t in Bt ? t : zt[t] = function(t) {
            for (var e = t[0].toUpperCase() + t.slice(1), n = Vt.length; n--;)
                if ((t = Vt[n] + e) in Bt) return t
        }(t) || t)
    }
    var Kt = /^(none|table(?!-c[ea]).+)/,
        Gt = /^--/,
        Yt = {
            position: "absolute",
            visibility: "hidden",
            display: "block"
        },
        Qt = {
            letterSpacing: "0",
            fontWeight: "400"
        };

    function Xt(t, e, n) {
        var i = et.exec(e);
        return i ? Math.max(0, i[2] - (n || 0)) + (i[3] || "px") : e
    }

    function Jt(t, e, n, i, r, o) {
        var s = "width" === e ? 1 : 0,
            a = 0,
            u = 0;
        if (n === (i ? "border" : "content")) return 0;
        for (; s < 4; s += 2) "margin" === n && (u += w.css(t, n + nt[s], !0, r)), i ? ("content" === n && (u -= w.css(t, "padding" + nt[s], !0, r)), "margin" !== n && (u -= w.css(t, "border" + nt[s] + "Width", !0, r))) : (u += w.css(t, "padding" + nt[s], !0, r), "padding" !== n ? u += w.css(t, "border" + nt[s] + "Width", !0, r) : a += w.css(t, "border" + nt[s] + "Width", !0, r));
        return !i && 0 <= o && (u += Math.max(0, Math.ceil(t["offset" + e[0].toUpperCase() + e.slice(1)] - o - u - a - .5)) || 0), u
    }

    function Zt(t, e, n) {
        var i = Ut(t),
            r = (!p.boxSizingReliable() || n) && "border-box" === w.css(t, "boxSizing", !1, i),
            o = r,
            s = qt(t, e, i),
            a = "offset" + e[0].toUpperCase() + e.slice(1);
        if (Ft.test(s)) {
            if (!n) return s;
            s = "auto"
        }
        return (!p.boxSizingReliable() && r || !p.reliableTrDimensions() && S(t, "tr") || "auto" === s || !parseFloat(s) && "inline" === w.css(t, "display", !1, i)) && t.getClientRects().length && (r = "border-box" === w.css(t, "boxSizing", !1, i), (o = a in t) && (s = t[a])), (s = parseFloat(s) || 0) + Jt(t, e, n || (r ? "border" : "content"), o, i, s) + "px"
    }

    function te(t, e, n, i, r) {
        return new te.prototype.init(t, e, n, i, r)
    }
    w.extend({
        cssHooks: {
            opacity: {
                get: function(t, e) {
                    if (e) {
                        var n = qt(t, "opacity");
                        return "" === n ? "1" : n
                    }
                }
            }
        },
        cssNumber: {
            animationIterationCount: !0,
            columnCount: !0,
            fillOpacity: !0,
            flexGrow: !0,
            flexShrink: !0,
            fontWeight: !0,
            gridArea: !0,
            gridColumn: !0,
            gridColumnEnd: !0,
            gridColumnStart: !0,
            gridRow: !0,
            gridRowEnd: !0,
            gridRowStart: !0,
            lineHeight: !0,
            opacity: !0,
            order: !0,
            orphans: !0,
            widows: !0,
            zIndex: !0,
            zoom: !0
        },
        cssProps: {},
        style: function(t, e, n, i) {
            if (t && 3 !== t.nodeType && 8 !== t.nodeType && t.style) {
                var r, o, s, a = $(e),
                    u = Gt.test(e),
                    l = t.style;
                if (u || (e = $t(a)), s = w.cssHooks[e] || w.cssHooks[a], void 0 === n) return s && "get" in s && void 0 !== (r = s.get(t, !1, i)) ? r : l[e];
                "string" == (o = typeof n) && (r = et.exec(n)) && r[1] && (n = at(t, e, r), o = "number"), null != n && n == n && ("number" !== o || u || (n += r && r[3] || (w.cssNumber[a] ? "" : "px")), p.clearCloneStyle || "" !== n || 0 !== e.indexOf("background") || (l[e] = "inherit"), s && "set" in s && void 0 === (n = s.set(t, n, i)) || (u ? l.setProperty(e, n) : l[e] = n))
            }
        },
        css: function(t, e, n, i) {
            var r, o, s, a = $(e);
            return Gt.test(e) || (e = $t(a)), (s = w.cssHooks[e] || w.cssHooks[a]) && "get" in s && (r = s.get(t, !0, n)), void 0 === r && (r = qt(t, e, i)), "normal" === r && e in Qt && (r = Qt[e]), "" === n || n ? (o = parseFloat(r), !0 === n || isFinite(o) ? o || 0 : r) : r
        }
    }), w.each(["height", "width"], (function(t, e) {
        w.cssHooks[e] = {
            get: function(t, n, i) {
                if (n) return !Kt.test(w.css(t, "display")) || t.getClientRects().length && t.getBoundingClientRect().width ? Zt(t, e, i) : jt(t, Yt, (function() {
                    return Zt(t, e, i)
                }))
            },
            set: function(t, n, i) {
                var r, o = Ut(t),
                    s = !p.scrollboxSize() && "absolute" === o.position,
                    a = (s || i) && "border-box" === w.css(t, "boxSizing", !1, o),
                    u = i ? Jt(t, e, i, a, o) : 0;
                return a && s && (u -= Math.ceil(t["offset" + e[0].toUpperCase() + e.slice(1)] - parseFloat(o[e]) - Jt(t, e, "border", !1, o) - .5)), u && (r = et.exec(n)) && "px" !== (r[3] || "px") && (t.style[e] = n, n = w.css(t, e)), Xt(0, n, u)
            }
        }
    })), w.cssHooks.marginLeft = Wt(p.reliableMarginLeft, (function(t, e) {
        if (e) return (parseFloat(qt(t, "marginLeft")) || t.getBoundingClientRect().left - jt(t, {
            marginLeft: 0
        }, (function() {
            return t.getBoundingClientRect().left
        }))) + "px"
    })), w.each({
        margin: "",
        padding: "",
        border: "Width"
    }, (function(t, e) {
        w.cssHooks[t + e] = {
            expand: function(n) {
                for (var i = 0, r = {}, o = "string" == typeof n ? n.split(" ") : [n]; i < 4; i++) r[t + nt[i] + e] = o[i] || o[i - 2] || o[0];
                return r
            }
        }, "margin" !== t && (w.cssHooks[t + e].set = Xt)
    })), w.fn.extend({
        css: function(t, e) {
            return W(this, (function(t, e, n) {
                var i, r, o = {},
                    s = 0;
                if (Array.isArray(e)) {
                    for (i = Ut(t), r = e.length; s < r; s++) o[e[s]] = w.css(t, e[s], !1, i);
                    return o
                }
                return void 0 !== n ? w.style(t, e, n) : w.css(t, e)
            }), t, e, 1 < arguments.length)
        }
    }), ((w.Tween = te).prototype = {
        constructor: te,
        init: function(t, e, n, i, r, o) {
            this.elem = t, this.prop = n, this.easing = r || w.easing._default, this.options = e, this.start = this.now = this.cur(), this.end = i, this.unit = o || (w.cssNumber[n] ? "" : "px")
        },
        cur: function() {
            var t = te.propHooks[this.prop];
            return t && t.get ? t.get(this) : te.propHooks._default.get(this)
        },
        run: function(t) {
            var e, n = te.propHooks[this.prop];
            return this.options.duration ? this.pos = e = w.easing[this.easing](t, this.options.duration * t, 0, 1, this.options.duration) : this.pos = e = t, this.now = (this.end - this.start) * e + this.start, this.options.step && this.options.step.call(this.elem, this.now, this), n && n.set ? n.set(this) : te.propHooks._default.set(this), this
        }
    }).init.prototype = te.prototype, (te.propHooks = {
        _default: {
            get: function(t) {
                var e;
                return 1 !== t.elem.nodeType || null != t.elem[t.prop] && null == t.elem.style[t.prop] ? t.elem[t.prop] : (e = w.css(t.elem, t.prop, "")) && "auto" !== e ? e : 0
            },
            set: function(t) {
                w.fx.step[t.prop] ? w.fx.step[t.prop](t) : 1 !== t.elem.nodeType || !w.cssHooks[t.prop] && null == t.elem.style[$t(t.prop)] ? t.elem[t.prop] = t.now : w.style(t.elem, t.prop, t.now + t.unit)
            }
        }
    }).scrollTop = te.propHooks.scrollLeft = {
        set: function(t) {
            t.elem.nodeType && t.elem.parentNode && (t.elem[t.prop] = t.now)
        }
    }, w.easing = {
        linear: function(t) {
            return t
        },
        swing: function(t) {
            return .5 - Math.cos(t * Math.PI) / 2
        },
        _default: "swing"
    }, w.fx = te.prototype.init, w.fx.step = {};
    var ee, ne, ie, re, oe = /^(?:toggle|show|hide)$/,
        se = /queueHooks$/;

    function ae() {
        ne && (!1 === v.hidden && t.requestAnimationFrame ? t.requestAnimationFrame(ae) : t.setTimeout(ae, w.fx.interval), w.fx.tick())
    }

    function ue() {
        return t.setTimeout((function() {
            ee = void 0
        })), ee = Date.now()
    }

    function le(t, e) {
        var n, i = 0,
            r = {
                height: t
            };
        for (e = e ? 1 : 0; i < 4; i += 2 - e) r["margin" + (n = nt[i])] = r["padding" + n] = t;
        return e && (r.opacity = r.width = t), r
    }

    function he(t, e, n) {
        for (var i, r = (ce.tweeners[e] || []).concat(ce.tweeners["*"]), o = 0, s = r.length; o < s; o++)
            if (i = r[o].call(n, e, t)) return i
    }

    function ce(t, e, n) {
        var i, r, o = 0,
            s = ce.prefilters.length,
            a = w.Deferred().always((function() {
                delete u.elem
            })),
            u = function() {
                if (r) return !1;
                for (var e = ee || ue(), n = Math.max(0, l.startTime + l.duration - e), i = 1 - (n / l.duration || 0), o = 0, s = l.tweens.length; o < s; o++) l.tweens[o].run(i);
                return a.notifyWith(t, [l, i, n]), i < 1 && s ? n : (s || a.notifyWith(t, [l, 1, 0]), a.resolveWith(t, [l]), !1)
            },
            l = a.promise({
                elem: t,
                props: w.extend({}, e),
                opts: w.extend(!0, {
                    specialEasing: {},
                    easing: w.easing._default
                }, n),
                originalProperties: e,
                originalOptions: n,
                startTime: ee || ue(),
                duration: n.duration,
                tweens: [],
                createTween: function(e, n) {
                    var i = w.Tween(t, l.opts, e, n, l.opts.specialEasing[e] || l.opts.easing);
                    return l.tweens.push(i), i
                },
                stop: function(e) {
                    var n = 0,
                        i = e ? l.tweens.length : 0;
                    if (r) return this;
                    for (r = !0; n < i; n++) l.tweens[n].run(1);
                    return e ? (a.notifyWith(t, [l, 1, 0]), a.resolveWith(t, [l, e])) : a.rejectWith(t, [l, e]), this
                }
            }),
            h = l.props;
        for (function(t, e) {
                var n, i, r, o, s;
                for (n in t)
                    if (r = e[i = $(n)], o = t[n], Array.isArray(o) && (r = o[1], o = t[n] = o[0]), n !== i && (t[i] = o, delete t[n]), (s = w.cssHooks[i]) && "expand" in s)
                        for (n in o = s.expand(o), delete t[i], o) n in t || (t[n] = o[n], e[n] = r);
                    else e[i] = r
            }(h, l.opts.specialEasing); o < s; o++)
            if (i = ce.prefilters[o].call(l, t, h, l.opts)) return f(i.stop) && (w._queueHooks(l.elem, l.opts.queue).stop = i.stop.bind(i)), i;
        return w.map(h, he, l), f(l.opts.start) && l.opts.start.call(t, l), l.progress(l.opts.progress).done(l.opts.done, l.opts.complete).fail(l.opts.fail).always(l.opts.always), w.fx.timer(w.extend(u, {
            elem: t,
            anim: l,
            queue: l.opts.queue
        })), l
    }
    w.Animation = w.extend(ce, {
        tweeners: {
            "*": [function(t, e) {
                var n = this.createTween(t, e);
                return at(n.elem, t, et.exec(e), n), n
            }]
        },
        tweener: function(t, e) {
            f(t) ? (e = t, t = ["*"]) : t = t.match(L);
            for (var n, i = 0, r = t.length; i < r; i++) n = t[i], ce.tweeners[n] = ce.tweeners[n] || [], ce.tweeners[n].unshift(e)
        },
        prefilters: [function(t, e, n) {
            var i, r, o, s, a, u, l, h, c = "width" in e || "height" in e,
                d = this,
                p = {},
                f = t.style,
                g = t.nodeType && st(t),
                v = Y.get(t, "fxshow");
            for (i in n.queue || (null == (s = w._queueHooks(t, "fx")).unqueued && (s.unqueued = 0, a = s.empty.fire, s.empty.fire = function() {
                    s.unqueued || a()
                }), s.unqueued++, d.always((function() {
                    d.always((function() {
                        s.unqueued--, w.queue(t, "fx").length || s.empty.fire()
                    }))
                }))), e)
                if (r = e[i], oe.test(r)) {
                    if (delete e[i], o = o || "toggle" === r, r === (g ? "hide" : "show")) {
                        if ("show" !== r || !v || void 0 === v[i]) continue;
                        g = !0
                    }
                    p[i] = v && v[i] || w.style(t, i)
                } if ((u = !w.isEmptyObject(e)) || !w.isEmptyObject(p))
                for (i in c && 1 === t.nodeType && (n.overflow = [f.overflow, f.overflowX, f.overflowY], null == (l = v && v.display) && (l = Y.get(t, "display")), "none" === (h = w.css(t, "display")) && (l ? h = l : (lt([t], !0), l = t.style.display || l, h = w.css(t, "display"), lt([t]))), ("inline" === h || "inline-block" === h && null != l) && "none" === w.css(t, "float") && (u || (d.done((function() {
                        f.display = l
                    })), null == l && (h = f.display, l = "none" === h ? "" : h)), f.display = "inline-block")), n.overflow && (f.overflow = "hidden", d.always((function() {
                        f.overflow = n.overflow[0], f.overflowX = n.overflow[1], f.overflowY = n.overflow[2]
                    }))), u = !1, p) u || (v ? "hidden" in v && (g = v.hidden) : v = Y.access(t, "fxshow", {
                    display: l
                }), o && (v.hidden = !g), g && lt([t], !0), d.done((function() {
                    for (i in g || lt([t]), Y.remove(t, "fxshow"), p) w.style(t, i, p[i])
                }))), u = he(g ? v[i] : 0, i, d), i in v || (v[i] = u.start, g && (u.end = u.start, u.start = 0))
        }],
        prefilter: function(t, e) {
            e ? ce.prefilters.unshift(t) : ce.prefilters.push(t)
        }
    }), w.speed = function(t, e, n) {
        var i = t && "object" == typeof t ? w.extend({}, t) : {
            complete: n || !n && e || f(t) && t,
            duration: t,
            easing: n && e || e && !f(e) && e
        };
        return w.fx.off ? i.duration = 0 : "number" != typeof i.duration && (i.duration in w.fx.speeds ? i.duration = w.fx.speeds[i.duration] : i.duration = w.fx.speeds._default), null != i.queue && !0 !== i.queue || (i.queue = "fx"), i.old = i.complete, i.complete = function() {
            f(i.old) && i.old.call(this), i.queue && w.dequeue(this, i.queue)
        }, i
    }, w.fn.extend({
        fadeTo: function(t, e, n, i) {
            return this.filter(st).css("opacity", 0).show().end().animate({
                opacity: e
            }, t, n, i)
        },
        animate: function(t, e, n, i) {
            var r = w.isEmptyObject(t),
                o = w.speed(e, n, i),
                s = function() {
                    var e = ce(this, w.extend({}, t), o);
                    (r || Y.get(this, "finish")) && e.stop(!0)
                };
            return s.finish = s, r || !1 === o.queue ? this.each(s) : this.queue(o.queue, s)
        },
        stop: function(t, e, n) {
            var i = function(t) {
                var e = t.stop;
                delete t.stop, e(n)
            };
            return "string" != typeof t && (n = e, e = t, t = void 0), e && this.queue(t || "fx", []), this.each((function() {
                var e = !0,
                    r = null != t && t + "queueHooks",
                    o = w.timers,
                    s = Y.get(this);
                if (r) s[r] && s[r].stop && i(s[r]);
                else
                    for (r in s) s[r] && s[r].stop && se.test(r) && i(s[r]);
                for (r = o.length; r--;) o[r].elem !== this || null != t && o[r].queue !== t || (o[r].anim.stop(n), e = !1, o.splice(r, 1));
                !e && n || w.dequeue(this, t)
            }))
        },
        finish: function(t) {
            return !1 !== t && (t = t || "fx"), this.each((function() {
                var e, n = Y.get(this),
                    i = n[t + "queue"],
                    r = n[t + "queueHooks"],
                    o = w.timers,
                    s = i ? i.length : 0;
                for (n.finish = !0, w.queue(this, t, []), r && r.stop && r.stop.call(this, !0), e = o.length; e--;) o[e].elem === this && o[e].queue === t && (o[e].anim.stop(!0), o.splice(e, 1));
                for (e = 0; e < s; e++) i[e] && i[e].finish && i[e].finish.call(this);
                delete n.finish
            }))
        }
    }), w.each(["toggle", "show", "hide"], (function(t, e) {
        var n = w.fn[e];
        w.fn[e] = function(t, i, r) {
            return null == t || "boolean" == typeof t ? n.apply(this, arguments) : this.animate(le(e, !0), t, i, r)
        }
    })), w.each({
        slideDown: le("show"),
        slideUp: le("hide"),
        slideToggle: le("toggle"),
        fadeIn: {
            opacity: "show"
        },
        fadeOut: {
            opacity: "hide"
        },
        fadeToggle: {
            opacity: "toggle"
        }
    }, (function(t, e) {
        w.fn[t] = function(t, n, i) {
            return this.animate(e, t, n, i)
        }
    })), w.timers = [], w.fx.tick = function() {
        var t, e = 0,
            n = w.timers;
        for (ee = Date.now(); e < n.length; e++)(t = n[e])() || n[e] !== t || n.splice(e--, 1);
        n.length || w.fx.stop(), ee = void 0
    }, w.fx.timer = function(t) {
        w.timers.push(t), w.fx.start()
    }, w.fx.interval = 13, w.fx.start = function() {
        ne || (ne = !0, ae())
    }, w.fx.stop = function() {
        ne = null
    }, w.fx.speeds = {
        slow: 600,
        fast: 200,
        _default: 400
    }, w.fn.delay = function(e, n) {
        return e = w.fx && w.fx.speeds[e] || e, n = n || "fx", this.queue(n, (function(n, i) {
            var r = t.setTimeout(n, e);
            i.stop = function() {
                t.clearTimeout(r)
            }
        }))
    }, ie = v.createElement("input"), re = v.createElement("select").appendChild(v.createElement("option")), ie.type = "checkbox", p.checkOn = "" !== ie.value, p.optSelected = re.selected, (ie = v.createElement("input")).value = "t", ie.type = "radio", p.radioValue = "t" === ie.value;
    var de, pe = w.expr.attrHandle;
    w.fn.extend({
        attr: function(t, e) {
            return W(this, w.attr, t, e, 1 < arguments.length)
        },
        removeAttr: function(t) {
            return this.each((function() {
                w.removeAttr(this, t)
            }))
        }
    }), w.extend({
        attr: function(t, e, n) {
            var i, r, o = t.nodeType;
            if (3 !== o && 8 !== o && 2 !== o) return void 0 === t.getAttribute ? w.prop(t, e, n) : (1 === o && w.isXMLDoc(t) || (r = w.attrHooks[e.toLowerCase()] || (w.expr.match.bool.test(e) ? de : void 0)), void 0 !== n ? null === n ? void w.removeAttr(t, e) : r && "set" in r && void 0 !== (i = r.set(t, n, e)) ? i : (t.setAttribute(e, n + ""), n) : r && "get" in r && null !== (i = r.get(t, e)) ? i : null == (i = w.find.attr(t, e)) ? void 0 : i)
        },
        attrHooks: {
            type: {
                set: function(t, e) {
                    if (!p.radioValue && "radio" === e && S(t, "input")) {
                        var n = t.value;
                        return t.setAttribute("type", e), n && (t.value = n), e
                    }
                }
            }
        },
        removeAttr: function(t, e) {
            var n, i = 0,
                r = e && e.match(L);
            if (r && 1 === t.nodeType)
                for (; n = r[i++];) t.removeAttribute(n)
        }
    }), de = {
        set: function(t, e, n) {
            return !1 === e ? w.removeAttr(t, n) : t.setAttribute(n, n), n
        }
    }, w.each(w.expr.match.bool.source.match(/\w+/g), (function(t, e) {
        var n = pe[e] || w.find.attr;
        pe[e] = function(t, e, i) {
            var r, o, s = e.toLowerCase();
            return i || (o = pe[s], pe[s] = r, r = null != n(t, e, i) ? s : null, pe[s] = o), r
        }
    }));
    var fe = /^(?:input|select|textarea|button)$/i,
        ge = /^(?:a|area)$/i;

    function ve(t) {
        return (t.match(L) || []).join(" ")
    }

    function me(t) {
        return t.getAttribute && t.getAttribute("class") || ""
    }

    function ye(t) {
        return Array.isArray(t) ? t : "string" == typeof t && t.match(L) || []
    }
    w.fn.extend({
        prop: function(t, e) {
            return W(this, w.prop, t, e, 1 < arguments.length)
        },
        removeProp: function(t) {
            return this.each((function() {
                delete this[w.propFix[t] || t]
            }))
        }
    }), w.extend({
        prop: function(t, e, n) {
            var i, r, o = t.nodeType;
            if (3 !== o && 8 !== o && 2 !== o) return 1 === o && w.isXMLDoc(t) || (e = w.propFix[e] || e, r = w.propHooks[e]), void 0 !== n ? r && "set" in r && void 0 !== (i = r.set(t, n, e)) ? i : t[e] = n : r && "get" in r && null !== (i = r.get(t, e)) ? i : t[e]
        },
        propHooks: {
            tabIndex: {
                get: function(t) {
                    var e = w.find.attr(t, "tabindex");
                    return e ? parseInt(e, 10) : fe.test(t.nodeName) || ge.test(t.nodeName) && t.href ? 0 : -1
                }
            }
        },
        propFix: {
            for: "htmlFor",
            class: "className"
        }
    }), p.optSelected || (w.propHooks.selected = {
        get: function(t) {
            var e = t.parentNode;
            return e && e.parentNode && e.parentNode.selectedIndex, null
        },
        set: function(t) {
            var e = t.parentNode;
            e && (e.selectedIndex, e.parentNode && e.parentNode.selectedIndex)
        }
    }), w.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], (function() {
        w.propFix[this.toLowerCase()] = this
    })), w.fn.extend({
        addClass: function(t) {
            var e, n, i, r, o, s, a, u = 0;
            if (f(t)) return this.each((function(e) {
                w(this).addClass(t.call(this, e, me(this)))
            }));
            if ((e = ye(t)).length)
                for (; n = this[u++];)
                    if (r = me(n), i = 1 === n.nodeType && " " + ve(r) + " ") {
                        for (s = 0; o = e[s++];) i.indexOf(" " + o + " ") < 0 && (i += o + " ");
                        r !== (a = ve(i)) && n.setAttribute("class", a)
                    } return this
        },
        removeClass: function(t) {
            var e, n, i, r, o, s, a, u = 0;
            if (f(t)) return this.each((function(e) {
                w(this).removeClass(t.call(this, e, me(this)))
            }));
            if (!arguments.length) return this.attr("class", "");
            if ((e = ye(t)).length)
                for (; n = this[u++];)
                    if (r = me(n), i = 1 === n.nodeType && " " + ve(r) + " ") {
                        for (s = 0; o = e[s++];)
                            for (; - 1 < i.indexOf(" " + o + " ");) i = i.replace(" " + o + " ", " ");
                        r !== (a = ve(i)) && n.setAttribute("class", a)
                    } return this
        },
        toggleClass: function(t, e) {
            var n = typeof t,
                i = "string" === n || Array.isArray(t);
            return "boolean" == typeof e && i ? e ? this.addClass(t) : this.removeClass(t) : f(t) ? this.each((function(n) {
                w(this).toggleClass(t.call(this, n, me(this), e), e)
            })) : this.each((function() {
                var e, r, o, s;
                if (i)
                    for (r = 0, o = w(this), s = ye(t); e = s[r++];) o.hasClass(e) ? o.removeClass(e) : o.addClass(e);
                else void 0 !== t && "boolean" !== n || ((e = me(this)) && Y.set(this, "__className__", e), this.setAttribute && this.setAttribute("class", e || !1 === t ? "" : Y.get(this, "__className__") || ""))
            }))
        },
        hasClass: function(t) {
            var e, n, i = 0;
            for (e = " " + t + " "; n = this[i++];)
                if (1 === n.nodeType && -1 < (" " + ve(me(n)) + " ").indexOf(e)) return !0;
            return !1
        }
    });
    var _e = /\r/g;
    w.fn.extend({
        val: function(t) {
            var e, n, i, r = this[0];
            return arguments.length ? (i = f(t), this.each((function(n) {
                var r;
                1 === this.nodeType && (null == (r = i ? t.call(this, n, w(this).val()) : t) ? r = "" : "number" == typeof r ? r += "" : Array.isArray(r) && (r = w.map(r, (function(t) {
                    return null == t ? "" : t + ""
                }))), (e = w.valHooks[this.type] || w.valHooks[this.nodeName.toLowerCase()]) && "set" in e && void 0 !== e.set(this, r, "value") || (this.value = r))
            }))) : r ? (e = w.valHooks[r.type] || w.valHooks[r.nodeName.toLowerCase()]) && "get" in e && void 0 !== (n = e.get(r, "value")) ? n : "string" == typeof(n = r.value) ? n.replace(_e, "") : null == n ? "" : n : void 0
        }
    }), w.extend({
        valHooks: {
            option: {
                get: function(t) {
                    var e = w.find.attr(t, "value");
                    return null != e ? e : ve(w.text(t))
                }
            },
            select: {
                get: function(t) {
                    var e, n, i, r = t.options,
                        o = t.selectedIndex,
                        s = "select-one" === t.type,
                        a = s ? null : [],
                        u = s ? o + 1 : r.length;
                    for (i = o < 0 ? u : s ? o : 0; i < u; i++)
                        if (((n = r[i]).selected || i === o) && !n.disabled && (!n.parentNode.disabled || !S(n.parentNode, "optgroup"))) {
                            if (e = w(n).val(), s) return e;
                            a.push(e)
                        } return a
                },
                set: function(t, e) {
                    for (var n, i, r = t.options, o = w.makeArray(e), s = r.length; s--;)((i = r[s]).selected = -1 < w.inArray(w.valHooks.option.get(i), o)) && (n = !0);
                    return n || (t.selectedIndex = -1), o
                }
            }
        }
    }), w.each(["radio", "checkbox"], (function() {
        w.valHooks[this] = {
            set: function(t, e) {
                if (Array.isArray(e)) return t.checked = -1 < w.inArray(w(t).val(), e)
            }
        }, p.checkOn || (w.valHooks[this].get = function(t) {
            return null === t.getAttribute("value") ? "on" : t.value
        })
    })), p.focusin = "onfocusin" in t;
    var be = /^(?:focusinfocus|focusoutblur)$/,
        we = function(t) {
            t.stopPropagation()
        };
    w.extend(w.event, {
        trigger: function(e, n, i, r) {
            var o, s, a, u, l, c, d, p, m = [i || v],
                y = h.call(e, "type") ? e.type : e,
                _ = h.call(e, "namespace") ? e.namespace.split(".") : [];
            if (s = p = a = i = i || v, 3 !== i.nodeType && 8 !== i.nodeType && !be.test(y + w.event.triggered) && (-1 < y.indexOf(".") && (y = (_ = y.split(".")).shift(), _.sort()), l = y.indexOf(":") < 0 && "on" + y, (e = e[w.expando] ? e : new w.Event(y, "object" == typeof e && e)).isTrigger = r ? 2 : 3, e.namespace = _.join("."), e.rnamespace = e.namespace ? new RegExp("(^|\\.)" + _.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, e.result = void 0, e.target || (e.target = i), n = null == n ? [e] : w.makeArray(n, [e]), d = w.event.special[y] || {}, r || !d.trigger || !1 !== d.trigger.apply(i, n))) {
                if (!r && !d.noBubble && !g(i)) {
                    for (u = d.delegateType || y, be.test(u + y) || (s = s.parentNode); s; s = s.parentNode) m.push(s), a = s;
                    a === (i.ownerDocument || v) && m.push(a.defaultView || a.parentWindow || t)
                }
                for (o = 0;
                    (s = m[o++]) && !e.isPropagationStopped();) p = s, e.type = 1 < o ? u : d.bindType || y, (c = (Y.get(s, "events") || Object.create(null))[e.type] && Y.get(s, "handle")) && c.apply(s, n), (c = l && s[l]) && c.apply && K(s) && (e.result = c.apply(s, n), !1 === e.result && e.preventDefault());
                return e.type = y, r || e.isDefaultPrevented() || d._default && !1 !== d._default.apply(m.pop(), n) || !K(i) || l && f(i[y]) && !g(i) && ((a = i[l]) && (i[l] = null), w.event.triggered = y, e.isPropagationStopped() && p.addEventListener(y, we), i[y](), e.isPropagationStopped() && p.removeEventListener(y, we), w.event.triggered = void 0, a && (i[l] = a)), e.result
            }
        },
        simulate: function(t, e, n) {
            var i = w.extend(new w.Event, n, {
                type: t,
                isSimulated: !0
            });
            w.event.trigger(i, null, e)
        }
    }), w.fn.extend({
        trigger: function(t, e) {
            return this.each((function() {
                w.event.trigger(t, e, this)
            }))
        },
        triggerHandler: function(t, e) {
            var n = this[0];
            if (n) return w.event.trigger(t, e, n, !0)
        }
    }), p.focusin || w.each({
        focus: "focusin",
        blur: "focusout"
    }, (function(t, e) {
        var n = function(t) {
            w.event.simulate(e, t.target, w.event.fix(t))
        };
        w.event.special[e] = {
            setup: function() {
                var i = this.ownerDocument || this.document || this,
                    r = Y.access(i, e);
                r || i.addEventListener(t, n, !0), Y.access(i, e, (r || 0) + 1)
            },
            teardown: function() {
                var i = this.ownerDocument || this.document || this,
                    r = Y.access(i, e) - 1;
                r ? Y.access(i, e, r) : (i.removeEventListener(t, n, !0), Y.remove(i, e))
            }
        }
    }));
    var Ee = t.location,
        Ie = {
            guid: Date.now()
        },
        Te = /\?/;
    w.parseXML = function(e) {
        var n;
        if (!e || "string" != typeof e) return null;
        try {
            n = (new t.DOMParser).parseFromString(e, "text/xml")
        } catch (e) {
            n = void 0
        }
        return n && !n.getElementsByTagName("parsererror").length || w.error("Invalid XML: " + e), n
    };
    var Ce = /\[\]$/,
        ke = /\r?\n/g,
        Se = /^(?:submit|button|image|reset|file)$/i,
        xe = /^(?:input|select|textarea|keygen)/i;

    function De(t, e, n, i) {
        var r;
        if (Array.isArray(e)) w.each(e, (function(e, r) {
            n || Ce.test(t) ? i(t, r) : De(t + "[" + ("object" == typeof r && null != r ? e : "") + "]", r, n, i)
        }));
        else if (n || "object" !== _(e)) i(t, e);
        else
            for (r in e) De(t + "[" + r + "]", e[r], n, i)
    }
    w.param = function(t, e) {
        var n, i = [],
            r = function(t, e) {
                var n = f(e) ? e() : e;
                i[i.length] = encodeURIComponent(t) + "=" + encodeURIComponent(null == n ? "" : n)
            };
        if (null == t) return "";
        if (Array.isArray(t) || t.jquery && !w.isPlainObject(t)) w.each(t, (function() {
            r(this.name, this.value)
        }));
        else
            for (n in t) De(n, t[n], e, r);
        return i.join("&")
    }, w.fn.extend({
        serialize: function() {
            return w.param(this.serializeArray())
        },
        serializeArray: function() {
            return this.map((function() {
                var t = w.prop(this, "elements");
                return t ? w.makeArray(t) : this
            })).filter((function() {
                var t = this.type;
                return this.name && !w(this).is(":disabled") && xe.test(this.nodeName) && !Se.test(t) && (this.checked || !dt.test(t))
            })).map((function(t, e) {
                var n = w(this).val();
                return null == n ? null : Array.isArray(n) ? w.map(n, (function(t) {
                    return {
                        name: e.name,
                        value: t.replace(ke, "\r\n")
                    }
                })) : {
                    name: e.name,
                    value: n.replace(ke, "\r\n")
                }
            })).get()
        }
    });
    var Ne = /%20/g,
        Ae = /#.*$/,
        Pe = /([?&])_=[^&]*/,
        Oe = /^(.*?):[ \t]*([^\r\n]*)$/gm,
        Re = /^(?:GET|HEAD)$/,
        Le = /^\/\//,
        Me = {},
        Fe = {},
        Ue = "*/".concat("*"),
        je = v.createElement("a");

    function He(t) {
        return function(e, n) {
            "string" != typeof e && (n = e, e = "*");
            var i, r = 0,
                o = e.toLowerCase().match(L) || [];
            if (f(n))
                for (; i = o[r++];) "+" === i[0] ? (i = i.slice(1) || "*", (t[i] = t[i] || []).unshift(n)) : (t[i] = t[i] || []).push(n)
        }
    }

    function qe(t, e, n, i) {
        var r = {},
            o = t === Fe;

        function s(a) {
            var u;
            return r[a] = !0, w.each(t[a] || [], (function(t, a) {
                var l = a(e, n, i);
                return "string" != typeof l || o || r[l] ? o ? !(u = l) : void 0 : (e.dataTypes.unshift(l), s(l), !1)
            })), u
        }
        return s(e.dataTypes[0]) || !r["*"] && s("*")
    }

    function We(t, e) {
        var n, i, r = w.ajaxSettings.flatOptions || {};
        for (n in e) void 0 !== e[n] && ((r[n] ? t : i || (i = {}))[n] = e[n]);
        return i && w.extend(!0, t, i), t
    }
    je.href = Ee.href, w.extend({
        active: 0,
        lastModified: {},
        etag: {},
        ajaxSettings: {
            url: Ee.href,
            type: "GET",
            isLocal: /^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ee.protocol),
            global: !0,
            processData: !0,
            async: !0,
            contentType: "application/x-www-form-urlencoded; charset=UTF-8",
            accepts: {
                "*": Ue,
                text: "text/plain",
                html: "text/html",
                xml: "application/xml, text/xml",
                json: "application/json, text/javascript"
            },
            contents: {
                xml: /\bxml\b/,
                html: /\bhtml/,
                json: /\bjson\b/
            },
            responseFields: {
                xml: "responseXML",
                text: "responseText",
                json: "responseJSON"
            },
            converters: {
                "* text": String,
                "text html": !0,
                "text json": JSON.parse,
                "text xml": w.parseXML
            },
            flatOptions: {
                url: !0,
                context: !0
            }
        },
        ajaxSetup: function(t, e) {
            return e ? We(We(t, w.ajaxSettings), e) : We(w.ajaxSettings, t)
        },
        ajaxPrefilter: He(Me),
        ajaxTransport: He(Fe),
        ajax: function(e, n) {
            "object" == typeof e && (n = e, e = void 0), n = n || {};
            var i, r, o, s, a, u, l, h, c, d, p = w.ajaxSetup({}, n),
                f = p.context || p,
                g = p.context && (f.nodeType || f.jquery) ? w(f) : w.event,
                m = w.Deferred(),
                y = w.Callbacks("once memory"),
                _ = p.statusCode || {},
                b = {},
                E = {},
                I = "canceled",
                T = {
                    readyState: 0,
                    getResponseHeader: function(t) {
                        var e;
                        if (l) {
                            if (!s)
                                for (s = {}; e = Oe.exec(o);) s[e[1].toLowerCase() + " "] = (s[e[1].toLowerCase() + " "] || []).concat(e[2]);
                            e = s[t.toLowerCase() + " "]
                        }
                        return null == e ? null : e.join(", ")
                    },
                    getAllResponseHeaders: function() {
                        return l ? o : null
                    },
                    setRequestHeader: function(t, e) {
                        return null == l && (t = E[t.toLowerCase()] = E[t.toLowerCase()] || t, b[t] = e), this
                    },
                    overrideMimeType: function(t) {
                        return null == l && (p.mimeType = t), this
                    },
                    statusCode: function(t) {
                        var e;
                        if (t)
                            if (l) T.always(t[T.status]);
                            else
                                for (e in t) _[e] = [_[e], t[e]];
                        return this
                    },
                    abort: function(t) {
                        var e = t || I;
                        return i && i.abort(e), C(0, e), this
                    }
                };
            if (m.promise(T), p.url = ((e || p.url || Ee.href) + "").replace(Le, Ee.protocol + "//"), p.type = n.method || n.type || p.method || p.type, p.dataTypes = (p.dataType || "*").toLowerCase().match(L) || [""], null == p.crossDomain) {
                u = v.createElement("a");
                try {
                    u.href = p.url, u.href = u.href, p.crossDomain = je.protocol + "//" + je.host != u.protocol + "//" + u.host
                } catch (e) {
                    p.crossDomain = !0
                }
            }
            if (p.data && p.processData && "string" != typeof p.data && (p.data = w.param(p.data, p.traditional)), qe(Me, p, n, T), l) return T;
            for (c in (h = w.event && p.global) && 0 == w.active++ && w.event.trigger("ajaxStart"), p.type = p.type.toUpperCase(), p.hasContent = !Re.test(p.type), r = p.url.replace(Ae, ""), p.hasContent ? p.data && p.processData && 0 === (p.contentType || "").indexOf("application/x-www-form-urlencoded") && (p.data = p.data.replace(Ne, "+")) : (d = p.url.slice(r.length), p.data && (p.processData || "string" == typeof p.data) && (r += (Te.test(r) ? "&" : "?") + p.data, delete p.data), !1 === p.cache && (r = r.replace(Pe, "$1"), d = (Te.test(r) ? "&" : "?") + "_=" + Ie.guid++ + d), p.url = r + d), p.ifModified && (w.lastModified[r] && T.setRequestHeader("If-Modified-Since", w.lastModified[r]), w.etag[r] && T.setRequestHeader("If-None-Match", w.etag[r])), (p.data && p.hasContent && !1 !== p.contentType || n.contentType) && T.setRequestHeader("Content-Type", p.contentType), T.setRequestHeader("Accept", p.dataTypes[0] && p.accepts[p.dataTypes[0]] ? p.accepts[p.dataTypes[0]] + ("*" !== p.dataTypes[0] ? ", " + Ue + "; q=0.01" : "") : p.accepts["*"]), p.headers) T.setRequestHeader(c, p.headers[c]);
            if (p.beforeSend && (!1 === p.beforeSend.call(f, T, p) || l)) return T.abort();
            if (I = "abort", y.add(p.complete), T.done(p.success), T.fail(p.error), i = qe(Fe, p, n, T)) {
                if (T.readyState = 1, h && g.trigger("ajaxSend", [T, p]), l) return T;
                p.async && 0 < p.timeout && (a = t.setTimeout((function() {
                    T.abort("timeout")
                }), p.timeout));
                try {
                    l = !1, i.send(b, C)
                } catch (e) {
                    if (l) throw e;
                    C(-1, e)
                }
            } else C(-1, "No Transport");

            function C(e, n, s, u) {
                var c, d, v, b, E, I = n;
                l || (l = !0, a && t.clearTimeout(a), i = void 0, o = u || "", T.readyState = 0 < e ? 4 : 0, c = 200 <= e && e < 300 || 304 === e, s && (b = function(t, e, n) {
                    for (var i, r, o, s, a = t.contents, u = t.dataTypes;
                        "*" === u[0];) u.shift(), void 0 === i && (i = t.mimeType || e.getResponseHeader("Content-Type"));
                    if (i)
                        for (r in a)
                            if (a[r] && a[r].test(i)) {
                                u.unshift(r);
                                break
                            } if (u[0] in n) o = u[0];
                    else {
                        for (r in n) {
                            if (!u[0] || t.converters[r + " " + u[0]]) {
                                o = r;
                                break
                            }
                            s || (s = r)
                        }
                        o = o || s
                    }
                    if (o) return o !== u[0] && u.unshift(o), n[o]
                }(p, T, s)), !c && -1 < w.inArray("script", p.dataTypes) && (p.converters["text script"] = function() {}), b = function(t, e, n, i) {
                    var r, o, s, a, u, l = {},
                        h = t.dataTypes.slice();
                    if (h[1])
                        for (s in t.converters) l[s.toLowerCase()] = t.converters[s];
                    for (o = h.shift(); o;)
                        if (t.responseFields[o] && (n[t.responseFields[o]] = e), !u && i && t.dataFilter && (e = t.dataFilter(e, t.dataType)), u = o, o = h.shift())
                            if ("*" === o) o = u;
                            else if ("*" !== u && u !== o) {
                        if (!(s = l[u + " " + o] || l["* " + o]))
                            for (r in l)
                                if ((a = r.split(" "))[1] === o && (s = l[u + " " + a[0]] || l["* " + a[0]])) {
                                    !0 === s ? s = l[r] : !0 !== l[r] && (o = a[0], h.unshift(a[1]));
                                    break
                                } if (!0 !== s)
                            if (s && t.throws) e = s(e);
                            else try {
                                e = s(e)
                            } catch (t) {
                                return {
                                    state: "parsererror",
                                    error: s ? t : "No conversion from " + u + " to " + o
                                }
                            }
                    }
                    return {
                        state: "success",
                        data: e
                    }
                }(p, b, T, c), c ? (p.ifModified && ((E = T.getResponseHeader("Last-Modified")) && (w.lastModified[r] = E), (E = T.getResponseHeader("etag")) && (w.etag[r] = E)), 204 === e || "HEAD" === p.type ? I = "nocontent" : 304 === e ? I = "notmodified" : (I = b.state, d = b.data, c = !(v = b.error))) : (v = I, !e && I || (I = "error", e < 0 && (e = 0))), T.status = e, T.statusText = (n || I) + "", c ? m.resolveWith(f, [d, I, T]) : m.rejectWith(f, [T, I, v]), T.statusCode(_), _ = void 0, h && g.trigger(c ? "ajaxSuccess" : "ajaxError", [T, p, c ? d : v]), y.fireWith(f, [T, I]), h && (g.trigger("ajaxComplete", [T, p]), --w.active || w.event.trigger("ajaxStop")))
            }
            return T
        },
        getJSON: function(t, e, n) {
            return w.get(t, e, n, "json")
        },
        getScript: function(t, e) {
            return w.get(t, void 0, e, "script")
        }
    }), w.each(["get", "post"], (function(t, e) {
        w[e] = function(t, n, i, r) {
            return f(n) && (r = r || i, i = n, n = void 0), w.ajax(w.extend({
                url: t,
                type: e,
                dataType: r,
                data: n,
                success: i
            }, w.isPlainObject(t) && t))
        }
    })), w.ajaxPrefilter((function(t) {
        var e;
        for (e in t.headers) "content-type" === e.toLowerCase() && (t.contentType = t.headers[e] || "")
    })), w._evalUrl = function(t, e, n) {
        return w.ajax({
            url: t,
            type: "GET",
            dataType: "script",
            cache: !0,
            async: !1,
            global: !1,
            converters: {
                "text script": function() {}
            },
            dataFilter: function(t) {
                w.globalEval(t, e, n)
            }
        })
    }, w.fn.extend({
        wrapAll: function(t) {
            var e;
            return this[0] && (f(t) && (t = t.call(this[0])), e = w(t, this[0].ownerDocument).eq(0).clone(!0), this[0].parentNode && e.insertBefore(this[0]), e.map((function() {
                for (var t = this; t.firstElementChild;) t = t.firstElementChild;
                return t
            })).append(this)), this
        },
        wrapInner: function(t) {
            return f(t) ? this.each((function(e) {
                w(this).wrapInner(t.call(this, e))
            })) : this.each((function() {
                var e = w(this),
                    n = e.contents();
                n.length ? n.wrapAll(t) : e.append(t)
            }))
        },
        wrap: function(t) {
            var e = f(t);
            return this.each((function(n) {
                w(this).wrapAll(e ? t.call(this, n) : t)
            }))
        },
        unwrap: function(t) {
            return this.parent(t).not("body").each((function() {
                w(this).replaceWith(this.childNodes)
            })), this
        }
    }), w.expr.pseudos.hidden = function(t) {
        return !w.expr.pseudos.visible(t)
    }, w.expr.pseudos.visible = function(t) {
        return !!(t.offsetWidth || t.offsetHeight || t.getClientRects().length)
    }, w.ajaxSettings.xhr = function() {
        try {
            return new t.XMLHttpRequest
        } catch (t) {}
    };
    var Ve = {
            0: 200,
            1223: 204
        },
        Be = w.ajaxSettings.xhr();
    p.cors = !!Be && "withCredentials" in Be, p.ajax = Be = !!Be, w.ajaxTransport((function(e) {
        var n, i;
        if (p.cors || Be && !e.crossDomain) return {
            send: function(r, o) {
                var s, a = e.xhr();
                if (a.open(e.type, e.url, e.async, e.username, e.password), e.xhrFields)
                    for (s in e.xhrFields) a[s] = e.xhrFields[s];
                for (s in e.mimeType && a.overrideMimeType && a.overrideMimeType(e.mimeType), e.crossDomain || r["X-Requested-With"] || (r["X-Requested-With"] = "XMLHttpRequest"), r) a.setRequestHeader(s, r[s]);
                n = function(t) {
                    return function() {
                        n && (n = i = a.onload = a.onerror = a.onabort = a.ontimeout = a.onreadystatechange = null, "abort" === t ? a.abort() : "error" === t ? "number" != typeof a.status ? o(0, "error") : o(a.status, a.statusText) : o(Ve[a.status] || a.status, a.statusText, "text" !== (a.responseType || "text") || "string" != typeof a.responseText ? {
                            binary: a.response
                        } : {
                            text: a.responseText
                        }, a.getAllResponseHeaders()))
                    }
                }, a.onload = n(), i = a.onerror = a.ontimeout = n("error"), void 0 !== a.onabort ? a.onabort = i : a.onreadystatechange = function() {
                    4 === a.readyState && t.setTimeout((function() {
                        n && i()
                    }))
                }, n = n("abort");
                try {
                    a.send(e.hasContent && e.data || null)
                } catch (r) {
                    if (n) throw r
                }
            },
            abort: function() {
                n && n()
            }
        }
    })), w.ajaxPrefilter((function(t) {
        t.crossDomain && (t.contents.script = !1)
    })), w.ajaxSetup({
        accepts: {
            script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
        },
        contents: {
            script: /\b(?:java|ecma)script\b/
        },
        converters: {
            "text script": function(t) {
                return w.globalEval(t), t
            }
        }
    }), w.ajaxPrefilter("script", (function(t) {
        void 0 === t.cache && (t.cache = !1), t.crossDomain && (t.type = "GET")
    })), w.ajaxTransport("script", (function(t) {
        var e, n;
        if (t.crossDomain || t.scriptAttrs) return {
            send: function(i, r) {
                e = w("<script>").attr(t.scriptAttrs || {}).prop({
                    charset: t.scriptCharset,
                    src: t.url
                }).on("load error", n = function(t) {
                    e.remove(), n = null, t && r("error" === t.type ? 404 : 200, t.type)
                }), v.head.appendChild(e[0])
            },
            abort: function() {
                n && n()
            }
        }
    }));
    var ze, $e = [],
        Ke = /(=)\?(?=&|$)|\?\?/;
    w.ajaxSetup({
        jsonp: "callback",
        jsonpCallback: function() {
            var t = $e.pop() || w.expando + "_" + Ie.guid++;
            return this[t] = !0, t
        }
    }), w.ajaxPrefilter("json jsonp", (function(e, n, i) {
        var r, o, s, a = !1 !== e.jsonp && (Ke.test(e.url) ? "url" : "string" == typeof e.data && 0 === (e.contentType || "").indexOf("application/x-www-form-urlencoded") && Ke.test(e.data) && "data");
        if (a || "jsonp" === e.dataTypes[0]) return r = e.jsonpCallback = f(e.jsonpCallback) ? e.jsonpCallback() : e.jsonpCallback, a ? e[a] = e[a].replace(Ke, "$1" + r) : !1 !== e.jsonp && (e.url += (Te.test(e.url) ? "&" : "?") + e.jsonp + "=" + r), e.converters["script json"] = function() {
            return s || w.error(r + " was not called"), s[0]
        }, e.dataTypes[0] = "json", o = t[r], t[r] = function() {
            s = arguments
        }, i.always((function() {
            void 0 === o ? w(t).removeProp(r) : t[r] = o, e[r] && (e.jsonpCallback = n.jsonpCallback, $e.push(r)), s && f(o) && o(s[0]), s = o = void 0
        })), "script"
    })), p.createHTMLDocument = ((ze = v.implementation.createHTMLDocument("").body).innerHTML = "<form></form><form></form>", 2 === ze.childNodes.length), w.parseHTML = function(t, e, n) {
        return "string" != typeof t ? [] : ("boolean" == typeof e && (n = e, e = !1), e || (p.createHTMLDocument ? ((i = (e = v.implementation.createHTMLDocument("")).createElement("base")).href = v.location.href, e.head.appendChild(i)) : e = v), o = !n && [], (r = x.exec(t)) ? [e.createElement(r[1])] : (r = _t([t], e, o), o && o.length && w(o).remove(), w.merge([], r.childNodes)));
        var i, r, o
    }, w.fn.load = function(t, e, n) {
        var i, r, o, s = this,
            a = t.indexOf(" ");
        return -1 < a && (i = ve(t.slice(a)), t = t.slice(0, a)), f(e) ? (n = e, e = void 0) : e && "object" == typeof e && (r = "POST"), 0 < s.length && w.ajax({
            url: t,
            type: r || "GET",
            dataType: "html",
            data: e
        }).done((function(t) {
            o = arguments, s.html(i ? w("<div>").append(w.parseHTML(t)).find(i) : t)
        })).always(n && function(t, e) {
            s.each((function() {
                n.apply(this, o || [t.responseText, e, t])
            }))
        }), this
    }, w.expr.pseudos.animated = function(t) {
        return w.grep(w.timers, (function(e) {
            return t === e.elem
        })).length
    }, w.offset = {
        setOffset: function(t, e, n) {
            var i, r, o, s, a, u, l = w.css(t, "position"),
                h = w(t),
                c = {};
            "static" === l && (t.style.position = "relative"), a = h.offset(), o = w.css(t, "top"), u = w.css(t, "left"), ("absolute" === l || "fixed" === l) && -1 < (o + u).indexOf("auto") ? (s = (i = h.position()).top, r = i.left) : (s = parseFloat(o) || 0, r = parseFloat(u) || 0), f(e) && (e = e.call(t, n, w.extend({}, a))), null != e.top && (c.top = e.top - a.top + s), null != e.left && (c.left = e.left - a.left + r), "using" in e ? e.using.call(t, c) : ("number" == typeof c.top && (c.top += "px"), "number" == typeof c.left && (c.left += "px"), h.css(c))
        }
    }, w.fn.extend({
        offset: function(t) {
            if (arguments.length) return void 0 === t ? this : this.each((function(e) {
                w.offset.setOffset(this, t, e)
            }));
            var e, n, i = this[0];
            return i ? i.getClientRects().length ? (e = i.getBoundingClientRect(), n = i.ownerDocument.defaultView, {
                top: e.top + n.pageYOffset,
                left: e.left + n.pageXOffset
            }) : {
                top: 0,
                left: 0
            } : void 0
        },
        position: function() {
            if (this[0]) {
                var t, e, n, i = this[0],
                    r = {
                        top: 0,
                        left: 0
                    };
                if ("fixed" === w.css(i, "position")) e = i.getBoundingClientRect();
                else {
                    for (e = this.offset(), n = i.ownerDocument, t = i.offsetParent || n.documentElement; t && (t === n.body || t === n.documentElement) && "static" === w.css(t, "position");) t = t.parentNode;
                    t && t !== i && 1 === t.nodeType && ((r = w(t).offset()).top += w.css(t, "borderTopWidth", !0), r.left += w.css(t, "borderLeftWidth", !0))
                }
                return {
                    top: e.top - r.top - w.css(i, "marginTop", !0),
                    left: e.left - r.left - w.css(i, "marginLeft", !0)
                }
            }
        },
        offsetParent: function() {
            return this.map((function() {
                for (var t = this.offsetParent; t && "static" === w.css(t, "position");) t = t.offsetParent;
                return t || it
            }))
        }
    }), w.each({
        scrollLeft: "pageXOffset",
        scrollTop: "pageYOffset"
    }, (function(t, e) {
        var n = "pageYOffset" === e;
        w.fn[t] = function(i) {
            return W(this, (function(t, i, r) {
                var o;
                if (g(t) ? o = t : 9 === t.nodeType && (o = t.defaultView), void 0 === r) return o ? o[e] : t[i];
                o ? o.scrollTo(n ? o.pageXOffset : r, n ? r : o.pageYOffset) : t[i] = r
            }), t, i, arguments.length)
        }
    })), w.each(["top", "left"], (function(t, e) {
        w.cssHooks[e] = Wt(p.pixelPosition, (function(t, n) {
            if (n) return n = qt(t, e), Ft.test(n) ? w(t).position()[e] + "px" : n
        }))
    })), w.each({
        Height: "height",
        Width: "width"
    }, (function(t, e) {
        w.each({
            padding: "inner" + t,
            content: e,
            "": "outer" + t
        }, (function(n, i) {
            w.fn[i] = function(r, o) {
                var s = arguments.length && (n || "boolean" != typeof r),
                    a = n || (!0 === r || !0 === o ? "margin" : "border");
                return W(this, (function(e, n, r) {
                    var o;
                    return g(e) ? 0 === i.indexOf("outer") ? e["inner" + t] : e.document.documentElement["client" + t] : 9 === e.nodeType ? (o = e.documentElement, Math.max(e.body["scroll" + t], o["scroll" + t], e.body["offset" + t], o["offset" + t], o["client" + t])) : void 0 === r ? w.css(e, n, a) : w.style(e, n, r, a)
                }), e, s ? r : void 0, s)
            }
        }))
    })), w.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], (function(t, e) {
        w.fn[e] = function(t) {
            return this.on(e, t)
        }
    })), w.fn.extend({
        bind: function(t, e, n) {
            return this.on(t, null, e, n)
        },
        unbind: function(t, e) {
            return this.off(t, null, e)
        },
        delegate: function(t, e, n, i) {
            return this.on(e, t, n, i)
        },
        undelegate: function(t, e, n) {
            return 1 === arguments.length ? this.off(t, "**") : this.off(e, t || "**", n)
        },
        hover: function(t, e) {
            return this.mouseenter(t).mouseleave(e || t)
        }
    }), w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "), (function(t, e) {
        w.fn[e] = function(t, n) {
            return 0 < arguments.length ? this.on(e, null, t, n) : this.trigger(e)
        }
    }));
    var Ge = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;
    w.proxy = function(t, e) {
        var n, i, o;
        if ("string" == typeof e && (n = t[e], e = t, t = n), f(t)) return i = r.call(arguments, 2), (o = function() {
            return t.apply(e || this, i.concat(r.call(arguments)))
        }).guid = t.guid = t.guid || w.guid++, o
    }, w.holdReady = function(t) {
        t ? w.readyWait++ : w.ready(!0)
    }, w.isArray = Array.isArray, w.parseJSON = JSON.parse, w.nodeName = S, w.isFunction = f, w.isWindow = g, w.camelCase = $, w.type = _, w.now = Date.now, w.isNumeric = function(t) {
        var e = w.type(t);
        return ("number" === e || "string" === e) && !isNaN(t - parseFloat(t))
    }, w.trim = function(t) {
        return null == t ? "" : (t + "").replace(Ge, "")
    }, "function" == typeof define && define.amd && define("jquery", [], (function() {
        return w
    }));
    var Ye = t.jQuery,
        Qe = t.$;
    return w.noConflict = function(e) {
        return t.$ === w && (t.$ = Qe), e && t.jQuery === w && (t.jQuery = Ye), w
    }, void 0 === e && (t.jQuery = t.$ = w), w
})),
function(t) {
    "function" == typeof define && define.amd ? define(["jquery"], t) : t(jQuery)
}((function(t) {
    function e() {
        this._curInst = null, this._keyEvent = !1, this._disabledInputs = [], this._datepickerShowing = !1, this._inDialog = !1, this._mainDivId = "ui-datepicker-div", this._inlineClass = "ui-datepicker-inline", this._appendClass = "ui-datepicker-append", this._triggerClass = "ui-datepicker-trigger", this._dialogClass = "ui-datepicker-dialog", this._disableClass = "ui-datepicker-disabled", this._unselectableClass = "ui-datepicker-unselectable", this._currentClass = "ui-datepicker-current-day", this._dayOverClass = "ui-datepicker-days-cell-over", this.regional = [], this.regional[""] = {
            closeText: "Done",
            prevText: "Prev",
            nextText: "Next",
            currentText: "Today",
            monthNames: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
            monthNamesShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
            dayNames: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
            dayNamesShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
            dayNamesMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
            weekHeader: "Wk",
            dateFormat: "mm/dd/yy",
            firstDay: 0,
            isRTL: !1,
            showMonthAfterYear: !1,
            yearSuffix: ""
        }, this._defaults = {
            showOn: "focus",
            showAnim: "fadeIn",
            showOptions: {},
            defaultDate: null,
            appendText: "",
            buttonText: "...",
            buttonImage: "",
            buttonImageOnly: !1,
            hideIfNoPrevNext: !1,
            navigationAsDateFormat: !1,
            gotoCurrent: !1,
            changeMonth: !1,
            changeYear: !1,
            yearRange: "c-10:c+10",
            showOtherMonths: !1,
            selectOtherMonths: !1,
            showWeek: !1,
            calculateWeek: this.iso8601Week,
            shortYearCutoff: "+10",
            minDate: null,
            maxDate: null,
            duration: "fast",
            beforeShowDay: null,
            beforeShow: null,
            onSelect: null,
            onChangeMonthYear: null,
            onClose: null,
            numberOfMonths: 1,
            showCurrentAtPos: 0,
            stepMonths: 1,
            stepBigMonths: 12,
            altField: "",
            altFormat: "",
            constrainInput: !0,
            showButtonPanel: !1,
            autoSize: !1,
            disabled: !1
        }, t.extend(this._defaults, this.regional[""]), this.regional.en = t.extend(!0, {}, this.regional[""]), this.regional["en-US"] = t.extend(!0, {}, this.regional.en), this.dpDiv = n(t("<div id='" + this._mainDivId + "' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))
    }

    function n(e) {
        var n = "button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";
        return e.on("mouseout", n, (function() {
            t(this).removeClass("ui-state-hover"), -1 !== this.className.indexOf("ui-datepicker-prev") && t(this).removeClass("ui-datepicker-prev-hover"), -1 !== this.className.indexOf("ui-datepicker-next") && t(this).removeClass("ui-datepicker-next-hover")
        })).on("mouseover", n, i)
    }

    function i() {
        t.datepicker._isDisabledDatepicker(d.inline ? d.dpDiv.parent()[0] : d.input[0]) || (t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"), t(this).addClass("ui-state-hover"), -1 !== this.className.indexOf("ui-datepicker-prev") && t(this).addClass("ui-datepicker-prev-hover"), -1 !== this.className.indexOf("ui-datepicker-next") && t(this).addClass("ui-datepicker-next-hover"))
    }

    function r(e, n) {
        for (var i in t.extend(e, n), n) null == n[i] && (e[i] = n[i]);
        return e
    }

    function o(t) {
        return function() {
            var e = this.element.val();
            t.apply(this, arguments), this._refresh(), e !== this.element.val() && this._trigger("change")
        }
    }
    t.ui = t.ui || {}, t.ui.version = "1.12.1";
    var s = 0,
        a = Array.prototype.slice;
    t.cleanData = function(e) {
            return function(n) {
                var i, r, o;
                for (o = 0; null != (r = n[o]); o++) try {
                    (i = t._data(r, "events")) && i.remove && t(r).triggerHandler("remove")
                } catch (t) {}
                e(n)
            }
        }(t.cleanData), t.widget = function(e, n, i) {
            var r, o, s, a = {},
                u = e.split(".")[0],
                l = u + "-" + (e = e.split(".")[1]);
            return i || (i = n, n = t.Widget), t.isArray(i) && (i = t.extend.apply(null, [{}].concat(i))), t.expr[":"][l.toLowerCase()] = function(e) {
                return !!t.data(e, l)
            }, t[u] = t[u] || {}, r = t[u][e], o = t[u][e] = function(t, e) {
                return this._createWidget ? void(arguments.length && this._createWidget(t, e)) : new o(t, e)
            }, t.extend(o, r, {
                version: i.version,
                _proto: t.extend({}, i),
                _childConstructors: []
            }), (s = new n).options = t.widget.extend({}, s.options), t.each(i, (function(e, i) {
                return t.isFunction(i) ? void(a[e] = function() {
                    function t() {
                        return n.prototype[e].apply(this, arguments)
                    }

                    function r(t) {
                        return n.prototype[e].apply(this, t)
                    }
                    return function() {
                        var e, n = this._super,
                            o = this._superApply;
                        return this._super = t, this._superApply = r, e = i.apply(this, arguments), this._super = n, this._superApply = o, e
                    }
                }()) : void(a[e] = i)
            })), o.prototype = t.widget.extend(s, {
                widgetEventPrefix: r && s.widgetEventPrefix || e
            }, a, {
                constructor: o,
                namespace: u,
                widgetName: e,
                widgetFullName: l
            }), r ? (t.each(r._childConstructors, (function(e, n) {
                var i = n.prototype;
                t.widget(i.namespace + "." + i.widgetName, o, n._proto)
            })), delete r._childConstructors) : n._childConstructors.push(o), t.widget.bridge(e, o), o
        }, t.widget.extend = function(e) {
            for (var n, i, r = a.call(arguments, 1), o = 0, s = r.length; s > o; o++)
                for (n in r[o]) i = r[o][n], r[o].hasOwnProperty(n) && void 0 !== i && (e[n] = t.isPlainObject(i) ? t.isPlainObject(e[n]) ? t.widget.extend({}, e[n], i) : t.widget.extend({}, i) : i);
            return e
        }, t.widget.bridge = function(e, n) {
            var i = n.prototype.widgetFullName || e;
            t.fn[e] = function(r) {
                var o = "string" == typeof r,
                    s = a.call(arguments, 1),
                    u = this;
                return o ? this.length || "instance" !== r ? this.each((function() {
                    var n, o = t.data(this, i);
                    return "instance" === r ? (u = o, !1) : o ? t.isFunction(o[r]) && "_" !== r.charAt(0) ? (n = o[r].apply(o, s)) !== o && void 0 !== n ? (u = n && n.jquery ? u.pushStack(n.get()) : n, !1) : void 0 : t.error("no such method '" + r + "' for " + e + " widget instance") : t.error("cannot call methods on " + e + " prior to initialization; attempted to call method '" + r + "'")
                })) : u = void 0 : (s.length && (r = t.widget.extend.apply(null, [r].concat(s))), this.each((function() {
                    var e = t.data(this, i);
                    e ? (e.option(r || {}), e._init && e._init()) : t.data(this, i, new n(r, this))
                }))), u
            }
        }, t.Widget = function() {}, t.Widget._childConstructors = [], t.Widget.prototype = {
            widgetName: "widget",
            widgetEventPrefix: "",
            defaultElement: "<div>",
            options: {
                classes: {},
                disabled: !1,
                create: null
            },
            _createWidget: function(e, n) {
                n = t(n || this.defaultElement || this)[0], this.element = t(n), this.uuid = s++, this.eventNamespace = "." + this.widgetName + this.uuid, this.bindings = t(), this.hoverable = t(), this.focusable = t(), this.classesElementLookup = {}, n !== this && (t.data(n, this.widgetFullName, this), this._on(!0, this.element, {
                    remove: function(t) {
                        t.target === n && this.destroy()
                    }
                }), this.document = t(n.style ? n.ownerDocument : n.document || n), this.window = t(this.document[0].defaultView || this.document[0].parentWindow)), this.options = t.widget.extend({}, this.options, this._getCreateOptions(), e), this._create(), this.options.disabled && this._setOptionDisabled(this.options.disabled), this._trigger("create", null, this._getCreateEventData()), this._init()
            },
            _getCreateOptions: function() {
                return {}
            },
            _getCreateEventData: t.noop,
            _create: t.noop,
            _init: t.noop,
            destroy: function() {
                var e = this;
                this._destroy(), t.each(this.classesElementLookup, (function(t, n) {
                    e._removeClass(n, t)
                })), this.element.off(this.eventNamespace).removeData(this.widgetFullName), this.widget().off(this.eventNamespace).removeAttr("aria-disabled"), this.bindings.off(this.eventNamespace)
            },
            _destroy: t.noop,
            widget: function() {
                return this.element
            },
            option: function(e, n) {
                var i, r, o, s = e;
                if (0 === arguments.length) return t.widget.extend({}, this.options);
                if ("string" == typeof e)
                    if (s = {}, i = e.split("."), e = i.shift(), i.length) {
                        for (r = s[e] = t.widget.extend({}, this.options[e]), o = 0; i.length - 1 > o; o++) r[i[o]] = r[i[o]] || {}, r = r[i[o]];
                        if (e = i.pop(), 1 === arguments.length) return void 0 === r[e] ? null : r[e];
                        r[e] = n
                    } else {
                        if (1 === arguments.length) return void 0 === this.options[e] ? null : this.options[e];
                        s[e] = n
                    } return this._setOptions(s), this
            },
            _setOptions: function(t) {
                var e;
                for (e in t) this._setOption(e, t[e]);
                return this
            },
            _setOption: function(t, e) {
                return "classes" === t && this._setOptionClasses(e), this.options[t] = e, "disabled" === t && this._setOptionDisabled(e), this
            },
            _setOptionClasses: function(e) {
                var n, i, r;
                for (n in e) r = this.classesElementLookup[n], e[n] !== this.options.classes[n] && r && r.length && (i = t(r.get()), this._removeClass(r, n), i.addClass(this._classes({
                    element: i,
                    keys: n,
                    classes: e,
                    add: !0
                })))
            },
            _setOptionDisabled: function(t) {
                this._toggleClass(this.widget(), this.widgetFullName + "-disabled", null, !!t), t && (this._removeClass(this.hoverable, null, "ui-state-hover"), this._removeClass(this.focusable, null, "ui-state-focus"))
            },
            enable: function() {
                return this._setOptions({
                    disabled: !1
                })
            },
            disable: function() {
                return this._setOptions({
                    disabled: !0
                })
            },
            _classes: function(e) {
                function n(n, o) {
                    var s, a;
                    for (a = 0; n.length > a; a++) s = r.classesElementLookup[n[a]] || t(), s = e.add ? t(t.unique(s.get().concat(e.element.get()))) : t(s.not(e.element).get()), r.classesElementLookup[n[a]] = s, i.push(n[a]), o && e.classes[n[a]] && i.push(e.classes[n[a]])
                }
                var i = [],
                    r = this;
                return e = t.extend({
                    element: this.element,
                    classes: this.options.classes || {}
                }, e), this._on(e.element, {
                    remove: "_untrackClassesElement"
                }), e.keys && n(e.keys.match(/\S+/g) || [], !0), e.extra && n(e.extra.match(/\S+/g) || []), i.join(" ")
            },
            _untrackClassesElement: function(e) {
                var n = this;
                t.each(n.classesElementLookup, (function(i, r) {
                    -1 !== t.inArray(e.target, r) && (n.classesElementLookup[i] = t(r.not(e.target).get()))
                }))
            },
            _removeClass: function(t, e, n) {
                return this._toggleClass(t, e, n, !1)
            },
            _addClass: function(t, e, n) {
                return this._toggleClass(t, e, n, !0)
            },
            _toggleClass: function(t, e, n, i) {
                i = "boolean" == typeof i ? i : n;
                var r = "string" == typeof t || null === t,
                    o = {
                        extra: r ? e : n,
                        keys: r ? t : e,
                        element: r ? this.element : t,
                        add: i
                    };
                return o.element.toggleClass(this._classes(o), i), this
            },
            _on: function(e, n, i) {
                var r, o = this;
                "boolean" != typeof e && (i = n, n = e, e = !1), i ? (n = r = t(n), this.bindings = this.bindings.add(n)) : (i = n, n = this.element, r = this.widget()), t.each(i, (function(i, s) {
                    function a() {
                        return e || !0 !== o.options.disabled && !t(this).hasClass("ui-state-disabled") ? ("string" == typeof s ? o[s] : s).apply(o, arguments) : void 0
                    }
                    "string" != typeof s && (a.guid = s.guid = s.guid || a.guid || t.guid++);
                    var u = i.match(/^([\w:-]*)\s*(.*)$/),
                        l = u[1] + o.eventNamespace,
                        h = u[2];
                    h ? r.on(l, h, a) : n.on(l, a)
                }))
            },
            _off: function(e, n) {
                n = (n || "").split(" ").join(this.eventNamespace + " ") + this.eventNamespace, e.off(n).off(n), this.bindings = t(this.bindings.not(e).get()), this.focusable = t(this.focusable.not(e).get()), this.hoverable = t(this.hoverable.not(e).get())
            },
            _delay: function(t, e) {
                var n = this;
                return setTimeout((function() {
                    return ("string" == typeof t ? n[t] : t).apply(n, arguments)
                }), e || 0)
            },
            _hoverable: function(e) {
                this.hoverable = this.hoverable.add(e), this._on(e, {
                    mouseenter: function(e) {
                        this._addClass(t(e.currentTarget), null, "ui-state-hover")
                    },
                    mouseleave: function(e) {
                        this._removeClass(t(e.currentTarget), null, "ui-state-hover")
                    }
                })
            },
            _focusable: function(e) {
                this.focusable = this.focusable.add(e), this._on(e, {
                    focusin: function(e) {
                        this._addClass(t(e.currentTarget), null, "ui-state-focus")
                    },
                    focusout: function(e) {
                        this._removeClass(t(e.currentTarget), null, "ui-state-focus")
                    }
                })
            },
            _trigger: function(e, n, i) {
                var r, o, s = this.options[e];
                if (i = i || {}, (n = t.Event(n)).type = (e === this.widgetEventPrefix ? e : this.widgetEventPrefix + e).toLowerCase(), n.target = this.element[0], o = n.originalEvent)
                    for (r in o) r in n || (n[r] = o[r]);
                return this.element.trigger(n, i), !(t.isFunction(s) && !1 === s.apply(this.element[0], [n].concat(i)) || n.isDefaultPrevented())
            }
        }, t.each({
            show: "fadeIn",
            hide: "fadeOut"
        }, (function(e, n) {
            t.Widget.prototype["_" + e] = function(i, r, o) {
                "string" == typeof r && (r = {
                    effect: r
                });
                var s, a = r ? !0 === r || "number" == typeof r ? n : r.effect || n : e;
                "number" == typeof(r = r || {}) && (r = {
                    duration: r
                }), s = !t.isEmptyObject(r), r.complete = o, r.delay && i.delay(r.delay), s && t.effects && t.effects.effect[a] ? i[e](r) : a !== e && i[a] ? i[a](r.duration, r.easing, o) : i.queue((function(n) {
                    t(this)[e](), o && o.call(i[0]), n()
                }))
            }
        })), t.widget,
        function() {
            function e(t, e, n) {
                return [parseFloat(t[0]) * (c.test(t[0]) ? e / 100 : 1), parseFloat(t[1]) * (c.test(t[1]) ? n / 100 : 1)]
            }

            function n(e, n) {
                return parseInt(t.css(e, n), 10) || 0
            }

            function i(e) {
                var n = e[0];
                return 9 === n.nodeType ? {
                    width: e.width(),
                    height: e.height(),
                    offset: {
                        top: 0,
                        left: 0
                    }
                } : t.isWindow(n) ? {
                    width: e.width(),
                    height: e.height(),
                    offset: {
                        top: e.scrollTop(),
                        left: e.scrollLeft()
                    }
                } : n.preventDefault ? {
                    width: 0,
                    height: 0,
                    offset: {
                        top: n.pageY,
                        left: n.pageX
                    }
                } : {
                    width: e.outerWidth(),
                    height: e.outerHeight(),
                    offset: e.offset()
                }
            }
            var r, o = Math.max,
                s = Math.abs,
                a = /left|center|right/,
                u = /top|center|bottom/,
                l = /[\+\-]\d+(\.[\d]+)?%?/,
                h = /^\w+/,
                c = /%$/,
                d = t.fn.position;
            t.position = {
                scrollbarWidth: function() {
                    if (void 0 !== r) return r;
                    var e, n, i = t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),
                        o = i.children()[0];
                    return t("body").append(i), e = o.offsetWidth, i.css("overflow", "scroll"), e === (n = o.offsetWidth) && (n = i[0].clientWidth), i.remove(), r = e - n
                },
                getScrollInfo: function(e) {
                    var n = e.isWindow || e.isDocument ? "" : e.element.css("overflow-x"),
                        i = e.isWindow || e.isDocument ? "" : e.element.css("overflow-y"),
                        r = "scroll" === n || "auto" === n && e.width < e.element[0].scrollWidth;
                    return {
                        width: "scroll" === i || "auto" === i && e.height < e.element[0].scrollHeight ? t.position.scrollbarWidth() : 0,
                        height: r ? t.position.scrollbarWidth() : 0
                    }
                },
                getWithinInfo: function(e) {
                    var n = t(e || window),
                        i = t.isWindow(n[0]),
                        r = !!n[0] && 9 === n[0].nodeType;
                    return {
                        element: n,
                        isWindow: i,
                        isDocument: r,
                        offset: !i && !r ? t(e).offset() : {
                            left: 0,
                            top: 0
                        },
                        scrollLeft: n.scrollLeft(),
                        scrollTop: n.scrollTop(),
                        width: n.outerWidth(),
                        height: n.outerHeight()
                    }
                }
            }, t.fn.position = function(r) {
                if (!r || !r.of) return d.apply(this, arguments);
                r = t.extend({}, r);
                var c, p, f, g, v, m, y = t(r.of),
                    _ = t.position.getWithinInfo(r.within),
                    b = t.position.getScrollInfo(_),
                    w = (r.collision || "flip").split(" "),
                    E = {};
                return m = i(y), y[0].preventDefault && (r.at = "left top"), p = m.width, f = m.height, g = m.offset, v = t.extend({}, g), t.each(["my", "at"], (function() {
                    var t, e, n = (r[this] || "").split(" ");
                    1 === n.length && (n = a.test(n[0]) ? n.concat(["center"]) : u.test(n[0]) ? ["center"].concat(n) : ["center", "center"]), n[0] = a.test(n[0]) ? n[0] : "center", n[1] = u.test(n[1]) ? n[1] : "center", t = l.exec(n[0]), e = l.exec(n[1]), E[this] = [t ? t[0] : 0, e ? e[0] : 0], r[this] = [h.exec(n[0])[0], h.exec(n[1])[0]]
                })), 1 === w.length && (w[1] = w[0]), "right" === r.at[0] ? v.left += p : "center" === r.at[0] && (v.left += p / 2), "bottom" === r.at[1] ? v.top += f : "center" === r.at[1] && (v.top += f / 2), c = e(E.at, p, f), v.left += c[0], v.top += c[1], this.each((function() {
                    var i, a, u = t(this),
                        l = u.outerWidth(),
                        h = u.outerHeight(),
                        d = n(this, "marginLeft"),
                        m = n(this, "marginTop"),
                        I = l + d + n(this, "marginRight") + b.width,
                        T = h + m + n(this, "marginBottom") + b.height,
                        C = t.extend({}, v),
                        k = e(E.my, u.outerWidth(), u.outerHeight());
                    "right" === r.my[0] ? C.left -= l : "center" === r.my[0] && (C.left -= l / 2), "bottom" === r.my[1] ? C.top -= h : "center" === r.my[1] && (C.top -= h / 2), C.left += k[0], C.top += k[1], i = {
                        marginLeft: d,
                        marginTop: m
                    }, t.each(["left", "top"], (function(e, n) {
                        t.ui.position[w[e]] && t.ui.position[w[e]][n](C, {
                            targetWidth: p,
                            targetHeight: f,
                            elemWidth: l,
                            elemHeight: h,
                            collisionPosition: i,
                            collisionWidth: I,
                            collisionHeight: T,
                            offset: [c[0] + k[0], c[1] + k[1]],
                            my: r.my,
                            at: r.at,
                            within: _,
                            elem: u
                        })
                    })), r.using && (a = function(t) {
                        var e = g.left - C.left,
                            n = e + p - l,
                            i = g.top - C.top,
                            a = i + f - h,
                            c = {
                                target: {
                                    element: y,
                                    left: g.left,
                                    top: g.top,
                                    width: p,
                                    height: f
                                },
                                element: {
                                    element: u,
                                    left: C.left,
                                    top: C.top,
                                    width: l,
                                    height: h
                                },
                                horizontal: 0 > n ? "left" : e > 0 ? "right" : "center",
                                vertical: 0 > a ? "top" : i > 0 ? "bottom" : "middle"
                            };
                        l > p && p > s(e + n) && (c.horizontal = "center"), h > f && f > s(i + a) && (c.vertical = "middle"), c.important = o(s(e), s(n)) > o(s(i), s(a)) ? "horizontal" : "vertical", r.using.call(this, t, c)
                    }), u.offset(t.extend(C, {
                        using: a
                    }))
                }))
            }, t.ui.position = {
                fit: {
                    left: function(t, e) {
                        var n, i = e.within,
                            r = i.isWindow ? i.scrollLeft : i.offset.left,
                            s = i.width,
                            a = t.left - e.collisionPosition.marginLeft,
                            u = r - a,
                            l = a + e.collisionWidth - s - r;
                        e.collisionWidth > s ? u > 0 && 0 >= l ? (n = t.left + u + e.collisionWidth - s - r, t.left += u - n) : t.left = l > 0 && 0 >= u ? r : u > l ? r + s - e.collisionWidth : r : u > 0 ? t.left += u : l > 0 ? t.left -= l : t.left = o(t.left - a, t.left)
                    },
                    top: function(t, e) {
                        var n, i = e.within,
                            r = i.isWindow ? i.scrollTop : i.offset.top,
                            s = e.within.height,
                            a = t.top - e.collisionPosition.marginTop,
                            u = r - a,
                            l = a + e.collisionHeight - s - r;
                        e.collisionHeight > s ? u > 0 && 0 >= l ? (n = t.top + u + e.collisionHeight - s - r, t.top += u - n) : t.top = l > 0 && 0 >= u ? r : u > l ? r + s - e.collisionHeight : r : u > 0 ? t.top += u : l > 0 ? t.top -= l : t.top = o(t.top - a, t.top)
                    }
                },
                flip: {
                    left: function(t, e) {
                        var n, i, r = e.within,
                            o = r.offset.left + r.scrollLeft,
                            a = r.width,
                            u = r.isWindow ? r.scrollLeft : r.offset.left,
                            l = t.left - e.collisionPosition.marginLeft,
                            h = l - u,
                            c = l + e.collisionWidth - a - u,
                            d = "left" === e.my[0] ? -e.elemWidth : "right" === e.my[0] ? e.elemWidth : 0,
                            p = "left" === e.at[0] ? e.targetWidth : "right" === e.at[0] ? -e.targetWidth : 0,
                            f = -2 * e.offset[0];
                        0 > h ? (0 > (n = t.left + d + p + f + e.collisionWidth - a - o) || s(h) > n) && (t.left += d + p + f) : c > 0 && (((i = t.left - e.collisionPosition.marginLeft + d + p + f - u) > 0 || c > s(i)) && (t.left += d + p + f))
                    },
                    top: function(t, e) {
                        var n, i, r = e.within,
                            o = r.offset.top + r.scrollTop,
                            a = r.height,
                            u = r.isWindow ? r.scrollTop : r.offset.top,
                            l = t.top - e.collisionPosition.marginTop,
                            h = l - u,
                            c = l + e.collisionHeight - a - u,
                            d = "top" === e.my[1] ? -e.elemHeight : "bottom" === e.my[1] ? e.elemHeight : 0,
                            p = "top" === e.at[1] ? e.targetHeight : "bottom" === e.at[1] ? -e.targetHeight : 0,
                            f = -2 * e.offset[1];
                        0 > h ? (0 > (i = t.top + d + p + f + e.collisionHeight - a - o) || s(h) > i) && (t.top += d + p + f) : c > 0 && (((n = t.top - e.collisionPosition.marginTop + d + p + f - u) > 0 || c > s(n)) && (t.top += d + p + f))
                    }
                },
                flipfit: {
                    left: function() {
                        t.ui.position.flip.left.apply(this, arguments), t.ui.position.fit.left.apply(this, arguments)
                    },
                    top: function() {
                        t.ui.position.flip.top.apply(this, arguments), t.ui.position.fit.top.apply(this, arguments)
                    }
                }
            }
        }(), t.ui.position, t.extend(t.expr[":"], {
            data: t.expr.createPseudo ? t.expr.createPseudo((function(e) {
                return function(n) {
                    return !!t.data(n, e)
                }
            })) : function(e, n, i) {
                return !!t.data(e, i[3])
            }
        }), t.fn.extend({
            disableSelection: function() {
                var t = "onselectstart" in document.createElement("div") ? "selectstart" : "mousedown";
                return function() {
                    return this.on(t + ".ui-disableSelection", (function(t) {
                        t.preventDefault()
                    }))
                }
            }(),
            enableSelection: function() {
                return this.off(".ui-disableSelection")
            }
        });
    var u = "ui-effects-",
        l = "ui-effects-style",
        h = "ui-effects-animated",
        c = t;
    t.effects = {
            effect: {}
        },
        function(t, e) {
            function n(t, e, n) {
                var i = h[e.type] || {};
                return null == t ? n || !e.def ? null : e.def : (t = i.floor ? ~~t : parseFloat(t), isNaN(t) ? e.def : i.mod ? (t + i.mod) % i.mod : 0 > t ? 0 : t > i.max ? i.max : t)
            }

            function i(n) {
                var i = u(),
                    r = i._rgba = [];
                return n = n.toLowerCase(), p(a, (function(t, o) {
                    var s, a = o.re.exec(n),
                        u = a && o.parse(a),
                        h = o.space || "rgba";
                    return u ? (s = i[h](u), i[l[h].cache] = s[l[h].cache], r = i._rgba = s._rgba, !1) : e
                })), r.length ? ("0,0,0,0" === r.join() && t.extend(r, o.transparent), i) : o[n]
            }

            function r(t, e, n) {
                return 1 > 6 * (n = (n + 1) % 1) ? t + 6 * (e - t) * n : 1 > 2 * n ? e : 2 > 3 * n ? t + 6 * (e - t) * (2 / 3 - n) : t
            }
            var o, s = /^([\-+])=\s*(\d+\.?\d*)/,
                a = [{
                    re: /rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
                    parse: function(t) {
                        return [t[1], t[2], t[3], t[4]]
                    }
                }, {
                    re: /rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
                    parse: function(t) {
                        return [2.55 * t[1], 2.55 * t[2], 2.55 * t[3], t[4]]
                    }
                }, {
                    re: /#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,
                    parse: function(t) {
                        return [parseInt(t[1], 16), parseInt(t[2], 16), parseInt(t[3], 16)]
                    }
                }, {
                    re: /#([a-f0-9])([a-f0-9])([a-f0-9])/,
                    parse: function(t) {
                        return [parseInt(t[1] + t[1], 16), parseInt(t[2] + t[2], 16), parseInt(t[3] + t[3], 16)]
                    }
                }, {
                    re: /hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
                    space: "hsla",
                    parse: function(t) {
                        return [t[1], t[2] / 100, t[3] / 100, t[4]]
                    }
                }],
                u = t.Color = function(e, n, i, r) {
                    return new t.Color.fn.parse(e, n, i, r)
                },
                l = {
                    rgba: {
                        props: {
                            red: {
                                idx: 0,
                                type: "byte"
                            },
                            green: {
                                idx: 1,
                                type: "byte"
                            },
                            blue: {
                                idx: 2,
                                type: "byte"
                            }
                        }
                    },
                    hsla: {
                        props: {
                            hue: {
                                idx: 0,
                                type: "degrees"
                            },
                            saturation: {
                                idx: 1,
                                type: "percent"
                            },
                            lightness: {
                                idx: 2,
                                type: "percent"
                            }
                        }
                    }
                },
                h = {
                    byte: {
                        floor: !0,
                        max: 255
                    },
                    percent: {
                        max: 1
                    },
                    degrees: {
                        mod: 360,
                        floor: !0
                    }
                },
                c = u.support = {},
                d = t("<p>")[0],
                p = t.each;
            d.style.cssText = "background-color:rgba(1,1,1,.5)", c.rgba = d.style.backgroundColor.indexOf("rgba") > -1, p(l, (function(t, e) {
                e.cache = "_" + t, e.props.alpha = {
                    idx: 3,
                    type: "percent",
                    def: 1
                }
            })), u.fn = t.extend(u.prototype, {
                parse: function(r, s, a, h) {
                    if (r === e) return this._rgba = [null, null, null, null], this;
                    (r.jquery || r.nodeType) && (r = t(r).css(s), s = e);
                    var c = this,
                        d = t.type(r),
                        f = this._rgba = [];
                    return s !== e && (r = [r, s, a, h], d = "array"), "string" === d ? this.parse(i(r) || o._default) : "array" === d ? (p(l.rgba.props, (function(t, e) {
                        f[e.idx] = n(r[e.idx], e)
                    })), this) : "object" === d ? (p(l, r instanceof u ? function(t, e) {
                        r[e.cache] && (c[e.cache] = r[e.cache].slice())
                    } : function(e, i) {
                        var o = i.cache;
                        p(i.props, (function(t, e) {
                            if (!c[o] && i.to) {
                                if ("alpha" === t || null == r[t]) return;
                                c[o] = i.to(c._rgba)
                            }
                            c[o][e.idx] = n(r[t], e, !0)
                        })), c[o] && 0 > t.inArray(null, c[o].slice(0, 3)) && (c[o][3] = 1, i.from && (c._rgba = i.from(c[o])))
                    }), this) : e
                },
                is: function(t) {
                    var n = u(t),
                        i = !0,
                        r = this;
                    return p(l, (function(t, o) {
                        var s, a = n[o.cache];
                        return a && (s = r[o.cache] || o.to && o.to(r._rgba) || [], p(o.props, (function(t, n) {
                            return null != a[n.idx] ? i = a[n.idx] === s[n.idx] : e
                        }))), i
                    })), i
                },
                _space: function() {
                    var t = [],
                        e = this;
                    return p(l, (function(n, i) {
                        e[i.cache] && t.push(n)
                    })), t.pop()
                },
                transition: function(t, e) {
                    var i = u(t),
                        r = i._space(),
                        o = l[r],
                        s = 0 === this.alpha() ? u("transparent") : this,
                        a = s[o.cache] || o.to(s._rgba),
                        c = a.slice();
                    return i = i[o.cache], p(o.props, (function(t, r) {
                        var o = r.idx,
                            s = a[o],
                            u = i[o],
                            l = h[r.type] || {};
                        null !== u && (null === s ? c[o] = u : (l.mod && (u - s > l.mod / 2 ? s += l.mod : s - u > l.mod / 2 && (s -= l.mod)), c[o] = n((u - s) * e + s, r)))
                    })), this[r](c)
                },
                blend: function(e) {
                    if (1 === this._rgba[3]) return this;
                    var n = this._rgba.slice(),
                        i = n.pop(),
                        r = u(e)._rgba;
                    return u(t.map(n, (function(t, e) {
                        return (1 - i) * r[e] + i * t
                    })))
                },
                toRgbaString: function() {
                    var e = "rgba(",
                        n = t.map(this._rgba, (function(t, e) {
                            return null == t ? e > 2 ? 1 : 0 : t
                        }));
                    return 1 === n[3] && (n.pop(), e = "rgb("), e + n.join() + ")"
                },
                toHslaString: function() {
                    var e = "hsla(",
                        n = t.map(this.hsla(), (function(t, e) {
                            return null == t && (t = e > 2 ? 1 : 0), e && 3 > e && (t = Math.round(100 * t) + "%"), t
                        }));
                    return 1 === n[3] && (n.pop(), e = "hsl("), e + n.join() + ")"
                },
                toHexString: function(e) {
                    var n = this._rgba.slice(),
                        i = n.pop();
                    return e && n.push(~~(255 * i)), "#" + t.map(n, (function(t) {
                        return 1 === (t = (t || 0).toString(16)).length ? "0" + t : t
                    })).join("")
                },
                toString: function() {
                    return 0 === this._rgba[3] ? "transparent" : this.toRgbaString()
                }
            }), u.fn.parse.prototype = u.fn, l.hsla.to = function(t) {
                if (null == t[0] || null == t[1] || null == t[2]) return [null, null, null, t[3]];
                var e, n, i = t[0] / 255,
                    r = t[1] / 255,
                    o = t[2] / 255,
                    s = t[3],
                    a = Math.max(i, r, o),
                    u = Math.min(i, r, o),
                    l = a - u,
                    h = a + u,
                    c = .5 * h;
                return e = u === a ? 0 : i === a ? 60 * (r - o) / l + 360 : r === a ? 60 * (o - i) / l + 120 : 60 * (i - r) / l + 240, n = 0 === l ? 0 : .5 >= c ? l / h : l / (2 - h), [Math.round(e) % 360, n, c, null == s ? 1 : s]
            }, l.hsla.from = function(t) {
                if (null == t[0] || null == t[1] || null == t[2]) return [null, null, null, t[3]];
                var e = t[0] / 360,
                    n = t[1],
                    i = t[2],
                    o = t[3],
                    s = .5 >= i ? i * (1 + n) : i + n - i * n,
                    a = 2 * i - s;
                return [Math.round(255 * r(a, s, e + 1 / 3)), Math.round(255 * r(a, s, e)), Math.round(255 * r(a, s, e - 1 / 3)), o]
            }, p(l, (function(i, r) {
                var o = r.props,
                    a = r.cache,
                    l = r.to,
                    h = r.from;
                u.fn[i] = function(i) {
                    if (l && !this[a] && (this[a] = l(this._rgba)), i === e) return this[a].slice();
                    var r, s = t.type(i),
                        c = "array" === s || "object" === s ? i : arguments,
                        d = this[a].slice();
                    return p(o, (function(t, e) {
                        var i = c["object" === s ? t : e.idx];
                        null == i && (i = d[e.idx]), d[e.idx] = n(i, e)
                    })), h ? ((r = u(h(d)))[a] = d, r) : u(d)
                }, p(o, (function(e, n) {
                    u.fn[e] || (u.fn[e] = function(r) {
                        var o, a = t.type(r),
                            u = "alpha" === e ? this._hsla ? "hsla" : "rgba" : i,
                            l = this[u](),
                            h = l[n.idx];
                        return "undefined" === a ? h : ("function" === a && (r = r.call(this, h), a = t.type(r)), null == r && n.empty ? this : ("string" === a && ((o = s.exec(r)) && (r = h + parseFloat(o[2]) * ("+" === o[1] ? 1 : -1))), l[n.idx] = r, this[u](l)))
                    })
                }))
            })), u.hook = function(e) {
                var n = e.split(" ");
                p(n, (function(e, n) {
                    t.cssHooks[n] = {
                        set: function(e, r) {
                            var o, s, a = "";
                            if ("transparent" !== r && ("string" !== t.type(r) || (o = i(r)))) {
                                if (r = u(o || r), !c.rgba && 1 !== r._rgba[3]) {
                                    for (s = "backgroundColor" === n ? e.parentNode : e;
                                        ("" === a || "transparent" === a) && s && s.style;) try {
                                        a = t.css(s, "backgroundColor"), s = s.parentNode
                                    } catch (t) {}
                                    r = r.blend(a && "transparent" !== a ? a : "_default")
                                }
                                r = r.toRgbaString()
                            }
                            try {
                                e.style[n] = r
                            } catch (t) {}
                        }
                    }, t.fx.step[n] = function(e) {
                        e.colorInit || (e.start = u(e.elem, n), e.end = u(e.end), e.colorInit = !0), t.cssHooks[n].set(e.elem, e.start.transition(e.end, e.pos))
                    }
                }))
            }, u.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"), t.cssHooks.borderColor = {
                expand: function(t) {
                    var e = {};
                    return p(["Top", "Right", "Bottom", "Left"], (function(n, i) {
                        e["border" + i + "Color"] = t
                    })), e
                }
            }, o = t.Color.names = {
                aqua: "#00ffff",
                black: "#000000",
                blue: "#0000ff",
                fuchsia: "#ff00ff",
                gray: "#808080",
                green: "#008000",
                lime: "#00ff00",
                maroon: "#800000",
                navy: "#000080",
                olive: "#808000",
                purple: "#800080",
                red: "#ff0000",
                silver: "#c0c0c0",
                teal: "#008080",
                white: "#ffffff",
                yellow: "#ffff00",
                transparent: [null, null, null, 0],
                _default: "#ffffff"
            }
        }(c),
        function() {
            function e(e) {
                var n, i, r = e.ownerDocument.defaultView ? e.ownerDocument.defaultView.getComputedStyle(e, null) : e.currentStyle,
                    o = {};
                if (r && r.length && r[0] && r[r[0]])
                    for (i = r.length; i--;) "string" == typeof r[n = r[i]] && (o[t.camelCase(n)] = r[n]);
                else
                    for (n in r) "string" == typeof r[n] && (o[n] = r[n]);
                return o
            }

            function n(e, n) {
                var i, o, s = {};
                for (i in n) o = n[i], e[i] !== o && (r[i] || (t.fx.step[i] || !isNaN(parseFloat(o))) && (s[i] = o));
                return s
            }
            var i = ["add", "remove", "toggle"],
                r = {
                    border: 1,
                    borderBottom: 1,
                    borderColor: 1,
                    borderLeft: 1,
                    borderRight: 1,
                    borderTop: 1,
                    borderWidth: 1,
                    margin: 1,
                    padding: 1
                };
            t.each(["borderLeftStyle", "borderRightStyle", "borderBottomStyle", "borderTopStyle"], (function(e, n) {
                t.fx.step[n] = function(t) {
                    ("none" !== t.end && !t.setAttr || 1 === t.pos && !t.setAttr) && (c.style(t.elem, n, t.end), t.setAttr = !0)
                }
            })), t.fn.addBack || (t.fn.addBack = function(t) {
                return this.add(null == t ? this.prevObject : this.prevObject.filter(t))
            }), t.effects.animateClass = function(r, o, s, a) {
                var u = t.speed(o, s, a);
                return this.queue((function() {
                    var o, s = t(this),
                        a = s.attr("class") || "",
                        l = u.children ? s.find("*").addBack() : s;
                    l = l.map((function() {
                        return {
                            el: t(this),
                            start: e(this)
                        }
                    })), (o = function() {
                        t.each(i, (function(t, e) {
                            r[e] && s[e + "Class"](r[e])
                        }))
                    })(), l = l.map((function() {
                        return this.end = e(this.el[0]), this.diff = n(this.start, this.end), this
                    })), s.attr("class", a), l = l.map((function() {
                        var e = this,
                            n = t.Deferred(),
                            i = t.extend({}, u, {
                                queue: !1,
                                complete: function() {
                                    n.resolve(e)
                                }
                            });
                        return this.el.animate(this.diff, i), n.promise()
                    })), t.when.apply(t, l.get()).done((function() {
                        o(), t.each(arguments, (function() {
                            var e = this.el;
                            t.each(this.diff, (function(t) {
                                e.css(t, "")
                            }))
                        })), u.complete.call(s[0])
                    }))
                }))
            }, t.fn.extend({
                addClass: function(e) {
                    return function(n, i, r, o) {
                        return i ? t.effects.animateClass.call(this, {
                            add: n
                        }, i, r, o) : e.apply(this, arguments)
                    }
                }(t.fn.addClass),
                removeClass: function(e) {
                    return function(n, i, r, o) {
                        return arguments.length > 1 ? t.effects.animateClass.call(this, {
                            remove: n
                        }, i, r, o) : e.apply(this, arguments)
                    }
                }(t.fn.removeClass),
                toggleClass: function(e) {
                    return function(n, i, r, o, s) {
                        return "boolean" == typeof i || void 0 === i ? r ? t.effects.animateClass.call(this, i ? {
                            add: n
                        } : {
                            remove: n
                        }, r, o, s) : e.apply(this, arguments) : t.effects.animateClass.call(this, {
                            toggle: n
                        }, i, r, o)
                    }
                }(t.fn.toggleClass),
                switchClass: function(e, n, i, r, o) {
                    return t.effects.animateClass.call(this, {
                        add: n,
                        remove: e
                    }, i, r, o)
                }
            })
        }(),
        function() {
            function e(e, n, i, r) {
                return t.isPlainObject(e) && (n = e, e = e.effect), e = {
                    effect: e
                }, null == n && (n = {}), t.isFunction(n) && (r = n, i = null, n = {}), ("number" == typeof n || t.fx.speeds[n]) && (r = i, i = n, n = {}), t.isFunction(i) && (r = i, i = null), n && t.extend(e, n), i = i || n.duration, e.duration = t.fx.off ? 0 : "number" == typeof i ? i : i in t.fx.speeds ? t.fx.speeds[i] : t.fx.speeds._default, e.complete = r || n.complete, e
            }

            function n(e) {
                return !(e && "number" != typeof e && !t.fx.speeds[e]) || ("string" == typeof e && !t.effects.effect[e] || (!!t.isFunction(e) || "object" == typeof e && !e.effect))
            }

            function i(t, e) {
                var n = e.outerWidth(),
                    i = e.outerHeight(),
                    r = /^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(t) || ["", 0, n, i, 0];
                return {
                    top: parseFloat(r[1]) || 0,
                    right: "auto" === r[2] ? n : parseFloat(r[2]),
                    bottom: "auto" === r[3] ? i : parseFloat(r[3]),
                    left: parseFloat(r[4]) || 0
                }
            }
            t.expr && t.expr.filters && t.expr.filters.animated && (t.expr.filters.animated = function(e) {
                return function(n) {
                    return !!t(n).data(h) || e(n)
                }
            }(t.expr.filters.animated)), !1 !== t.uiBackCompat && t.extend(t.effects, {
                save: function(t, e) {
                    for (var n = 0, i = e.length; i > n; n++) null !== e[n] && t.data(u + e[n], t[0].style[e[n]])
                },
                restore: function(t, e) {
                    for (var n, i = 0, r = e.length; r > i; i++) null !== e[i] && (n = t.data(u + e[i]), t.css(e[i], n))
                },
                setMode: function(t, e) {
                    return "toggle" === e && (e = t.is(":hidden") ? "show" : "hide"), e
                },
                createWrapper: function(e) {
                    if (e.parent().is(".ui-effects-wrapper")) return e.parent();
                    var n = {
                            width: e.outerWidth(!0),
                            height: e.outerHeight(!0),
                            float: e.css("float")
                        },
                        i = t("<div></div>").addClass("ui-effects-wrapper").css({
                            fontSize: "100%",
                            background: "transparent",
                            border: "none",
                            margin: 0,
                            padding: 0
                        }),
                        r = {
                            width: e.width(),
                            height: e.height()
                        },
                        o = document.activeElement;
                    try {
                        o.id
                    } catch (t) {
                        o = document.body
                    }
                    return e.wrap(i), (e[0] === o || t.contains(e[0], o)) && t(o).trigger("focus"), i = e.parent(), "static" === e.css("position") ? (i.css({
                        position: "relative"
                    }), e.css({
                        position: "relative"
                    })) : (t.extend(n, {
                        position: e.css("position"),
                        zIndex: e.css("z-index")
                    }), t.each(["top", "left", "bottom", "right"], (function(t, i) {
                        n[i] = e.css(i), isNaN(parseInt(n[i], 10)) && (n[i] = "auto")
                    })), e.css({
                        position: "relative",
                        top: 0,
                        left: 0,
                        right: "auto",
                        bottom: "auto"
                    })), e.css(r), i.css(n).show()
                },
                removeWrapper: function(e) {
                    var n = document.activeElement;
                    return e.parent().is(".ui-effects-wrapper") && (e.parent().replaceWith(e), (e[0] === n || t.contains(e[0], n)) && t(n).trigger("focus")), e
                }
            }), t.extend(t.effects, {
                version: "1.12.1",
                define: function(e, n, i) {
                    return i || (i = n, n = "effect"), t.effects.effect[e] = i, t.effects.effect[e].mode = n, i
                },
                scaledDimensions: function(t, e, n) {
                    if (0 === e) return {
                        height: 0,
                        width: 0,
                        outerHeight: 0,
                        outerWidth: 0
                    };
                    var i = "horizontal" !== n ? (e || 100) / 100 : 1,
                        r = "vertical" !== n ? (e || 100) / 100 : 1;
                    return {
                        height: t.height() * r,
                        width: t.width() * i,
                        outerHeight: t.outerHeight() * r,
                        outerWidth: t.outerWidth() * i
                    }
                },
                clipToBox: function(t) {
                    return {
                        width: t.clip.right - t.clip.left,
                        height: t.clip.bottom - t.clip.top,
                        left: t.clip.left,
                        top: t.clip.top
                    }
                },
                unshift: function(t, e, n) {
                    var i = t.queue();
                    e > 1 && i.splice.apply(i, [1, 0].concat(i.splice(e, n))), t.dequeue()
                },
                saveStyle: function(t) {
                    t.data(l, t[0].style.cssText)
                },
                restoreStyle: function(t) {
                    t[0].style.cssText = t.data(l) || "", t.removeData(l)
                },
                mode: function(t, e) {
                    var n = t.is(":hidden");
                    return "toggle" === e && (e = n ? "show" : "hide"), (n ? "hide" === e : "show" === e) && (e = "none"), e
                },
                getBaseline: function(t, e) {
                    var n, i;
                    switch (t[0]) {
                        case "top":
                            n = 0;
                            break;
                        case "middle":
                            n = .5;
                            break;
                        case "bottom":
                            n = 1;
                            break;
                        default:
                            n = t[0] / e.height
                    }
                    switch (t[1]) {
                        case "left":
                            i = 0;
                            break;
                        case "center":
                            i = .5;
                            break;
                        case "right":
                            i = 1;
                            break;
                        default:
                            i = t[1] / e.width
                    }
                    return {
                        x: i,
                        y: n
                    }
                },
                createPlaceholder: function(e) {
                    var n, i = e.css("position"),
                        r = e.position();
                    return e.css({
                        marginTop: e.css("marginTop"),
                        marginBottom: e.css("marginBottom"),
                        marginLeft: e.css("marginLeft"),
                        marginRight: e.css("marginRight")
                    }).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()), /^(static|relative)/.test(i) && (i = "absolute", n = t("<" + e[0].nodeName + ">").insertAfter(e).css({
                        display: /^(inline|ruby)/.test(e.css("display")) ? "inline-block" : "block",
                        visibility: "hidden",
                        marginTop: e.css("marginTop"),
                        marginBottom: e.css("marginBottom"),
                        marginLeft: e.css("marginLeft"),
                        marginRight: e.css("marginRight"),
                        float: e.css("float")
                    }).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"), e.data(u + "placeholder", n)), e.css({
                        position: i,
                        left: r.left,
                        top: r.top
                    }), n
                },
                removePlaceholder: function(t) {
                    var e = u + "placeholder",
                        n = t.data(e);
                    n && (n.remove(), t.removeData(e))
                },
                cleanUp: function(e) {
                    t.effects.restoreStyle(e), t.effects.removePlaceholder(e)
                },
                setTransition: function(e, n, i, r) {
                    return r = r || {}, t.each(n, (function(t, n) {
                        var o = e.cssUnit(n);
                        o[0] > 0 && (r[n] = o[0] * i + o[1])
                    })), r
                }
            }), t.fn.extend({
                effect: function() {
                    function n(e) {
                        function n() {
                            t.isFunction(u) && u.call(s[0]), t.isFunction(e) && e()
                        }
                        var s = t(this);
                        i.mode = c.shift(), !1 === t.uiBackCompat || o ? "none" === i.mode ? (s[l](), n()) : r.call(s[0], i, (function() {
                            s.removeData(h), t.effects.cleanUp(s), "hide" === i.mode && s.hide(), n()
                        })) : (s.is(":hidden") ? "hide" === l : "show" === l) ? (s[l](), n()) : r.call(s[0], i, n)
                    }
                    var i = e.apply(this, arguments),
                        r = t.effects.effect[i.effect],
                        o = r.mode,
                        s = i.queue,
                        a = s || "fx",
                        u = i.complete,
                        l = i.mode,
                        c = [],
                        d = function(e) {
                            var n = t(this),
                                i = t.effects.mode(n, l) || o;
                            n.data(h, !0), c.push(i), o && ("show" === i || i === o && "hide" === i) && n.show(), o && "none" === i || t.effects.saveStyle(n), t.isFunction(e) && e()
                        };
                    return t.fx.off || !r ? l ? this[l](i.duration, u) : this.each((function() {
                        u && u.call(this)
                    })) : !1 === s ? this.each(d).each(n) : this.queue(a, d).queue(a, n)
                },
                show: function(t) {
                    return function(i) {
                        if (n(i)) return t.apply(this, arguments);
                        var r = e.apply(this, arguments);
                        return r.mode = "show", this.effect.call(this, r)
                    }
                }(t.fn.show),
                hide: function(t) {
                    return function(i) {
                        if (n(i)) return t.apply(this, arguments);
                        var r = e.apply(this, arguments);
                        return r.mode = "hide", this.effect.call(this, r)
                    }
                }(t.fn.hide),
                toggle: function(t) {
                    return function(i) {
                        if (n(i) || "boolean" == typeof i) return t.apply(this, arguments);
                        var r = e.apply(this, arguments);
                        return r.mode = "toggle", this.effect.call(this, r)
                    }
                }(t.fn.toggle),
                cssUnit: function(e) {
                    var n = this.css(e),
                        i = [];
                    return t.each(["em", "px", "%", "pt"], (function(t, e) {
                        n.indexOf(e) > 0 && (i = [parseFloat(n), e])
                    })), i
                },
                cssClip: function(t) {
                    return t ? this.css("clip", "rect(" + t.top + "px " + t.right + "px " + t.bottom + "px " + t.left + "px)") : i(this.css("clip"), this)
                },
                transfer: function(e, n) {
                    var i = t(this),
                        r = t(e.to),
                        o = "fixed" === r.css("position"),
                        s = t("body"),
                        a = o ? s.scrollTop() : 0,
                        u = o ? s.scrollLeft() : 0,
                        l = r.offset(),
                        h = {
                            top: l.top - a,
                            left: l.left - u,
                            height: r.innerHeight(),
                            width: r.innerWidth()
                        },
                        c = i.offset(),
                        d = t("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(e.className).css({
                            top: c.top - a,
                            left: c.left - u,
                            height: i.innerHeight(),
                            width: i.innerWidth(),
                            position: o ? "fixed" : "absolute"
                        }).animate(h, e.duration, e.easing, (function() {
                            d.remove(), t.isFunction(n) && n()
                        }))
                }
            }), t.fx.step.clip = function(e) {
                e.clipInit || (e.start = t(e.elem).cssClip(), "string" == typeof e.end && (e.end = i(e.end, e.elem)), e.clipInit = !0), t(e.elem).cssClip({
                    top: e.pos * (e.end.top - e.start.top) + e.start.top,
                    right: e.pos * (e.end.right - e.start.right) + e.start.right,
                    bottom: e.pos * (e.end.bottom - e.start.bottom) + e.start.bottom,
                    left: e.pos * (e.end.left - e.start.left) + e.start.left
                })
            }
        }(),
        function() {
            var e = {};
            t.each(["Quad", "Cubic", "Quart", "Quint", "Expo"], (function(t, n) {
                e[n] = function(e) {
                    return Math.pow(e, t + 2)
                }
            })), t.extend(e, {
                Sine: function(t) {
                    return 1 - Math.cos(t * Math.PI / 2)
                },
                Circ: function(t) {
                    return 1 - Math.sqrt(1 - t * t)
                },
                Elastic: function(t) {
                    return 0 === t || 1 === t ? t : -Math.pow(2, 8 * (t - 1)) * Math.sin((80 * (t - 1) - 7.5) * Math.PI / 15)
                },
                Back: function(t) {
                    return t * t * (3 * t - 2)
                },
                Bounce: function(t) {
                    for (var e, n = 4;
                        ((e = Math.pow(2, --n)) - 1) / 11 > t;);
                    return 1 / Math.pow(4, 3 - n) - 7.5625 * Math.pow((3 * e - 2) / 22 - t, 2)
                }
            }), t.each(e, (function(e, n) {
                t.easing["easeIn" + e] = n, t.easing["easeOut" + e] = function(t) {
                    return 1 - n(1 - t)
                }, t.easing["easeInOut" + e] = function(t) {
                    return .5 > t ? n(2 * t) / 2 : 1 - n(-2 * t + 2) / 2
                }
            }))
        }();
    t.effects;
    t.effects.define("blind", "hide", (function(e, n) {
        var i = {
                up: ["bottom", "top"],
                vertical: ["bottom", "top"],
                down: ["top", "bottom"],
                left: ["right", "left"],
                horizontal: ["right", "left"],
                right: ["left", "right"]
            },
            r = t(this),
            o = e.direction || "up",
            s = r.cssClip(),
            a = {
                clip: t.extend({}, s)
            },
            u = t.effects.createPlaceholder(r);
        a.clip[i[o][0]] = a.clip[i[o][1]], "show" === e.mode && (r.cssClip(a.clip), u && u.css(t.effects.clipToBox(a)), a.clip = s), u && u.animate(t.effects.clipToBox(a), e.duration, e.easing), r.animate(a, {
            queue: !1,
            duration: e.duration,
            easing: e.easing,
            complete: n
        })
    })), t.effects.define("bounce", (function(e, n) {
        var i, r, o, s = t(this),
            a = e.mode,
            u = "hide" === a,
            l = "show" === a,
            h = e.direction || "up",
            c = e.distance,
            d = e.times || 5,
            p = 2 * d + (l || u ? 1 : 0),
            f = e.duration / p,
            g = e.easing,
            v = "up" === h || "down" === h ? "top" : "left",
            m = "up" === h || "left" === h,
            y = 0,
            _ = s.queue().length;
        for (t.effects.createPlaceholder(s), o = s.css(v), c || (c = s["top" === v ? "outerHeight" : "outerWidth"]() / 3), l && ((r = {
                opacity: 1
            })[v] = o, s.css("opacity", 0).css(v, m ? 2 * -c : 2 * c).animate(r, f, g)), u && (c /= Math.pow(2, d - 1)), (r = {})[v] = o; d > y; y++)(i = {})[v] = (m ? "-=" : "+=") + c, s.animate(i, f, g).animate(r, f, g), c = u ? 2 * c : c / 2;
        u && ((i = {
            opacity: 0
        })[v] = (m ? "-=" : "+=") + c, s.animate(i, f, g)), s.queue(n), t.effects.unshift(s, _, p + 1)
    })), t.effects.define("clip", "hide", (function(e, n) {
        var i, r = {},
            o = t(this),
            s = e.direction || "vertical",
            a = "both" === s,
            u = a || "horizontal" === s,
            l = a || "vertical" === s;
        i = o.cssClip(), r.clip = {
            top: l ? (i.bottom - i.top) / 2 : i.top,
            right: u ? (i.right - i.left) / 2 : i.right,
            bottom: l ? (i.bottom - i.top) / 2 : i.bottom,
            left: u ? (i.right - i.left) / 2 : i.left
        }, t.effects.createPlaceholder(o), "show" === e.mode && (o.cssClip(r.clip), r.clip = i), o.animate(r, {
            queue: !1,
            duration: e.duration,
            easing: e.easing,
            complete: n
        })
    })), t.effects.define("drop", "hide", (function(e, n) {
        var i, r = t(this),
            o = "show" === e.mode,
            s = e.direction || "left",
            a = "up" === s || "down" === s ? "top" : "left",
            u = "up" === s || "left" === s ? "-=" : "+=",
            l = "+=" === u ? "-=" : "+=",
            h = {
                opacity: 0
            };
        t.effects.createPlaceholder(r), i = e.distance || r["top" === a ? "outerHeight" : "outerWidth"](!0) / 2, h[a] = u + i, o && (r.css(h), h[a] = l + i, h.opacity = 1), r.animate(h, {
            queue: !1,
            duration: e.duration,
            easing: e.easing,
            complete: n
        })
    })), t.effects.define("explode", "hide", (function(e, n) {
        function i() {
            m.push(this), m.length === h * c && (d.css({
                visibility: "visible"
            }), t(m).remove(), n())
        }
        var r, o, s, a, u, l, h = e.pieces ? Math.round(Math.sqrt(e.pieces)) : 3,
            c = h,
            d = t(this),
            p = "show" === e.mode,
            f = d.show().css("visibility", "hidden").offset(),
            g = Math.ceil(d.outerWidth() / c),
            v = Math.ceil(d.outerHeight() / h),
            m = [];
        for (r = 0; h > r; r++)
            for (a = f.top + r * v, l = r - (h - 1) / 2, o = 0; c > o; o++) s = f.left + o * g, u = o - (c - 1) / 2, d.clone().appendTo("body").wrap("<div></div>").css({
                position: "absolute",
                visibility: "visible",
                left: -o * g,
                top: -r * v
            }).parent().addClass("ui-effects-explode").css({
                position: "absolute",
                overflow: "hidden",
                width: g,
                height: v,
                left: s + (p ? u * g : 0),
                top: a + (p ? l * v : 0),
                opacity: p ? 0 : 1
            }).animate({
                left: s + (p ? 0 : u * g),
                top: a + (p ? 0 : l * v),
                opacity: p ? 1 : 0
            }, e.duration || 500, e.easing, i)
    })), t.effects.define("fade", "toggle", (function(e, n) {
        var i = "show" === e.mode;
        t(this).css("opacity", i ? 0 : 1).animate({
            opacity: i ? 1 : 0
        }, {
            queue: !1,
            duration: e.duration,
            easing: e.easing,
            complete: n
        })
    })), t.effects.define("fold", "hide", (function(e, n) {
        var i = t(this),
            r = e.mode,
            o = "show" === r,
            s = "hide" === r,
            a = e.size || 15,
            u = /([0-9]+)%/.exec(a),
            l = !!e.horizFirst ? ["right", "bottom"] : ["bottom", "right"],
            h = e.duration / 2,
            c = t.effects.createPlaceholder(i),
            d = i.cssClip(),
            p = {
                clip: t.extend({}, d)
            },
            f = {
                clip: t.extend({}, d)
            },
            g = [d[l[0]], d[l[1]]],
            v = i.queue().length;
        u && (a = parseInt(u[1], 10) / 100 * g[s ? 0 : 1]), p.clip[l[0]] = a, f.clip[l[0]] = a, f.clip[l[1]] = 0, o && (i.cssClip(f.clip), c && c.css(t.effects.clipToBox(f)), f.clip = d), i.queue((function(n) {
            c && c.animate(t.effects.clipToBox(p), h, e.easing).animate(t.effects.clipToBox(f), h, e.easing), n()
        })).animate(p, h, e.easing).animate(f, h, e.easing).queue(n), t.effects.unshift(i, v, 4)
    })), t.effects.define("highlight", "show", (function(e, n) {
        var i = t(this),
            r = {
                backgroundColor: i.css("backgroundColor")
            };
        "hide" === e.mode && (r.opacity = 0), t.effects.saveStyle(i), i.css({
            backgroundImage: "none",
            backgroundColor: e.color || "#ffff99"
        }).animate(r, {
            queue: !1,
            duration: e.duration,
            easing: e.easing,
            complete: n
        })
    })), t.effects.define("size", (function(e, n) {
        var i, r, o, s = t(this),
            a = ["fontSize"],
            u = ["borderTopWidth", "borderBottomWidth", "paddingTop", "paddingBottom"],
            l = ["borderLeftWidth", "borderRightWidth", "paddingLeft", "paddingRight"],
            h = e.mode,
            c = "effect" !== h,
            d = e.scale || "both",
            p = e.origin || ["middle", "center"],
            f = s.css("position"),
            g = s.position(),
            v = t.effects.scaledDimensions(s),
            m = e.from || v,
            y = e.to || t.effects.scaledDimensions(s, 0);
        t.effects.createPlaceholder(s), "show" === h && (o = m, m = y, y = o), r = {
            from: {
                y: m.height / v.height,
                x: m.width / v.width
            },
            to: {
                y: y.height / v.height,
                x: y.width / v.width
            }
        }, ("box" === d || "both" === d) && (r.from.y !== r.to.y && (m = t.effects.setTransition(s, u, r.from.y, m), y = t.effects.setTransition(s, u, r.to.y, y)), r.from.x !== r.to.x && (m = t.effects.setTransition(s, l, r.from.x, m), y = t.effects.setTransition(s, l, r.to.x, y))), ("content" === d || "both" === d) && r.from.y !== r.to.y && (m = t.effects.setTransition(s, a, r.from.y, m), y = t.effects.setTransition(s, a, r.to.y, y)), p && (i = t.effects.getBaseline(p, v), m.top = (v.outerHeight - m.outerHeight) * i.y + g.top, m.left = (v.outerWidth - m.outerWidth) * i.x + g.left, y.top = (v.outerHeight - y.outerHeight) * i.y + g.top, y.left = (v.outerWidth - y.outerWidth) * i.x + g.left), s.css(m), ("content" === d || "both" === d) && (u = u.concat(["marginTop", "marginBottom"]).concat(a), l = l.concat(["marginLeft", "marginRight"]), s.find("*[width]").each((function() {
            var n = t(this),
                i = t.effects.scaledDimensions(n),
                o = {
                    height: i.height * r.from.y,
                    width: i.width * r.from.x,
                    outerHeight: i.outerHeight * r.from.y,
                    outerWidth: i.outerWidth * r.from.x
                },
                s = {
                    height: i.height * r.to.y,
                    width: i.width * r.to.x,
                    outerHeight: i.height * r.to.y,
                    outerWidth: i.width * r.to.x
                };
            r.from.y !== r.to.y && (o = t.effects.setTransition(n, u, r.from.y, o), s = t.effects.setTransition(n, u, r.to.y, s)), r.from.x !== r.to.x && (o = t.effects.setTransition(n, l, r.from.x, o), s = t.effects.setTransition(n, l, r.to.x, s)), c && t.effects.saveStyle(n), n.css(o), n.animate(s, e.duration, e.easing, (function() {
                c && t.effects.restoreStyle(n)
            }))
        }))), s.animate(y, {
            queue: !1,
            duration: e.duration,
            easing: e.easing,
            complete: function() {
                var e = s.offset();
                0 === y.opacity && s.css("opacity", m.opacity), c || (s.css("position", "static" === f ? "relative" : f).offset(e), t.effects.saveStyle(s)), n()
            }
        })
    })), t.effects.define("scale", (function(e, n) {
        var i = t(this),
            r = e.mode,
            o = parseInt(e.percent, 10) || (0 === parseInt(e.percent, 10) || "effect" !== r ? 0 : 100),
            s = t.extend(!0, {
                from: t.effects.scaledDimensions(i),
                to: t.effects.scaledDimensions(i, o, e.direction || "both"),
                origin: e.origin || ["middle", "center"]
            }, e);
        e.fade && (s.from.opacity = 1, s.to.opacity = 0), t.effects.effect.size.call(this, s, n)
    })), t.effects.define("puff", "hide", (function(e, n) {
        var i = t.extend(!0, {}, e, {
            fade: !0,
            percent: parseInt(e.percent, 10) || 150
        });
        t.effects.effect.scale.call(this, i, n)
    })), t.effects.define("pulsate", "show", (function(e, n) {
        var i = t(this),
            r = e.mode,
            o = "show" === r,
            s = o || "hide" === r,
            a = 2 * (e.times || 5) + (s ? 1 : 0),
            u = e.duration / a,
            l = 0,
            h = 1,
            c = i.queue().length;
        for ((o || !i.is(":visible")) && (i.css("opacity", 0).show(), l = 1); a > h; h++) i.animate({
            opacity: l
        }, u, e.easing), l = 1 - l;
        i.animate({
            opacity: l
        }, u, e.easing), i.queue(n), t.effects.unshift(i, c, a + 1)
    })), t.effects.define("shake", (function(e, n) {
        var i = 1,
            r = t(this),
            o = e.direction || "left",
            s = e.distance || 20,
            a = e.times || 3,
            u = 2 * a + 1,
            l = Math.round(e.duration / u),
            h = "up" === o || "down" === o ? "top" : "left",
            c = "up" === o || "left" === o,
            d = {},
            p = {},
            f = {},
            g = r.queue().length;
        for (t.effects.createPlaceholder(r), d[h] = (c ? "-=" : "+=") + s, p[h] = (c ? "+=" : "-=") + 2 * s, f[h] = (c ? "-=" : "+=") + 2 * s, r.animate(d, l, e.easing); a > i; i++) r.animate(p, l, e.easing).animate(f, l, e.easing);
        r.animate(p, l, e.easing).animate(d, l / 2, e.easing).queue(n), t.effects.unshift(r, g, u + 1)
    })), t.effects.define("slide", "show", (function(e, n) {
        var i, r, o = t(this),
            s = {
                up: ["bottom", "top"],
                down: ["top", "bottom"],
                left: ["right", "left"],
                right: ["left", "right"]
            },
            a = e.mode,
            u = e.direction || "left",
            l = "up" === u || "down" === u ? "top" : "left",
            h = "up" === u || "left" === u,
            c = e.distance || o["top" === l ? "outerHeight" : "outerWidth"](!0),
            d = {};
        t.effects.createPlaceholder(o), i = o.cssClip(), r = o.position()[l], d[l] = (h ? -1 : 1) * c + r, d.clip = o.cssClip(), d.clip[s[u][1]] = d.clip[s[u][0]], "show" === a && (o.cssClip(d.clip), o.css(l, d[l]), d.clip = i, d[l] = r), o.animate(d, {
            queue: !1,
            duration: e.duration,
            easing: e.easing,
            complete: n
        })
    })), !1 !== t.uiBackCompat && t.effects.define("transfer", (function(e, n) {
        t(this).transfer(e, n)
    })), t.ui.focusable = function(e, n) {
        var i, r, o, s, a, u = e.nodeName.toLowerCase();
        return "area" === u ? (r = (i = e.parentNode).name, !(!e.href || !r || "map" !== i.nodeName.toLowerCase()) && ((o = t("img[usemap='#" + r + "']")).length > 0 && o.is(":visible"))) : (/^(input|select|textarea|button|object)$/.test(u) ? (s = !e.disabled) && ((a = t(e).closest("fieldset")[0]) && (s = !a.disabled)) : s = "a" === u && e.href || n, s && t(e).is(":visible") && function(t) {
            for (var e = t.css("visibility");
                "inherit" === e;) e = (t = t.parent()).css("visibility");
            return "hidden" !== e
        }(t(e)))
    }, t.extend(t.expr[":"], {
        focusable: function(e) {
            return t.ui.focusable(e, null != t.attr(e, "tabindex"))
        }
    }), t.ui.focusable, t.fn.form = function() {
        return "string" == typeof this[0].form ? this.closest("form") : t(this[0].form)
    }, t.ui.formResetMixin = {
        _formResetHandler: function() {
            var e = t(this);
            setTimeout((function() {
                var n = e.data("ui-form-reset-instances");
                t.each(n, (function() {
                    this.refresh()
                }))
            }))
        },
        _bindFormResetHandler: function() {
            if (this.form = this.element.form(), this.form.length) {
                var t = this.form.data("ui-form-reset-instances") || [];
                t.length || this.form.on("reset.ui-form-reset", this._formResetHandler), t.push(this), this.form.data("ui-form-reset-instances", t)
            }
        },
        _unbindFormResetHandler: function() {
            if (this.form.length) {
                var e = this.form.data("ui-form-reset-instances");
                e.splice(t.inArray(this, e), 1), e.length ? this.form.data("ui-form-reset-instances", e) : this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")
            }
        }
    }, "1.7" === t.fn.jquery.substring(0, 3) && (t.each(["Width", "Height"], (function(e, n) {
        function i(e, n, i, o) {
            return t.each(r, (function() {
                n -= parseFloat(t.css(e, "padding" + this)) || 0, i && (n -= parseFloat(t.css(e, "border" + this + "Width")) || 0), o && (n -= parseFloat(t.css(e, "margin" + this)) || 0)
            })), n
        }
        var r = "Width" === n ? ["Left", "Right"] : ["Top", "Bottom"],
            o = n.toLowerCase(),
            s = {
                innerWidth: t.fn.innerWidth,
                innerHeight: t.fn.innerHeight,
                outerWidth: t.fn.outerWidth,
                outerHeight: t.fn.outerHeight
            };
        t.fn["inner" + n] = function(e) {
            return void 0 === e ? s["inner" + n].call(this) : this.each((function() {
                t(this).css(o, i(this, e) + "px")
            }))
        }, t.fn["outer" + n] = function(e, r) {
            return "number" != typeof e ? s["outer" + n].call(this, e) : this.each((function() {
                t(this).css(o, i(this, e, !0, r) + "px")
            }))
        }
    })), t.fn.addBack = function(t) {
        return this.add(null == t ? this.prevObject : this.prevObject.filter(t))
    }), t.ui.keyCode = {
        BACKSPACE: 8,
        COMMA: 188,
        DELETE: 46,
        DOWN: 40,
        END: 35,
        ENTER: 13,
        ESCAPE: 27,
        HOME: 36,
        LEFT: 37,
        PAGE_DOWN: 34,
        PAGE_UP: 33,
        PERIOD: 190,
        RIGHT: 39,
        SPACE: 32,
        TAB: 9,
        UP: 38
    }, t.ui.escapeSelector = function() {
        var t = /([!"#$%&'()*+,.\/:;<=>?@[\]^`{|}~])/g;
        return function(e) {
            return e.replace(t, "\\$1")
        }
    }(), t.fn.labels = function() {
        var e, n, i, r, o;
        return this[0].labels && this[0].labels.length ? this.pushStack(this[0].labels) : (r = this.eq(0).parents("label"), (i = this.attr("id")) && (o = (e = this.eq(0).parents().last()).add(e.length ? e.siblings() : this.siblings()), n = "label[for='" + t.ui.escapeSelector(i) + "']", r = r.add(o.find(n).addBack(n))), this.pushStack(r))
    }, t.fn.scrollParent = function(e) {
        var n = this.css("position"),
            i = "absolute" === n,
            r = e ? /(auto|scroll|hidden)/ : /(auto|scroll)/,
            o = this.parents().filter((function() {
                var e = t(this);
                return (!i || "static" !== e.css("position")) && r.test(e.css("overflow") + e.css("overflow-y") + e.css("overflow-x"))
            })).eq(0);
        return "fixed" !== n && o.length ? o : t(this[0].ownerDocument || document)
    }, t.extend(t.expr[":"], {
        tabbable: function(e) {
            var n = t.attr(e, "tabindex"),
                i = null != n;
            return (!i || n >= 0) && t.ui.focusable(e, i)
        }
    }), t.fn.extend({
        uniqueId: function() {
            var t = 0;
            return function() {
                return this.each((function() {
                    this.id || (this.id = "ui-id-" + ++t)
                }))
            }
        }(),
        removeUniqueId: function() {
            return this.each((function() {
                /^ui-id-\d+$/.test(this.id) && t(this).removeAttr("id")
            }))
        }
    }), t.widget("ui.accordion", {
        version: "1.12.1",
        options: {
            active: 0,
            animate: {},
            classes: {
                "ui-accordion-header": "ui-corner-top",
                "ui-accordion-header-collapsed": "ui-corner-all",
                "ui-accordion-content": "ui-corner-bottom"
            },
            collapsible: !1,
            event: "click",
            header: "> li > :first-child, > :not(li):even",
            heightStyle: "auto",
            icons: {
                activeHeader: "ui-icon-triangle-1-s",
                header: "ui-icon-triangle-1-e"
            },
            activate: null,
            beforeActivate: null
        },
        hideProps: {
            borderTopWidth: "hide",
            borderBottomWidth: "hide",
            paddingTop: "hide",
            paddingBottom: "hide",
            height: "hide"
        },
        showProps: {
            borderTopWidth: "show",
            borderBottomWidth: "show",
            paddingTop: "show",
            paddingBottom: "show",
            height: "show"
        },
        _create: function() {
            var e = this.options;
            this.prevShow = this.prevHide = t(), this._addClass("ui-accordion", "ui-widget ui-helper-reset"), this.element.attr("role", "tablist"), e.collapsible || !1 !== e.active && null != e.active || (e.active = 0), this._processPanels(), 0 > e.active && (e.active += this.headers.length), this._refresh()
        },
        _getCreateEventData: function() {
            return {
                header: this.active,
                panel: this.active.length ? this.active.next() : t()
            }
        },
        _createIcons: function() {
            var e, n, i = this.options.icons;
            i && (e = t("<span>"), this._addClass(e, "ui-accordion-header-icon", "ui-icon " + i.header), e.prependTo(this.headers), n = this.active.children(".ui-accordion-header-icon"), this._removeClass(n, i.header)._addClass(n, null, i.activeHeader)._addClass(this.headers, "ui-accordion-icons"))
        },
        _destroyIcons: function() {
            this._removeClass(this.headers, "ui-accordion-icons"), this.headers.children(".ui-accordion-header-icon").remove()
        },
        _destroy: function() {
            var t;
            this.element.removeAttr("role"), this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(), this._destroyIcons(), t = this.headers.next().css("display", "").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(), "content" !== this.options.heightStyle && t.css("height", "")
        },
        _setOption: function(t, e) {
            return "active" === t ? void this._activate(e) : ("event" === t && (this.options.event && this._off(this.headers, this.options.event), this._setupEvents(e)), this._super(t, e), "collapsible" !== t || e || !1 !== this.options.active || this._activate(0), void("icons" === t && (this._destroyIcons(), e && this._createIcons())))
        },
        _setOptionDisabled: function(t) {
            this._super(t), this.element.attr("aria-disabled", t), this._toggleClass(null, "ui-state-disabled", !!t), this._toggleClass(this.headers.add(this.headers.next()), null, "ui-state-disabled", !!t)
        },
        _keydown: function(e) {
            if (!e.altKey && !e.ctrlKey) {
                var n = t.ui.keyCode,
                    i = this.headers.length,
                    r = this.headers.index(e.target),
                    o = !1;
                switch (e.keyCode) {
                    case n.RIGHT:
                    case n.DOWN:
                        o = this.headers[(r + 1) % i];
                        break;
                    case n.LEFT:
                    case n.UP:
                        o = this.headers[(r - 1 + i) % i];
                        break;
                    case n.SPACE:
                    case n.ENTER:
                        this._eventHandler(e);
                        break;
                    case n.HOME:
                        o = this.headers[0];
                        break;
                    case n.END:
                        o = this.headers[i - 1]
                }
                o && (t(e.target).attr("tabIndex", -1), t(o).attr("tabIndex", 0), t(o).trigger("focus"), e.preventDefault())
            }
        },
        _panelKeyDown: function(e) {
            e.keyCode === t.ui.keyCode.UP && e.ctrlKey && t(e.currentTarget).prev().trigger("focus")
        },
        refresh: function() {
            var e = this.options;
            this._processPanels(), !1 === e.active && !0 === e.collapsible || !this.headers.length ? (e.active = !1, this.active = t()) : !1 === e.active ? this._activate(0) : this.active.length && !t.contains(this.element[0], this.active[0]) ? this.headers.length === this.headers.find(".ui-state-disabled").length ? (e.active = !1, this.active = t()) : this._activate(Math.max(0, e.active - 1)) : e.active = this.headers.index(this.active), this._destroyIcons(), this._refresh()
        },
        _processPanels: function() {
            var t = this.headers,
                e = this.panels;
            this.headers = this.element.find(this.options.header), this._addClass(this.headers, "ui-accordion-header ui-accordion-header-collapsed", "ui-state-default"), this.panels = this.headers.next().filter(":not(.ui-accordion-content-active)").hide(), this._addClass(this.panels, "ui-accordion-content", "ui-helper-reset ui-widget-content"), e && (this._off(t.not(this.headers)), this._off(e.not(this.panels)))
        },
        _refresh: function() {
            var e, n = this.options,
                i = n.heightStyle,
                r = this.element.parent();
            this.active = this._findActive(n.active), this._addClass(this.active, "ui-accordion-header-active", "ui-state-active")._removeClass(this.active, "ui-accordion-header-collapsed"), this._addClass(this.active.next(), "ui-accordion-content-active"), this.active.next().show(), this.headers.attr("role", "tab").each((function() {
                var e = t(this),
                    n = e.uniqueId().attr("id"),
                    i = e.next(),
                    r = i.uniqueId().attr("id");
                e.attr("aria-controls", r), i.attr("aria-labelledby", n)
            })).next().attr("role", "tabpanel"), this.headers.not(this.active).attr({
                "aria-selected": "false",
                "aria-expanded": "false",
                tabIndex: -1
            }).next().attr({
                "aria-hidden": "true"
            }).hide(), this.active.length ? this.active.attr({
                "aria-selected": "true",
                "aria-expanded": "true",
                tabIndex: 0
            }).next().attr({
                "aria-hidden": "false"
            }) : this.headers.eq(0).attr("tabIndex", 0), this._createIcons(), this._setupEvents(n.event), "fill" === i ? (e = r.height(), this.element.siblings(":visible").each((function() {
                var n = t(this),
                    i = n.css("position");
                "absolute" !== i && "fixed" !== i && (e -= n.outerHeight(!0))
            })), this.headers.each((function() {
                e -= t(this).outerHeight(!0)
            })), this.headers.next().each((function() {
                t(this).height(Math.max(0, e - t(this).innerHeight() + t(this).height()))
            })).css("overflow", "auto")) : "auto" === i && (e = 0, this.headers.next().each((function() {
                var n = t(this).is(":visible");
                n || t(this).show(), e = Math.max(e, t(this).css("height", "").height()), n || t(this).hide()
            })).height(e))
        },
        _activate: function(e) {
            var n = this._findActive(e)[0];
            n !== this.active[0] && (n = n || this.active[0], this._eventHandler({
                target: n,
                currentTarget: n,
                preventDefault: t.noop
            }))
        },
        _findActive: function(e) {
            return "number" == typeof e ? this.headers.eq(e) : t()
        },
        _setupEvents: function(e) {
            var n = {
                keydown: "_keydown"
            };
            e && t.each(e.split(" "), (function(t, e) {
                n[e] = "_eventHandler"
            })), this._off(this.headers.add(this.headers.next())), this._on(this.headers, n), this._on(this.headers.next(), {
                keydown: "_panelKeyDown"
            }), this._hoverable(this.headers), this._focusable(this.headers)
        },
        _eventHandler: function(e) {
            var n, i, r = this.options,
                o = this.active,
                s = t(e.currentTarget),
                a = s[0] === o[0],
                u = a && r.collapsible,
                l = u ? t() : s.next(),
                h = o.next(),
                c = {
                    oldHeader: o,
                    oldPanel: h,
                    newHeader: u ? t() : s,
                    newPanel: l
                };
            e.preventDefault(), a && !r.collapsible || !1 === this._trigger("beforeActivate", e, c) || (r.active = !u && this.headers.index(s), this.active = a ? t() : s, this._toggle(c), this._removeClass(o, "ui-accordion-header-active", "ui-state-active"), r.icons && (n = o.children(".ui-accordion-header-icon"), this._removeClass(n, null, r.icons.activeHeader)._addClass(n, null, r.icons.header)), a || (this._removeClass(s, "ui-accordion-header-collapsed")._addClass(s, "ui-accordion-header-active", "ui-state-active"), r.icons && (i = s.children(".ui-accordion-header-icon"), this._removeClass(i, null, r.icons.header)._addClass(i, null, r.icons.activeHeader)), this._addClass(s.next(), "ui-accordion-content-active")))
        },
        _toggle: function(e) {
            var n = e.newPanel,
                i = this.prevShow.length ? this.prevShow : e.oldPanel;
            this.prevShow.add(this.prevHide).stop(!0, !0), this.prevShow = n, this.prevHide = i, this.options.animate ? this._animate(n, i, e) : (i.hide(), n.show(), this._toggleComplete(e)), i.attr({
                "aria-hidden": "true"
            }), i.prev().attr({
                "aria-selected": "false",
                "aria-expanded": "false"
            }), n.length && i.length ? i.prev().attr({
                tabIndex: -1,
                "aria-expanded": "false"
            }) : n.length && this.headers.filter((function() {
                return 0 === parseInt(t(this).attr("tabIndex"), 10)
            })).attr("tabIndex", -1), n.attr("aria-hidden", "false").prev().attr({
                "aria-selected": "true",
                "aria-expanded": "true",
                tabIndex: 0
            })
        },
        _animate: function(t, e, n) {
            var i, r, o, s = this,
                a = 0,
                u = t.css("box-sizing"),
                l = t.length && (!e.length || t.index() < e.index()),
                h = this.options.animate || {},
                c = l && h.down || h,
                d = function() {
                    s._toggleComplete(n)
                };
            return "number" == typeof c && (o = c), "string" == typeof c && (r = c), r = r || c.easing || h.easing, o = o || c.duration || h.duration, e.length ? t.length ? (i = t.show().outerHeight(), e.animate(this.hideProps, {
                duration: o,
                easing: r,
                step: function(t, e) {
                    e.now = Math.round(t)
                }
            }), void t.hide().animate(this.showProps, {
                duration: o,
                easing: r,
                complete: d,
                step: function(t, n) {
                    n.now = Math.round(t), "height" !== n.prop ? "content-box" === u && (a += n.now) : "content" !== s.options.heightStyle && (n.now = Math.round(i - e.outerHeight() - a), a = 0)
                }
            })) : e.animate(this.hideProps, o, r, d) : t.animate(this.showProps, o, r, d)
        },
        _toggleComplete: function(t) {
            var e = t.oldPanel,
                n = e.prev();
            this._removeClass(e, "ui-accordion-content-active"), this._removeClass(n, "ui-accordion-header-active")._addClass(n, "ui-accordion-header-collapsed"), e.length && (e.parent()[0].className = e.parent()[0].className), this._trigger("activate", null, t)
        }
    }), t.ui.safeActiveElement = function(t) {
        var e;
        try {
            e = t.activeElement
        } catch (n) {
            e = t.body
        }
        return e || (e = t.body), e.nodeName || (e = t.body), e
    }, t.widget("ui.menu", {
        version: "1.12.1",
        defaultElement: "<ul>",
        delay: 300,
        options: {
            icons: {
                submenu: "ui-icon-caret-1-e"
            },
            items: "> *",
            menus: "ul",
            position: {
                my: "left top",
                at: "right top"
            },
            role: "menu",
            blur: null,
            focus: null,
            select: null
        },
        _create: function() {
            this.activeMenu = this.element, this.mouseHandled = !1, this.element.uniqueId().attr({
                role: this.options.role,
                tabIndex: 0
            }), this._addClass("ui-menu", "ui-widget ui-widget-content"), this._on({
                "mousedown .ui-menu-item": function(t) {
                    t.preventDefault()
                },
                "click .ui-menu-item": function(e) {
                    var n = t(e.target),
                        i = t(t.ui.safeActiveElement(this.document[0]));
                    !this.mouseHandled && n.not(".ui-state-disabled").length && (this.select(e), e.isPropagationStopped() || (this.mouseHandled = !0), n.has(".ui-menu").length ? this.expand(e) : !this.element.is(":focus") && i.closest(".ui-menu").length && (this.element.trigger("focus", [!0]), this.active && 1 === this.active.parents(".ui-menu").length && clearTimeout(this.timer)))
                },
                "mouseenter .ui-menu-item": function(e) {
                    if (!this.previousFilter) {
                        var n = t(e.target).closest(".ui-menu-item"),
                            i = t(e.currentTarget);
                        n[0] === i[0] && (this._removeClass(i.siblings().children(".ui-state-active"), null, "ui-state-active"), this.focus(e, i))
                    }
                },
                mouseleave: "collapseAll",
                "mouseleave .ui-menu": "collapseAll",
                focus: function(t, e) {
                    var n = this.active || this.element.find(this.options.items).eq(0);
                    e || this.focus(t, n)
                },
                blur: function(e) {
                    this._delay((function() {
                        !t.contains(this.element[0], t.ui.safeActiveElement(this.document[0])) && this.collapseAll(e)
                    }))
                },
                keydown: "_keydown"
            }), this.refresh(), this._on(this.document, {
                click: function(t) {
                    this._closeOnDocumentClick(t) && this.collapseAll(t), this.mouseHandled = !1
                }
            })
        },
        _destroy: function() {
            var e = this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");
            this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(), e.children().each((function() {
                var e = t(this);
                e.data("ui-menu-submenu-caret") && e.remove()
            }))
        },
        _keydown: function(e) {
            var n, i, r, o, s = !0;
            switch (e.keyCode) {
                case t.ui.keyCode.PAGE_UP:
                    this.previousPage(e);
                    break;
                case t.ui.keyCode.PAGE_DOWN:
                    this.nextPage(e);
                    break;
                case t.ui.keyCode.HOME:
                    this._move("first", "first", e);
                    break;
                case t.ui.keyCode.END:
                    this._move("last", "last", e);
                    break;
                case t.ui.keyCode.UP:
                    this.previous(e);
                    break;
                case t.ui.keyCode.DOWN:
                    this.next(e);
                    break;
                case t.ui.keyCode.LEFT:
                    this.collapse(e);
                    break;
                case t.ui.keyCode.RIGHT:
                    this.active && !this.active.is(".ui-state-disabled") && this.expand(e);
                    break;
                case t.ui.keyCode.ENTER:
                case t.ui.keyCode.SPACE:
                    this._activate(e);
                    break;
                case t.ui.keyCode.ESCAPE:
                    this.collapse(e);
                    break;
                default:
                    s = !1, i = this.previousFilter || "", o = !1, r = e.keyCode >= 96 && 105 >= e.keyCode ? "" + (e.keyCode - 96) : String.fromCharCode(e.keyCode), clearTimeout(this.filterTimer), r === i ? o = !0 : r = i + r, n = this._filterMenuItems(r), (n = o && -1 !== n.index(this.active.next()) ? this.active.nextAll(".ui-menu-item") : n).length || (r = String.fromCharCode(e.keyCode), n = this._filterMenuItems(r)), n.length ? (this.focus(e, n), this.previousFilter = r, this.filterTimer = this._delay((function() {
                        delete this.previousFilter
                    }), 1e3)) : delete this.previousFilter
            }
            s && e.preventDefault()
        },
        _activate: function(t) {
            this.active && !this.active.is(".ui-state-disabled") && (this.active.children("[aria-haspopup='true']").length ? this.expand(t) : this.select(t))
        },
        refresh: function() {
            var e, n, i, r, o = this,
                s = this.options.icons.submenu,
                a = this.element.find(this.options.menus);
            this._toggleClass("ui-menu-icons", null, !!this.element.find(".ui-icon").length), n = a.filter(":not(.ui-menu)").hide().attr({
                role: this.options.role,
                "aria-hidden": "true",
                "aria-expanded": "false"
            }).each((function() {
                var e = t(this),
                    n = e.prev(),
                    i = t("<span>").data("ui-menu-submenu-caret", !0);
                o._addClass(i, "ui-menu-icon", "ui-icon " + s), n.attr("aria-haspopup", "true").prepend(i), e.attr("aria-labelledby", n.attr("id"))
            })), this._addClass(n, "ui-menu", "ui-widget ui-widget-content ui-front"), (e = a.add(this.element).find(this.options.items)).not(".ui-menu-item").each((function() {
                var e = t(this);
                o._isDivider(e) && o._addClass(e, "ui-menu-divider", "ui-widget-content")
            })), r = (i = e.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({
                tabIndex: -1,
                role: this._itemRole()
            }), this._addClass(i, "ui-menu-item")._addClass(r, "ui-menu-item-wrapper"), e.filter(".ui-state-disabled").attr("aria-disabled", "true"), this.active && !t.contains(this.element[0], this.active[0]) && this.blur()
        },
        _itemRole: function() {
            return {
                menu: "menuitem",
                listbox: "option"
            } [this.options.role]
        },
        _setOption: function(t, e) {
            if ("icons" === t) {
                var n = this.element.find(".ui-menu-icon");
                this._removeClass(n, null, this.options.icons.submenu)._addClass(n, null, e.submenu)
            }
            this._super(t, e)
        },
        _setOptionDisabled: function(t) {
            this._super(t), this.element.attr("aria-disabled", t + ""), this._toggleClass(null, "ui-state-disabled", !!t)
        },
        focus: function(t, e) {
            var n, i, r;
            this.blur(t, t && "focus" === t.type), this._scrollIntoView(e), this.active = e.first(), i = this.active.children(".ui-menu-item-wrapper"), this._addClass(i, null, "ui-state-active"), this.options.role && this.element.attr("aria-activedescendant", i.attr("id")), r = this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"), this._addClass(r, null, "ui-state-active"), t && "keydown" === t.type ? this._close() : this.timer = this._delay((function() {
                this._close()
            }), this.delay), (n = e.children(".ui-menu")).length && t && /^mouse/.test(t.type) && this._startOpening(n), this.activeMenu = e.parent(), this._trigger("focus", t, {
                item: e
            })
        },
        _scrollIntoView: function(e) {
            var n, i, r, o, s, a;
            this._hasScroll() && (n = parseFloat(t.css(this.activeMenu[0], "borderTopWidth")) || 0, i = parseFloat(t.css(this.activeMenu[0], "paddingTop")) || 0, r = e.offset().top - this.activeMenu.offset().top - n - i, o = this.activeMenu.scrollTop(), s = this.activeMenu.height(), a = e.outerHeight(), 0 > r ? this.activeMenu.scrollTop(o + r) : r + a > s && this.activeMenu.scrollTop(o + r - s + a))
        },
        blur: function(t, e) {
            e || clearTimeout(this.timer), this.active && (this._removeClass(this.active.children(".ui-menu-item-wrapper"), null, "ui-state-active"), this._trigger("blur", t, {
                item: this.active
            }), this.active = null)
        },
        _startOpening: function(t) {
            clearTimeout(this.timer), "true" === t.attr("aria-hidden") && (this.timer = this._delay((function() {
                this._close(), this._open(t)
            }), this.delay))
        },
        _open: function(e) {
            var n = t.extend({
                of: this.active
            }, this.options.position);
            clearTimeout(this.timer), this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden", "true"), e.show().removeAttr("aria-hidden").attr("aria-expanded", "true").position(n)
        },
        collapseAll: function(e, n) {
            clearTimeout(this.timer), this.timer = this._delay((function() {
                var i = n ? this.element : t(e && e.target).closest(this.element.find(".ui-menu"));
                i.length || (i = this.element), this._close(i), this.blur(e), this._removeClass(i.find(".ui-state-active"), null, "ui-state-active"), this.activeMenu = i
            }), this.delay)
        },
        _close: function(t) {
            t || (t = this.active ? this.active.parent() : this.element), t.find(".ui-menu").hide().attr("aria-hidden", "true").attr("aria-expanded", "false")
        },
        _closeOnDocumentClick: function(e) {
            return !t(e.target).closest(".ui-menu").length
        },
        _isDivider: function(t) {
            return !/[^\-\u2014\u2013\s]/.test(t.text())
        },
        collapse: function(t) {
            var e = this.active && this.active.parent().closest(".ui-menu-item", this.element);
            e && e.length && (this._close(), this.focus(t, e))
        },
        expand: function(t) {
            var e = this.active && this.active.children(".ui-menu ").find(this.options.items).first();
            e && e.length && (this._open(e.parent()), this._delay((function() {
                this.focus(t, e)
            })))
        },
        next: function(t) {
            this._move("next", "first", t)
        },
        previous: function(t) {
            this._move("prev", "last", t)
        },
        isFirstItem: function() {
            return this.active && !this.active.prevAll(".ui-menu-item").length
        },
        isLastItem: function() {
            return this.active && !this.active.nextAll(".ui-menu-item").length
        },
        _move: function(t, e, n) {
            var i;
            this.active && (i = "first" === t || "last" === t ? this.active["first" === t ? "prevAll" : "nextAll"](".ui-menu-item").eq(-1) : this.active[t + "All"](".ui-menu-item").eq(0)), i && i.length && this.active || (i = this.activeMenu.find(this.options.items)[e]()), this.focus(n, i)
        },
        nextPage: function(e) {
            var n, i, r;
            return this.active ? void(this.isLastItem() || (this._hasScroll() ? (i = this.active.offset().top, r = this.element.height(), this.active.nextAll(".ui-menu-item").each((function() {
                return 0 > (n = t(this)).offset().top - i - r
            })), this.focus(e, n)) : this.focus(e, this.activeMenu.find(this.options.items)[this.active ? "last" : "first"]()))) : void this.next(e)
        },
        previousPage: function(e) {
            var n, i, r;
            return this.active ? void(this.isFirstItem() || (this._hasScroll() ? (i = this.active.offset().top, r = this.element.height(), this.active.prevAll(".ui-menu-item").each((function() {
                return (n = t(this)).offset().top - i + r > 0
            })), this.focus(e, n)) : this.focus(e, this.activeMenu.find(this.options.items).first()))) : void this.next(e)
        },
        _hasScroll: function() {
            return this.element.outerHeight() < this.element.prop("scrollHeight")
        },
        select: function(e) {
            this.active = this.active || t(e.target).closest(".ui-menu-item");
            var n = {
                item: this.active
            };
            this.active.has(".ui-menu").length || this.collapseAll(e, !0), this._trigger("select", e, n)
        },
        _filterMenuItems: function(e) {
            var n = e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&"),
                i = RegExp("^" + n, "i");
            return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter((function() {
                return i.test(t.trim(t(this).children(".ui-menu-item-wrapper").text()))
            }))
        }
    }), t.widget("ui.autocomplete", {
        version: "1.12.1",
        defaultElement: "<input>",
        options: {
            appendTo: null,
            autoFocus: !1,
            delay: 300,
            minLength: 1,
            position: {
                my: "left top",
                at: "left bottom",
                collision: "none"
            },
            source: null,
            change: null,
            close: null,
            focus: null,
            open: null,
            response: null,
            search: null,
            select: null
        },
        requestIndex: 0,
        pending: 0,
        _create: function() {
            var e, n, i, r = this.element[0].nodeName.toLowerCase(),
                o = "textarea" === r,
                s = "input" === r;
            this.isMultiLine = o || !s && this._isContentEditable(this.element), this.valueMethod = this.element[o || s ? "val" : "text"], this.isNewMenu = !0, this._addClass("ui-autocomplete-input"), this.element.attr("autocomplete", "off"), this._on(this.element, {
                keydown: function(r) {
                    if (this.element.prop("readOnly")) return e = !0, i = !0, void(n = !0);
                    e = !1, i = !1, n = !1;
                    var o = t.ui.keyCode;
                    switch (r.keyCode) {
                        case o.PAGE_UP:
                            e = !0, this._move("previousPage", r);
                            break;
                        case o.PAGE_DOWN:
                            e = !0, this._move("nextPage", r);
                            break;
                        case o.UP:
                            e = !0, this._keyEvent("previous", r);
                            break;
                        case o.DOWN:
                            e = !0, this._keyEvent("next", r);
                            break;
                        case o.ENTER:
                            this.menu.active && (e = !0, r.preventDefault(), this.menu.select(r));
                            break;
                        case o.TAB:
                            this.menu.active && this.menu.select(r);
                            break;
                        case o.ESCAPE:
                            this.menu.element.is(":visible") && (this.isMultiLine || this._value(this.term), this.close(r), r.preventDefault());
                            break;
                        default:
                            n = !0, this._searchTimeout(r)
                    }
                },
                keypress: function(i) {
                    if (e) return e = !1, void((!this.isMultiLine || this.menu.element.is(":visible")) && i.preventDefault());
                    if (!n) {
                        var r = t.ui.keyCode;
                        switch (i.keyCode) {
                            case r.PAGE_UP:
                                this._move("previousPage", i);
                                break;
                            case r.PAGE_DOWN:
                                this._move("nextPage", i);
                                break;
                            case r.UP:
                                this._keyEvent("previous", i);
                                break;
                            case r.DOWN:
                                this._keyEvent("next", i)
                        }
                    }
                },
                input: function(t) {
                    return i ? (i = !1, void t.preventDefault()) : void this._searchTimeout(t)
                },
                focus: function() {
                    this.selectedItem = null, this.previous = this._value()
                },
                blur: function(t) {
                    return this.cancelBlur ? void delete this.cancelBlur : (clearTimeout(this.searching), this.close(t), void this._change(t))
                }
            }), this._initSource(), this.menu = t("<ul>").appendTo(this._appendTo()).menu({
                role: null
            }).hide().menu("instance"), this._addClass(this.menu.element, "ui-autocomplete", "ui-front"), this._on(this.menu.element, {
                mousedown: function(e) {
                    e.preventDefault(), this.cancelBlur = !0, this._delay((function() {
                        delete this.cancelBlur, this.element[0] !== t.ui.safeActiveElement(this.document[0]) && this.element.trigger("focus")
                    }))
                },
                menufocus: function(e, n) {
                    var i, r;
                    return this.isNewMenu && (this.isNewMenu = !1, e.originalEvent && /^mouse/.test(e.originalEvent.type)) ? (this.menu.blur(), void this.document.one("mousemove", (function() {
                        t(e.target).trigger(e.originalEvent)
                    }))) : (r = n.item.data("ui-autocomplete-item"), !1 !== this._trigger("focus", e, {
                        item: r
                    }) && e.originalEvent && /^key/.test(e.originalEvent.type) && this._value(r.value), void((i = n.item.attr("aria-label") || r.value) && t.trim(i).length && (this.liveRegion.children().hide(), t("<div>").text(i).appendTo(this.liveRegion))))
                },
                menuselect: function(e, n) {
                    var i = n.item.data("ui-autocomplete-item"),
                        r = this.previous;
                    this.element[0] !== t.ui.safeActiveElement(this.document[0]) && (this.element.trigger("focus"), this.previous = r, this._delay((function() {
                        this.previous = r, this.selectedItem = i
                    }))), !1 !== this._trigger("select", e, {
                        item: i
                    }) && this._value(i.value), this.term = this._value(), this.close(e), this.selectedItem = i
                }
            }), this.liveRegion = t("<div>", {
                role: "status",
                "aria-live": "assertive",
                "aria-relevant": "additions"
            }).appendTo(this.document[0].body), this._addClass(this.liveRegion, null, "ui-helper-hidden-accessible"), this._on(this.window, {
                beforeunload: function() {
                    this.element.removeAttr("autocomplete")
                }
            })
        },
        _destroy: function() {
            clearTimeout(this.searching), this.element.removeAttr("autocomplete"), this.menu.element.remove(), this.liveRegion.remove()
        },
        _setOption: function(t, e) {
            this._super(t, e), "source" === t && this._initSource(), "appendTo" === t && this.menu.element.appendTo(this._appendTo()), "disabled" === t && e && this.xhr && this.xhr.abort()
        },
        _isEventTargetInWidget: function(e) {
            var n = this.menu.element[0];
            return e.target === this.element[0] || e.target === n || t.contains(n, e.target)
        },
        _closeOnClickOutside: function(t) {
            this._isEventTargetInWidget(t) || this.close()
        },
        _appendTo: function() {
            var e = this.options.appendTo;
            return e && (e = e.jquery || e.nodeType ? t(e) : this.document.find(e).eq(0)), e && e[0] || (e = this.element.closest(".ui-front, dialog")), e.length || (e = this.document[0].body), e
        },
        _initSource: function() {
            var e, n, i = this;
            t.isArray(this.options.source) ? (e = this.options.source, this.source = function(n, i) {
                i(t.ui.autocomplete.filter(e, n.term))
            }) : "string" == typeof this.options.source ? (n = this.options.source, this.source = function(e, r) {
                i.xhr && i.xhr.abort(), i.xhr = t.ajax({
                    url: n,
                    data: e,
                    dataType: "json",
                    success: function(t) {
                        r(t)
                    },
                    error: function() {
                        r([])
                    }
                })
            }) : this.source = this.options.source
        },
        _searchTimeout: function(t) {
            clearTimeout(this.searching), this.searching = this._delay((function() {
                var e = this.term === this._value(),
                    n = this.menu.element.is(":visible"),
                    i = t.altKey || t.ctrlKey || t.metaKey || t.shiftKey;
                (!e || e && !n && !i) && (this.selectedItem = null, this.search(null, t))
            }), this.options.delay)
        },
        search: function(t, e) {
            return t = null != t ? t : this._value(), this.term = this._value(), t.length < this.options.minLength ? this.close(e) : !1 !== this._trigger("search", e) ? this._search(t) : void 0
        },
        _search: function(t) {
            this.pending++, this._addClass("ui-autocomplete-loading"), this.cancelSearch = !1, this.source({
                term: t
            }, this._response())
        },
        _response: function() {
            var e = ++this.requestIndex;
            return t.proxy((function(t) {
                e === this.requestIndex && this.__response(t), this.pending--, this.pending || this._removeClass("ui-autocomplete-loading")
            }), this)
        },
        __response: function(t) {
            t && (t = this._normalize(t)), this._trigger("response", null, {
                content: t
            }), !this.options.disabled && t && t.length && !this.cancelSearch ? (this._suggest(t), this._trigger("open")) : this._close()
        },
        close: function(t) {
            this.cancelSearch = !0, this._close(t)
        },
        _close: function(t) {
            this._off(this.document, "mousedown"), this.menu.element.is(":visible") && (this.menu.element.hide(), this.menu.blur(), this.isNewMenu = !0, this._trigger("close", t))
        },
        _change: function(t) {
            this.previous !== this._value() && this._trigger("change", t, {
                item: this.selectedItem
            })
        },
        _normalize: function(e) {
            return e.length && e[0].label && e[0].value ? e : t.map(e, (function(e) {
                return "string" == typeof e ? {
                    label: e,
                    value: e
                } : t.extend({}, e, {
                    label: e.label || e.value,
                    value: e.value || e.label
                })
            }))
        },
        _suggest: function(e) {
            var n = this.menu.element.empty();
            this._renderMenu(n, e), this.isNewMenu = !0, this.menu.refresh(), n.show(), this._resizeMenu(), n.position(t.extend({
                of: this.element
            }, this.options.position)), this.options.autoFocus && this.menu.next(), this._on(this.document, {
                mousedown: "_closeOnClickOutside"
            })
        },
        _resizeMenu: function() {
            var t = this.menu.element;
            t.outerWidth(Math.max(t.width("").outerWidth() + 1, this.element.outerWidth()))
        },
        _renderMenu: function(e, n) {
            var i = this;
            t.each(n, (function(t, n) {
                i._renderItemData(e, n)
            }))
        },
        _renderItemData: function(t, e) {
            return this._renderItem(t, e).data("ui-autocomplete-item", e)
        },
        _renderItem: function(e, n) {
            return t("<li>").append(t("<div>").text(n.label)).appendTo(e)
        },
        _move: function(t, e) {
            return this.menu.element.is(":visible") ? this.menu.isFirstItem() && /^previous/.test(t) || this.menu.isLastItem() && /^next/.test(t) ? (this.isMultiLine || this._value(this.term), void this.menu.blur()) : void this.menu[t](e) : void this.search(null, e)
        },
        widget: function() {
            return this.menu.element
        },
        _value: function() {
            return this.valueMethod.apply(this.element, arguments)
        },
        _keyEvent: function(t, e) {
            (!this.isMultiLine || this.menu.element.is(":visible")) && (this._move(t, e), e.preventDefault())
        },
        _isContentEditable: function(t) {
            if (!t.length) return !1;
            var e = t.prop("contentEditable");
            return "inherit" === e ? this._isContentEditable(t.parent()) : "true" === e
        }
    }), t.extend(t.ui.autocomplete, {
        escapeRegex: function(t) {
            return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&")
        },
        filter: function(e, n) {
            var i = RegExp(t.ui.autocomplete.escapeRegex(n), "i");
            return t.grep(e, (function(t) {
                return i.test(t.label || t.value || t)
            }))
        }
    }), t.widget("ui.autocomplete", t.ui.autocomplete, {
        options: {
            messages: {
                noResults: "No search results.",
                results: function(t) {
                    return t + (t > 1 ? " results are" : " result is") + " available, use up and down arrow keys to navigate."
                }
            }
        },
        __response: function(e) {
            var n;
            this._superApply(arguments), this.options.disabled || this.cancelSearch || (n = e && e.length ? this.options.messages.results(e.length) : this.options.messages.noResults, this.liveRegion.children().hide(), t("<div>").text(n).appendTo(this.liveRegion))
        }
    }), t.ui.autocomplete;
    var d, p = /ui-corner-([a-z]){2,6}/g;
    t.widget("ui.controlgroup", {
        version: "1.12.1",
        defaultElement: "<div>",
        options: {
            direction: "horizontal",
            disabled: null,
            onlyVisible: !0,
            items: {
                button: "input[type=button], input[type=submit], input[type=reset], button, a",
                controlgroupLabel: ".ui-controlgroup-label",
                checkboxradio: "input[type='checkbox'], input[type='radio']",
                selectmenu: "select",
                spinner: ".ui-spinner-input"
            }
        },
        _create: function() {
            this._enhance()
        },
        _enhance: function() {
            this.element.attr("role", "toolbar"), this.refresh()
        },
        _destroy: function() {
            this._callChildMethod("destroy"), this.childWidgets.removeData("ui-controlgroup-data"), this.element.removeAttr("role"), this.options.items.controlgroupLabel && this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()
        },
        _initWidgets: function() {
            var e = this,
                n = [];
            t.each(this.options.items, (function(i, r) {
                var o, s = {};
                return r ? "controlgroupLabel" === i ? ((o = e.element.find(r)).each((function() {
                    var e = t(this);
                    e.children(".ui-controlgroup-label-contents").length || e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")
                })), e._addClass(o, null, "ui-widget ui-widget-content ui-state-default"), void(n = n.concat(o.get()))) : void(t.fn[i] && (s = e["_" + i + "Options"] ? e["_" + i + "Options"]("middle") : {
                    classes: {}
                }, e.element.find(r).each((function() {
                    var r = t(this),
                        o = r[i]("instance"),
                        a = t.widget.extend({}, s);
                    if ("button" !== i || !r.parent(".ui-spinner").length) {
                        o || (o = r[i]()[i]("instance")), o && (a.classes = e._resolveClassesValues(a.classes, o)), r[i](a);
                        var u = r[i]("widget");
                        t.data(u[0], "ui-controlgroup-data", o || r[i]("instance")), n.push(u[0])
                    }
                })))) : void 0
            })), this.childWidgets = t(t.unique(n)), this._addClass(this.childWidgets, "ui-controlgroup-item")
        },
        _callChildMethod: function(e) {
            this.childWidgets.each((function() {
                var n = t(this).data("ui-controlgroup-data");
                n && n[e] && n[e]()
            }))
        },
        _updateCornerClass: function(t, e) {
            var n = this._buildSimpleOptions(e, "label").classes.label;
            this._removeClass(t, null, "ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"), this._addClass(t, null, n)
        },
        _buildSimpleOptions: function(t, e) {
            var n = "vertical" === this.options.direction,
                i = {
                    classes: {}
                };
            return i.classes[e] = {
                middle: "",
                first: "ui-corner-" + (n ? "top" : "left"),
                last: "ui-corner-" + (n ? "bottom" : "right"),
                only: "ui-corner-all"
            } [t], i
        },
        _spinnerOptions: function(t) {
            var e = this._buildSimpleOptions(t, "ui-spinner");
            return e.classes["ui-spinner-up"] = "", e.classes["ui-spinner-down"] = "", e
        },
        _buttonOptions: function(t) {
            return this._buildSimpleOptions(t, "ui-button")
        },
        _checkboxradioOptions: function(t) {
            return this._buildSimpleOptions(t, "ui-checkboxradio-label")
        },
        _selectmenuOptions: function(t) {
            var e = "vertical" === this.options.direction;
            return {
                width: !!e && "auto",
                classes: {
                    middle: {
                        "ui-selectmenu-button-open": "",
                        "ui-selectmenu-button-closed": ""
                    },
                    first: {
                        "ui-selectmenu-button-open": "ui-corner-" + (e ? "top" : "tl"),
                        "ui-selectmenu-button-closed": "ui-corner-" + (e ? "top" : "left")
                    },
                    last: {
                        "ui-selectmenu-button-open": e ? "" : "ui-corner-tr",
                        "ui-selectmenu-button-closed": "ui-corner-" + (e ? "bottom" : "right")
                    },
                    only: {
                        "ui-selectmenu-button-open": "ui-corner-top",
                        "ui-selectmenu-button-closed": "ui-corner-all"
                    }
                } [t]
            }
        },
        _resolveClassesValues: function(e, n) {
            var i = {};
            return t.each(e, (function(r) {
                var o = n.options.classes[r] || "";
                o = t.trim(o.replace(p, "")), i[r] = (o + " " + e[r]).replace(/\s+/g, " ")
            })), i
        },
        _setOption: function(t, e) {
            return "direction" === t && this._removeClass("ui-controlgroup-" + this.options.direction), this._super(t, e), "disabled" === t ? void this._callChildMethod(e ? "disable" : "enable") : void this.refresh()
        },
        refresh: function() {
            var e, n = this;
            this._addClass("ui-controlgroup ui-controlgroup-" + this.options.direction), "horizontal" === this.options.direction && this._addClass(null, "ui-helper-clearfix"), this._initWidgets(), e = this.childWidgets, this.options.onlyVisible && (e = e.filter(":visible")), e.length && (t.each(["first", "last"], (function(t, i) {
                var r = e[i]().data("ui-controlgroup-data");
                if (r && n["_" + r.widgetName + "Options"]) {
                    var o = n["_" + r.widgetName + "Options"](1 === e.length ? "only" : i);
                    o.classes = n._resolveClassesValues(o.classes, r), r.element[r.widgetName](o)
                } else n._updateCornerClass(e[i](), i)
            })), this._callChildMethod("refresh"))
        }
    }), t.widget("ui.checkboxradio", [t.ui.formResetMixin, {
        version: "1.12.1",
        options: {
            disabled: null,
            label: null,
            icon: !0,
            classes: {
                "ui-checkboxradio-label": "ui-corner-all",
                "ui-checkboxradio-icon": "ui-corner-all"
            }
        },
        _getCreateOptions: function() {
            var e, n, i = this,
                r = this._super() || {};
            return this._readType(), n = this.element.labels(), this.label = t(n[n.length - 1]), this.label.length || t.error("No label found for checkboxradio widget"), this.originalLabel = "", this.label.contents().not(this.element[0]).each((function() {
                i.originalLabel += 3 === this.nodeType ? t(this).text() : this.outerHTML
            })), this.originalLabel && (r.label = this.originalLabel), null != (e = this.element[0].disabled) && (r.disabled = e), r
        },
        _create: function() {
            var t = this.element[0].checked;
            this._bindFormResetHandler(), null == this.options.disabled && (this.options.disabled = this.element[0].disabled), this._setOption("disabled", this.options.disabled), this._addClass("ui-checkboxradio", "ui-helper-hidden-accessible"), this._addClass(this.label, "ui-checkboxradio-label", "ui-button ui-widget"), "radio" === this.type && this._addClass(this.label, "ui-checkboxradio-radio-label"), this.options.label && this.options.label !== this.originalLabel ? this._updateLabel() : this.originalLabel && (this.options.label = this.originalLabel), this._enhance(), t && (this._addClass(this.label, "ui-checkboxradio-checked", "ui-state-active"), this.icon && this._addClass(this.icon, null, "ui-state-hover")), this._on({
                change: "_toggleClasses",
                focus: function() {
                    this._addClass(this.label, null, "ui-state-focus ui-visual-focus")
                },
                blur: function() {
                    this._removeClass(this.label, null, "ui-state-focus ui-visual-focus")
                }
            })
        },
        _readType: function() {
            var e = this.element[0].nodeName.toLowerCase();
            this.type = this.element[0].type, "input" === e && /radio|checkbox/.test(this.type) || t.error("Can't create checkboxradio on element.nodeName=" + e + " and element.type=" + this.type)
        },
        _enhance: function() {
            this._updateIcon(this.element[0].checked)
        },
        widget: function() {
            return this.label
        },
        _getRadioGroup: function() {
            var e = this.element[0].name,
                n = "input[name='" + t.ui.escapeSelector(e) + "']";
            return e ? (this.form.length ? t(this.form[0].elements).filter(n) : t(n).filter((function() {
                return 0 === t(this).form().length
            }))).not(this.element) : t([])
        },
        _toggleClasses: function() {
            var e = this.element[0].checked;
            this._toggleClass(this.label, "ui-checkboxradio-checked", "ui-state-active", e), this.options.icon && "checkbox" === this.type && this._toggleClass(this.icon, null, "ui-icon-check ui-state-checked", e)._toggleClass(this.icon, null, "ui-icon-blank", !e), "radio" === this.type && this._getRadioGroup().each((function() {
                var e = t(this).checkboxradio("instance");
                e && e._removeClass(e.label, "ui-checkboxradio-checked", "ui-state-active")
            }))
        },
        _destroy: function() {
            this._unbindFormResetHandler(), this.icon && (this.icon.remove(), this.iconSpace.remove())
        },
        _setOption: function(t, e) {
            return "label" !== t || e ? (this._super(t, e), "disabled" === t ? (this._toggleClass(this.label, null, "ui-state-disabled", e), void(this.element[0].disabled = e)) : void this.refresh()) : void 0
        },
        _updateIcon: function(e) {
            var n = "ui-icon ui-icon-background ";
            this.options.icon ? (this.icon || (this.icon = t("<span>"), this.iconSpace = t("<span> </span>"), this._addClass(this.iconSpace, "ui-checkboxradio-icon-space")), "checkbox" === this.type ? (n += e ? "ui-icon-check ui-state-checked" : "ui-icon-blank", this._removeClass(this.icon, null, e ? "ui-icon-blank" : "ui-icon-check")) : n += "ui-icon-blank", this._addClass(this.icon, "ui-checkboxradio-icon", n), e || this._removeClass(this.icon, null, "ui-icon-check ui-state-checked"), this.icon.prependTo(this.label).after(this.iconSpace)) : void 0 !== this.icon && (this.icon.remove(), this.iconSpace.remove(), delete this.icon)
        },
        _updateLabel: function() {
            var t = this.label.contents().not(this.element[0]);
            this.icon && (t = t.not(this.icon[0])), this.iconSpace && (t = t.not(this.iconSpace[0])), t.remove(), this.label.append(this.options.label)
        },
        refresh: function() {
            var t = this.element[0].checked,
                e = this.element[0].disabled;
            this._updateIcon(t), this._toggleClass(this.label, "ui-checkboxradio-checked", "ui-state-active", t), null !== this.options.label && this._updateLabel(), e !== this.options.disabled && this._setOptions({
                disabled: e
            })
        }
    }]), t.ui.checkboxradio, t.widget("ui.button", {
        version: "1.12.1",
        defaultElement: "<button>",
        options: {
            classes: {
                "ui-button": "ui-corner-all"
            },
            disabled: null,
            icon: null,
            iconPosition: "beginning",
            label: null,
            showLabel: !0
        },
        _getCreateOptions: function() {
            var t, e = this._super() || {};
            return this.isInput = this.element.is("input"), null != (t = this.element[0].disabled) && (e.disabled = t), this.originalLabel = this.isInput ? this.element.val() : this.element.html(), this.originalLabel && (e.label = this.originalLabel), e
        },
        _create: function() {
            !this.option.showLabel & !this.options.icon && (this.options.showLabel = !0), null == this.options.disabled && (this.options.disabled = this.element[0].disabled || !1), this.hasTitle = !!this.element.attr("title"), this.options.label && this.options.label !== this.originalLabel && (this.isInput ? this.element.val(this.options.label) : this.element.html(this.options.label)), this._addClass("ui-button", "ui-widget"), this._setOption("disabled", this.options.disabled), this._enhance(), this.element.is("a") && this._on({
                keyup: function(e) {
                    e.keyCode === t.ui.keyCode.SPACE && (e.preventDefault(), this.element[0].click ? this.element[0].click() : this.element.trigger("click"))
                }
            })
        },
        _enhance: function() {
            this.element.is("button") || this.element.attr("role", "button"), this.options.icon && (this._updateIcon("icon", this.options.icon), this._updateTooltip())
        },
        _updateTooltip: function() {
            this.title = this.element.attr("title"), this.options.showLabel || this.title || this.element.attr("title", this.options.label)
        },
        _updateIcon: function(e, n) {
            var i = "iconPosition" !== e,
                r = i ? this.options.iconPosition : n,
                o = "top" === r || "bottom" === r;
            this.icon ? i && this._removeClass(this.icon, null, this.options.icon) : (this.icon = t("<span>"), this._addClass(this.icon, "ui-button-icon", "ui-icon"), this.options.showLabel || this._addClass("ui-button-icon-only")), i && this._addClass(this.icon, null, n), this._attachIcon(r), o ? (this._addClass(this.icon, null, "ui-widget-icon-block"), this.iconSpace && this.iconSpace.remove()) : (this.iconSpace || (this.iconSpace = t("<span> </span>"), this._addClass(this.iconSpace, "ui-button-icon-space")), this._removeClass(this.icon, null, "ui-wiget-icon-block"), this._attachIconSpace(r))
        },
        _destroy: function() {
            this.element.removeAttr("role"), this.icon && this.icon.remove(), this.iconSpace && this.iconSpace.remove(), this.hasTitle || this.element.removeAttr("title")
        },
        _attachIconSpace: function(t) {
            this.icon[/^(?:end|bottom)/.test(t) ? "before" : "after"](this.iconSpace)
        },
        _attachIcon: function(t) {
            this.element[/^(?:end|bottom)/.test(t) ? "append" : "prepend"](this.icon)
        },
        _setOptions: function(t) {
            var e = void 0 === t.showLabel ? this.options.showLabel : t.showLabel,
                n = void 0 === t.icon ? this.options.icon : t.icon;
            e || n || (t.showLabel = !0), this._super(t)
        },
        _setOption: function(t, e) {
            "icon" === t && (e ? this._updateIcon(t, e) : this.icon && (this.icon.remove(), this.iconSpace && this.iconSpace.remove())), "iconPosition" === t && this._updateIcon(t, e), "showLabel" === t && (this._toggleClass("ui-button-icon-only", null, !e), this._updateTooltip()), "label" === t && (this.isInput ? this.element.val(e) : (this.element.html(e), this.icon && (this._attachIcon(this.options.iconPosition), this._attachIconSpace(this.options.iconPosition)))), this._super(t, e), "disabled" === t && (this._toggleClass(null, "ui-state-disabled", e), this.element[0].disabled = e, e && this.element.blur())
        },
        refresh: function() {
            var t = this.element.is("input, button") ? this.element[0].disabled : this.element.hasClass("ui-button-disabled");
            t !== this.options.disabled && this._setOptions({
                disabled: t
            }), this._updateTooltip()
        }
    }), !1 !== t.uiBackCompat && (t.widget("ui.button", t.ui.button, {
        options: {
            text: !0,
            icons: {
                primary: null,
                secondary: null
            }
        },
        _create: function() {
            this.options.showLabel && !this.options.text && (this.options.showLabel = this.options.text), !this.options.showLabel && this.options.text && (this.options.text = this.options.showLabel), this.options.icon || !this.options.icons.primary && !this.options.icons.secondary ? this.options.icon && (this.options.icons.primary = this.options.icon) : this.options.icons.primary ? this.options.icon = this.options.icons.primary : (this.options.icon = this.options.icons.secondary, this.options.iconPosition = "end"), this._super()
        },
        _setOption: function(t, e) {
            return "text" === t ? void this._super("showLabel", e) : ("showLabel" === t && (this.options.text = e), "icon" === t && (this.options.icons.primary = e), "icons" === t && (e.primary ? (this._super("icon", e.primary), this._super("iconPosition", "beginning")) : e.secondary && (this._super("icon", e.secondary), this._super("iconPosition", "end"))), void this._superApply(arguments))
        }
    }), t.fn.button = function(e) {
        return function() {
            return !this.length || this.length && "INPUT" !== this[0].tagName || this.length && "INPUT" === this[0].tagName && "checkbox" !== this.attr("type") && "radio" !== this.attr("type") ? e.apply(this, arguments) : (t.ui.checkboxradio || t.error("Checkboxradio widget missing"), 0 === arguments.length ? this.checkboxradio({
                icon: !1
            }) : this.checkboxradio.apply(this, arguments))
        }
    }(t.fn.button), t.fn.buttonset = function() {
        return t.ui.controlgroup || t.error("Controlgroup widget missing"), "option" === arguments[0] && "items" === arguments[1] && arguments[2] ? this.controlgroup.apply(this, [arguments[0], "items.button", arguments[2]]) : "option" === arguments[0] && "items" === arguments[1] ? this.controlgroup.apply(this, [arguments[0], "items.button"]) : ("object" == typeof arguments[0] && arguments[0].items && (arguments[0].items = {
            button: arguments[0].items
        }), this.controlgroup.apply(this, arguments))
    }), t.ui.button, t.extend(t.ui, {
        datepicker: {
            version: "1.12.1"
        }
    }), t.extend(e.prototype, {
        markerClassName: "hasDatepicker",
        maxRows: 4,
        _widgetDatepicker: function() {
            return this.dpDiv
        },
        setDefaults: function(t) {
            return r(this._defaults, t || {}), this
        },
        _attachDatepicker: function(e, n) {
            var i, r, o;
            r = "div" === (i = e.nodeName.toLowerCase()) || "span" === i, e.id || (this.uuid += 1, e.id = "dp" + this.uuid), (o = this._newInst(t(e), r)).settings = t.extend({}, n || {}), "input" === i ? this._connectDatepicker(e, o) : r && this._inlineDatepicker(e, o)
        },
        _newInst: function(e, i) {
            return {
                id: e[0].id.replace(/([^A-Za-z0-9_\-])/g, "\\\\$1"),
                input: e,
                selectedDay: 0,
                selectedMonth: 0,
                selectedYear: 0,
                drawMonth: 0,
                drawYear: 0,
                inline: i,
                dpDiv: i ? n(t("<div class='" + this._inlineClass + " ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")) : this.dpDiv
            }
        },
        _connectDatepicker: function(e, n) {
            var i = t(e);
            n.append = t([]), n.trigger = t([]), i.hasClass(this.markerClassName) || (this._attachments(i, n), i.addClass(this.markerClassName).on("keydown", this._doKeyDown).on("keypress", this._doKeyPress).on("keyup", this._doKeyUp), this._autoSize(n), t.data(e, "datepicker", n), n.settings.disabled && this._disableDatepicker(e))
        },
        _attachments: function(e, n) {
            var i, r, o, s = this._get(n, "appendText"),
                a = this._get(n, "isRTL");
            n.append && n.append.remove(), s && (n.append = t("<span class='" + this._appendClass + "'>" + s + "</span>"), e[a ? "before" : "after"](n.append)), e.off("focus", this._showDatepicker), n.trigger && n.trigger.remove(), ("focus" === (i = this._get(n, "showOn")) || "both" === i) && e.on("focus", this._showDatepicker), ("button" === i || "both" === i) && (r = this._get(n, "buttonText"), o = this._get(n, "buttonImage"), n.trigger = t(this._get(n, "buttonImageOnly") ? t("<img/>").addClass(this._triggerClass).attr({
                src: o,
                alt: r,
                title: r
            }) : t("<button type='button'></button>").addClass(this._triggerClass).html(o ? t("<img/>").attr({
                src: o,
                alt: r,
                title: r
            }) : r)), e[a ? "before" : "after"](n.trigger), n.trigger.on("click", (function() {
                return t.datepicker._datepickerShowing && t.datepicker._lastInput === e[0] ? t.datepicker._hideDatepicker() : t.datepicker._datepickerShowing && t.datepicker._lastInput !== e[0] ? (t.datepicker._hideDatepicker(), t.datepicker._showDatepicker(e[0])) : t.datepicker._showDatepicker(e[0]), !1
            })))
        },
        _autoSize: function(t) {
            if (this._get(t, "autoSize") && !t.inline) {
                var e, n, i, r, o = new Date(2009, 11, 20),
                    s = this._get(t, "dateFormat");
                s.match(/[DM]/) && (e = function(t) {
                    for (n = 0, i = 0, r = 0; t.length > r; r++) t[r].length > n && (n = t[r].length, i = r);
                    return i
                }, o.setMonth(e(this._get(t, s.match(/MM/) ? "monthNames" : "monthNamesShort"))), o.setDate(e(this._get(t, s.match(/DD/) ? "dayNames" : "dayNamesShort")) + 20 - o.getDay())), t.input.attr("size", this._formatDate(t, o).length)
            }
        },
        _inlineDatepicker: function(e, n) {
            var i = t(e);
            i.hasClass(this.markerClassName) || (i.addClass(this.markerClassName).append(n.dpDiv), t.data(e, "datepicker", n), this._setDate(n, this._getDefaultDate(n), !0), this._updateDatepicker(n), this._updateAlternate(n), n.settings.disabled && this._disableDatepicker(e), n.dpDiv.css("display", "block"))
        },
        _dialogDatepicker: function(e, n, i, o, s) {
            var a, u, l, h, c, d = this._dialogInst;
            return d || (this.uuid += 1, a = "dp" + this.uuid, this._dialogInput = t("<input type='text' id='" + a + "' style='position: absolute; top: -100px; width: 0px;'/>"), this._dialogInput.on("keydown", this._doKeyDown), t("body").append(this._dialogInput), (d = this._dialogInst = this._newInst(this._dialogInput, !1)).settings = {}, t.data(this._dialogInput[0], "datepicker", d)), r(d.settings, o || {}), n = n && n.constructor === Date ? this._formatDate(d, n) : n, this._dialogInput.val(n), this._pos = s ? s.length ? s : [s.pageX, s.pageY] : null, this._pos || (u = document.documentElement.clientWidth, l = document.documentElement.clientHeight, h = document.documentElement.scrollLeft || document.body.scrollLeft, c = document.documentElement.scrollTop || document.body.scrollTop, this._pos = [u / 2 - 100 + h, l / 2 - 150 + c]), this._dialogInput.css("left", this._pos[0] + 20 + "px").css("top", this._pos[1] + "px"), d.settings.onSelect = i, this._inDialog = !0, this.dpDiv.addClass(this._dialogClass), this._showDatepicker(this._dialogInput[0]), t.blockUI && t.blockUI(this.dpDiv), t.data(this._dialogInput[0], "datepicker", d), this
        },
        _destroyDatepicker: function(e) {
            var n, i = t(e),
                r = t.data(e, "datepicker");
            i.hasClass(this.markerClassName) && (n = e.nodeName.toLowerCase(), t.removeData(e, "datepicker"), "input" === n ? (r.append.remove(), r.trigger.remove(), i.removeClass(this.markerClassName).off("focus", this._showDatepicker).off("keydown", this._doKeyDown).off("keypress", this._doKeyPress).off("keyup", this._doKeyUp)) : ("div" === n || "span" === n) && i.removeClass(this.markerClassName).empty(), d === r && (d = null))
        },
        _enableDatepicker: function(e) {
            var n, i, r = t(e),
                o = t.data(e, "datepicker");
            r.hasClass(this.markerClassName) && ("input" === (n = e.nodeName.toLowerCase()) ? (e.disabled = !1, o.trigger.filter("button").each((function() {
                this.disabled = !1
            })).end().filter("img").css({
                opacity: "1.0",
                cursor: ""
            })) : ("div" === n || "span" === n) && ((i = r.children("." + this._inlineClass)).children().removeClass("ui-state-disabled"), i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", !1)), this._disabledInputs = t.map(this._disabledInputs, (function(t) {
                return t === e ? null : t
            })))
        },
        _disableDatepicker: function(e) {
            var n, i, r = t(e),
                o = t.data(e, "datepicker");
            r.hasClass(this.markerClassName) && ("input" === (n = e.nodeName.toLowerCase()) ? (e.disabled = !0, o.trigger.filter("button").each((function() {
                this.disabled = !0
            })).end().filter("img").css({
                opacity: "0.5",
                cursor: "default"
            })) : ("div" === n || "span" === n) && ((i = r.children("." + this._inlineClass)).children().addClass("ui-state-disabled"), i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", !0)), this._disabledInputs = t.map(this._disabledInputs, (function(t) {
                return t === e ? null : t
            })), this._disabledInputs[this._disabledInputs.length] = e)
        },
        _isDisabledDatepicker: function(t) {
            if (!t) return !1;
            for (var e = 0; this._disabledInputs.length > e; e++)
                if (this._disabledInputs[e] === t) return !0;
            return !1
        },
        _getInst: function(e) {
            try {
                return t.data(e, "datepicker")
            } catch (t) {
                throw "Missing instance data for this datepicker"
            }
        },
        _optionDatepicker: function(e, n, i) {
            var o, s, a, u, l = this._getInst(e);
            return 2 === arguments.length && "string" == typeof n ? "defaults" === n ? t.extend({}, t.datepicker._defaults) : l ? "all" === n ? t.extend({}, l.settings) : this._get(l, n) : null : (o = n || {}, "string" == typeof n && ((o = {})[n] = i), void(l && (this._curInst === l && this._hideDatepicker(), s = this._getDateDatepicker(e, !0), a = this._getMinMaxDate(l, "min"), u = this._getMinMaxDate(l, "max"), r(l.settings, o), null !== a && void 0 !== o.dateFormat && void 0 === o.minDate && (l.settings.minDate = this._formatDate(l, a)), null !== u && void 0 !== o.dateFormat && void 0 === o.maxDate && (l.settings.maxDate = this._formatDate(l, u)), "disabled" in o && (o.disabled ? this._disableDatepicker(e) : this._enableDatepicker(e)), this._attachments(t(e), l), this._autoSize(l), this._setDate(l, s), this._updateAlternate(l), this._updateDatepicker(l))))
        },
        _changeDatepicker: function(t, e, n) {
            this._optionDatepicker(t, e, n)
        },
        _refreshDatepicker: function(t) {
            var e = this._getInst(t);
            e && this._updateDatepicker(e)
        },
        _setDateDatepicker: function(t, e) {
            var n = this._getInst(t);
            n && (this._setDate(n, e), this._updateDatepicker(n), this._updateAlternate(n))
        },
        _getDateDatepicker: function(t, e) {
            var n = this._getInst(t);
            return n && !n.inline && this._setDateFromField(n, e), n ? this._getDate(n) : null
        },
        _doKeyDown: function(e) {
            var n, i, r, o = t.datepicker._getInst(e.target),
                s = !0,
                a = o.dpDiv.is(".ui-datepicker-rtl");
            if (o._keyEvent = !0, t.datepicker._datepickerShowing) switch (e.keyCode) {
                case 9:
                    t.datepicker._hideDatepicker(), s = !1;
                    break;
                case 13:
                    return (r = t("td." + t.datepicker._dayOverClass + ":not(." + t.datepicker._currentClass + ")", o.dpDiv))[0] && t.datepicker._selectDay(e.target, o.selectedMonth, o.selectedYear, r[0]), (n = t.datepicker._get(o, "onSelect")) ? (i = t.datepicker._formatDate(o), n.apply(o.input ? o.input[0] : null, [i, o])) : t.datepicker._hideDatepicker(), !1;
                case 27:
                    t.datepicker._hideDatepicker();
                    break;
                case 33:
                    t.datepicker._adjustDate(e.target, e.ctrlKey ? -t.datepicker._get(o, "stepBigMonths") : -t.datepicker._get(o, "stepMonths"), "M");
                    break;
                case 34:
                    t.datepicker._adjustDate(e.target, e.ctrlKey ? +t.datepicker._get(o, "stepBigMonths") : +t.datepicker._get(o, "stepMonths"), "M");
                    break;
                case 35:
                    (e.ctrlKey || e.metaKey) && t.datepicker._clearDate(e.target), s = e.ctrlKey || e.metaKey;
                    break;
                case 36:
                    (e.ctrlKey || e.metaKey) && t.datepicker._gotoToday(e.target), s = e.ctrlKey || e.metaKey;
                    break;
                case 37:
                    (e.ctrlKey || e.metaKey) && t.datepicker._adjustDate(e.target, a ? 1 : -1, "D"), s = e.ctrlKey || e.metaKey, e.originalEvent.altKey && t.datepicker._adjustDate(e.target, e.ctrlKey ? -t.datepicker._get(o, "stepBigMonths") : -t.datepicker._get(o, "stepMonths"), "M");
                    break;
                case 38:
                    (e.ctrlKey || e.metaKey) && t.datepicker._adjustDate(e.target, -7, "D"), s = e.ctrlKey || e.metaKey;
                    break;
                case 39:
                    (e.ctrlKey || e.metaKey) && t.datepicker._adjustDate(e.target, a ? -1 : 1, "D"), s = e.ctrlKey || e.metaKey, e.originalEvent.altKey && t.datepicker._adjustDate(e.target, e.ctrlKey ? +t.datepicker._get(o, "stepBigMonths") : +t.datepicker._get(o, "stepMonths"), "M");
                    break;
                case 40:
                    (e.ctrlKey || e.metaKey) && t.datepicker._adjustDate(e.target, 7, "D"), s = e.ctrlKey || e.metaKey;
                    break;
                default:
                    s = !1
            } else 36 === e.keyCode && e.ctrlKey ? t.datepicker._showDatepicker(this) : s = !1;
            s && (e.preventDefault(), e.stopPropagation())
        },
        _doKeyPress: function(e) {
            var n, i, r = t.datepicker._getInst(e.target);
            return t.datepicker._get(r, "constrainInput") ? (n = t.datepicker._possibleChars(t.datepicker._get(r, "dateFormat")), i = String.fromCharCode(null == e.charCode ? e.keyCode : e.charCode), e.ctrlKey || e.metaKey || " " > i || !n || n.indexOf(i) > -1) : void 0
        },
        _doKeyUp: function(e) {
            var n = t.datepicker._getInst(e.target);
            if (n.input.val() !== n.lastVal) try {
                t.datepicker.parseDate(t.datepicker._get(n, "dateFormat"), n.input ? n.input.val() : null, t.datepicker._getFormatConfig(n)) && (t.datepicker._setDateFromField(n), t.datepicker._updateAlternate(n), t.datepicker._updateDatepicker(n))
            } catch (t) {}
            return !0
        },
        _showDatepicker: function(e) {
            var n, i, o, s, a, u, l;
            ("input" !== (e = e.target || e).nodeName.toLowerCase() && (e = t("input", e.parentNode)[0]), t.datepicker._isDisabledDatepicker(e) || t.datepicker._lastInput === e) || (n = t.datepicker._getInst(e), t.datepicker._curInst && t.datepicker._curInst !== n && (t.datepicker._curInst.dpDiv.stop(!0, !0), n && t.datepicker._datepickerShowing && t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])), !1 !== (o = (i = t.datepicker._get(n, "beforeShow")) ? i.apply(e, [e, n]) : {}) && (r(n.settings, o), n.lastVal = null, t.datepicker._lastInput = e, t.datepicker._setDateFromField(n), t.datepicker._inDialog && (e.value = ""), t.datepicker._pos || (t.datepicker._pos = t.datepicker._findPos(e), t.datepicker._pos[1] += e.offsetHeight), s = !1, t(e).parents().each((function() {
                return !(s |= "fixed" === t(this).css("position"))
            })), a = {
                left: t.datepicker._pos[0],
                top: t.datepicker._pos[1]
            }, t.datepicker._pos = null, n.dpDiv.empty(), n.dpDiv.css({
                position: "absolute",
                display: "block",
                top: "-1000px"
            }), t.datepicker._updateDatepicker(n), a = t.datepicker._checkOffset(n, a, s), n.dpDiv.css({
                position: t.datepicker._inDialog && t.blockUI ? "static" : s ? "fixed" : "absolute",
                display: "none",
                left: a.left + "px",
                top: a.top + "px"
            }), n.inline || (u = t.datepicker._get(n, "showAnim"), l = t.datepicker._get(n, "duration"), n.dpDiv.css("z-index", function(t) {
                for (var e, n; t.length && t[0] !== document;) {
                    if (("absolute" === (e = t.css("position")) || "relative" === e || "fixed" === e) && (n = parseInt(t.css("zIndex"), 10), !isNaN(n) && 0 !== n)) return n;
                    t = t.parent()
                }
                return 0
            }(t(e)) + 1), t.datepicker._datepickerShowing = !0, t.effects && t.effects.effect[u] ? n.dpDiv.show(u, t.datepicker._get(n, "showOptions"), l) : n.dpDiv[u || "show"](u ? l : null), t.datepicker._shouldFocusInput(n) && n.input.trigger("focus"), t.datepicker._curInst = n)))
        },
        _updateDatepicker: function(e) {
            this.maxRows = 4, d = e, e.dpDiv.empty().append(this._generateHTML(e)), this._attachHandlers(e);
            var n, r = this._getNumberOfMonths(e),
                o = r[1],
                s = e.dpDiv.find("." + this._dayOverClass + " a");
            s.length > 0 && i.apply(s.get(0)), e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""), o > 1 && e.dpDiv.addClass("ui-datepicker-multi-" + o).css("width", 17 * o + "em"), e.dpDiv[(1 !== r[0] || 1 !== r[1] ? "add" : "remove") + "Class"]("ui-datepicker-multi"), e.dpDiv[(this._get(e, "isRTL") ? "add" : "remove") + "Class"]("ui-datepicker-rtl"), e === t.datepicker._curInst && t.datepicker._datepickerShowing && t.datepicker._shouldFocusInput(e) && e.input.trigger("focus"), e.yearshtml && (n = e.yearshtml, setTimeout((function() {
                n === e.yearshtml && e.yearshtml && e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml), n = e.yearshtml = null
            }), 0))
        },
        _shouldFocusInput: function(t) {
            return t.input && t.input.is(":visible") && !t.input.is(":disabled") && !t.input.is(":focus")
        },
        _checkOffset: function(e, n, i) {
            var r = e.dpDiv.outerWidth(),
                o = e.dpDiv.outerHeight(),
                s = e.input ? e.input.outerWidth() : 0,
                a = e.input ? e.input.outerHeight() : 0,
                u = document.documentElement.clientWidth + (i ? 0 : t(document).scrollLeft()),
                l = document.documentElement.clientHeight + (i ? 0 : t(document).scrollTop());
            return n.left -= this._get(e, "isRTL") ? r - s : 0, n.left -= i && n.left === e.input.offset().left ? t(document).scrollLeft() : 0, n.top -= i && n.top === e.input.offset().top + a ? t(document).scrollTop() : 0, n.left -= Math.min(n.left, n.left + r > u && u > r ? Math.abs(n.left + r - u) : 0), n.top -= Math.min(n.top, n.top + o > l && l > o ? Math.abs(o + a) : 0), n
        },
        _findPos: function(e) {
            for (var n, i = this._getInst(e), r = this._get(i, "isRTL"); e && ("hidden" === e.type || 1 !== e.nodeType || t.expr.filters.hidden(e));) e = e[r ? "previousSibling" : "nextSibling"];
            return [(n = t(e).offset()).left, n.top]
        },
        _hideDatepicker: function(e) {
            var n, i, r, o, s = this._curInst;
            !s || e && s !== t.data(e, "datepicker") || this._datepickerShowing && (n = this._get(s, "showAnim"), i = this._get(s, "duration"), r = function() {
                t.datepicker._tidyDialog(s)
            }, t.effects && (t.effects.effect[n] || t.effects[n]) ? s.dpDiv.hide(n, t.datepicker._get(s, "showOptions"), i, r) : s.dpDiv["slideDown" === n ? "slideUp" : "fadeIn" === n ? "fadeOut" : "hide"](n ? i : null, r), n || r(), this._datepickerShowing = !1, (o = this._get(s, "onClose")) && o.apply(s.input ? s.input[0] : null, [s.input ? s.input.val() : "", s]), this._lastInput = null, this._inDialog && (this._dialogInput.css({
                position: "absolute",
                left: "0",
                top: "-100px"
            }), t.blockUI && (t.unblockUI(), t("body").append(this.dpDiv))), this._inDialog = !1)
        },
        _tidyDialog: function(t) {
            t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")
        },
        _checkExternalClick: function(e) {
            if (t.datepicker._curInst) {
                var n = t(e.target),
                    i = t.datepicker._getInst(n[0]);
                (n[0].id !== t.datepicker._mainDivId && 0 === n.parents("#" + t.datepicker._mainDivId).length && !n.hasClass(t.datepicker.markerClassName) && !n.closest("." + t.datepicker._triggerClass).length && t.datepicker._datepickerShowing && (!t.datepicker._inDialog || !t.blockUI) || n.hasClass(t.datepicker.markerClassName) && t.datepicker._curInst !== i) && t.datepicker._hideDatepicker()
            }
        },
        _adjustDate: function(e, n, i) {
            var r = t(e),
                o = this._getInst(r[0]);
            this._isDisabledDatepicker(r[0]) || (this._adjustInstDate(o, n + ("M" === i ? this._get(o, "showCurrentAtPos") : 0), i), this._updateDatepicker(o))
        },
        _gotoToday: function(e) {
            var n, i = t(e),
                r = this._getInst(i[0]);
            this._get(r, "gotoCurrent") && r.currentDay ? (r.selectedDay = r.currentDay, r.drawMonth = r.selectedMonth = r.currentMonth, r.drawYear = r.selectedYear = r.currentYear) : (n = new Date, r.selectedDay = n.getDate(), r.drawMonth = r.selectedMonth = n.getMonth(), r.drawYear = r.selectedYear = n.getFullYear()), this._notifyChange(r), this._adjustDate(i)
        },
        _selectMonthYear: function(e, n, i) {
            var r = t(e),
                o = this._getInst(r[0]);
            o["selected" + ("M" === i ? "Month" : "Year")] = o["draw" + ("M" === i ? "Month" : "Year")] = parseInt(n.options[n.selectedIndex].value, 10), this._notifyChange(o), this._adjustDate(r)
        },
        _selectDay: function(e, n, i, r) {
            var o, s = t(e);
            t(r).hasClass(this._unselectableClass) || this._isDisabledDatepicker(s[0]) || ((o = this._getInst(s[0])).selectedDay = o.currentDay = t("a", r).html(), o.selectedMonth = o.currentMonth = n, o.selectedYear = o.currentYear = i, this._selectDate(e, this._formatDate(o, o.currentDay, o.currentMonth, o.currentYear)))
        },
        _clearDate: function(e) {
            var n = t(e);
            this._selectDate(n, "")
        },
        _selectDate: function(e, n) {
            var i, r = t(e),
                o = this._getInst(r[0]);
            n = null != n ? n : this._formatDate(o), o.input && o.input.val(n), this._updateAlternate(o), (i = this._get(o, "onSelect")) ? i.apply(o.input ? o.input[0] : null, [n, o]) : o.input && o.input.trigger("change"), o.inline ? this._updateDatepicker(o) : (this._hideDatepicker(), this._lastInput = o.input[0], "object" != typeof o.input[0] && o.input.trigger("focus"), this._lastInput = null)
        },
        _updateAlternate: function(e) {
            var n, i, r, o = this._get(e, "altField");
            o && (n = this._get(e, "altFormat") || this._get(e, "dateFormat"), i = this._getDate(e), r = this.formatDate(n, i, this._getFormatConfig(e)), t(o).val(r))
        },
        noWeekends: function(t) {
            var e = t.getDay();
            return [e > 0 && 6 > e, ""]
        },
        iso8601Week: function(t) {
            var e, n = new Date(t.getTime());
            return n.setDate(n.getDate() + 4 - (n.getDay() || 7)), e = n.getTime(), n.setMonth(0), n.setDate(1), Math.floor(Math.round((e - n) / 864e5) / 7) + 1
        },
        parseDate: function(e, n, i) {
            if (null == e || null == n) throw "Invalid arguments";
            if ("" === (n = "object" == typeof n ? "" + n : n + "")) return null;
            var r, o, s, a, u = 0,
                l = (i ? i.shortYearCutoff : null) || this._defaults.shortYearCutoff,
                h = "string" != typeof l ? l : (new Date).getFullYear() % 100 + parseInt(l, 10),
                c = (i ? i.dayNamesShort : null) || this._defaults.dayNamesShort,
                d = (i ? i.dayNames : null) || this._defaults.dayNames,
                p = (i ? i.monthNamesShort : null) || this._defaults.monthNamesShort,
                f = (i ? i.monthNames : null) || this._defaults.monthNames,
                g = -1,
                v = -1,
                m = -1,
                y = -1,
                _ = !1,
                b = function(t) {
                    var n = e.length > r + 1 && e.charAt(r + 1) === t;
                    return n && r++, n
                },
                w = function(t) {
                    var e = b(t),
                        i = "@" === t ? 14 : "!" === t ? 20 : "y" === t && e ? 4 : "o" === t ? 3 : 2,
                        r = RegExp("^\\d{" + ("y" === t ? i : 1) + "," + i + "}"),
                        o = n.substring(u).match(r);
                    if (!o) throw "Missing number at position " + u;
                    return u += o[0].length, parseInt(o[0], 10)
                },
                E = function(e, i, r) {
                    var o = -1,
                        s = t.map(b(e) ? r : i, (function(t, e) {
                            return [
                                [e, t]
                            ]
                        })).sort((function(t, e) {
                            return -(t[1].length - e[1].length)
                        }));
                    if (t.each(s, (function(t, e) {
                            var i = e[1];
                            return n.substr(u, i.length).toLowerCase() === i.toLowerCase() ? (o = e[0], u += i.length, !1) : void 0
                        })), -1 !== o) return o + 1;
                    throw "Unknown name at position " + u
                },
                I = function() {
                    if (n.charAt(u) !== e.charAt(r)) throw "Unexpected literal at position " + u;
                    u++
                };
            for (r = 0; e.length > r; r++)
                if (_) "'" !== e.charAt(r) || b("'") ? I() : _ = !1;
                else switch (e.charAt(r)) {
                    case "d":
                        m = w("d");
                        break;
                    case "D":
                        E("D", c, d);
                        break;
                    case "o":
                        y = w("o");
                        break;
                    case "m":
                        v = w("m");
                        break;
                    case "M":
                        v = E("M", p, f);
                        break;
                    case "y":
                        g = w("y");
                        break;
                    case "@":
                        g = (a = new Date(w("@"))).getFullYear(), v = a.getMonth() + 1, m = a.getDate();
                        break;
                    case "!":
                        g = (a = new Date((w("!") - this._ticksTo1970) / 1e4)).getFullYear(), v = a.getMonth() + 1, m = a.getDate();
                        break;
                    case "'":
                        b("'") ? I() : _ = !0;
                        break;
                    default:
                        I()
                }
            if (n.length > u && (s = n.substr(u), !/^\s+/.test(s))) throw "Extra/unparsed characters found in date: " + s;
            if (-1 === g ? g = (new Date).getFullYear() : 100 > g && (g += (new Date).getFullYear() - (new Date).getFullYear() % 100 + (h >= g ? 0 : -100)), y > -1)
                for (v = 1, m = y; !((o = this._getDaysInMonth(g, v - 1)) >= m);) v++, m -= o;
            if ((a = this._daylightSavingAdjust(new Date(g, v - 1, m))).getFullYear() !== g || a.getMonth() + 1 !== v || a.getDate() !== m) throw "Invalid date";
            return a
        },
        ATOM: "yy-mm-dd",
        COOKIE: "D, dd M yy",
        ISO_8601: "yy-mm-dd",
        RFC_822: "D, d M y",
        RFC_850: "DD, dd-M-y",
        RFC_1036: "D, d M y",
        RFC_1123: "D, d M yy",
        RFC_2822: "D, d M yy",
        RSS: "D, d M y",
        TICKS: "!",
        TIMESTAMP: "@",
        W3C: "yy-mm-dd",
        _ticksTo1970: 864e9 * (718685 + Math.floor(492.5) - Math.floor(19.7) + Math.floor(4.925)),
        formatDate: function(t, e, n) {
            if (!e) return "";
            var i, r = (n ? n.dayNamesShort : null) || this._defaults.dayNamesShort,
                o = (n ? n.dayNames : null) || this._defaults.dayNames,
                s = (n ? n.monthNamesShort : null) || this._defaults.monthNamesShort,
                a = (n ? n.monthNames : null) || this._defaults.monthNames,
                u = function(e) {
                    var n = t.length > i + 1 && t.charAt(i + 1) === e;
                    return n && i++, n
                },
                l = function(t, e, n) {
                    var i = "" + e;
                    if (u(t))
                        for (; n > i.length;) i = "0" + i;
                    return i
                },
                h = function(t, e, n, i) {
                    return u(t) ? i[e] : n[e]
                },
                c = "",
                d = !1;
            if (e)
                for (i = 0; t.length > i; i++)
                    if (d) "'" !== t.charAt(i) || u("'") ? c += t.charAt(i) : d = !1;
                    else switch (t.charAt(i)) {
                        case "d":
                            c += l("d", e.getDate(), 2);
                            break;
                        case "D":
                            c += h("D", e.getDay(), r, o);
                            break;
                        case "o":
                            c += l("o", Math.round((new Date(e.getFullYear(), e.getMonth(), e.getDate()).getTime() - new Date(e.getFullYear(), 0, 0).getTime()) / 864e5), 3);
                            break;
                        case "m":
                            c += l("m", e.getMonth() + 1, 2);
                            break;
                        case "M":
                            c += h("M", e.getMonth(), s, a);
                            break;
                        case "y":
                            c += u("y") ? e.getFullYear() : (10 > e.getFullYear() % 100 ? "0" : "") + e.getFullYear() % 100;
                            break;
                        case "@":
                            c += e.getTime();
                            break;
                        case "!":
                            c += 1e4 * e.getTime() + this._ticksTo1970;
                            break;
                        case "'":
                            u("'") ? c += "'" : d = !0;
                            break;
                        default:
                            c += t.charAt(i)
                    }
            return c
        },
        _possibleChars: function(t) {
            var e, n = "",
                i = !1,
                r = function(n) {
                    var i = t.length > e + 1 && t.charAt(e + 1) === n;
                    return i && e++, i
                };
            for (e = 0; t.length > e; e++)
                if (i) "'" !== t.charAt(e) || r("'") ? n += t.charAt(e) : i = !1;
                else switch (t.charAt(e)) {
                    case "d":
                    case "m":
                    case "y":
                    case "@":
                        n += "0123456789";
                        break;
                    case "D":
                    case "M":
                        return null;
                    case "'":
                        r("'") ? n += "'" : i = !0;
                        break;
                    default:
                        n += t.charAt(e)
                }
            return n
        },
        _get: function(t, e) {
            return void 0 !== t.settings[e] ? t.settings[e] : this._defaults[e]
        },
        _setDateFromField: function(t, e) {
            if (t.input.val() !== t.lastVal) {
                var n = this._get(t, "dateFormat"),
                    i = t.lastVal = t.input ? t.input.val() : null,
                    r = this._getDefaultDate(t),
                    o = r,
                    s = this._getFormatConfig(t);
                try {
                    o = this.parseDate(n, i, s) || r
                } catch (t) {
                    i = e ? "" : i
                }
                t.selectedDay = o.getDate(), t.drawMonth = t.selectedMonth = o.getMonth(), t.drawYear = t.selectedYear = o.getFullYear(), t.currentDay = i ? o.getDate() : 0, t.currentMonth = i ? o.getMonth() : 0, t.currentYear = i ? o.getFullYear() : 0, this._adjustInstDate(t)
            }
        },
        _getDefaultDate: function(t) {
            return this._restrictMinMax(t, this._determineDate(t, this._get(t, "defaultDate"), new Date))
        },
        _determineDate: function(e, n, i) {
            var r = null == n || "" === n ? i : "string" == typeof n ? function(n) {
                try {
                    return t.datepicker.parseDate(t.datepicker._get(e, "dateFormat"), n, t.datepicker._getFormatConfig(e))
                } catch (t) {}
                for (var i = (n.toLowerCase().match(/^c/) ? t.datepicker._getDate(e) : null) || new Date, r = i.getFullYear(), o = i.getMonth(), s = i.getDate(), a = /([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g, u = a.exec(n); u;) {
                    switch (u[2] || "d") {
                        case "d":
                        case "D":
                            s += parseInt(u[1], 10);
                            break;
                        case "w":
                        case "W":
                            s += 7 * parseInt(u[1], 10);
                            break;
                        case "m":
                        case "M":
                            o += parseInt(u[1], 10), s = Math.min(s, t.datepicker._getDaysInMonth(r, o));
                            break;
                        case "y":
                        case "Y":
                            r += parseInt(u[1], 10), s = Math.min(s, t.datepicker._getDaysInMonth(r, o))
                    }
                    u = a.exec(n)
                }
                return new Date(r, o, s)
            }(n) : "number" == typeof n ? isNaN(n) ? i : function(t) {
                var e = new Date;
                return e.setDate(e.getDate() + t), e
            }(n) : new Date(n.getTime());
            return (r = r && "Invalid Date" == "" + r ? i : r) && (r.setHours(0), r.setMinutes(0), r.setSeconds(0), r.setMilliseconds(0)), this._daylightSavingAdjust(r)
        },
        _daylightSavingAdjust: function(t) {
            return t ? (t.setHours(t.getHours() > 12 ? t.getHours() + 2 : 0), t) : null
        },
        _setDate: function(t, e, n) {
            var i = !e,
                r = t.selectedMonth,
                o = t.selectedYear,
                s = this._restrictMinMax(t, this._determineDate(t, e, new Date));
            t.selectedDay = t.currentDay = s.getDate(), t.drawMonth = t.selectedMonth = t.currentMonth = s.getMonth(), t.drawYear = t.selectedYear = t.currentYear = s.getFullYear(), r === t.selectedMonth && o === t.selectedYear || n || this._notifyChange(t), this._adjustInstDate(t), t.input && t.input.val(i ? "" : this._formatDate(t))
        },
        _getDate: function(t) {
            return !t.currentYear || t.input && "" === t.input.val() ? null : this._daylightSavingAdjust(new Date(t.currentYear, t.currentMonth, t.currentDay))
        },
        _attachHandlers: function(e) {
            var n = this._get(e, "stepMonths"),
                i = "#" + e.id.replace(/\\\\/g, "\\");
            e.dpDiv.find("[data-handler]").map((function() {
                var e = {
                    prev: function() {
                        t.datepicker._adjustDate(i, -n, "M")
                    },
                    next: function() {
                        t.datepicker._adjustDate(i, +n, "M")
                    },
                    hide: function() {
                        t.datepicker._hideDatepicker()
                    },
                    today: function() {
                        t.datepicker._gotoToday(i)
                    },
                    selectDay: function() {
                        return t.datepicker._selectDay(i, +this.getAttribute("data-month"), +this.getAttribute("data-year"), this), !1
                    },
                    selectMonth: function() {
                        return t.datepicker._selectMonthYear(i, this, "M"), !1
                    },
                    selectYear: function() {
                        return t.datepicker._selectMonthYear(i, this, "Y"), !1
                    }
                };
                t(this).on(this.getAttribute("data-event"), e[this.getAttribute("data-handler")])
            }))
        },
        _generateHTML: function(t) {
            var e, n, i, r, o, s, a, u, l, h, c, d, p, f, g, v, m, y, _, b, w, E, I, T, C, k, S, x, D, N, A, P, O, R, L, M, F, U, j, H = new Date,
                q = this._daylightSavingAdjust(new Date(H.getFullYear(), H.getMonth(), H.getDate())),
                W = this._get(t, "isRTL"),
                V = this._get(t, "showButtonPanel"),
                B = this._get(t, "hideIfNoPrevNext"),
                z = this._get(t, "navigationAsDateFormat"),
                $ = this._getNumberOfMonths(t),
                K = this._get(t, "showCurrentAtPos"),
                G = this._get(t, "stepMonths"),
                Y = 1 !== $[0] || 1 !== $[1],
                Q = this._daylightSavingAdjust(t.currentDay ? new Date(t.currentYear, t.currentMonth, t.currentDay) : new Date(9999, 9, 9)),
                X = this._getMinMaxDate(t, "min"),
                J = this._getMinMaxDate(t, "max"),
                Z = t.drawMonth - K,
                tt = t.drawYear;
            if (0 > Z && (Z += 12, tt--), J)
                for (e = this._daylightSavingAdjust(new Date(J.getFullYear(), J.getMonth() - $[0] * $[1] + 1, J.getDate())), e = X && X > e ? X : e; this._daylightSavingAdjust(new Date(tt, Z, 1)) > e;) 0 > --Z && (Z = 11, tt--);
            for (t.drawMonth = Z, t.drawYear = tt, n = this._get(t, "prevText"), n = z ? this.formatDate(n, this._daylightSavingAdjust(new Date(tt, Z - G, 1)), this._getFormatConfig(t)) : n, i = this._canAdjustMonth(t, -1, tt, Z) ? "<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='" + n + "'><span class='ui-icon ui-icon-circle-triangle-" + (W ? "e" : "w") + "'>" + n + "</span></a>" : B ? "" : "<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='" + n + "'><span class='ui-icon ui-icon-circle-triangle-" + (W ? "e" : "w") + "'>" + n + "</span></a>", r = this._get(t, "nextText"), r = z ? this.formatDate(r, this._daylightSavingAdjust(new Date(tt, Z + G, 1)), this._getFormatConfig(t)) : r, o = this._canAdjustMonth(t, 1, tt, Z) ? "<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='" + r + "'><span class='ui-icon ui-icon-circle-triangle-" + (W ? "w" : "e") + "'>" + r + "</span></a>" : B ? "" : "<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='" + r + "'><span class='ui-icon ui-icon-circle-triangle-" + (W ? "w" : "e") + "'>" + r + "</span></a>", s = this._get(t, "currentText"), a = this._get(t, "gotoCurrent") && t.currentDay ? Q : q, s = z ? this.formatDate(s, a, this._getFormatConfig(t)) : s, u = t.inline ? "" : "<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>" + this._get(t, "closeText") + "</button>", l = V ? "<div class='ui-datepicker-buttonpane ui-widget-content'>" + (W ? u : "") + (this._isInRange(t, a) ? "<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>" + s + "</button>" : "") + (W ? "" : u) + "</div>" : "", h = parseInt(this._get(t, "firstDay"), 10), h = isNaN(h) ? 0 : h, c = this._get(t, "showWeek"), d = this._get(t, "dayNames"), p = this._get(t, "dayNamesMin"), f = this._get(t, "monthNames"), g = this._get(t, "monthNamesShort"), v = this._get(t, "beforeShowDay"), m = this._get(t, "showOtherMonths"), y = this._get(t, "selectOtherMonths"), _ = this._getDefaultDate(t), b = "", E = 0; $[0] > E; E++) {
                for (I = "", this.maxRows = 4, T = 0; $[1] > T; T++) {
                    if (C = this._daylightSavingAdjust(new Date(tt, Z, t.selectedDay)), k = " ui-corner-all", S = "", Y) {
                        if (S += "<div class='ui-datepicker-group", $[1] > 1) switch (T) {
                            case 0:
                                S += " ui-datepicker-group-first", k = " ui-corner-" + (W ? "right" : "left");
                                break;
                            case $[1] - 1:
                                S += " ui-datepicker-group-last", k = " ui-corner-" + (W ? "left" : "right");
                                break;
                            default:
                                S += " ui-datepicker-group-middle", k = ""
                        }
                        S += "'>"
                    }
                    for (S += "<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix" + k + "'>" + (/all|left/.test(k) && 0 === E ? W ? o : i : "") + (/all|right/.test(k) && 0 === E ? W ? i : o : "") + this._generateMonthYearHeader(t, Z, tt, X, J, E > 0 || T > 0, f, g) + "</div><table class='ui-datepicker-calendar'><thead><tr>", x = c ? "<th class='ui-datepicker-week-col'>" + this._get(t, "weekHeader") + "</th>" : "", w = 0; 7 > w; w++) x += "<th scope='col'" + ((w + h + 6) % 7 >= 5 ? " class='ui-datepicker-week-end'" : "") + "><span title='" + d[D = (w + h) % 7] + "'>" + p[D] + "</span></th>";
                    for (S += x + "</tr></thead><tbody>", N = this._getDaysInMonth(tt, Z), tt === t.selectedYear && Z === t.selectedMonth && (t.selectedDay = Math.min(t.selectedDay, N)), A = (this._getFirstDayOfMonth(tt, Z) - h + 7) % 7, P = Math.ceil((A + N) / 7), O = Y && this.maxRows > P ? this.maxRows : P, this.maxRows = O, R = this._daylightSavingAdjust(new Date(tt, Z, 1 - A)), L = 0; O > L; L++) {
                        for (S += "<tr>", M = c ? "<td class='ui-datepicker-week-col'>" + this._get(t, "calculateWeek")(R) + "</td>" : "", w = 0; 7 > w; w++) F = v ? v.apply(t.input ? t.input[0] : null, [R]) : [!0, ""], j = (U = R.getMonth() !== Z) && !y || !F[0] || X && X > R || J && R > J, M += "<td class='" + ((w + h + 6) % 7 >= 5 ? " ui-datepicker-week-end" : "") + (U ? " ui-datepicker-other-month" : "") + (R.getTime() === C.getTime() && Z === t.selectedMonth && t._keyEvent || _.getTime() === R.getTime() && _.getTime() === C.getTime() ? " " + this._dayOverClass : "") + (j ? " " + this._unselectableClass + " ui-state-disabled" : "") + (U && !m ? "" : " " + F[1] + (R.getTime() === Q.getTime() ? " " + this._currentClass : "") + (R.getTime() === q.getTime() ? " ui-datepicker-today" : "")) + "'" + (U && !m || !F[2] ? "" : " title='" + F[2].replace(/'/g, "&#39;") + "'") + (j ? "" : " data-handler='selectDay' data-event='click' data-month='" + R.getMonth() + "' data-year='" + R.getFullYear() + "'") + ">" + (U && !m ? "&#xa0;" : j ? "<span class='ui-state-default'>" + R.getDate() + "</span>" : "<a class='ui-state-default" + (R.getTime() === q.getTime() ? " ui-state-highlight" : "") + (R.getTime() === Q.getTime() ? " ui-state-active" : "") + (U ? " ui-priority-secondary" : "") + "' href='#'>" + R.getDate() + "</a>") + "</td>", R.setDate(R.getDate() + 1), R = this._daylightSavingAdjust(R);
                        S += M + "</tr>"
                    }++Z > 11 && (Z = 0, tt++), I += S += "</tbody></table>" + (Y ? "</div>" + ($[0] > 0 && T === $[1] - 1 ? "<div class='ui-datepicker-row-break'></div>" : "") : "")
                }
                b += I
            }
            return b += l, t._keyEvent = !1, b
        },
        _generateMonthYearHeader: function(t, e, n, i, r, o, s, a) {
            var u, l, h, c, d, p, f, g, v = this._get(t, "changeMonth"),
                m = this._get(t, "changeYear"),
                y = this._get(t, "showMonthAfterYear"),
                _ = "<div class='ui-datepicker-title'>",
                b = "";
            if (o || !v) b += "<span class='ui-datepicker-month'>" + s[e] + "</span>";
            else {
                for (u = i && i.getFullYear() === n, l = r && r.getFullYear() === n, b += "<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>", h = 0; 12 > h; h++)(!u || h >= i.getMonth()) && (!l || r.getMonth() >= h) && (b += "<option value='" + h + "'" + (h === e ? " selected='selected'" : "") + ">" + a[h] + "</option>");
                b += "</select>"
            }
            if (y || (_ += b + (!o && v && m ? "" : "&#xa0;")), !t.yearshtml)
                if (t.yearshtml = "", o || !m) _ += "<span class='ui-datepicker-year'>" + n + "</span>";
                else {
                    for (c = this._get(t, "yearRange").split(":"), d = (new Date).getFullYear(), f = (p = function(t) {
                            var e = t.match(/c[+\-].*/) ? n + parseInt(t.substring(1), 10) : t.match(/[+\-].*/) ? d + parseInt(t, 10) : parseInt(t, 10);
                            return isNaN(e) ? d : e
                        })(c[0]), g = Math.max(f, p(c[1] || "")), f = i ? Math.max(f, i.getFullYear()) : f, g = r ? Math.min(g, r.getFullYear()) : g, t.yearshtml += "<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>"; g >= f; f++) t.yearshtml += "<option value='" + f + "'" + (f === n ? " selected='selected'" : "") + ">" + f + "</option>";
                    t.yearshtml += "</select>", _ += t.yearshtml, t.yearshtml = null
                } return _ += this._get(t, "yearSuffix"), y && (_ += (!o && v && m ? "" : "&#xa0;") + b), _ + "</div>"
        },
        _adjustInstDate: function(t, e, n) {
            var i = t.selectedYear + ("Y" === n ? e : 0),
                r = t.selectedMonth + ("M" === n ? e : 0),
                o = Math.min(t.selectedDay, this._getDaysInMonth(i, r)) + ("D" === n ? e : 0),
                s = this._restrictMinMax(t, this._daylightSavingAdjust(new Date(i, r, o)));
            t.selectedDay = s.getDate(), t.drawMonth = t.selectedMonth = s.getMonth(), t.drawYear = t.selectedYear = s.getFullYear(), ("M" === n || "Y" === n) && this._notifyChange(t)
        },
        _restrictMinMax: function(t, e) {
            var n = this._getMinMaxDate(t, "min"),
                i = this._getMinMaxDate(t, "max"),
                r = n && n > e ? n : e;
            return i && r > i ? i : r
        },
        _notifyChange: function(t) {
            var e = this._get(t, "onChangeMonthYear");
            e && e.apply(t.input ? t.input[0] : null, [t.selectedYear, t.selectedMonth + 1, t])
        },
        _getNumberOfMonths: function(t) {
            var e = this._get(t, "numberOfMonths");
            return null == e ? [1, 1] : "number" == typeof e ? [1, e] : e
        },
        _getMinMaxDate: function(t, e) {
            return this._determineDate(t, this._get(t, e + "Date"), null)
        },
        _getDaysInMonth: function(t, e) {
            return 32 - this._daylightSavingAdjust(new Date(t, e, 32)).getDate()
        },
        _getFirstDayOfMonth: function(t, e) {
            return new Date(t, e, 1).getDay()
        },
        _canAdjustMonth: function(t, e, n, i) {
            var r = this._getNumberOfMonths(t),
                o = this._daylightSavingAdjust(new Date(n, i + (0 > e ? e : r[0] * r[1]), 1));
            return 0 > e && o.setDate(this._getDaysInMonth(o.getFullYear(), o.getMonth())), this._isInRange(t, o)
        },
        _isInRange: function(t, e) {
            var n, i, r = this._getMinMaxDate(t, "min"),
                o = this._getMinMaxDate(t, "max"),
                s = null,
                a = null,
                u = this._get(t, "yearRange");
            return u && (n = u.split(":"), i = (new Date).getFullYear(), s = parseInt(n[0], 10), a = parseInt(n[1], 10), n[0].match(/[+\-].*/) && (s += i), n[1].match(/[+\-].*/) && (a += i)), (!r || e.getTime() >= r.getTime()) && (!o || e.getTime() <= o.getTime()) && (!s || e.getFullYear() >= s) && (!a || a >= e.getFullYear())
        },
        _getFormatConfig: function(t) {
            var e = this._get(t, "shortYearCutoff");
            return {
                shortYearCutoff: e = "string" != typeof e ? e : (new Date).getFullYear() % 100 + parseInt(e, 10),
                dayNamesShort: this._get(t, "dayNamesShort"),
                dayNames: this._get(t, "dayNames"),
                monthNamesShort: this._get(t, "monthNamesShort"),
                monthNames: this._get(t, "monthNames")
            }
        },
        _formatDate: function(t, e, n, i) {
            e || (t.currentDay = t.selectedDay, t.currentMonth = t.selectedMonth, t.currentYear = t.selectedYear);
            var r = e ? "object" == typeof e ? e : this._daylightSavingAdjust(new Date(i, n, e)) : this._daylightSavingAdjust(new Date(t.currentYear, t.currentMonth, t.currentDay));
            return this.formatDate(this._get(t, "dateFormat"), r, this._getFormatConfig(t))
        }
    }), t.fn.datepicker = function(e) {
        if (!this.length) return this;
        t.datepicker.initialized || (t(document).on("mousedown", t.datepicker._checkExternalClick), t.datepicker.initialized = !0), 0 === t("#" + t.datepicker._mainDivId).length && t("body").append(t.datepicker.dpDiv);
        var n = Array.prototype.slice.call(arguments, 1);
        return "string" != typeof e || "isDisabled" !== e && "getDate" !== e && "widget" !== e ? "option" === e && 2 === arguments.length && "string" == typeof arguments[1] ? t.datepicker["_" + e + "Datepicker"].apply(t.datepicker, [this[0]].concat(n)) : this.each((function() {
            "string" == typeof e ? t.datepicker["_" + e + "Datepicker"].apply(t.datepicker, [this].concat(n)) : t.datepicker._attachDatepicker(this, e)
        })) : t.datepicker["_" + e + "Datepicker"].apply(t.datepicker, [this[0]].concat(n))
    }, t.datepicker = new e, t.datepicker.initialized = !1, t.datepicker.uuid = (new Date).getTime(), t.datepicker.version = "1.12.1", t.datepicker, t.ui.ie = !!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());
    var f = !1;
    t(document).on("mouseup", (function() {
        f = !1
    })), t.widget("ui.mouse", {
        version: "1.12.1",
        options: {
            cancel: "input, textarea, button, select, option",
            distance: 1,
            delay: 0
        },
        _mouseInit: function() {
            var e = this;
            this.element.on("mousedown." + this.widgetName, (function(t) {
                return e._mouseDown(t)
            })).on("click." + this.widgetName, (function(n) {
                return !0 === t.data(n.target, e.widgetName + ".preventClickEvent") ? (t.removeData(n.target, e.widgetName + ".preventClickEvent"), n.stopImmediatePropagation(), !1) : void 0
            })), this.started = !1
        },
        _mouseDestroy: function() {
            this.element.off("." + this.widgetName), this._mouseMoveDelegate && this.document.off("mousemove." + this.widgetName, this._mouseMoveDelegate).off("mouseup." + this.widgetName, this._mouseUpDelegate)
        },
        _mouseDown: function(e) {
            if (!f) {
                this._mouseMoved = !1, this._mouseStarted && this._mouseUp(e), this._mouseDownEvent = e;
                var n = this,
                    i = 1 === e.which,
                    r = !("string" != typeof this.options.cancel || !e.target.nodeName) && t(e.target).closest(this.options.cancel).length;
                return !(i && !r && this._mouseCapture(e)) || (this.mouseDelayMet = !this.options.delay, this.mouseDelayMet || (this._mouseDelayTimer = setTimeout((function() {
                    n.mouseDelayMet = !0
                }), this.options.delay)), this._mouseDistanceMet(e) && this._mouseDelayMet(e) && (this._mouseStarted = !1 !== this._mouseStart(e), !this._mouseStarted) ? (e.preventDefault(), !0) : (!0 === t.data(e.target, this.widgetName + ".preventClickEvent") && t.removeData(e.target, this.widgetName + ".preventClickEvent"), this._mouseMoveDelegate = function(t) {
                    return n._mouseMove(t)
                }, this._mouseUpDelegate = function(t) {
                    return n._mouseUp(t)
                }, this.document.on("mousemove." + this.widgetName, this._mouseMoveDelegate).on("mouseup." + this.widgetName, this._mouseUpDelegate), e.preventDefault(), f = !0, !0))
            }
        },
        _mouseMove: function(e) {
            if (this._mouseMoved) {
                if (t.ui.ie && (!document.documentMode || 9 > document.documentMode) && !e.button) return this._mouseUp(e);
                if (!e.which)
                    if (e.originalEvent.altKey || e.originalEvent.ctrlKey || e.originalEvent.metaKey || e.originalEvent.shiftKey) this.ignoreMissingWhich = !0;
                    else if (!this.ignoreMissingWhich) return this._mouseUp(e)
            }
            return (e.which || e.button) && (this._mouseMoved = !0), this._mouseStarted ? (this._mouseDrag(e), e.preventDefault()) : (this._mouseDistanceMet(e) && this._mouseDelayMet(e) && (this._mouseStarted = !1 !== this._mouseStart(this._mouseDownEvent, e), this._mouseStarted ? this._mouseDrag(e) : this._mouseUp(e)), !this._mouseStarted)
        },
        _mouseUp: function(e) {
            this.document.off("mousemove." + this.widgetName, this._mouseMoveDelegate).off("mouseup." + this.widgetName, this._mouseUpDelegate), this._mouseStarted && (this._mouseStarted = !1, e.target === this._mouseDownEvent.target && t.data(e.target, this.widgetName + ".preventClickEvent", !0), this._mouseStop(e)), this._mouseDelayTimer && (clearTimeout(this._mouseDelayTimer), delete this._mouseDelayTimer), this.ignoreMissingWhich = !1, f = !1, e.preventDefault()
        },
        _mouseDistanceMet: function(t) {
            return Math.max(Math.abs(this._mouseDownEvent.pageX - t.pageX), Math.abs(this._mouseDownEvent.pageY - t.pageY)) >= this.options.distance
        },
        _mouseDelayMet: function() {
            return this.mouseDelayMet
        },
        _mouseStart: function() {},
        _mouseDrag: function() {},
        _mouseStop: function() {},
        _mouseCapture: function() {
            return !0
        }
    }), t.ui.plugin = {
        add: function(e, n, i) {
            var r, o = t.ui[e].prototype;
            for (r in i) o.plugins[r] = o.plugins[r] || [], o.plugins[r].push([n, i[r]])
        },
        call: function(t, e, n, i) {
            var r, o = t.plugins[e];
            if (o && (i || t.element[0].parentNode && 11 !== t.element[0].parentNode.nodeType))
                for (r = 0; o.length > r; r++) t.options[o[r][0]] && o[r][1].apply(t.element, n)
        }
    }, t.ui.safeBlur = function(e) {
        e && "body" !== e.nodeName.toLowerCase() && t(e).trigger("blur")
    }, t.widget("ui.draggable", t.ui.mouse, {
        version: "1.12.1",
        widgetEventPrefix: "drag",
        options: {
            addClasses: !0,
            appendTo: "parent",
            axis: !1,
            connectToSortable: !1,
            containment: !1,
            cursor: "auto",
            cursorAt: !1,
            grid: !1,
            handle: !1,
            helper: "original",
            iframeFix: !1,
            opacity: !1,
            refreshPositions: !1,
            revert: !1,
            revertDuration: 500,
            scope: "default",
            scroll: !0,
            scrollSensitivity: 20,
            scrollSpeed: 20,
            snap: !1,
            snapMode: "both",
            snapTolerance: 20,
            stack: !1,
            zIndex: !1,
            drag: null,
            start: null,
            stop: null
        },
        _create: function() {
            "original" === this.options.helper && this._setPositionRelative(), this.options.addClasses && this._addClass("ui-draggable"), this._setHandleClassName(), this._mouseInit()
        },
        _setOption: function(t, e) {
            this._super(t, e), "handle" === t && (this._removeHandleClassName(), this._setHandleClassName())
        },
        _destroy: function() {
            return (this.helper || this.element).is(".ui-draggable-dragging") ? void(this.destroyOnClear = !0) : (this._removeHandleClassName(), void this._mouseDestroy())
        },
        _mouseCapture: function(e) {
            var n = this.options;
            return !(this.helper || n.disabled || t(e.target).closest(".ui-resizable-handle").length > 0) && (this.handle = this._getHandle(e), !!this.handle && (this._blurActiveElement(e), this._blockFrames(!0 === n.iframeFix ? "iframe" : n.iframeFix), !0))
        },
        _blockFrames: function(e) {
            this.iframeBlocks = this.document.find(e).map((function() {
                var e = t(this);
                return t("<div>").css("position", "absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]
            }))
        },
        _unblockFrames: function() {
            this.iframeBlocks && (this.iframeBlocks.remove(), delete this.iframeBlocks)
        },
        _blurActiveElement: function(e) {
            var n = t.ui.safeActiveElement(this.document[0]);
            t(e.target).closest(n).length || t.ui.safeBlur(n)
        },
        _mouseStart: function(e) {
            var n = this.options;
            return this.helper = this._createHelper(e), this._addClass(this.helper, "ui-draggable-dragging"), this._cacheHelperProportions(), t.ui.ddmanager && (t.ui.ddmanager.current = this), this._cacheMargins(), this.cssPosition = this.helper.css("position"), this.scrollParent = this.helper.scrollParent(!0), this.offsetParent = this.helper.offsetParent(), this.hasFixedAncestor = this.helper.parents().filter((function() {
                return "fixed" === t(this).css("position")
            })).length > 0, this.positionAbs = this.element.offset(), this._refreshOffsets(e), this.originalPosition = this.position = this._generatePosition(e, !1), this.originalPageX = e.pageX, this.originalPageY = e.pageY, n.cursorAt && this._adjustOffsetFromHelper(n.cursorAt), this._setContainment(), !1 === this._trigger("start", e) ? (this._clear(), !1) : (this._cacheHelperProportions(), t.ui.ddmanager && !n.dropBehaviour && t.ui.ddmanager.prepareOffsets(this, e), this._mouseDrag(e, !0), t.ui.ddmanager && t.ui.ddmanager.dragStart(this, e), !0)
        },
        _refreshOffsets: function(t) {
            this.offset = {
                top: this.positionAbs.top - this.margins.top,
                left: this.positionAbs.left - this.margins.left,
                scroll: !1,
                parent: this._getParentOffset(),
                relative: this._getRelativeOffset()
            }, this.offset.click = {
                left: t.pageX - this.offset.left,
                top: t.pageY - this.offset.top
            }
        },
        _mouseDrag: function(e, n) {
            if (this.hasFixedAncestor && (this.offset.parent = this._getParentOffset()), this.position = this._generatePosition(e, !0), this.positionAbs = this._convertPositionTo("absolute"), !n) {
                var i = this._uiHash();
                if (!1 === this._trigger("drag", e, i)) return this._mouseUp(new t.Event("mouseup", e)), !1;
                this.position = i.position
            }
            return this.helper[0].style.left = this.position.left + "px", this.helper[0].style.top = this.position.top + "px", t.ui.ddmanager && t.ui.ddmanager.drag(this, e), !1
        },
        _mouseStop: function(e) {
            var n = this,
                i = !1;
            return t.ui.ddmanager && !this.options.dropBehaviour && (i = t.ui.ddmanager.drop(this, e)), this.dropped && (i = this.dropped, this.dropped = !1), "invalid" === this.options.revert && !i || "valid" === this.options.revert && i || !0 === this.options.revert || t.isFunction(this.options.revert) && this.options.revert.call(this.element, i) ? t(this.helper).animate(this.originalPosition, parseInt(this.options.revertDuration, 10), (function() {
                !1 !== n._trigger("stop", e) && n._clear()
            })) : !1 !== this._trigger("stop", e) && this._clear(), !1
        },
        _mouseUp: function(e) {
            return this._unblockFrames(), t.ui.ddmanager && t.ui.ddmanager.dragStop(this, e), this.handleElement.is(e.target) && this.element.trigger("focus"), t.ui.mouse.prototype._mouseUp.call(this, e)
        },
        cancel: function() {
            return this.helper.is(".ui-draggable-dragging") ? this._mouseUp(new t.Event("mouseup", {
                target: this.element[0]
            })) : this._clear(), this
        },
        _getHandle: function(e) {
            return !this.options.handle || !!t(e.target).closest(this.element.find(this.options.handle)).length
        },
        _setHandleClassName: function() {
            this.handleElement = this.options.handle ? this.element.find(this.options.handle) : this.element, this._addClass(this.handleElement, "ui-draggable-handle")
        },
        _removeHandleClassName: function() {
            this._removeClass(this.handleElement, "ui-draggable-handle")
        },
        _createHelper: function(e) {
            var n = this.options,
                i = t.isFunction(n.helper),
                r = i ? t(n.helper.apply(this.element[0], [e])) : "clone" === n.helper ? this.element.clone().removeAttr("id") : this.element;
            return r.parents("body").length || r.appendTo("parent" === n.appendTo ? this.element[0].parentNode : n.appendTo), i && r[0] === this.element[0] && this._setPositionRelative(), r[0] === this.element[0] || /(fixed|absolute)/.test(r.css("position")) || r.css("position", "absolute"), r
        },
        _setPositionRelative: function() {
            /^(?:r|a|f)/.test(this.element.css("position")) || (this.element[0].style.position = "relative")
        },
        _adjustOffsetFromHelper: function(e) {
            "string" == typeof e && (e = e.split(" ")), t.isArray(e) && (e = {
                left: +e[0],
                top: +e[1] || 0
            }), "left" in e && (this.offset.click.left = e.left + this.margins.left), "right" in e && (this.offset.click.left = this.helperProportions.width - e.right + this.margins.left), "top" in e && (this.offset.click.top = e.top + this.margins.top), "bottom" in e && (this.offset.click.top = this.helperProportions.height - e.bottom + this.margins.top)
        },
        _isRootNode: function(t) {
            return /(html|body)/i.test(t.tagName) || t === this.document[0]
        },
        _getParentOffset: function() {
            var e = this.offsetParent.offset(),
                n = this.document[0];
            return "absolute" === this.cssPosition && this.scrollParent[0] !== n && t.contains(this.scrollParent[0], this.offsetParent[0]) && (e.left += this.scrollParent.scrollLeft(), e.top += this.scrollParent.scrollTop()), this._isRootNode(this.offsetParent[0]) && (e = {
                top: 0,
                left: 0
            }), {
                top: e.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
                left: e.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
            }
        },
        _getRelativeOffset: function() {
            if ("relative" !== this.cssPosition) return {
                top: 0,
                left: 0
            };
            var t = this.element.position(),
                e = this._isRootNode(this.scrollParent[0]);
            return {
                top: t.top - (parseInt(this.helper.css("top"), 10) || 0) + (e ? 0 : this.scrollParent.scrollTop()),
                left: t.left - (parseInt(this.helper.css("left"), 10) || 0) + (e ? 0 : this.scrollParent.scrollLeft())
            }
        },
        _cacheMargins: function() {
            this.margins = {
                left: parseInt(this.element.css("marginLeft"), 10) || 0,
                top: parseInt(this.element.css("marginTop"), 10) || 0,
                right: parseInt(this.element.css("marginRight"), 10) || 0,
                bottom: parseInt(this.element.css("marginBottom"), 10) || 0
            }
        },
        _cacheHelperProportions: function() {
            this.helperProportions = {
                width: this.helper.outerWidth(),
                height: this.helper.outerHeight()
            }
        },
        _setContainment: function() {
            var e, n, i, r = this.options,
                o = this.document[0];
            return this.relativeContainer = null, r.containment ? "window" === r.containment ? void(this.containment = [t(window).scrollLeft() - this.offset.relative.left - this.offset.parent.left, t(window).scrollTop() - this.offset.relative.top - this.offset.parent.top, t(window).scrollLeft() + t(window).width() - this.helperProportions.width - this.margins.left, t(window).scrollTop() + (t(window).height() || o.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top]) : "document" === r.containment ? void(this.containment = [0, 0, t(o).width() - this.helperProportions.width - this.margins.left, (t(o).height() || o.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top]) : r.containment.constructor === Array ? void(this.containment = r.containment) : ("parent" === r.containment && (r.containment = this.helper[0].parentNode), void((i = (n = t(r.containment))[0]) && (e = /(scroll|auto)/.test(n.css("overflow")), this.containment = [(parseInt(n.css("borderLeftWidth"), 10) || 0) + (parseInt(n.css("paddingLeft"), 10) || 0), (parseInt(n.css("borderTopWidth"), 10) || 0) + (parseInt(n.css("paddingTop"), 10) || 0), (e ? Math.max(i.scrollWidth, i.offsetWidth) : i.offsetWidth) - (parseInt(n.css("borderRightWidth"), 10) || 0) - (parseInt(n.css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left - this.margins.right, (e ? Math.max(i.scrollHeight, i.offsetHeight) : i.offsetHeight) - (parseInt(n.css("borderBottomWidth"), 10) || 0) - (parseInt(n.css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top - this.margins.bottom], this.relativeContainer = n))) : void(this.containment = null)
        },
        _convertPositionTo: function(t, e) {
            e || (e = this.position);
            var n = "absolute" === t ? 1 : -1,
                i = this._isRootNode(this.scrollParent[0]);
            return {
                top: e.top + this.offset.relative.top * n + this.offset.parent.top * n - ("fixed" === this.cssPosition ? -this.offset.scroll.top : i ? 0 : this.offset.scroll.top) * n,
                left: e.left + this.offset.relative.left * n + this.offset.parent.left * n - ("fixed" === this.cssPosition ? -this.offset.scroll.left : i ? 0 : this.offset.scroll.left) * n
            }
        },
        _generatePosition: function(t, e) {
            var n, i, r, o, s = this.options,
                a = this._isRootNode(this.scrollParent[0]),
                u = t.pageX,
                l = t.pageY;
            return a && this.offset.scroll || (this.offset.scroll = {
                top: this.scrollParent.scrollTop(),
                left: this.scrollParent.scrollLeft()
            }), e && (this.containment && (this.relativeContainer ? (i = this.relativeContainer.offset(), n = [this.containment[0] + i.left, this.containment[1] + i.top, this.containment[2] + i.left, this.containment[3] + i.top]) : n = this.containment, t.pageX - this.offset.click.left < n[0] && (u = n[0] + this.offset.click.left), t.pageY - this.offset.click.top < n[1] && (l = n[1] + this.offset.click.top), t.pageX - this.offset.click.left > n[2] && (u = n[2] + this.offset.click.left), t.pageY - this.offset.click.top > n[3] && (l = n[3] + this.offset.click.top)), s.grid && (r = s.grid[1] ? this.originalPageY + Math.round((l - this.originalPageY) / s.grid[1]) * s.grid[1] : this.originalPageY, l = n ? r - this.offset.click.top >= n[1] || r - this.offset.click.top > n[3] ? r : r - this.offset.click.top >= n[1] ? r - s.grid[1] : r + s.grid[1] : r, o = s.grid[0] ? this.originalPageX + Math.round((u - this.originalPageX) / s.grid[0]) * s.grid[0] : this.originalPageX, u = n ? o - this.offset.click.left >= n[0] || o - this.offset.click.left > n[2] ? o : o - this.offset.click.left >= n[0] ? o - s.grid[0] : o + s.grid[0] : o), "y" === s.axis && (u = this.originalPageX), "x" === s.axis && (l = this.originalPageY)), {
                top: l - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + ("fixed" === this.cssPosition ? -this.offset.scroll.top : a ? 0 : this.offset.scroll.top),
                left: u - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + ("fixed" === this.cssPosition ? -this.offset.scroll.left : a ? 0 : this.offset.scroll.left)
            }
        },
        _clear: function() {
            this._removeClass(this.helper, "ui-draggable-dragging"), this.helper[0] === this.element[0] || this.cancelHelperRemoval || this.helper.remove(), this.helper = null, this.cancelHelperRemoval = !1, this.destroyOnClear && this.destroy()
        },
        _trigger: function(e, n, i) {
            return i = i || this._uiHash(), t.ui.plugin.call(this, e, [n, i, this], !0), /^(drag|start|stop)/.test(e) && (this.positionAbs = this._convertPositionTo("absolute"), i.offset = this.positionAbs), t.Widget.prototype._trigger.call(this, e, n, i)
        },
        plugins: {},
        _uiHash: function() {
            return {
                helper: this.helper,
                position: this.position,
                originalPosition: this.originalPosition,
                offset: this.positionAbs
            }
        }
    }), t.ui.plugin.add("draggable", "connectToSortable", {
        start: function(e, n, i) {
            var r = t.extend({}, n, {
                item: i.element
            });
            i.sortables = [], t(i.options.connectToSortable).each((function() {
                var n = t(this).sortable("instance");
                n && !n.options.disabled && (i.sortables.push(n), n.refreshPositions(), n._trigger("activate", e, r))
            }))
        },
        stop: function(e, n, i) {
            var r = t.extend({}, n, {
                item: i.element
            });
            i.cancelHelperRemoval = !1, t.each(i.sortables, (function() {
                var t = this;
                t.isOver ? (t.isOver = 0, i.cancelHelperRemoval = !0, t.cancelHelperRemoval = !1, t._storedCSS = {
                    position: t.placeholder.css("position"),
                    top: t.placeholder.css("top"),
                    left: t.placeholder.css("left")
                }, t._mouseStop(e), t.options.helper = t.options._helper) : (t.cancelHelperRemoval = !0, t._trigger("deactivate", e, r))
            }))
        },
        drag: function(e, n, i) {
            t.each(i.sortables, (function() {
                var r = !1,
                    o = this;
                o.positionAbs = i.positionAbs, o.helperProportions = i.helperProportions, o.offset.click = i.offset.click, o._intersectsWith(o.containerCache) && (r = !0, t.each(i.sortables, (function() {
                    return this.positionAbs = i.positionAbs, this.helperProportions = i.helperProportions, this.offset.click = i.offset.click, this !== o && this._intersectsWith(this.containerCache) && t.contains(o.element[0], this.element[0]) && (r = !1), r
                }))), r ? (o.isOver || (o.isOver = 1, i._parent = n.helper.parent(), o.currentItem = n.helper.appendTo(o.element).data("ui-sortable-item", !0), o.options._helper = o.options.helper, o.options.helper = function() {
                    return n.helper[0]
                }, e.target = o.currentItem[0], o._mouseCapture(e, !0), o._mouseStart(e, !0, !0), o.offset.click.top = i.offset.click.top, o.offset.click.left = i.offset.click.left, o.offset.parent.left -= i.offset.parent.left - o.offset.parent.left, o.offset.parent.top -= i.offset.parent.top - o.offset.parent.top, i._trigger("toSortable", e), i.dropped = o.element, t.each(i.sortables, (function() {
                    this.refreshPositions()
                })), i.currentItem = i.element, o.fromOutside = i), o.currentItem && (o._mouseDrag(e), n.position = o.position)) : o.isOver && (o.isOver = 0, o.cancelHelperRemoval = !0, o.options._revert = o.options.revert, o.options.revert = !1, o._trigger("out", e, o._uiHash(o)), o._mouseStop(e, !0), o.options.revert = o.options._revert, o.options.helper = o.options._helper, o.placeholder && o.placeholder.remove(), n.helper.appendTo(i._parent), i._refreshOffsets(e), n.position = i._generatePosition(e, !0), i._trigger("fromSortable", e), i.dropped = !1, t.each(i.sortables, (function() {
                    this.refreshPositions()
                })))
            }))
        }
    }), t.ui.plugin.add("draggable", "cursor", {
        start: function(e, n, i) {
            var r = t("body"),
                o = i.options;
            r.css("cursor") && (o._cursor = r.css("cursor")), r.css("cursor", o.cursor)
        },
        stop: function(e, n, i) {
            var r = i.options;
            r._cursor && t("body").css("cursor", r._cursor)
        }
    }), t.ui.plugin.add("draggable", "opacity", {
        start: function(e, n, i) {
            var r = t(n.helper),
                o = i.options;
            r.css("opacity") && (o._opacity = r.css("opacity")), r.css("opacity", o.opacity)
        },
        stop: function(e, n, i) {
            var r = i.options;
            r._opacity && t(n.helper).css("opacity", r._opacity)
        }
    }), t.ui.plugin.add("draggable", "scroll", {
        start: function(t, e, n) {
            n.scrollParentNotHidden || (n.scrollParentNotHidden = n.helper.scrollParent(!1)), n.scrollParentNotHidden[0] !== n.document[0] && "HTML" !== n.scrollParentNotHidden[0].tagName && (n.overflowOffset = n.scrollParentNotHidden.offset())
        },
        drag: function(e, n, i) {
            var r = i.options,
                o = !1,
                s = i.scrollParentNotHidden[0],
                a = i.document[0];
            s !== a && "HTML" !== s.tagName ? (r.axis && "x" === r.axis || (i.overflowOffset.top + s.offsetHeight - e.pageY < r.scrollSensitivity ? s.scrollTop = o = s.scrollTop + r.scrollSpeed : e.pageY - i.overflowOffset.top < r.scrollSensitivity && (s.scrollTop = o = s.scrollTop - r.scrollSpeed)), r.axis && "y" === r.axis || (i.overflowOffset.left + s.offsetWidth - e.pageX < r.scrollSensitivity ? s.scrollLeft = o = s.scrollLeft + r.scrollSpeed : e.pageX - i.overflowOffset.left < r.scrollSensitivity && (s.scrollLeft = o = s.scrollLeft - r.scrollSpeed))) : (r.axis && "x" === r.axis || (e.pageY - t(a).scrollTop() < r.scrollSensitivity ? o = t(a).scrollTop(t(a).scrollTop() - r.scrollSpeed) : t(window).height() - (e.pageY - t(a).scrollTop()) < r.scrollSensitivity && (o = t(a).scrollTop(t(a).scrollTop() + r.scrollSpeed))), r.axis && "y" === r.axis || (e.pageX - t(a).scrollLeft() < r.scrollSensitivity ? o = t(a).scrollLeft(t(a).scrollLeft() - r.scrollSpeed) : t(window).width() - (e.pageX - t(a).scrollLeft()) < r.scrollSensitivity && (o = t(a).scrollLeft(t(a).scrollLeft() + r.scrollSpeed)))), !1 !== o && t.ui.ddmanager && !r.dropBehaviour && t.ui.ddmanager.prepareOffsets(i, e)
        }
    }), t.ui.plugin.add("draggable", "snap", {
        start: function(e, n, i) {
            var r = i.options;
            i.snapElements = [], t(r.snap.constructor !== String ? r.snap.items || ":data(ui-draggable)" : r.snap).each((function() {
                var e = t(this),
                    n = e.offset();
                this !== i.element[0] && i.snapElements.push({
                    item: this,
                    width: e.outerWidth(),
                    height: e.outerHeight(),
                    top: n.top,
                    left: n.left
                })
            }))
        },
        drag: function(e, n, i) {
            var r, o, s, a, u, l, h, c, d, p, f = i.options,
                g = f.snapTolerance,
                v = n.offset.left,
                m = v + i.helperProportions.width,
                y = n.offset.top,
                _ = y + i.helperProportions.height;
            for (d = i.snapElements.length - 1; d >= 0; d--) l = (u = i.snapElements[d].left - i.margins.left) + i.snapElements[d].width, c = (h = i.snapElements[d].top - i.margins.top) + i.snapElements[d].height, u - g > m || v > l + g || h - g > _ || y > c + g || !t.contains(i.snapElements[d].item.ownerDocument, i.snapElements[d].item) ? (i.snapElements[d].snapping && i.options.snap.release && i.options.snap.release.call(i.element, e, t.extend(i._uiHash(), {
                snapItem: i.snapElements[d].item
            })), i.snapElements[d].snapping = !1) : ("inner" !== f.snapMode && (r = g >= Math.abs(h - _), o = g >= Math.abs(c - y), s = g >= Math.abs(u - m), a = g >= Math.abs(l - v), r && (n.position.top = i._convertPositionTo("relative", {
                top: h - i.helperProportions.height,
                left: 0
            }).top), o && (n.position.top = i._convertPositionTo("relative", {
                top: c,
                left: 0
            }).top), s && (n.position.left = i._convertPositionTo("relative", {
                top: 0,
                left: u - i.helperProportions.width
            }).left), a && (n.position.left = i._convertPositionTo("relative", {
                top: 0,
                left: l
            }).left)), p = r || o || s || a, "outer" !== f.snapMode && (r = g >= Math.abs(h - y), o = g >= Math.abs(c - _), s = g >= Math.abs(u - v), a = g >= Math.abs(l - m), r && (n.position.top = i._convertPositionTo("relative", {
                top: h,
                left: 0
            }).top), o && (n.position.top = i._convertPositionTo("relative", {
                top: c - i.helperProportions.height,
                left: 0
            }).top), s && (n.position.left = i._convertPositionTo("relative", {
                top: 0,
                left: u
            }).left), a && (n.position.left = i._convertPositionTo("relative", {
                top: 0,
                left: l - i.helperProportions.width
            }).left)), !i.snapElements[d].snapping && (r || o || s || a || p) && i.options.snap.snap && i.options.snap.snap.call(i.element, e, t.extend(i._uiHash(), {
                snapItem: i.snapElements[d].item
            })), i.snapElements[d].snapping = r || o || s || a || p)
        }
    }), t.ui.plugin.add("draggable", "stack", {
        start: function(e, n, i) {
            var r, o = i.options,
                s = t.makeArray(t(o.stack)).sort((function(e, n) {
                    return (parseInt(t(e).css("zIndex"), 10) || 0) - (parseInt(t(n).css("zIndex"), 10) || 0)
                }));
            s.length && (r = parseInt(t(s[0]).css("zIndex"), 10) || 0, t(s).each((function(e) {
                t(this).css("zIndex", r + e)
            })), this.css("zIndex", r + s.length))
        }
    }), t.ui.plugin.add("draggable", "zIndex", {
        start: function(e, n, i) {
            var r = t(n.helper),
                o = i.options;
            r.css("zIndex") && (o._zIndex = r.css("zIndex")), r.css("zIndex", o.zIndex)
        },
        stop: function(e, n, i) {
            var r = i.options;
            r._zIndex && t(n.helper).css("zIndex", r._zIndex)
        }
    }), t.ui.draggable, t.widget("ui.resizable", t.ui.mouse, {
        version: "1.12.1",
        widgetEventPrefix: "resize",
        options: {
            alsoResize: !1,
            animate: !1,
            animateDuration: "slow",
            animateEasing: "swing",
            aspectRatio: !1,
            autoHide: !1,
            classes: {
                "ui-resizable-se": "ui-icon ui-icon-gripsmall-diagonal-se"
            },
            containment: !1,
            ghost: !1,
            grid: !1,
            handles: "e,s,se",
            helper: !1,
            maxHeight: null,
            maxWidth: null,
            minHeight: 10,
            minWidth: 10,
            zIndex: 90,
            resize: null,
            start: null,
            stop: null
        },
        _num: function(t) {
            return parseFloat(t) || 0
        },
        _isNumber: function(t) {
            return !isNaN(parseFloat(t))
        },
        _hasScroll: function(e, n) {
            if ("hidden" === t(e).css("overflow")) return !1;
            var i = n && "left" === n ? "scrollLeft" : "scrollTop",
                r = !1;
            return e[i] > 0 || (e[i] = 1, r = e[i] > 0, e[i] = 0, r)
        },
        _create: function() {
            var e, n = this.options,
                i = this;
            this._addClass("ui-resizable"), t.extend(this, {
                _aspectRatio: !!n.aspectRatio,
                aspectRatio: n.aspectRatio,
                originalElement: this.element,
                _proportionallyResizeElements: [],
                _helper: n.helper || n.ghost || n.animate ? n.helper || "ui-resizable-helper" : null
            }), this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i) && (this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({
                position: this.element.css("position"),
                width: this.element.outerWidth(),
                height: this.element.outerHeight(),
                top: this.element.css("top"),
                left: this.element.css("left")
            })), this.element = this.element.parent().data("ui-resizable", this.element.resizable("instance")), this.elementIsWrapper = !0, e = {
                marginTop: this.originalElement.css("marginTop"),
                marginRight: this.originalElement.css("marginRight"),
                marginBottom: this.originalElement.css("marginBottom"),
                marginLeft: this.originalElement.css("marginLeft")
            }, this.element.css(e), this.originalElement.css("margin", 0), this.originalResizeStyle = this.originalElement.css("resize"), this.originalElement.css("resize", "none"), this._proportionallyResizeElements.push(this.originalElement.css({
                position: "static",
                zoom: 1,
                display: "block"
            })), this.originalElement.css(e), this._proportionallyResize()), this._setupHandles(), n.autoHide && t(this.element).on("mouseenter", (function() {
                n.disabled || (i._removeClass("ui-resizable-autohide"), i._handles.show())
            })).on("mouseleave", (function() {
                n.disabled || i.resizing || (i._addClass("ui-resizable-autohide"), i._handles.hide())
            })), this._mouseInit()
        },
        _destroy: function() {
            this._mouseDestroy();
            var e, n = function(e) {
                t(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()
            };
            return this.elementIsWrapper && (n(this.element), e = this.element, this.originalElement.css({
                position: e.css("position"),
                width: e.outerWidth(),
                height: e.outerHeight(),
                top: e.css("top"),
                left: e.css("left")
            }).insertAfter(e), e.remove()), this.originalElement.css("resize", this.originalResizeStyle), n(this.originalElement), this
        },
        _setOption: function(t, e) {
            switch (this._super(t, e), t) {
                case "handles":
                    this._removeHandles(), this._setupHandles()
            }
        },
        _setupHandles: function() {
            var e, n, i, r, o, s = this.options,
                a = this;
            if (this.handles = s.handles || (t(".ui-resizable-handle", this.element).length ? {
                    n: ".ui-resizable-n",
                    e: ".ui-resizable-e",
                    s: ".ui-resizable-s",
                    w: ".ui-resizable-w",
                    se: ".ui-resizable-se",
                    sw: ".ui-resizable-sw",
                    ne: ".ui-resizable-ne",
                    nw: ".ui-resizable-nw"
                } : "e,s,se"), this._handles = t(), this.handles.constructor === String)
                for ("all" === this.handles && (this.handles = "n,e,s,w,se,sw,ne,nw"), i = this.handles.split(","), this.handles = {}, n = 0; i.length > n; n++) r = "ui-resizable-" + (e = t.trim(i[n])), o = t("<div>"), this._addClass(o, "ui-resizable-handle " + r), o.css({
                    zIndex: s.zIndex
                }), this.handles[e] = ".ui-resizable-" + e, this.element.append(o);
            this._renderAxis = function(e) {
                var n, i, r, o;
                for (n in e = e || this.element, this.handles) this.handles[n].constructor === String ? this.handles[n] = this.element.children(this.handles[n]).first().show() : (this.handles[n].jquery || this.handles[n].nodeType) && (this.handles[n] = t(this.handles[n]), this._on(this.handles[n], {
                    mousedown: a._mouseDown
                })), this.elementIsWrapper && this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i) && (i = t(this.handles[n], this.element), o = /sw|ne|nw|se|n|s/.test(n) ? i.outerHeight() : i.outerWidth(), r = ["padding", /ne|nw|n/.test(n) ? "Top" : /se|sw|s/.test(n) ? "Bottom" : /^e$/.test(n) ? "Right" : "Left"].join(""), e.css(r, o), this._proportionallyResize()), this._handles = this._handles.add(this.handles[n])
            }, this._renderAxis(this.element), this._handles = this._handles.add(this.element.find(".ui-resizable-handle")), this._handles.disableSelection(), this._handles.on("mouseover", (function() {
                a.resizing || (this.className && (o = this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)), a.axis = o && o[1] ? o[1] : "se")
            })), s.autoHide && (this._handles.hide(), this._addClass("ui-resizable-autohide"))
        },
        _removeHandles: function() {
            this._handles.remove()
        },
        _mouseCapture: function(e) {
            var n, i, r = !1;
            for (n in this.handles)((i = t(this.handles[n])[0]) === e.target || t.contains(i, e.target)) && (r = !0);
            return !this.options.disabled && r
        },
        _mouseStart: function(e) {
            var n, i, r, o = this.options,
                s = this.element;
            return this.resizing = !0, this._renderProxy(), n = this._num(this.helper.css("left")), i = this._num(this.helper.css("top")), o.containment && (n += t(o.containment).scrollLeft() || 0, i += t(o.containment).scrollTop() || 0), this.offset = this.helper.offset(), this.position = {
                left: n,
                top: i
            }, this.size = this._helper ? {
                width: this.helper.width(),
                height: this.helper.height()
            } : {
                width: s.width(),
                height: s.height()
            }, this.originalSize = this._helper ? {
                width: s.outerWidth(),
                height: s.outerHeight()
            } : {
                width: s.width(),
                height: s.height()
            }, this.sizeDiff = {
                width: s.outerWidth() - s.width(),
                height: s.outerHeight() - s.height()
            }, this.originalPosition = {
                left: n,
                top: i
            }, this.originalMousePosition = {
                left: e.pageX,
                top: e.pageY
            }, this.aspectRatio = "number" == typeof o.aspectRatio ? o.aspectRatio : this.originalSize.width / this.originalSize.height || 1, r = t(".ui-resizable-" + this.axis).css("cursor"), t("body").css("cursor", "auto" === r ? this.axis + "-resize" : r), this._addClass("ui-resizable-resizing"), this._propagate("start", e), !0
        },
        _mouseDrag: function(e) {
            var n, i, r = this.originalMousePosition,
                o = this.axis,
                s = e.pageX - r.left || 0,
                a = e.pageY - r.top || 0,
                u = this._change[o];
            return this._updatePrevProperties(), !!u && (n = u.apply(this, [e, s, a]), this._updateVirtualBoundaries(e.shiftKey), (this._aspectRatio || e.shiftKey) && (n = this._updateRatio(n, e)), n = this._respectSize(n, e), this._updateCache(n), this._propagate("resize", e), i = this._applyChanges(), !this._helper && this._proportionallyResizeElements.length && this._proportionallyResize(), t.isEmptyObject(i) || (this._updatePrevProperties(), this._trigger("resize", e, this.ui()), this._applyChanges()), !1)
        },
        _mouseStop: function(e) {
            this.resizing = !1;
            var n, i, r, o, s, a, u, l = this.options,
                h = this;
            return this._helper && (r = (i = (n = this._proportionallyResizeElements).length && /textarea/i.test(n[0].nodeName)) && this._hasScroll(n[0], "left") ? 0 : h.sizeDiff.height, o = i ? 0 : h.sizeDiff.width, s = {
                width: h.helper.width() - o,
                height: h.helper.height() - r
            }, a = parseFloat(h.element.css("left")) + (h.position.left - h.originalPosition.left) || null, u = parseFloat(h.element.css("top")) + (h.position.top - h.originalPosition.top) || null, l.animate || this.element.css(t.extend(s, {
                top: u,
                left: a
            })), h.helper.height(h.size.height), h.helper.width(h.size.width), this._helper && !l.animate && this._proportionallyResize()), t("body").css("cursor", "auto"), this._removeClass("ui-resizable-resizing"), this._propagate("stop", e), this._helper && this.helper.remove(), !1
        },
        _updatePrevProperties: function() {
            this.prevPosition = {
                top: this.position.top,
                left: this.position.left
            }, this.prevSize = {
                width: this.size.width,
                height: this.size.height
            }
        },
        _applyChanges: function() {
            var t = {};
            return this.position.top !== this.prevPosition.top && (t.top = this.position.top + "px"), this.position.left !== this.prevPosition.left && (t.left = this.position.left + "px"), this.size.width !== this.prevSize.width && (t.width = this.size.width + "px"), this.size.height !== this.prevSize.height && (t.height = this.size.height + "px"), this.helper.css(t), t
        },
        _updateVirtualBoundaries: function(t) {
            var e, n, i, r, o, s = this.options;
            o = {
                minWidth: this._isNumber(s.minWidth) ? s.minWidth : 0,
                maxWidth: this._isNumber(s.maxWidth) ? s.maxWidth : 1 / 0,
                minHeight: this._isNumber(s.minHeight) ? s.minHeight : 0,
                maxHeight: this._isNumber(s.maxHeight) ? s.maxHeight : 1 / 0
            }, (this._aspectRatio || t) && (e = o.minHeight * this.aspectRatio, i = o.minWidth / this.aspectRatio, n = o.maxHeight * this.aspectRatio, r = o.maxWidth / this.aspectRatio, e > o.minWidth && (o.minWidth = e), i > o.minHeight && (o.minHeight = i), o.maxWidth > n && (o.maxWidth = n), o.maxHeight > r && (o.maxHeight = r)), this._vBoundaries = o
        },
        _updateCache: function(t) {
            this.offset = this.helper.offset(), this._isNumber(t.left) && (this.position.left = t.left), this._isNumber(t.top) && (this.position.top = t.top), this._isNumber(t.height) && (this.size.height = t.height), this._isNumber(t.width) && (this.size.width = t.width)
        },
        _updateRatio: function(t) {
            var e = this.position,
                n = this.size,
                i = this.axis;
            return this._isNumber(t.height) ? t.width = t.height * this.aspectRatio : this._isNumber(t.width) && (t.height = t.width / this.aspectRatio), "sw" === i && (t.left = e.left + (n.width - t.width), t.top = null), "nw" === i && (t.top = e.top + (n.height - t.height), t.left = e.left + (n.width - t.width)), t
        },
        _respectSize: function(t) {
            var e = this._vBoundaries,
                n = this.axis,
                i = this._isNumber(t.width) && e.maxWidth && e.maxWidth < t.width,
                r = this._isNumber(t.height) && e.maxHeight && e.maxHeight < t.height,
                o = this._isNumber(t.width) && e.minWidth && e.minWidth > t.width,
                s = this._isNumber(t.height) && e.minHeight && e.minHeight > t.height,
                a = this.originalPosition.left + this.originalSize.width,
                u = this.originalPosition.top + this.originalSize.height,
                l = /sw|nw|w/.test(n),
                h = /nw|ne|n/.test(n);
            return o && (t.width = e.minWidth), s && (t.height = e.minHeight), i && (t.width = e.maxWidth), r && (t.height = e.maxHeight), o && l && (t.left = a - e.minWidth), i && l && (t.left = a - e.maxWidth), s && h && (t.top = u - e.minHeight), r && h && (t.top = u - e.maxHeight), t.width || t.height || t.left || !t.top ? t.width || t.height || t.top || !t.left || (t.left = null) : t.top = null, t
        },
        _getPaddingPlusBorderDimensions: function(t) {
            for (var e = 0, n = [], i = [t.css("borderTopWidth"), t.css("borderRightWidth"), t.css("borderBottomWidth"), t.css("borderLeftWidth")], r = [t.css("paddingTop"), t.css("paddingRight"), t.css("paddingBottom"), t.css("paddingLeft")]; 4 > e; e++) n[e] = parseFloat(i[e]) || 0, n[e] += parseFloat(r[e]) || 0;
            return {
                height: n[0] + n[2],
                width: n[1] + n[3]
            }
        },
        _proportionallyResize: function() {
            if (this._proportionallyResizeElements.length)
                for (var t, e = 0, n = this.helper || this.element; this._proportionallyResizeElements.length > e; e++) t = this._proportionallyResizeElements[e], this.outerDimensions || (this.outerDimensions = this._getPaddingPlusBorderDimensions(t)), t.css({
                    height: n.height() - this.outerDimensions.height || 0,
                    width: n.width() - this.outerDimensions.width || 0
                })
        },
        _renderProxy: function() {
            var e = this.element,
                n = this.options;
            this.elementOffset = e.offset(), this._helper ? (this.helper = this.helper || t("<div style='overflow:hidden;'></div>"), this._addClass(this.helper, this._helper), this.helper.css({
                width: this.element.outerWidth(),
                height: this.element.outerHeight(),
                position: "absolute",
                left: this.elementOffset.left + "px",
                top: this.elementOffset.top + "px",
                zIndex: ++n.zIndex
            }), this.helper.appendTo("body").disableSelection()) : this.helper = this.element
        },
        _change: {
            e: function(t, e) {
                return {
                    width: this.originalSize.width + e
                }
            },
            w: function(t, e) {
                var n = this.originalSize;
                return {
                    left: this.originalPosition.left + e,
                    width: n.width - e
                }
            },
            n: function(t, e, n) {
                var i = this.originalSize;
                return {
                    top: this.originalPosition.top + n,
                    height: i.height - n
                }
            },
            s: function(t, e, n) {
                return {
                    height: this.originalSize.height + n
                }
            },
            se: function(e, n, i) {
                return t.extend(this._change.s.apply(this, arguments), this._change.e.apply(this, [e, n, i]))
            },
            sw: function(e, n, i) {
                return t.extend(this._change.s.apply(this, arguments), this._change.w.apply(this, [e, n, i]))
            },
            ne: function(e, n, i) {
                return t.extend(this._change.n.apply(this, arguments), this._change.e.apply(this, [e, n, i]))
            },
            nw: function(e, n, i) {
                return t.extend(this._change.n.apply(this, arguments), this._change.w.apply(this, [e, n, i]))
            }
        },
        _propagate: function(e, n) {
            t.ui.plugin.call(this, e, [n, this.ui()]), "resize" !== e && this._trigger(e, n, this.ui())
        },
        plugins: {},
        ui: function() {
            return {
                originalElement: this.originalElement,
                element: this.element,
                helper: this.helper,
                position: this.position,
                size: this.size,
                originalSize: this.originalSize,
                originalPosition: this.originalPosition
            }
        }
    }), t.ui.plugin.add("resizable", "animate", {
        stop: function(e) {
            var n = t(this).resizable("instance"),
                i = n.options,
                r = n._proportionallyResizeElements,
                o = r.length && /textarea/i.test(r[0].nodeName),
                s = o && n._hasScroll(r[0], "left") ? 0 : n.sizeDiff.height,
                a = o ? 0 : n.sizeDiff.width,
                u = {
                    width: n.size.width - a,
                    height: n.size.height - s
                },
                l = parseFloat(n.element.css("left")) + (n.position.left - n.originalPosition.left) || null,
                h = parseFloat(n.element.css("top")) + (n.position.top - n.originalPosition.top) || null;
            n.element.animate(t.extend(u, h && l ? {
                top: h,
                left: l
            } : {}), {
                duration: i.animateDuration,
                easing: i.animateEasing,
                step: function() {
                    var i = {
                        width: parseFloat(n.element.css("width")),
                        height: parseFloat(n.element.css("height")),
                        top: parseFloat(n.element.css("top")),
                        left: parseFloat(n.element.css("left"))
                    };
                    r && r.length && t(r[0]).css({
                        width: i.width,
                        height: i.height
                    }), n._updateCache(i), n._propagate("resize", e)
                }
            })
        }
    }), t.ui.plugin.add("resizable", "containment", {
        start: function() {
            var e, n, i, r, o, s, a, u = t(this).resizable("instance"),
                l = u.options,
                h = u.element,
                c = l.containment,
                d = c instanceof t ? c.get(0) : /parent/.test(c) ? h.parent().get(0) : c;
            d && (u.containerElement = t(d), /document/.test(c) || c === document ? (u.containerOffset = {
                left: 0,
                top: 0
            }, u.containerPosition = {
                left: 0,
                top: 0
            }, u.parentData = {
                element: t(document),
                left: 0,
                top: 0,
                width: t(document).width(),
                height: t(document).height() || document.body.parentNode.scrollHeight
            }) : (e = t(d), n = [], t(["Top", "Right", "Left", "Bottom"]).each((function(t, i) {
                n[t] = u._num(e.css("padding" + i))
            })), u.containerOffset = e.offset(), u.containerPosition = e.position(), u.containerSize = {
                height: e.innerHeight() - n[3],
                width: e.innerWidth() - n[1]
            }, i = u.containerOffset, r = u.containerSize.height, o = u.containerSize.width, s = u._hasScroll(d, "left") ? d.scrollWidth : o, a = u._hasScroll(d) ? d.scrollHeight : r, u.parentData = {
                element: d,
                left: i.left,
                top: i.top,
                width: s,
                height: a
            }))
        },
        resize: function(e) {
            var n, i, r, o, s = t(this).resizable("instance"),
                a = s.options,
                u = s.containerOffset,
                l = s.position,
                h = s._aspectRatio || e.shiftKey,
                c = {
                    top: 0,
                    left: 0
                },
                d = s.containerElement,
                p = !0;
            d[0] !== document && /static/.test(d.css("position")) && (c = u), l.left < (s._helper ? u.left : 0) && (s.size.width = s.size.width + (s._helper ? s.position.left - u.left : s.position.left - c.left), h && (s.size.height = s.size.width / s.aspectRatio, p = !1), s.position.left = a.helper ? u.left : 0), l.top < (s._helper ? u.top : 0) && (s.size.height = s.size.height + (s._helper ? s.position.top - u.top : s.position.top), h && (s.size.width = s.size.height * s.aspectRatio, p = !1), s.position.top = s._helper ? u.top : 0), r = s.containerElement.get(0) === s.element.parent().get(0), o = /relative|absolute/.test(s.containerElement.css("position")), r && o ? (s.offset.left = s.parentData.left + s.position.left, s.offset.top = s.parentData.top + s.position.top) : (s.offset.left = s.element.offset().left, s.offset.top = s.element.offset().top), n = Math.abs(s.sizeDiff.width + (s._helper ? s.offset.left - c.left : s.offset.left - u.left)), i = Math.abs(s.sizeDiff.height + (s._helper ? s.offset.top - c.top : s.offset.top - u.top)), n + s.size.width >= s.parentData.width && (s.size.width = s.parentData.width - n, h && (s.size.height = s.size.width / s.aspectRatio, p = !1)), i + s.size.height >= s.parentData.height && (s.size.height = s.parentData.height - i, h && (s.size.width = s.size.height * s.aspectRatio, p = !1)), p || (s.position.left = s.prevPosition.left, s.position.top = s.prevPosition.top, s.size.width = s.prevSize.width, s.size.height = s.prevSize.height)
        },
        stop: function() {
            var e = t(this).resizable("instance"),
                n = e.options,
                i = e.containerOffset,
                r = e.containerPosition,
                o = e.containerElement,
                s = t(e.helper),
                a = s.offset(),
                u = s.outerWidth() - e.sizeDiff.width,
                l = s.outerHeight() - e.sizeDiff.height;
            e._helper && !n.animate && /relative/.test(o.css("position")) && t(this).css({
                left: a.left - r.left - i.left,
                width: u,
                height: l
            }), e._helper && !n.animate && /static/.test(o.css("position")) && t(this).css({
                left: a.left - r.left - i.left,
                width: u,
                height: l
            })
        }
    }), t.ui.plugin.add("resizable", "alsoResize", {
        start: function() {
            var e = t(this).resizable("instance").options;
            t(e.alsoResize).each((function() {
                var e = t(this);
                e.data("ui-resizable-alsoresize", {
                    width: parseFloat(e.width()),
                    height: parseFloat(e.height()),
                    left: parseFloat(e.css("left")),
                    top: parseFloat(e.css("top"))
                })
            }))
        },
        resize: function(e, n) {
            var i = t(this).resizable("instance"),
                r = i.options,
                o = i.originalSize,
                s = i.originalPosition,
                a = {
                    height: i.size.height - o.height || 0,
                    width: i.size.width - o.width || 0,
                    top: i.position.top - s.top || 0,
                    left: i.position.left - s.left || 0
                };
            t(r.alsoResize).each((function() {
                var e = t(this),
                    i = t(this).data("ui-resizable-alsoresize"),
                    r = {},
                    o = e.parents(n.originalElement[0]).length ? ["width", "height"] : ["width", "height", "top", "left"];
                t.each(o, (function(t, e) {
                    var n = (i[e] || 0) + (a[e] || 0);
                    n && n >= 0 && (r[e] = n || null)
                })), e.css(r)
            }))
        },
        stop: function() {
            t(this).removeData("ui-resizable-alsoresize")
        }
    }), t.ui.plugin.add("resizable", "ghost", {
        start: function() {
            var e = t(this).resizable("instance"),
                n = e.size;
            e.ghost = e.originalElement.clone(), e.ghost.css({
                opacity: .25,
                display: "block",
                position: "relative",
                height: n.height,
                width: n.width,
                margin: 0,
                left: 0,
                top: 0
            }), e._addClass(e.ghost, "ui-resizable-ghost"), !1 !== t.uiBackCompat && "string" == typeof e.options.ghost && e.ghost.addClass(this.options.ghost), e.ghost.appendTo(e.helper)
        },
        resize: function() {
            var e = t(this).resizable("instance");
            e.ghost && e.ghost.css({
                position: "relative",
                height: e.size.height,
                width: e.size.width
            })
        },
        stop: function() {
            var e = t(this).resizable("instance");
            e.ghost && e.helper && e.helper.get(0).removeChild(e.ghost.get(0))
        }
    }), t.ui.plugin.add("resizable", "grid", {
        resize: function() {
            var e, n = t(this).resizable("instance"),
                i = n.options,
                r = n.size,
                o = n.originalSize,
                s = n.originalPosition,
                a = n.axis,
                u = "number" == typeof i.grid ? [i.grid, i.grid] : i.grid,
                l = u[0] || 1,
                h = u[1] || 1,
                c = Math.round((r.width - o.width) / l) * l,
                d = Math.round((r.height - o.height) / h) * h,
                p = o.width + c,
                f = o.height + d,
                g = i.maxWidth && p > i.maxWidth,
                v = i.maxHeight && f > i.maxHeight,
                m = i.minWidth && i.minWidth > p,
                y = i.minHeight && i.minHeight > f;
            i.grid = u, m && (p += l), y && (f += h), g && (p -= l), v && (f -= h), /^(se|s|e)$/.test(a) ? (n.size.width = p, n.size.height = f) : /^(ne)$/.test(a) ? (n.size.width = p, n.size.height = f, n.position.top = s.top - d) : /^(sw)$/.test(a) ? (n.size.width = p, n.size.height = f, n.position.left = s.left - c) : ((0 >= f - h || 0 >= p - l) && (e = n._getPaddingPlusBorderDimensions(this)), f - h > 0 ? (n.size.height = f, n.position.top = s.top - d) : (f = h - e.height, n.size.height = f, n.position.top = s.top + o.height - f), p - l > 0 ? (n.size.width = p, n.position.left = s.left - c) : (p = l - e.width, n.size.width = p, n.position.left = s.left + o.width - p))
        }
    }), t.ui.resizable, t.widget("ui.dialog", {
        version: "1.12.1",
        options: {
            appendTo: "body",
            autoOpen: !0,
            buttons: [],
            classes: {
                "ui-dialog": "ui-corner-all",
                "ui-dialog-titlebar": "ui-corner-all"
            },
            closeOnEscape: !0,
            closeText: "Close",
            draggable: !0,
            hide: null,
            height: "auto",
            maxHeight: null,
            maxWidth: null,
            minHeight: 150,
            minWidth: 150,
            modal: !1,
            position: {
                my: "center",
                at: "center",
                of: window,
                collision: "fit",
                using: function(e) {
                    var n = t(this).css(e).offset().top;
                    0 > n && t(this).css("top", e.top - n)
                }
            },
            resizable: !0,
            show: null,
            title: null,
            width: 300,
            beforeClose: null,
            close: null,
            drag: null,
            dragStart: null,
            dragStop: null,
            focus: null,
            open: null,
            resize: null,
            resizeStart: null,
            resizeStop: null
        },
        sizeRelatedOptions: {
            buttons: !0,
            height: !0,
            maxHeight: !0,
            maxWidth: !0,
            minHeight: !0,
            minWidth: !0,
            width: !0
        },
        resizableRelatedOptions: {
            maxHeight: !0,
            maxWidth: !0,
            minHeight: !0,
            minWidth: !0
        },
        _create: function() {
            this.originalCss = {
                display: this.element[0].style.display,
                width: this.element[0].style.width,
                minHeight: this.element[0].style.minHeight,
                maxHeight: this.element[0].style.maxHeight,
                height: this.element[0].style.height
            }, this.originalPosition = {
                parent: this.element.parent(),
                index: this.element.parent().children().index(this.element)
            }, this.originalTitle = this.element.attr("title"), null == this.options.title && null != this.originalTitle && (this.options.title = this.originalTitle), this.options.disabled && (this.options.disabled = !1), this._createWrapper(), this.element.show().removeAttr("title").appendTo(this.uiDialog), this._addClass("ui-dialog-content", "ui-widget-content"), this._createTitlebar(), this._createButtonPane(), this.options.draggable && t.fn.draggable && this._makeDraggable(), this.options.resizable && t.fn.resizable && this._makeResizable(), this._isOpen = !1, this._trackFocus()
        },
        _init: function() {
            this.options.autoOpen && this.open()
        },
        _appendTo: function() {
            var e = this.options.appendTo;
            return e && (e.jquery || e.nodeType) ? t(e) : this.document.find(e || "body").eq(0)
        },
        _destroy: function() {
            var t, e = this.originalPosition;
            this._untrackInstance(), this._destroyOverlay(), this.element.removeUniqueId().css(this.originalCss).detach(), this.uiDialog.remove(), this.originalTitle && this.element.attr("title", this.originalTitle), (t = e.parent.children().eq(e.index)).length && t[0] !== this.element[0] ? t.before(this.element) : e.parent.append(this.element)
        },
        widget: function() {
            return this.uiDialog
        },
        disable: t.noop,
        enable: t.noop,
        close: function(e) {
            var n = this;
            this._isOpen && !1 !== this._trigger("beforeClose", e) && (this._isOpen = !1, this._focusedElement = null, this._destroyOverlay(), this._untrackInstance(), this.opener.filter(":focusable").trigger("focus").length || t.ui.safeBlur(t.ui.safeActiveElement(this.document[0])), this._hide(this.uiDialog, this.options.hide, (function() {
                n._trigger("close", e)
            })))
        },
        isOpen: function() {
            return this._isOpen
        },
        moveToTop: function() {
            this._moveToTop()
        },
        _moveToTop: function(e, n) {
            var i = !1,
                r = this.uiDialog.siblings(".ui-front:visible").map((function() {
                    return +t(this).css("z-index")
                })).get(),
                o = Math.max.apply(null, r);
            return o >= +this.uiDialog.css("z-index") && (this.uiDialog.css("z-index", o + 1), i = !0), i && !n && this._trigger("focus", e), i
        },
        open: function() {
            var e = this;
            return this._isOpen ? void(this._moveToTop() && this._focusTabbable()) : (this._isOpen = !0, this.opener = t(t.ui.safeActiveElement(this.document[0])), this._size(), this._position(), this._createOverlay(), this._moveToTop(null, !0), this.overlay && this.overlay.css("z-index", this.uiDialog.css("z-index") - 1), this._show(this.uiDialog, this.options.show, (function() {
                e._focusTabbable(), e._trigger("focus")
            })), this._makeFocusTarget(), void this._trigger("open"))
        },
        _focusTabbable: function() {
            var t = this._focusedElement;
            t || (t = this.element.find("[autofocus]")), t.length || (t = this.element.find(":tabbable")), t.length || (t = this.uiDialogButtonPane.find(":tabbable")), t.length || (t = this.uiDialogTitlebarClose.filter(":tabbable")), t.length || (t = this.uiDialog), t.eq(0).trigger("focus")
        },
        _keepFocus: function(e) {
            function n() {
                var e = t.ui.safeActiveElement(this.document[0]);
                this.uiDialog[0] === e || t.contains(this.uiDialog[0], e) || this._focusTabbable()
            }
            e.preventDefault(), n.call(this), this._delay(n)
        },
        _createWrapper: function() {
            this.uiDialog = t("<div>").hide().attr({
                tabIndex: -1,
                role: "dialog"
            }).appendTo(this._appendTo()), this._addClass(this.uiDialog, "ui-dialog", "ui-widget ui-widget-content ui-front"), this._on(this.uiDialog, {
                keydown: function(e) {
                    if (this.options.closeOnEscape && !e.isDefaultPrevented() && e.keyCode && e.keyCode === t.ui.keyCode.ESCAPE) return e.preventDefault(), void this.close(e);
                    if (e.keyCode === t.ui.keyCode.TAB && !e.isDefaultPrevented()) {
                        var n = this.uiDialog.find(":tabbable"),
                            i = n.filter(":first"),
                            r = n.filter(":last");
                        e.target !== r[0] && e.target !== this.uiDialog[0] || e.shiftKey ? e.target !== i[0] && e.target !== this.uiDialog[0] || !e.shiftKey || (this._delay((function() {
                            r.trigger("focus")
                        })), e.preventDefault()) : (this._delay((function() {
                            i.trigger("focus")
                        })), e.preventDefault())
                    }
                },
                mousedown: function(t) {
                    this._moveToTop(t) && this._focusTabbable()
                }
            }), this.element.find("[aria-describedby]").length || this.uiDialog.attr({
                "aria-describedby": this.element.uniqueId().attr("id")
            })
        },
        _createTitlebar: function() {
            var e;
            this.uiDialogTitlebar = t("<div>"), this._addClass(this.uiDialogTitlebar, "ui-dialog-titlebar", "ui-widget-header ui-helper-clearfix"), this._on(this.uiDialogTitlebar, {
                mousedown: function(e) {
                    t(e.target).closest(".ui-dialog-titlebar-close") || this.uiDialog.trigger("focus")
                }
            }), this.uiDialogTitlebarClose = t("<button type='button'></button>").button({
                label: t("<a>").text(this.options.closeText).html(),
                icon: "ui-icon-closethick",
                showLabel: !1
            }).appendTo(this.uiDialogTitlebar), this._addClass(this.uiDialogTitlebarClose, "ui-dialog-titlebar-close"), this._on(this.uiDialogTitlebarClose, {
                click: function(t) {
                    t.preventDefault(), this.close(t)
                }
            }), e = t("<span>").uniqueId().prependTo(this.uiDialogTitlebar), this._addClass(e, "ui-dialog-title"), this._title(e), this.uiDialogTitlebar.prependTo(this.uiDialog), this.uiDialog.attr({
                "aria-labelledby": e.attr("id")
            })
        },
        _title: function(t) {
            this.options.title ? t.text(this.options.title) : t.html("&#160;")
        },
        _createButtonPane: function() {
            this.uiDialogButtonPane = t("<div>"), this._addClass(this.uiDialogButtonPane, "ui-dialog-buttonpane", "ui-widget-content ui-helper-clearfix"), this.uiButtonSet = t("<div>").appendTo(this.uiDialogButtonPane), this._addClass(this.uiButtonSet, "ui-dialog-buttonset"), this._createButtons()
        },
        _createButtons: function() {
            var e = this,
                n = this.options.buttons;
            return this.uiDialogButtonPane.remove(), this.uiButtonSet.empty(), t.isEmptyObject(n) || t.isArray(n) && !n.length ? void this._removeClass(this.uiDialog, "ui-dialog-buttons") : (t.each(n, (function(n, i) {
                var r, o;
                i = t.isFunction(i) ? {
                    click: i,
                    text: n
                } : i, i = t.extend({
                    type: "button"
                }, i), r = i.click, o = {
                    icon: i.icon,
                    iconPosition: i.iconPosition,
                    showLabel: i.showLabel,
                    icons: i.icons,
                    text: i.text
                }, delete i.click, delete i.icon, delete i.iconPosition, delete i.showLabel, delete i.icons, "boolean" == typeof i.text && delete i.text, t("<button></button>", i).button(o).appendTo(e.uiButtonSet).on("click", (function() {
                    r.apply(e.element[0], arguments)
                }))
            })), this._addClass(this.uiDialog, "ui-dialog-buttons"), void this.uiDialogButtonPane.appendTo(this.uiDialog))
        },
        _makeDraggable: function() {
            function e(t) {
                return {
                    position: t.position,
                    offset: t.offset
                }
            }
            var n = this,
                i = this.options;
            this.uiDialog.draggable({
                cancel: ".ui-dialog-content, .ui-dialog-titlebar-close",
                handle: ".ui-dialog-titlebar",
                containment: "document",
                start: function(i, r) {
                    n._addClass(t(this), "ui-dialog-dragging"), n._blockFrames(), n._trigger("dragStart", i, e(r))
                },
                drag: function(t, i) {
                    n._trigger("drag", t, e(i))
                },
                stop: function(r, o) {
                    var s = o.offset.left - n.document.scrollLeft(),
                        a = o.offset.top - n.document.scrollTop();
                    i.position = {
                        my: "left top",
                        at: "left" + (s >= 0 ? "+" : "") + s + " top" + (a >= 0 ? "+" : "") + a,
                        of: n.window
                    }, n._removeClass(t(this), "ui-dialog-dragging"), n._unblockFrames(), n._trigger("dragStop", r, e(o))
                }
            })
        },
        _makeResizable: function() {
            function e(t) {
                return {
                    originalPosition: t.originalPosition,
                    originalSize: t.originalSize,
                    position: t.position,
                    size: t.size
                }
            }
            var n = this,
                i = this.options,
                r = i.resizable,
                o = this.uiDialog.css("position"),
                s = "string" == typeof r ? r : "n,e,s,w,se,sw,ne,nw";
            this.uiDialog.resizable({
                cancel: ".ui-dialog-content",
                containment: "document",
                alsoResize: this.element,
                maxWidth: i.maxWidth,
                maxHeight: i.maxHeight,
                minWidth: i.minWidth,
                minHeight: this._minHeight(),
                handles: s,
                start: function(i, r) {
                    n._addClass(t(this), "ui-dialog-resizing"), n._blockFrames(), n._trigger("resizeStart", i, e(r))
                },
                resize: function(t, i) {
                    n._trigger("resize", t, e(i))
                },
                stop: function(r, o) {
                    var s = n.uiDialog.offset(),
                        a = s.left - n.document.scrollLeft(),
                        u = s.top - n.document.scrollTop();
                    i.height = n.uiDialog.height(), i.width = n.uiDialog.width(), i.position = {
                        my: "left top",
                        at: "left" + (a >= 0 ? "+" : "") + a + " top" + (u >= 0 ? "+" : "") + u,
                        of: n.window
                    }, n._removeClass(t(this), "ui-dialog-resizing"), n._unblockFrames(), n._trigger("resizeStop", r, e(o))
                }
            }).css("position", o)
        },
        _trackFocus: function() {
            this._on(this.widget(), {
                focusin: function(e) {
                    this._makeFocusTarget(), this._focusedElement = t(e.target)
                }
            })
        },
        _makeFocusTarget: function() {
            this._untrackInstance(), this._trackingInstances().unshift(this)
        },
        _untrackInstance: function() {
            var e = this._trackingInstances(),
                n = t.inArray(this, e); - 1 !== n && e.splice(n, 1)
        },
        _trackingInstances: function() {
            var t = this.document.data("ui-dialog-instances");
            return t || (t = [], this.document.data("ui-dialog-instances", t)), t
        },
        _minHeight: function() {
            var t = this.options;
            return "auto" === t.height ? t.minHeight : Math.min(t.minHeight, t.height)
        },
        _position: function() {
            var t = this.uiDialog.is(":visible");
            t || this.uiDialog.show(), this.uiDialog.position(this.options.position), t || this.uiDialog.hide()
        },
        _setOptions: function(e) {
            var n = this,
                i = !1,
                r = {};
            t.each(e, (function(t, e) {
                n._setOption(t, e), t in n.sizeRelatedOptions && (i = !0), t in n.resizableRelatedOptions && (r[t] = e)
            })), i && (this._size(), this._position()), this.uiDialog.is(":data(ui-resizable)") && this.uiDialog.resizable("option", r)
        },
        _setOption: function(e, n) {
            var i, r, o = this.uiDialog;
            "disabled" !== e && (this._super(e, n), "appendTo" === e && this.uiDialog.appendTo(this._appendTo()), "buttons" === e && this._createButtons(), "closeText" === e && this.uiDialogTitlebarClose.button({
                label: t("<a>").text("" + this.options.closeText).html()
            }), "draggable" === e && ((i = o.is(":data(ui-draggable)")) && !n && o.draggable("destroy"), !i && n && this._makeDraggable()), "position" === e && this._position(), "resizable" === e && ((r = o.is(":data(ui-resizable)")) && !n && o.resizable("destroy"), r && "string" == typeof n && o.resizable("option", "handles", n), r || !1 === n || this._makeResizable()), "title" === e && this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))
        },
        _size: function() {
            var t, e, n, i = this.options;
            this.element.show().css({
                width: "auto",
                minHeight: 0,
                maxHeight: "none",
                height: 0
            }), i.minWidth > i.width && (i.width = i.minWidth), t = this.uiDialog.css({
                height: "auto",
                width: i.width
            }).outerHeight(), e = Math.max(0, i.minHeight - t), n = "number" == typeof i.maxHeight ? Math.max(0, i.maxHeight - t) : "none", "auto" === i.height ? this.element.css({
                minHeight: e,
                maxHeight: n,
                height: "auto"
            }) : this.element.height(Math.max(0, i.height - t)), this.uiDialog.is(":data(ui-resizable)") && this.uiDialog.resizable("option", "minHeight", this._minHeight())
        },
        _blockFrames: function() {
            this.iframeBlocks = this.document.find("iframe").map((function() {
                var e = t(this);
                return t("<div>").css({
                    position: "absolute",
                    width: e.outerWidth(),
                    height: e.outerHeight()
                }).appendTo(e.parent()).offset(e.offset())[0]
            }))
        },
        _unblockFrames: function() {
            this.iframeBlocks && (this.iframeBlocks.remove(), delete this.iframeBlocks)
        },
        _allowInteraction: function(e) {
            return !!t(e.target).closest(".ui-dialog").length || !!t(e.target).closest(".ui-datepicker").length
        },
        _createOverlay: function() {
            if (this.options.modal) {
                var e = !0;
                this._delay((function() {
                    e = !1
                })), this.document.data("ui-dialog-overlays") || this._on(this.document, {
                    focusin: function(t) {
                        e || this._allowInteraction(t) || (t.preventDefault(), this._trackingInstances()[0]._focusTabbable())
                    }
                }), this.overlay = t("<div>").appendTo(this._appendTo()), this._addClass(this.overlay, null, "ui-widget-overlay ui-front"), this._on(this.overlay, {
                    mousedown: "_keepFocus"
                }), this.document.data("ui-dialog-overlays", (this.document.data("ui-dialog-overlays") || 0) + 1)
            }
        },
        _destroyOverlay: function() {
            if (this.options.modal && this.overlay) {
                var t = this.document.data("ui-dialog-overlays") - 1;
                t ? this.document.data("ui-dialog-overlays", t) : (this._off(this.document, "focusin"), this.document.removeData("ui-dialog-overlays")), this.overlay.remove(), this.overlay = null
            }
        }
    }), !1 !== t.uiBackCompat && t.widget("ui.dialog", t.ui.dialog, {
        options: {
            dialogClass: ""
        },
        _createWrapper: function() {
            this._super(), this.uiDialog.addClass(this.options.dialogClass)
        },
        _setOption: function(t, e) {
            "dialogClass" === t && this.uiDialog.removeClass(this.options.dialogClass).addClass(e), this._superApply(arguments)
        }
    }), t.ui.dialog, t.widget("ui.droppable", {
        version: "1.12.1",
        widgetEventPrefix: "drop",
        options: {
            accept: "*",
            addClasses: !0,
            greedy: !1,
            scope: "default",
            tolerance: "intersect",
            activate: null,
            deactivate: null,
            drop: null,
            out: null,
            over: null
        },
        _create: function() {
            var e, n = this.options,
                i = n.accept;
            this.isover = !1, this.isout = !0, this.accept = t.isFunction(i) ? i : function(t) {
                return t.is(i)
            }, this.proportions = function() {
                return arguments.length ? void(e = arguments[0]) : e || (e = {
                    width: this.element[0].offsetWidth,
                    height: this.element[0].offsetHeight
                })
            }, this._addToManager(n.scope), n.addClasses && this._addClass("ui-droppable")
        },
        _addToManager: function(e) {
            t.ui.ddmanager.droppables[e] = t.ui.ddmanager.droppables[e] || [], t.ui.ddmanager.droppables[e].push(this)
        },
        _splice: function(t) {
            for (var e = 0; t.length > e; e++) t[e] === this && t.splice(e, 1)
        },
        _destroy: function() {
            var e = t.ui.ddmanager.droppables[this.options.scope];
            this._splice(e)
        },
        _setOption: function(e, n) {
            if ("accept" === e) this.accept = t.isFunction(n) ? n : function(t) {
                return t.is(n)
            };
            else if ("scope" === e) {
                var i = t.ui.ddmanager.droppables[this.options.scope];
                this._splice(i), this._addToManager(n)
            }
            this._super(e, n)
        },
        _activate: function(e) {
            var n = t.ui.ddmanager.current;
            this._addActiveClass(), n && this._trigger("activate", e, this.ui(n))
        },
        _deactivate: function(e) {
            var n = t.ui.ddmanager.current;
            this._removeActiveClass(), n && this._trigger("deactivate", e, this.ui(n))
        },
        _over: function(e) {
            var n = t.ui.ddmanager.current;
            n && (n.currentItem || n.element)[0] !== this.element[0] && this.accept.call(this.element[0], n.currentItem || n.element) && (this._addHoverClass(), this._trigger("over", e, this.ui(n)))
        },
        _out: function(e) {
            var n = t.ui.ddmanager.current;
            n && (n.currentItem || n.element)[0] !== this.element[0] && this.accept.call(this.element[0], n.currentItem || n.element) && (this._removeHoverClass(), this._trigger("out", e, this.ui(n)))
        },
        _drop: function(e, n) {
            var i = n || t.ui.ddmanager.current,
                r = !1;
            return !(!i || (i.currentItem || i.element)[0] === this.element[0]) && (this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each((function() {
                var n = t(this).droppable("instance");
                return n.options.greedy && !n.options.disabled && n.options.scope === i.options.scope && n.accept.call(n.element[0], i.currentItem || i.element) && g(i, t.extend(n, {
                    offset: n.element.offset()
                }), n.options.tolerance, e) ? (r = !0, !1) : void 0
            })), !r && (!!this.accept.call(this.element[0], i.currentItem || i.element) && (this._removeActiveClass(), this._removeHoverClass(), this._trigger("drop", e, this.ui(i)), this.element)))
        },
        ui: function(t) {
            return {
                draggable: t.currentItem || t.element,
                helper: t.helper,
                position: t.position,
                offset: t.positionAbs
            }
        },
        _addHoverClass: function() {
            this._addClass("ui-droppable-hover")
        },
        _removeHoverClass: function() {
            this._removeClass("ui-droppable-hover")
        },
        _addActiveClass: function() {
            this._addClass("ui-droppable-active")
        },
        _removeActiveClass: function() {
            this._removeClass("ui-droppable-active")
        }
    });
    var g = t.ui.intersect = function() {
        function t(t, e, n) {
            return t >= e && e + n > t
        }
        return function(e, n, i, r) {
            if (!n.offset) return !1;
            var o = (e.positionAbs || e.position.absolute).left + e.margins.left,
                s = (e.positionAbs || e.position.absolute).top + e.margins.top,
                a = o + e.helperProportions.width,
                u = s + e.helperProportions.height,
                l = n.offset.left,
                h = n.offset.top,
                c = l + n.proportions().width,
                d = h + n.proportions().height;
            switch (i) {
                case "fit":
                    return o >= l && c >= a && s >= h && d >= u;
                case "intersect":
                    return o + e.helperProportions.width / 2 > l && c > a - e.helperProportions.width / 2 && s + e.helperProportions.height / 2 > h && d > u - e.helperProportions.height / 2;
                case "pointer":
                    return t(r.pageY, h, n.proportions().height) && t(r.pageX, l, n.proportions().width);
                case "touch":
                    return (s >= h && d >= s || u >= h && d >= u || h > s && u > d) && (o >= l && c >= o || a >= l && c >= a || l > o && a > c);
                default:
                    return !1
            }
        }
    }();
    t.ui.ddmanager = {
        current: null,
        droppables: {
            default: []
        },
        prepareOffsets: function(e, n) {
            var i, r, o = t.ui.ddmanager.droppables[e.options.scope] || [],
                s = n ? n.type : null,
                a = (e.currentItem || e.element).find(":data(ui-droppable)").addBack();
            t: for (i = 0; o.length > i; i++)
                if (!(o[i].options.disabled || e && !o[i].accept.call(o[i].element[0], e.currentItem || e.element))) {
                    for (r = 0; a.length > r; r++)
                        if (a[r] === o[i].element[0]) {
                            o[i].proportions().height = 0;
                            continue t
                        } o[i].visible = "none" !== o[i].element.css("display"), o[i].visible && ("mousedown" === s && o[i]._activate.call(o[i], n), o[i].offset = o[i].element.offset(), o[i].proportions({
                        width: o[i].element[0].offsetWidth,
                        height: o[i].element[0].offsetHeight
                    }))
                }
        },
        drop: function(e, n) {
            var i = !1;
            return t.each((t.ui.ddmanager.droppables[e.options.scope] || []).slice(), (function() {
                this.options && (!this.options.disabled && this.visible && g(e, this, this.options.tolerance, n) && (i = this._drop.call(this, n) || i), !this.options.disabled && this.visible && this.accept.call(this.element[0], e.currentItem || e.element) && (this.isout = !0, this.isover = !1, this._deactivate.call(this, n)))
            })), i
        },
        dragStart: function(e, n) {
            e.element.parentsUntil("body").on("scroll.droppable", (function() {
                e.options.refreshPositions || t.ui.ddmanager.prepareOffsets(e, n)
            }))
        },
        drag: function(e, n) {
            e.options.refreshPositions && t.ui.ddmanager.prepareOffsets(e, n), t.each(t.ui.ddmanager.droppables[e.options.scope] || [], (function() {
                if (!this.options.disabled && !this.greedyChild && this.visible) {
                    var i, r, o, s = g(e, this, this.options.tolerance, n),
                        a = !s && this.isover ? "isout" : s && !this.isover ? "isover" : null;
                    a && (this.options.greedy && (r = this.options.scope, (o = this.element.parents(":data(ui-droppable)").filter((function() {
                        return t(this).droppable("instance").options.scope === r
                    }))).length && ((i = t(o[0]).droppable("instance")).greedyChild = "isover" === a)), i && "isover" === a && (i.isover = !1, i.isout = !0, i._out.call(i, n)), this[a] = !0, this["isout" === a ? "isover" : "isout"] = !1, this["isover" === a ? "_over" : "_out"].call(this, n), i && "isout" === a && (i.isout = !1, i.isover = !0, i._over.call(i, n)))
                }
            }))
        },
        dragStop: function(e, n) {
            e.element.parentsUntil("body").off("scroll.droppable"), e.options.refreshPositions || t.ui.ddmanager.prepareOffsets(e, n)
        }
    }, !1 !== t.uiBackCompat && t.widget("ui.droppable", t.ui.droppable, {
        options: {
            hoverClass: !1,
            activeClass: !1
        },
        _addActiveClass: function() {
            this._super(), this.options.activeClass && this.element.addClass(this.options.activeClass)
        },
        _removeActiveClass: function() {
            this._super(), this.options.activeClass && this.element.removeClass(this.options.activeClass)
        },
        _addHoverClass: function() {
            this._super(), this.options.hoverClass && this.element.addClass(this.options.hoverClass)
        },
        _removeHoverClass: function() {
            this._super(), this.options.hoverClass && this.element.removeClass(this.options.hoverClass)
        }
    }), t.ui.droppable, t.widget("ui.progressbar", {
        version: "1.12.1",
        options: {
            classes: {
                "ui-progressbar": "ui-corner-all",
                "ui-progressbar-value": "ui-corner-left",
                "ui-progressbar-complete": "ui-corner-right"
            },
            max: 100,
            value: 0,
            change: null,
            complete: null
        },
        min: 0,
        _create: function() {
            this.oldValue = this.options.value = this._constrainedValue(), this.element.attr({
                role: "progressbar",
                "aria-valuemin": this.min
            }), this._addClass("ui-progressbar", "ui-widget ui-widget-content"), this.valueDiv = t("<div>").appendTo(this.element), this._addClass(this.valueDiv, "ui-progressbar-value", "ui-widget-header"), this._refreshValue()
        },
        _destroy: function() {
            this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"), this.valueDiv.remove()
        },
        value: function(t) {
            return void 0 === t ? this.options.value : (this.options.value = this._constrainedValue(t), void this._refreshValue())
        },
        _constrainedValue: function(t) {
            return void 0 === t && (t = this.options.value), this.indeterminate = !1 === t, "number" != typeof t && (t = 0), !this.indeterminate && Math.min(this.options.max, Math.max(this.min, t))
        },
        _setOptions: function(t) {
            var e = t.value;
            delete t.value, this._super(t), this.options.value = this._constrainedValue(e), this._refreshValue()
        },
        _setOption: function(t, e) {
            "max" === t && (e = Math.max(this.min, e)), this._super(t, e)
        },
        _setOptionDisabled: function(t) {
            this._super(t), this.element.attr("aria-disabled", t), this._toggleClass(null, "ui-state-disabled", !!t)
        },
        _percentage: function() {
            return this.indeterminate ? 100 : 100 * (this.options.value - this.min) / (this.options.max - this.min)
        },
        _refreshValue: function() {
            var e = this.options.value,
                n = this._percentage();
            this.valueDiv.toggle(this.indeterminate || e > this.min).width(n.toFixed(0) + "%"), this._toggleClass(this.valueDiv, "ui-progressbar-complete", null, e === this.options.max)._toggleClass("ui-progressbar-indeterminate", null, this.indeterminate), this.indeterminate ? (this.element.removeAttr("aria-valuenow"), this.overlayDiv || (this.overlayDiv = t("<div>").appendTo(this.valueDiv), this._addClass(this.overlayDiv, "ui-progressbar-overlay"))) : (this.element.attr({
                "aria-valuemax": this.options.max,
                "aria-valuenow": e
            }), this.overlayDiv && (this.overlayDiv.remove(), this.overlayDiv = null)), this.oldValue !== e && (this.oldValue = e, this._trigger("change")), e === this.options.max && this._trigger("complete")
        }
    }), t.widget("ui.selectable", t.ui.mouse, {
        version: "1.12.1",
        options: {
            appendTo: "body",
            autoRefresh: !0,
            distance: 0,
            filter: "*",
            tolerance: "touch",
            selected: null,
            selecting: null,
            start: null,
            stop: null,
            unselected: null,
            unselecting: null
        },
        _create: function() {
            var e = this;
            this._addClass("ui-selectable"), this.dragged = !1, this.refresh = function() {
                e.elementPos = t(e.element[0]).offset(), e.selectees = t(e.options.filter, e.element[0]), e._addClass(e.selectees, "ui-selectee"), e.selectees.each((function() {
                    var n = t(this),
                        i = n.offset(),
                        r = {
                            left: i.left - e.elementPos.left,
                            top: i.top - e.elementPos.top
                        };
                    t.data(this, "selectable-item", {
                        element: this,
                        $element: n,
                        left: r.left,
                        top: r.top,
                        right: r.left + n.outerWidth(),
                        bottom: r.top + n.outerHeight(),
                        startselected: !1,
                        selected: n.hasClass("ui-selected"),
                        selecting: n.hasClass("ui-selecting"),
                        unselecting: n.hasClass("ui-unselecting")
                    })
                }))
            }, this.refresh(), this._mouseInit(), this.helper = t("<div>"), this._addClass(this.helper, "ui-selectable-helper")
        },
        _destroy: function() {
            this.selectees.removeData("selectable-item"), this._mouseDestroy()
        },
        _mouseStart: function(e) {
            var n = this,
                i = this.options;
            this.opos = [e.pageX, e.pageY], this.elementPos = t(this.element[0]).offset(), this.options.disabled || (this.selectees = t(i.filter, this.element[0]), this._trigger("start", e), t(i.appendTo).append(this.helper), this.helper.css({
                left: e.pageX,
                top: e.pageY,
                width: 0,
                height: 0
            }), i.autoRefresh && this.refresh(), this.selectees.filter(".ui-selected").each((function() {
                var i = t.data(this, "selectable-item");
                i.startselected = !0, e.metaKey || e.ctrlKey || (n._removeClass(i.$element, "ui-selected"), i.selected = !1, n._addClass(i.$element, "ui-unselecting"), i.unselecting = !0, n._trigger("unselecting", e, {
                    unselecting: i.element
                }))
            })), t(e.target).parents().addBack().each((function() {
                var i, r = t.data(this, "selectable-item");
                return r ? (i = !e.metaKey && !e.ctrlKey || !r.$element.hasClass("ui-selected"), n._removeClass(r.$element, i ? "ui-unselecting" : "ui-selected")._addClass(r.$element, i ? "ui-selecting" : "ui-unselecting"), r.unselecting = !i, r.selecting = i, r.selected = i, i ? n._trigger("selecting", e, {
                    selecting: r.element
                }) : n._trigger("unselecting", e, {
                    unselecting: r.element
                }), !1) : void 0
            })))
        },
        _mouseDrag: function(e) {
            if (this.dragged = !0, !this.options.disabled) {
                var n, i = this,
                    r = this.options,
                    o = this.opos[0],
                    s = this.opos[1],
                    a = e.pageX,
                    u = e.pageY;
                return o > a && (n = a, a = o, o = n), s > u && (n = u, u = s, s = n), this.helper.css({
                    left: o,
                    top: s,
                    width: a - o,
                    height: u - s
                }), this.selectees.each((function() {
                    var n = t.data(this, "selectable-item"),
                        l = !1,
                        h = {};
                    n && n.element !== i.element[0] && (h.left = n.left + i.elementPos.left, h.right = n.right + i.elementPos.left, h.top = n.top + i.elementPos.top, h.bottom = n.bottom + i.elementPos.top, "touch" === r.tolerance ? l = !(h.left > a || o > h.right || h.top > u || s > h.bottom) : "fit" === r.tolerance && (l = h.left > o && a > h.right && h.top > s && u > h.bottom), l ? (n.selected && (i._removeClass(n.$element, "ui-selected"), n.selected = !1), n.unselecting && (i._removeClass(n.$element, "ui-unselecting"), n.unselecting = !1), n.selecting || (i._addClass(n.$element, "ui-selecting"), n.selecting = !0, i._trigger("selecting", e, {
                        selecting: n.element
                    }))) : (n.selecting && ((e.metaKey || e.ctrlKey) && n.startselected ? (i._removeClass(n.$element, "ui-selecting"), n.selecting = !1, i._addClass(n.$element, "ui-selected"), n.selected = !0) : (i._removeClass(n.$element, "ui-selecting"), n.selecting = !1, n.startselected && (i._addClass(n.$element, "ui-unselecting"), n.unselecting = !0), i._trigger("unselecting", e, {
                        unselecting: n.element
                    }))), n.selected && (e.metaKey || e.ctrlKey || n.startselected || (i._removeClass(n.$element, "ui-selected"), n.selected = !1, i._addClass(n.$element, "ui-unselecting"), n.unselecting = !0, i._trigger("unselecting", e, {
                        unselecting: n.element
                    })))))
                })), !1
            }
        },
        _mouseStop: function(e) {
            var n = this;
            return this.dragged = !1, t(".ui-unselecting", this.element[0]).each((function() {
                var i = t.data(this, "selectable-item");
                n._removeClass(i.$element, "ui-unselecting"), i.unselecting = !1, i.startselected = !1, n._trigger("unselected", e, {
                    unselected: i.element
                })
            })), t(".ui-selecting", this.element[0]).each((function() {
                var i = t.data(this, "selectable-item");
                n._removeClass(i.$element, "ui-selecting")._addClass(i.$element, "ui-selected"), i.selecting = !1, i.selected = !0, i.startselected = !0, n._trigger("selected", e, {
                    selected: i.element
                })
            })), this._trigger("stop", e), this.helper.remove(), !1
        }
    }), t.widget("ui.selectmenu", [t.ui.formResetMixin, {
        version: "1.12.1",
        defaultElement: "<select>",
        options: {
            appendTo: null,
            classes: {
                "ui-selectmenu-button-open": "ui-corner-top",
                "ui-selectmenu-button-closed": "ui-corner-all"
            },
            disabled: null,
            icons: {
                button: "ui-icon-triangle-1-s"
            },
            position: {
                my: "left top",
                at: "left bottom",
                collision: "none"
            },
            width: !1,
            change: null,
            close: null,
            focus: null,
            open: null,
            select: null
        },
        _create: function() {
            var e = this.element.uniqueId().attr("id");
            this.ids = {
                element: e,
                button: e + "-button",
                menu: e + "-menu"
            }, this._drawButton(), this._drawMenu(), this._bindFormResetHandler(), this._rendered = !1, this.menuItems = t()
        },
        _drawButton: function() {
            var e, n = this,
                i = this._parseOption(this.element.find("option:selected"), this.element[0].selectedIndex);
            this.labels = this.element.labels().attr("for", this.ids.button), this._on(this.labels, {
                click: function(t) {
                    this.button.focus(), t.preventDefault()
                }
            }), this.element.hide(), this.button = t("<span>", {
                tabindex: this.options.disabled ? -1 : 0,
                id: this.ids.button,
                role: "combobox",
                "aria-expanded": "false",
                "aria-autocomplete": "list",
                "aria-owns": this.ids.menu,
                "aria-haspopup": "true",
                title: this.element.attr("title")
            }).insertAfter(this.element), this._addClass(this.button, "ui-selectmenu-button ui-selectmenu-button-closed", "ui-button ui-widget"), e = t("<span>").appendTo(this.button), this._addClass(e, "ui-selectmenu-icon", "ui-icon " + this.options.icons.button), this.buttonItem = this._renderButtonItem(i).appendTo(this.button), !1 !== this.options.width && this._resizeButton(), this._on(this.button, this._buttonEvents), this.button.one("focusin", (function() {
                n._rendered || n._refreshMenu()
            }))
        },
        _drawMenu: function() {
            var e = this;
            this.menu = t("<ul>", {
                "aria-hidden": "true",
                "aria-labelledby": this.ids.button,
                id: this.ids.menu
            }), this.menuWrap = t("<div>").append(this.menu), this._addClass(this.menuWrap, "ui-selectmenu-menu", "ui-front"), this.menuWrap.appendTo(this._appendTo()), this.menuInstance = this.menu.menu({
                classes: {
                    "ui-menu": "ui-corner-bottom"
                },
                role: "listbox",
                select: function(t, n) {
                    t.preventDefault(), e._setSelection(), e._select(n.item.data("ui-selectmenu-item"), t)
                },
                focus: function(t, n) {
                    var i = n.item.data("ui-selectmenu-item");
                    null != e.focusIndex && i.index !== e.focusIndex && (e._trigger("focus", t, {
                        item: i
                    }), e.isOpen || e._select(i, t)), e.focusIndex = i.index, e.button.attr("aria-activedescendant", e.menuItems.eq(i.index).attr("id"))
                }
            }).menu("instance"), this.menuInstance._off(this.menu, "mouseleave"), this.menuInstance._closeOnDocumentClick = function() {
                return !1
            }, this.menuInstance._isDivider = function() {
                return !1
            }
        },
        refresh: function() {
            this._refreshMenu(), this.buttonItem.replaceWith(this.buttonItem = this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item") || {})), null === this.options.width && this._resizeButton()
        },
        _refreshMenu: function() {
            var t, e = this.element.find("option");
            this.menu.empty(), this._parseOptions(e), this._renderMenu(this.menu, this.items), this.menuInstance.refresh(), this.menuItems = this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"), this._rendered = !0, e.length && (t = this._getSelectedItem(), this.menuInstance.focus(null, t), this._setAria(t.data("ui-selectmenu-item")), this._setOption("disabled", this.element.prop("disabled")))
        },
        open: function(t) {
            this.options.disabled || (this._rendered ? (this._removeClass(this.menu.find(".ui-state-active"), null, "ui-state-active"), this.menuInstance.focus(null, this._getSelectedItem())) : this._refreshMenu(), this.menuItems.length && (this.isOpen = !0, this._toggleAttr(), this._resizeMenu(), this._position(), this._on(this.document, this._documentClick), this._trigger("open", t)))
        },
        _position: function() {
            this.menuWrap.position(t.extend({
                of: this.button
            }, this.options.position))
        },
        close: function(t) {
            this.isOpen && (this.isOpen = !1, this._toggleAttr(), this.range = null, this._off(this.document), this._trigger("close", t))
        },
        widget: function() {
            return this.button
        },
        menuWidget: function() {
            return this.menu
        },
        _renderButtonItem: function(e) {
            var n = t("<span>");
            return this._setText(n, e.label), this._addClass(n, "ui-selectmenu-text"), n
        },
        _renderMenu: function(e, n) {
            var i = this,
                r = "";
            t.each(n, (function(n, o) {
                var s;
                o.optgroup !== r && (s = t("<li>", {
                    text: o.optgroup
                }), i._addClass(s, "ui-selectmenu-optgroup", "ui-menu-divider" + (o.element.parent("optgroup").prop("disabled") ? " ui-state-disabled" : "")), s.appendTo(e), r = o.optgroup), i._renderItemData(e, o)
            }))
        },
        _renderItemData: function(t, e) {
            return this._renderItem(t, e).data("ui-selectmenu-item", e)
        },
        _renderItem: function(e, n) {
            var i = t("<li>"),
                r = t("<div>", {
                    title: n.element.attr("title")
                });
            return n.disabled && this._addClass(i, null, "ui-state-disabled"), this._setText(r, n.label), i.append(r).appendTo(e)
        },
        _setText: function(t, e) {
            e ? t.text(e) : t.html("&#160;")
        },
        _move: function(t, e) {
            var n, i, r = ".ui-menu-item";
            this.isOpen ? n = this.menuItems.eq(this.focusIndex).parent("li") : (n = this.menuItems.eq(this.element[0].selectedIndex).parent("li"), r += ":not(.ui-state-disabled)"), (i = "first" === t || "last" === t ? n["first" === t ? "prevAll" : "nextAll"](r).eq(-1) : n[t + "All"](r).eq(0)).length && this.menuInstance.focus(e, i)
        },
        _getSelectedItem: function() {
            return this.menuItems.eq(this.element[0].selectedIndex).parent("li")
        },
        _toggle: function(t) {
            this[this.isOpen ? "close" : "open"](t)
        },
        _setSelection: function() {
            var t;
            this.range && (window.getSelection ? ((t = window.getSelection()).removeAllRanges(), t.addRange(this.range)) : this.range.select(), this.button.focus())
        },
        _documentClick: {
            mousedown: function(e) {
                this.isOpen && (t(e.target).closest(".ui-selectmenu-menu, #" + t.ui.escapeSelector(this.ids.button)).length || this.close(e))
            }
        },
        _buttonEvents: {
            mousedown: function() {
                var t;
                window.getSelection ? (t = window.getSelection()).rangeCount && (this.range = t.getRangeAt(0)) : this.range = document.selection.createRange()
            },
            click: function(t) {
                this._setSelection(), this._toggle(t)
            },
            keydown: function(e) {
                var n = !0;
                switch (e.keyCode) {
                    case t.ui.keyCode.TAB:
                    case t.ui.keyCode.ESCAPE:
                        this.close(e), n = !1;
                        break;
                    case t.ui.keyCode.ENTER:
                        this.isOpen && this._selectFocusedItem(e);
                        break;
                    case t.ui.keyCode.UP:
                        e.altKey ? this._toggle(e) : this._move("prev", e);
                        break;
                    case t.ui.keyCode.DOWN:
                        e.altKey ? this._toggle(e) : this._move("next", e);
                        break;
                    case t.ui.keyCode.SPACE:
                        this.isOpen ? this._selectFocusedItem(e) : this._toggle(e);
                        break;
                    case t.ui.keyCode.LEFT:
                        this._move("prev", e);
                        break;
                    case t.ui.keyCode.RIGHT:
                        this._move("next", e);
                        break;
                    case t.ui.keyCode.HOME:
                    case t.ui.keyCode.PAGE_UP:
                        this._move("first", e);
                        break;
                    case t.ui.keyCode.END:
                    case t.ui.keyCode.PAGE_DOWN:
                        this._move("last", e);
                        break;
                    default:
                        this.menu.trigger(e), n = !1
                }
                n && e.preventDefault()
            }
        },
        _selectFocusedItem: function(t) {
            var e = this.menuItems.eq(this.focusIndex).parent("li");
            e.hasClass("ui-state-disabled") || this._select(e.data("ui-selectmenu-item"), t)
        },
        _select: function(t, e) {
            var n = this.element[0].selectedIndex;
            this.element[0].selectedIndex = t.index, this.buttonItem.replaceWith(this.buttonItem = this._renderButtonItem(t)), this._setAria(t), this._trigger("select", e, {
                item: t
            }), t.index !== n && this._trigger("change", e, {
                item: t
            }), this.close(e)
        },
        _setAria: function(t) {
            var e = this.menuItems.eq(t.index).attr("id");
            this.button.attr({
                "aria-labelledby": e,
                "aria-activedescendant": e
            }), this.menu.attr("aria-activedescendant", e)
        },
        _setOption: function(t, e) {
            if ("icons" === t) {
                var n = this.button.find("span.ui-icon");
                this._removeClass(n, null, this.options.icons.button)._addClass(n, null, e.button)
            }
            this._super(t, e), "appendTo" === t && this.menuWrap.appendTo(this._appendTo()), "width" === t && this._resizeButton()
        },
        _setOptionDisabled: function(t) {
            this._super(t), this.menuInstance.option("disabled", t), this.button.attr("aria-disabled", t), this._toggleClass(this.button, null, "ui-state-disabled", t), this.element.prop("disabled", t), t ? (this.button.attr("tabindex", -1), this.close()) : this.button.attr("tabindex", 0)
        },
        _appendTo: function() {
            var e = this.options.appendTo;
            return e && (e = e.jquery || e.nodeType ? t(e) : this.document.find(e).eq(0)), e && e[0] || (e = this.element.closest(".ui-front, dialog")), e.length || (e = this.document[0].body), e
        },
        _toggleAttr: function() {
            this.button.attr("aria-expanded", this.isOpen), this._removeClass(this.button, "ui-selectmenu-button-" + (this.isOpen ? "closed" : "open"))._addClass(this.button, "ui-selectmenu-button-" + (this.isOpen ? "open" : "closed"))._toggleClass(this.menuWrap, "ui-selectmenu-open", null, this.isOpen), this.menu.attr("aria-hidden", !this.isOpen)
        },
        _resizeButton: function() {
            var t = this.options.width;
            return !1 === t ? void this.button.css("width", "") : (null === t && (t = this.element.show().outerWidth(), this.element.hide()), void this.button.outerWidth(t))
        },
        _resizeMenu: function() {
            this.menu.outerWidth(Math.max(this.button.outerWidth(), this.menu.width("").outerWidth() + 1))
        },
        _getCreateOptions: function() {
            var t = this._super();
            return t.disabled = this.element.prop("disabled"), t
        },
        _parseOptions: function(e) {
            var n = this,
                i = [];
            e.each((function(e, r) {
                i.push(n._parseOption(t(r), e))
            })), this.items = i
        },
        _parseOption: function(t, e) {
            var n = t.parent("optgroup");
            return {
                element: t,
                index: e,
                value: t.val(),
                label: t.text(),
                optgroup: n.attr("label") || "",
                disabled: n.prop("disabled") || t.prop("disabled")
            }
        },
        _destroy: function() {
            this._unbindFormResetHandler(), this.menuWrap.remove(), this.button.remove(), this.element.show(), this.element.removeUniqueId(), this.labels.attr("for", this.ids.element)
        }
    }]), t.widget("ui.slider", t.ui.mouse, {
        version: "1.12.1",
        widgetEventPrefix: "slide",
        options: {
            animate: !1,
            classes: {
                "ui-slider": "ui-corner-all",
                "ui-slider-handle": "ui-corner-all",
                "ui-slider-range": "ui-corner-all ui-widget-header"
            },
            distance: 0,
            max: 100,
            min: 0,
            orientation: "horizontal",
            range: !1,
            step: 1,
            value: 0,
            values: null,
            change: null,
            slide: null,
            start: null,
            stop: null
        },
        numPages: 5,
        _create: function() {
            this._keySliding = !1, this._mouseSliding = !1, this._animateOff = !0, this._handleIndex = null, this._detectOrientation(), this._mouseInit(), this._calculateNewMax(), this._addClass("ui-slider ui-slider-" + this.orientation, "ui-widget ui-widget-content"), this._refresh(), this._animateOff = !1
        },
        _refresh: function() {
            this._createRange(), this._createHandles(), this._setupEvents(), this._refreshValue()
        },
        _createHandles: function() {
            var e, n, i = this.options,
                r = this.element.find(".ui-slider-handle"),
                o = [];
            for (n = i.values && i.values.length || 1, r.length > n && (r.slice(n).remove(), r = r.slice(0, n)), e = r.length; n > e; e++) o.push("<span tabindex='0'></span>");
            this.handles = r.add(t(o.join("")).appendTo(this.element)), this._addClass(this.handles, "ui-slider-handle", "ui-state-default"), this.handle = this.handles.eq(0), this.handles.each((function(e) {
                t(this).data("ui-slider-handle-index", e).attr("tabIndex", 0)
            }))
        },
        _createRange: function() {
            var e = this.options;
            e.range ? (!0 === e.range && (e.values ? e.values.length && 2 !== e.values.length ? e.values = [e.values[0], e.values[0]] : t.isArray(e.values) && (e.values = e.values.slice(0)) : e.values = [this._valueMin(), this._valueMin()]), this.range && this.range.length ? (this._removeClass(this.range, "ui-slider-range-min ui-slider-range-max"), this.range.css({
                left: "",
                bottom: ""
            })) : (this.range = t("<div>").appendTo(this.element), this._addClass(this.range, "ui-slider-range")), ("min" === e.range || "max" === e.range) && this._addClass(this.range, "ui-slider-range-" + e.range)) : (this.range && this.range.remove(), this.range = null)
        },
        _setupEvents: function() {
            this._off(this.handles), this._on(this.handles, this._handleEvents), this._hoverable(this.handles), this._focusable(this.handles)
        },
        _destroy: function() {
            this.handles.remove(), this.range && this.range.remove(), this._mouseDestroy()
        },
        _mouseCapture: function(e) {
            var n, i, r, o, s, a, u, l = this,
                h = this.options;
            return !h.disabled && (this.elementSize = {
                width: this.element.outerWidth(),
                height: this.element.outerHeight()
            }, this.elementOffset = this.element.offset(), n = {
                x: e.pageX,
                y: e.pageY
            }, i = this._normValueFromMouse(n), r = this._valueMax() - this._valueMin() + 1, this.handles.each((function(e) {
                var n = Math.abs(i - l.values(e));
                (r > n || r === n && (e === l._lastChangedValue || l.values(e) === h.min)) && (r = n, o = t(this), s = e)
            })), !1 !== this._start(e, s) && (this._mouseSliding = !0, this._handleIndex = s, this._addClass(o, null, "ui-state-active"), o.trigger("focus"), a = o.offset(), u = !t(e.target).parents().addBack().is(".ui-slider-handle"), this._clickOffset = u ? {
                left: 0,
                top: 0
            } : {
                left: e.pageX - a.left - o.width() / 2,
                top: e.pageY - a.top - o.height() / 2 - (parseInt(o.css("borderTopWidth"), 10) || 0) - (parseInt(o.css("borderBottomWidth"), 10) || 0) + (parseInt(o.css("marginTop"), 10) || 0)
            }, this.handles.hasClass("ui-state-hover") || this._slide(e, s, i), this._animateOff = !0, !0))
        },
        _mouseStart: function() {
            return !0
        },
        _mouseDrag: function(t) {
            var e = {
                    x: t.pageX,
                    y: t.pageY
                },
                n = this._normValueFromMouse(e);
            return this._slide(t, this._handleIndex, n), !1
        },
        _mouseStop: function(t) {
            return this._removeClass(this.handles, null, "ui-state-active"), this._mouseSliding = !1, this._stop(t, this._handleIndex), this._change(t, this._handleIndex), this._handleIndex = null, this._clickOffset = null, this._animateOff = !1, !1
        },
        _detectOrientation: function() {
            this.orientation = "vertical" === this.options.orientation ? "vertical" : "horizontal"
        },
        _normValueFromMouse: function(t) {
            var e, n, i, r, o;
            return "horizontal" === this.orientation ? (e = this.elementSize.width, n = t.x - this.elementOffset.left - (this._clickOffset ? this._clickOffset.left : 0)) : (e = this.elementSize.height, n = t.y - this.elementOffset.top - (this._clickOffset ? this._clickOffset.top : 0)), (i = n / e) > 1 && (i = 1), 0 > i && (i = 0), "vertical" === this.orientation && (i = 1 - i), r = this._valueMax() - this._valueMin(), o = this._valueMin() + i * r, this._trimAlignValue(o)
        },
        _uiHash: function(t, e, n) {
            var i = {
                handle: this.handles[t],
                handleIndex: t,
                value: void 0 !== e ? e : this.value()
            };
            return this._hasMultipleValues() && (i.value = void 0 !== e ? e : this.values(t), i.values = n || this.values()), i
        },
        _hasMultipleValues: function() {
            return this.options.values && this.options.values.length
        },
        _start: function(t, e) {
            return this._trigger("start", t, this._uiHash(e))
        },
        _slide: function(t, e, n) {
            var i, r = this.value(),
                o = this.values();
            this._hasMultipleValues() && (i = this.values(e ? 0 : 1), r = this.values(e), 2 === this.options.values.length && !0 === this.options.range && (n = 0 === e ? Math.min(i, n) : Math.max(i, n)), o[e] = n), n !== r && (!1 !== this._trigger("slide", t, this._uiHash(e, n, o)) && (this._hasMultipleValues() ? this.values(e, n) : this.value(n)))
        },
        _stop: function(t, e) {
            this._trigger("stop", t, this._uiHash(e))
        },
        _change: function(t, e) {
            this._keySliding || this._mouseSliding || (this._lastChangedValue = e, this._trigger("change", t, this._uiHash(e)))
        },
        value: function(t) {
            return arguments.length ? (this.options.value = this._trimAlignValue(t), this._refreshValue(), void this._change(null, 0)) : this._value()
        },
        values: function(e, n) {
            var i, r, o;
            if (arguments.length > 1) return this.options.values[e] = this._trimAlignValue(n), this._refreshValue(), void this._change(null, e);
            if (!arguments.length) return this._values();
            if (!t.isArray(arguments[0])) return this._hasMultipleValues() ? this._values(e) : this.value();
            for (i = this.options.values, r = arguments[0], o = 0; i.length > o; o += 1) i[o] = this._trimAlignValue(r[o]), this._change(null, o);
            this._refreshValue()
        },
        _setOption: function(e, n) {
            var i, r = 0;
            switch ("range" === e && !0 === this.options.range && ("min" === n ? (this.options.value = this._values(0), this.options.values = null) : "max" === n && (this.options.value = this._values(this.options.values.length - 1), this.options.values = null)), t.isArray(this.options.values) && (r = this.options.values.length), this._super(e, n), e) {
                case "orientation":
                    this._detectOrientation(), this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-" + this.orientation), this._refreshValue(), this.options.range && this._refreshRange(n), this.handles.css("horizontal" === n ? "bottom" : "left", "");
                    break;
                case "value":
                    this._animateOff = !0, this._refreshValue(), this._change(null, 0), this._animateOff = !1;
                    break;
                case "values":
                    for (this._animateOff = !0, this._refreshValue(), i = r - 1; i >= 0; i--) this._change(null, i);
                    this._animateOff = !1;
                    break;
                case "step":
                case "min":
                case "max":
                    this._animateOff = !0, this._calculateNewMax(), this._refreshValue(), this._animateOff = !1;
                    break;
                case "range":
                    this._animateOff = !0, this._refresh(), this._animateOff = !1
            }
        },
        _setOptionDisabled: function(t) {
            this._super(t), this._toggleClass(null, "ui-state-disabled", !!t)
        },
        _value: function() {
            var t = this.options.value;
            return this._trimAlignValue(t)
        },
        _values: function(t) {
            var e, n, i;
            if (arguments.length) return e = this.options.values[t], this._trimAlignValue(e);
            if (this._hasMultipleValues()) {
                for (n = this.options.values.slice(), i = 0; n.length > i; i += 1) n[i] = this._trimAlignValue(n[i]);
                return n
            }
            return []
        },
        _trimAlignValue: function(t) {
            if (this._valueMin() >= t) return this._valueMin();
            if (t >= this._valueMax()) return this._valueMax();
            var e = this.options.step > 0 ? this.options.step : 1,
                n = (t - this._valueMin()) % e,
                i = t - n;
            return 2 * Math.abs(n) >= e && (i += n > 0 ? e : -e), parseFloat(i.toFixed(5))
        },
        _calculateNewMax: function() {
            var t = this.options.max,
                e = this._valueMin(),
                n = this.options.step;
            (t = Math.round((t - e) / n) * n + e) > this.options.max && (t -= n), this.max = parseFloat(t.toFixed(this._precision()))
        },
        _precision: function() {
            var t = this._precisionOf(this.options.step);
            return null !== this.options.min && (t = Math.max(t, this._precisionOf(this.options.min))), t
        },
        _precisionOf: function(t) {
            var e = "" + t,
                n = e.indexOf(".");
            return -1 === n ? 0 : e.length - n - 1
        },
        _valueMin: function() {
            return this.options.min
        },
        _valueMax: function() {
            return this.max
        },
        _refreshRange: function(t) {
            "vertical" === t && this.range.css({
                width: "",
                left: ""
            }), "horizontal" === t && this.range.css({
                height: "",
                bottom: ""
            })
        },
        _refreshValue: function() {
            var e, n, i, r, o, s = this.options.range,
                a = this.options,
                u = this,
                l = !this._animateOff && a.animate,
                h = {};
            this._hasMultipleValues() ? this.handles.each((function(i) {
                n = (u.values(i) - u._valueMin()) / (u._valueMax() - u._valueMin()) * 100, h["horizontal" === u.orientation ? "left" : "bottom"] = n + "%", t(this).stop(1, 1)[l ? "animate" : "css"](h, a.animate), !0 === u.options.range && ("horizontal" === u.orientation ? (0 === i && u.range.stop(1, 1)[l ? "animate" : "css"]({
                    left: n + "%"
                }, a.animate), 1 === i && u.range[l ? "animate" : "css"]({
                    width: n - e + "%"
                }, {
                    queue: !1,
                    duration: a.animate
                })) : (0 === i && u.range.stop(1, 1)[l ? "animate" : "css"]({
                    bottom: n + "%"
                }, a.animate), 1 === i && u.range[l ? "animate" : "css"]({
                    height: n - e + "%"
                }, {
                    queue: !1,
                    duration: a.animate
                }))), e = n
            })) : (i = this.value(), r = this._valueMin(), o = this._valueMax(), n = o !== r ? (i - r) / (o - r) * 100 : 0, h["horizontal" === this.orientation ? "left" : "bottom"] = n + "%", this.handle.stop(1, 1)[l ? "animate" : "css"](h, a.animate), "min" === s && "horizontal" === this.orientation && this.range.stop(1, 1)[l ? "animate" : "css"]({
                width: n + "%"
            }, a.animate), "max" === s && "horizontal" === this.orientation && this.range.stop(1, 1)[l ? "animate" : "css"]({
                width: 100 - n + "%"
            }, a.animate), "min" === s && "vertical" === this.orientation && this.range.stop(1, 1)[l ? "animate" : "css"]({
                height: n + "%"
            }, a.animate), "max" === s && "vertical" === this.orientation && this.range.stop(1, 1)[l ? "animate" : "css"]({
                height: 100 - n + "%"
            }, a.animate))
        },
        _handleEvents: {
            keydown: function(e) {
                var n, i, r, o = t(e.target).data("ui-slider-handle-index");
                switch (e.keyCode) {
                    case t.ui.keyCode.HOME:
                    case t.ui.keyCode.END:
                    case t.ui.keyCode.PAGE_UP:
                    case t.ui.keyCode.PAGE_DOWN:
                    case t.ui.keyCode.UP:
                    case t.ui.keyCode.RIGHT:
                    case t.ui.keyCode.DOWN:
                    case t.ui.keyCode.LEFT:
                        if (e.preventDefault(), !this._keySliding && (this._keySliding = !0, this._addClass(t(e.target), null, "ui-state-active"), !1 === this._start(e, o))) return
                }
                switch (r = this.options.step, n = i = this._hasMultipleValues() ? this.values(o) : this.value(), e.keyCode) {
                    case t.ui.keyCode.HOME:
                        i = this._valueMin();
                        break;
                    case t.ui.keyCode.END:
                        i = this._valueMax();
                        break;
                    case t.ui.keyCode.PAGE_UP:
                        i = this._trimAlignValue(n + (this._valueMax() - this._valueMin()) / this.numPages);
                        break;
                    case t.ui.keyCode.PAGE_DOWN:
                        i = this._trimAlignValue(n - (this._valueMax() - this._valueMin()) / this.numPages);
                        break;
                    case t.ui.keyCode.UP:
                    case t.ui.keyCode.RIGHT:
                        if (n === this._valueMax()) return;
                        i = this._trimAlignValue(n + r);
                        break;
                    case t.ui.keyCode.DOWN:
                    case t.ui.keyCode.LEFT:
                        if (n === this._valueMin()) return;
                        i = this._trimAlignValue(n - r)
                }
                this._slide(e, o, i)
            },
            keyup: function(e) {
                var n = t(e.target).data("ui-slider-handle-index");
                this._keySliding && (this._keySliding = !1, this._stop(e, n), this._change(e, n), this._removeClass(t(e.target), null, "ui-state-active"))
            }
        }
    }), t.widget("ui.sortable", t.ui.mouse, {
        version: "1.12.1",
        widgetEventPrefix: "sort",
        ready: !1,
        options: {
            appendTo: "parent",
            axis: !1,
            connectWith: !1,
            containment: !1,
            cursor: "auto",
            cursorAt: !1,
            dropOnEmpty: !0,
            forcePlaceholderSize: !1,
            forceHelperSize: !1,
            grid: !1,
            handle: !1,
            helper: "original",
            items: "> *",
            opacity: !1,
            placeholder: !1,
            revert: !1,
            scroll: !0,
            scrollSensitivity: 20,
            scrollSpeed: 20,
            scope: "default",
            tolerance: "intersect",
            zIndex: 1e3,
            activate: null,
            beforeStop: null,
            change: null,
            deactivate: null,
            out: null,
            over: null,
            receive: null,
            remove: null,
            sort: null,
            start: null,
            stop: null,
            update: null
        },
        _isOverAxis: function(t, e, n) {
            return t >= e && e + n > t
        },
        _isFloating: function(t) {
            return /left|right/.test(t.css("float")) || /inline|table-cell/.test(t.css("display"))
        },
        _create: function() {
            this.containerCache = {}, this._addClass("ui-sortable"), this.refresh(), this.offset = this.element.offset(), this._mouseInit(), this._setHandleClassName(), this.ready = !0
        },
        _setOption: function(t, e) {
            this._super(t, e), "handle" === t && this._setHandleClassName()
        },
        _setHandleClassName: function() {
            var e = this;
            this._removeClass(this.element.find(".ui-sortable-handle"), "ui-sortable-handle"), t.each(this.items, (function() {
                e._addClass(this.instance.options.handle ? this.item.find(this.instance.options.handle) : this.item, "ui-sortable-handle")
            }))
        },
        _destroy: function() {
            this._mouseDestroy();
            for (var t = this.items.length - 1; t >= 0; t--) this.items[t].item.removeData(this.widgetName + "-item");
            return this
        },
        _mouseCapture: function(e, n) {
            var i = null,
                r = !1,
                o = this;
            return !this.reverting && (!this.options.disabled && "static" !== this.options.type && (this._refreshItems(e), t(e.target).parents().each((function() {
                return t.data(this, o.widgetName + "-item") === o ? (i = t(this), !1) : void 0
            })), t.data(e.target, o.widgetName + "-item") === o && (i = t(e.target)), !!i && (!(this.options.handle && !n && (t(this.options.handle, i).find("*").addBack().each((function() {
                this === e.target && (r = !0)
            })), !r)) && (this.currentItem = i, this._removeCurrentsFromItems(), !0))))
        },
        _mouseStart: function(e, n, i) {
            var r, o, s = this.options;
            if (this.currentContainer = this, this.refreshPositions(), this.helper = this._createHelper(e), this._cacheHelperProportions(), this._cacheMargins(), this.scrollParent = this.helper.scrollParent(), this.offset = this.currentItem.offset(), this.offset = {
                    top: this.offset.top - this.margins.top,
                    left: this.offset.left - this.margins.left
                }, t.extend(this.offset, {
                    click: {
                        left: e.pageX - this.offset.left,
                        top: e.pageY - this.offset.top
                    },
                    parent: this._getParentOffset(),
                    relative: this._getRelativeOffset()
                }), this.helper.css("position", "absolute"), this.cssPosition = this.helper.css("position"), this.originalPosition = this._generatePosition(e), this.originalPageX = e.pageX, this.originalPageY = e.pageY, s.cursorAt && this._adjustOffsetFromHelper(s.cursorAt), this.domPosition = {
                    prev: this.currentItem.prev()[0],
                    parent: this.currentItem.parent()[0]
                }, this.helper[0] !== this.currentItem[0] && this.currentItem.hide(), this._createPlaceholder(), s.containment && this._setContainment(), s.cursor && "auto" !== s.cursor && (o = this.document.find("body"), this.storedCursor = o.css("cursor"), o.css("cursor", s.cursor), this.storedStylesheet = t("<style>*{ cursor: " + s.cursor + " !important; }</style>").appendTo(o)), s.opacity && (this.helper.css("opacity") && (this._storedOpacity = this.helper.css("opacity")), this.helper.css("opacity", s.opacity)), s.zIndex && (this.helper.css("zIndex") && (this._storedZIndex = this.helper.css("zIndex")), this.helper.css("zIndex", s.zIndex)), this.scrollParent[0] !== this.document[0] && "HTML" !== this.scrollParent[0].tagName && (this.overflowOffset = this.scrollParent.offset()), this._trigger("start", e, this._uiHash()), this._preserveHelperProportions || this._cacheHelperProportions(), !i)
                for (r = this.containers.length - 1; r >= 0; r--) this.containers[r]._trigger("activate", e, this._uiHash(this));
            return t.ui.ddmanager && (t.ui.ddmanager.current = this), t.ui.ddmanager && !s.dropBehaviour && t.ui.ddmanager.prepareOffsets(this, e), this.dragging = !0, this._addClass(this.helper, "ui-sortable-helper"), this._mouseDrag(e), !0
        },
        _mouseDrag: function(e) {
            var n, i, r, o, s = this.options,
                a = !1;
            for (this.position = this._generatePosition(e), this.positionAbs = this._convertPositionTo("absolute"), this.lastPositionAbs || (this.lastPositionAbs = this.positionAbs), this.options.scroll && (this.scrollParent[0] !== this.document[0] && "HTML" !== this.scrollParent[0].tagName ? (this.overflowOffset.top + this.scrollParent[0].offsetHeight - e.pageY < s.scrollSensitivity ? this.scrollParent[0].scrollTop = a = this.scrollParent[0].scrollTop + s.scrollSpeed : e.pageY - this.overflowOffset.top < s.scrollSensitivity && (this.scrollParent[0].scrollTop = a = this.scrollParent[0].scrollTop - s.scrollSpeed), this.overflowOffset.left + this.scrollParent[0].offsetWidth - e.pageX < s.scrollSensitivity ? this.scrollParent[0].scrollLeft = a = this.scrollParent[0].scrollLeft + s.scrollSpeed : e.pageX - this.overflowOffset.left < s.scrollSensitivity && (this.scrollParent[0].scrollLeft = a = this.scrollParent[0].scrollLeft - s.scrollSpeed)) : (e.pageY - this.document.scrollTop() < s.scrollSensitivity ? a = this.document.scrollTop(this.document.scrollTop() - s.scrollSpeed) : this.window.height() - (e.pageY - this.document.scrollTop()) < s.scrollSensitivity && (a = this.document.scrollTop(this.document.scrollTop() + s.scrollSpeed)), e.pageX - this.document.scrollLeft() < s.scrollSensitivity ? a = this.document.scrollLeft(this.document.scrollLeft() - s.scrollSpeed) : this.window.width() - (e.pageX - this.document.scrollLeft()) < s.scrollSensitivity && (a = this.document.scrollLeft(this.document.scrollLeft() + s.scrollSpeed))), !1 !== a && t.ui.ddmanager && !s.dropBehaviour && t.ui.ddmanager.prepareOffsets(this, e)), this.positionAbs = this._convertPositionTo("absolute"), this.options.axis && "y" === this.options.axis || (this.helper[0].style.left = this.position.left + "px"), this.options.axis && "x" === this.options.axis || (this.helper[0].style.top = this.position.top + "px"), n = this.items.length - 1; n >= 0; n--)
                if (r = (i = this.items[n]).item[0], (o = this._intersectsWithPointer(i)) && i.instance === this.currentContainer && r !== this.currentItem[0] && this.placeholder[1 === o ? "next" : "prev"]()[0] !== r && !t.contains(this.placeholder[0], r) && ("semi-dynamic" !== this.options.type || !t.contains(this.element[0], r))) {
                    if (this.direction = 1 === o ? "down" : "up", "pointer" !== this.options.tolerance && !this._intersectsWithSides(i)) break;
                    this._rearrange(e, i), this._trigger("change", e, this._uiHash());
                    break
                } return this._contactContainers(e), t.ui.ddmanager && t.ui.ddmanager.drag(this, e), this._trigger("sort", e, this._uiHash()), this.lastPositionAbs = this.positionAbs, !1
        },
        _mouseStop: function(e, n) {
            if (e) {
                if (t.ui.ddmanager && !this.options.dropBehaviour && t.ui.ddmanager.drop(this, e), this.options.revert) {
                    var i = this,
                        r = this.placeholder.offset(),
                        o = this.options.axis,
                        s = {};
                    o && "x" !== o || (s.left = r.left - this.offset.parent.left - this.margins.left + (this.offsetParent[0] === this.document[0].body ? 0 : this.offsetParent[0].scrollLeft)), o && "y" !== o || (s.top = r.top - this.offset.parent.top - this.margins.top + (this.offsetParent[0] === this.document[0].body ? 0 : this.offsetParent[0].scrollTop)), this.reverting = !0, t(this.helper).animate(s, parseInt(this.options.revert, 10) || 500, (function() {
                        i._clear(e)
                    }))
                } else this._clear(e, n);
                return !1
            }
        },
        cancel: function() {
            if (this.dragging) {
                this._mouseUp(new t.Event("mouseup", {
                    target: null
                })), "original" === this.options.helper ? (this.currentItem.css(this._storedCSS), this._removeClass(this.currentItem, "ui-sortable-helper")) : this.currentItem.show();
                for (var e = this.containers.length - 1; e >= 0; e--) this.containers[e]._trigger("deactivate", null, this._uiHash(this)), this.containers[e].containerCache.over && (this.containers[e]._trigger("out", null, this._uiHash(this)), this.containers[e].containerCache.over = 0)
            }
            return this.placeholder && (this.placeholder[0].parentNode && this.placeholder[0].parentNode.removeChild(this.placeholder[0]), "original" !== this.options.helper && this.helper && this.helper[0].parentNode && this.helper.remove(), t.extend(this, {
                helper: null,
                dragging: !1,
                reverting: !1,
                _noFinalSort: null
            }), this.domPosition.prev ? t(this.domPosition.prev).after(this.currentItem) : t(this.domPosition.parent).prepend(this.currentItem)), this
        },
        serialize: function(e) {
            var n = this._getItemsAsjQuery(e && e.connected),
                i = [];
            return e = e || {}, t(n).each((function() {
                var n = (t(e.item || this).attr(e.attribute || "id") || "").match(e.expression || /(.+)[\-=_](.+)/);
                n && i.push((e.key || n[1] + "[]") + "=" + (e.key && e.expression ? n[1] : n[2]))
            })), !i.length && e.key && i.push(e.key + "="), i.join("&")
        },
        toArray: function(e) {
            var n = this._getItemsAsjQuery(e && e.connected),
                i = [];
            return e = e || {}, n.each((function() {
                i.push(t(e.item || this).attr(e.attribute || "id") || "")
            })), i
        },
        _intersectsWith: function(t) {
            var e = this.positionAbs.left,
                n = e + this.helperProportions.width,
                i = this.positionAbs.top,
                r = i + this.helperProportions.height,
                o = t.left,
                s = o + t.width,
                a = t.top,
                u = a + t.height,
                l = this.offset.click.top,
                h = this.offset.click.left,
                c = "x" === this.options.axis || i + l > a && u > i + l,
                d = "y" === this.options.axis || e + h > o && s > e + h,
                p = c && d;
            return "pointer" === this.options.tolerance || this.options.forcePointerForContainers || "pointer" !== this.options.tolerance && this.helperProportions[this.floating ? "width" : "height"] > t[this.floating ? "width" : "height"] ? p : e + this.helperProportions.width / 2 > o && s > n - this.helperProportions.width / 2 && i + this.helperProportions.height / 2 > a && u > r - this.helperProportions.height / 2
        },
        _intersectsWithPointer: function(t) {
            var e, n, i = "x" === this.options.axis || this._isOverAxis(this.positionAbs.top + this.offset.click.top, t.top, t.height),
                r = "y" === this.options.axis || this._isOverAxis(this.positionAbs.left + this.offset.click.left, t.left, t.width);
            return !!(i && r) && (e = this._getDragVerticalDirection(), n = this._getDragHorizontalDirection(), this.floating ? "right" === n || "down" === e ? 2 : 1 : e && ("down" === e ? 2 : 1))
        },
        _intersectsWithSides: function(t) {
            var e = this._isOverAxis(this.positionAbs.top + this.offset.click.top, t.top + t.height / 2, t.height),
                n = this._isOverAxis(this.positionAbs.left + this.offset.click.left, t.left + t.width / 2, t.width),
                i = this._getDragVerticalDirection(),
                r = this._getDragHorizontalDirection();
            return this.floating && r ? "right" === r && n || "left" === r && !n : i && ("down" === i && e || "up" === i && !e)
        },
        _getDragVerticalDirection: function() {
            var t = this.positionAbs.top - this.lastPositionAbs.top;
            return 0 !== t && (t > 0 ? "down" : "up")
        },
        _getDragHorizontalDirection: function() {
            var t = this.positionAbs.left - this.lastPositionAbs.left;
            return 0 !== t && (t > 0 ? "right" : "left")
        },
        refresh: function(t) {
            return this._refreshItems(t), this._setHandleClassName(), this.refreshPositions(), this
        },
        _connectWith: function() {
            var t = this.options;
            return t.connectWith.constructor === String ? [t.connectWith] : t.connectWith
        },
        _getItemsAsjQuery: function(e) {
            function n() {
                a.push(this)
            }
            var i, r, o, s, a = [],
                u = [],
                l = this._connectWith();
            if (l && e)
                for (i = l.length - 1; i >= 0; i--)
                    for (r = (o = t(l[i], this.document[0])).length - 1; r >= 0; r--)(s = t.data(o[r], this.widgetFullName)) && s !== this && !s.options.disabled && u.push([t.isFunction(s.options.items) ? s.options.items.call(s.element) : t(s.options.items, s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), s]);
            for (u.push([t.isFunction(this.options.items) ? this.options.items.call(this.element, null, {
                    options: this.options,
                    item: this.currentItem
                }) : t(this.options.items, this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), this]), i = u.length - 1; i >= 0; i--) u[i][0].each(n);
            return t(a)
        },
        _removeCurrentsFromItems: function() {
            var e = this.currentItem.find(":data(" + this.widgetName + "-item)");
            this.items = t.grep(this.items, (function(t) {
                for (var n = 0; e.length > n; n++)
                    if (e[n] === t.item[0]) return !1;
                return !0
            }))
        },
        _refreshItems: function(e) {
            this.items = [], this.containers = [this];
            var n, i, r, o, s, a, u, l, h = this.items,
                c = [
                    [t.isFunction(this.options.items) ? this.options.items.call(this.element[0], e, {
                        item: this.currentItem
                    }) : t(this.options.items, this.element), this]
                ],
                d = this._connectWith();
            if (d && this.ready)
                for (n = d.length - 1; n >= 0; n--)
                    for (i = (r = t(d[n], this.document[0])).length - 1; i >= 0; i--)(o = t.data(r[i], this.widgetFullName)) && o !== this && !o.options.disabled && (c.push([t.isFunction(o.options.items) ? o.options.items.call(o.element[0], e, {
                        item: this.currentItem
                    }) : t(o.options.items, o.element), o]), this.containers.push(o));
            for (n = c.length - 1; n >= 0; n--)
                for (s = c[n][1], i = 0, l = (a = c[n][0]).length; l > i; i++)(u = t(a[i])).data(this.widgetName + "-item", s), h.push({
                    item: u,
                    instance: s,
                    width: 0,
                    height: 0,
                    left: 0,
                    top: 0
                })
        },
        refreshPositions: function(e) {
            var n, i, r, o;
            for (this.floating = !!this.items.length && ("x" === this.options.axis || this._isFloating(this.items[0].item)), this.offsetParent && this.helper && (this.offset.parent = this._getParentOffset()), n = this.items.length - 1; n >= 0; n--)(i = this.items[n]).instance !== this.currentContainer && this.currentContainer && i.item[0] !== this.currentItem[0] || (r = this.options.toleranceElement ? t(this.options.toleranceElement, i.item) : i.item, e || (i.width = r.outerWidth(), i.height = r.outerHeight()), o = r.offset(), i.left = o.left, i.top = o.top);
            if (this.options.custom && this.options.custom.refreshContainers) this.options.custom.refreshContainers.call(this);
            else
                for (n = this.containers.length - 1; n >= 0; n--) o = this.containers[n].element.offset(), this.containers[n].containerCache.left = o.left, this.containers[n].containerCache.top = o.top, this.containers[n].containerCache.width = this.containers[n].element.outerWidth(), this.containers[n].containerCache.height = this.containers[n].element.outerHeight();
            return this
        },
        _createPlaceholder: function(e) {
            var n, i = (e = e || this).options;
            i.placeholder && i.placeholder.constructor !== String || (n = i.placeholder, i.placeholder = {
                element: function() {
                    var i = e.currentItem[0].nodeName.toLowerCase(),
                        r = t("<" + i + ">", e.document[0]);
                    return e._addClass(r, "ui-sortable-placeholder", n || e.currentItem[0].className)._removeClass(r, "ui-sortable-helper"), "tbody" === i ? e._createTrPlaceholder(e.currentItem.find("tr").eq(0), t("<tr>", e.document[0]).appendTo(r)) : "tr" === i ? e._createTrPlaceholder(e.currentItem, r) : "img" === i && r.attr("src", e.currentItem.attr("src")), n || r.css("visibility", "hidden"), r
                },
                update: function(t, r) {
                    (!n || i.forcePlaceholderSize) && (r.height() || r.height(e.currentItem.innerHeight() - parseInt(e.currentItem.css("paddingTop") || 0, 10) - parseInt(e.currentItem.css("paddingBottom") || 0, 10)), r.width() || r.width(e.currentItem.innerWidth() - parseInt(e.currentItem.css("paddingLeft") || 0, 10) - parseInt(e.currentItem.css("paddingRight") || 0, 10)))
                }
            }), e.placeholder = t(i.placeholder.element.call(e.element, e.currentItem)), e.currentItem.after(e.placeholder), i.placeholder.update(e, e.placeholder)
        },
        _createTrPlaceholder: function(e, n) {
            var i = this;
            e.children().each((function() {
                t("<td>&#160;</td>", i.document[0]).attr("colspan", t(this).attr("colspan") || 1).appendTo(n)
            }))
        },
        _contactContainers: function(e) {
            var n, i, r, o, s, a, u, l, h, c, d = null,
                p = null;
            for (n = this.containers.length - 1; n >= 0; n--)
                if (!t.contains(this.currentItem[0], this.containers[n].element[0]))
                    if (this._intersectsWith(this.containers[n].containerCache)) {
                        if (d && t.contains(this.containers[n].element[0], d.element[0])) continue;
                        d = this.containers[n], p = n
                    } else this.containers[n].containerCache.over && (this.containers[n]._trigger("out", e, this._uiHash(this)), this.containers[n].containerCache.over = 0);
            if (d)
                if (1 === this.containers.length) this.containers[p].containerCache.over || (this.containers[p]._trigger("over", e, this._uiHash(this)), this.containers[p].containerCache.over = 1);
                else {
                    for (r = 1e4, o = null, s = (h = d.floating || this._isFloating(this.currentItem)) ? "left" : "top", a = h ? "width" : "height", c = h ? "pageX" : "pageY", i = this.items.length - 1; i >= 0; i--) t.contains(this.containers[p].element[0], this.items[i].item[0]) && this.items[i].item[0] !== this.currentItem[0] && (u = this.items[i].item.offset()[s], l = !1, e[c] - u > this.items[i][a] / 2 && (l = !0), r > Math.abs(e[c] - u) && (r = Math.abs(e[c] - u), o = this.items[i], this.direction = l ? "up" : "down"));
                    if (!o && !this.options.dropOnEmpty) return;
                    if (this.currentContainer === this.containers[p]) return void(this.currentContainer.containerCache.over || (this.containers[p]._trigger("over", e, this._uiHash()), this.currentContainer.containerCache.over = 1));
                    o ? this._rearrange(e, o, null, !0) : this._rearrange(e, null, this.containers[p].element, !0), this._trigger("change", e, this._uiHash()), this.containers[p]._trigger("change", e, this._uiHash(this)), this.currentContainer = this.containers[p], this.options.placeholder.update(this.currentContainer, this.placeholder), this.containers[p]._trigger("over", e, this._uiHash(this)), this.containers[p].containerCache.over = 1
                }
        },
        _createHelper: function(e) {
            var n = this.options,
                i = t.isFunction(n.helper) ? t(n.helper.apply(this.element[0], [e, this.currentItem])) : "clone" === n.helper ? this.currentItem.clone() : this.currentItem;
            return i.parents("body").length || t("parent" !== n.appendTo ? n.appendTo : this.currentItem[0].parentNode)[0].appendChild(i[0]), i[0] === this.currentItem[0] && (this._storedCSS = {
                width: this.currentItem[0].style.width,
                height: this.currentItem[0].style.height,
                position: this.currentItem.css("position"),
                top: this.currentItem.css("top"),
                left: this.currentItem.css("left")
            }), (!i[0].style.width || n.forceHelperSize) && i.width(this.currentItem.width()), (!i[0].style.height || n.forceHelperSize) && i.height(this.currentItem.height()), i
        },
        _adjustOffsetFromHelper: function(e) {
            "string" == typeof e && (e = e.split(" ")), t.isArray(e) && (e = {
                left: +e[0],
                top: +e[1] || 0
            }), "left" in e && (this.offset.click.left = e.left + this.margins.left), "right" in e && (this.offset.click.left = this.helperProportions.width - e.right + this.margins.left), "top" in e && (this.offset.click.top = e.top + this.margins.top), "bottom" in e && (this.offset.click.top = this.helperProportions.height - e.bottom + this.margins.top)
        },
        _getParentOffset: function() {
            this.offsetParent = this.helper.offsetParent();
            var e = this.offsetParent.offset();
            return "absolute" === this.cssPosition && this.scrollParent[0] !== this.document[0] && t.contains(this.scrollParent[0], this.offsetParent[0]) && (e.left += this.scrollParent.scrollLeft(), e.top += this.scrollParent.scrollTop()), (this.offsetParent[0] === this.document[0].body || this.offsetParent[0].tagName && "html" === this.offsetParent[0].tagName.toLowerCase() && t.ui.ie) && (e = {
                top: 0,
                left: 0
            }), {
                top: e.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
                left: e.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
            }
        },
        _getRelativeOffset: function() {
            if ("relative" === this.cssPosition) {
                var t = this.currentItem.position();
                return {
                    top: t.top - (parseInt(this.helper.css("top"), 10) || 0) + this.scrollParent.scrollTop(),
                    left: t.left - (parseInt(this.helper.css("left"), 10) || 0) + this.scrollParent.scrollLeft()
                }
            }
            return {
                top: 0,
                left: 0
            }
        },
        _cacheMargins: function() {
            this.margins = {
                left: parseInt(this.currentItem.css("marginLeft"), 10) || 0,
                top: parseInt(this.currentItem.css("marginTop"), 10) || 0
            }
        },
        _cacheHelperProportions: function() {
            this.helperProportions = {
                width: this.helper.outerWidth(),
                height: this.helper.outerHeight()
            }
        },
        _setContainment: function() {
            var e, n, i, r = this.options;
            "parent" === r.containment && (r.containment = this.helper[0].parentNode), ("document" === r.containment || "window" === r.containment) && (this.containment = [0 - this.offset.relative.left - this.offset.parent.left, 0 - this.offset.relative.top - this.offset.parent.top, "document" === r.containment ? this.document.width() : this.window.width() - this.helperProportions.width - this.margins.left, ("document" === r.containment ? this.document.height() || document.body.parentNode.scrollHeight : this.window.height() || this.document[0].body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top]), /^(document|window|parent)$/.test(r.containment) || (e = t(r.containment)[0], n = t(r.containment).offset(), i = "hidden" !== t(e).css("overflow"), this.containment = [n.left + (parseInt(t(e).css("borderLeftWidth"), 10) || 0) + (parseInt(t(e).css("paddingLeft"), 10) || 0) - this.margins.left, n.top + (parseInt(t(e).css("borderTopWidth"), 10) || 0) + (parseInt(t(e).css("paddingTop"), 10) || 0) - this.margins.top, n.left + (i ? Math.max(e.scrollWidth, e.offsetWidth) : e.offsetWidth) - (parseInt(t(e).css("borderLeftWidth"), 10) || 0) - (parseInt(t(e).css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left, n.top + (i ? Math.max(e.scrollHeight, e.offsetHeight) : e.offsetHeight) - (parseInt(t(e).css("borderTopWidth"), 10) || 0) - (parseInt(t(e).css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top])
        },
        _convertPositionTo: function(e, n) {
            n || (n = this.position);
            var i = "absolute" === e ? 1 : -1,
                r = "absolute" !== this.cssPosition || this.scrollParent[0] !== this.document[0] && t.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent : this.offsetParent,
                o = /(html|body)/i.test(r[0].tagName);
            return {
                top: n.top + this.offset.relative.top * i + this.offset.parent.top * i - ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : o ? 0 : r.scrollTop()) * i,
                left: n.left + this.offset.relative.left * i + this.offset.parent.left * i - ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : o ? 0 : r.scrollLeft()) * i
            }
        },
        _generatePosition: function(e) {
            var n, i, r = this.options,
                o = e.pageX,
                s = e.pageY,
                a = "absolute" !== this.cssPosition || this.scrollParent[0] !== this.document[0] && t.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent : this.offsetParent,
                u = /(html|body)/i.test(a[0].tagName);
            return "relative" !== this.cssPosition || this.scrollParent[0] !== this.document[0] && this.scrollParent[0] !== this.offsetParent[0] || (this.offset.relative = this._getRelativeOffset()), this.originalPosition && (this.containment && (e.pageX - this.offset.click.left < this.containment[0] && (o = this.containment[0] + this.offset.click.left), e.pageY - this.offset.click.top < this.containment[1] && (s = this.containment[1] + this.offset.click.top), e.pageX - this.offset.click.left > this.containment[2] && (o = this.containment[2] + this.offset.click.left), e.pageY - this.offset.click.top > this.containment[3] && (s = this.containment[3] + this.offset.click.top)), r.grid && (n = this.originalPageY + Math.round((s - this.originalPageY) / r.grid[1]) * r.grid[1], s = this.containment ? n - this.offset.click.top >= this.containment[1] && n - this.offset.click.top <= this.containment[3] ? n : n - this.offset.click.top >= this.containment[1] ? n - r.grid[1] : n + r.grid[1] : n, i = this.originalPageX + Math.round((o - this.originalPageX) / r.grid[0]) * r.grid[0], o = this.containment ? i - this.offset.click.left >= this.containment[0] && i - this.offset.click.left <= this.containment[2] ? i : i - this.offset.click.left >= this.containment[0] ? i - r.grid[0] : i + r.grid[0] : i)), {
                top: s - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : u ? 0 : a.scrollTop()),
                left: o - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : u ? 0 : a.scrollLeft())
            }
        },
        _rearrange: function(t, e, n, i) {
            n ? n[0].appendChild(this.placeholder[0]) : e.item[0].parentNode.insertBefore(this.placeholder[0], "down" === this.direction ? e.item[0] : e.item[0].nextSibling), this.counter = this.counter ? ++this.counter : 1;
            var r = this.counter;
            this._delay((function() {
                r === this.counter && this.refreshPositions(!i)
            }))
        },
        _clear: function(t, e) {
            function n(t, e, n) {
                return function(i) {
                    n._trigger(t, i, e._uiHash(e))
                }
            }
            this.reverting = !1;
            var i, r = [];
            if (!this._noFinalSort && this.currentItem.parent().length && this.placeholder.before(this.currentItem), this._noFinalSort = null, this.helper[0] === this.currentItem[0]) {
                for (i in this._storedCSS)("auto" === this._storedCSS[i] || "static" === this._storedCSS[i]) && (this._storedCSS[i] = "");
                this.currentItem.css(this._storedCSS), this._removeClass(this.currentItem, "ui-sortable-helper")
            } else this.currentItem.show();
            for (this.fromOutside && !e && r.push((function(t) {
                    this._trigger("receive", t, this._uiHash(this.fromOutside))
                })), !this.fromOutside && this.domPosition.prev === this.currentItem.prev().not(".ui-sortable-helper")[0] && this.domPosition.parent === this.currentItem.parent()[0] || e || r.push((function(t) {
                    this._trigger("update", t, this._uiHash())
                })), this !== this.currentContainer && (e || (r.push((function(t) {
                    this._trigger("remove", t, this._uiHash())
                })), r.push(function(t) {
                    return function(e) {
                        t._trigger("receive", e, this._uiHash(this))
                    }
                }.call(this, this.currentContainer)), r.push(function(t) {
                    return function(e) {
                        t._trigger("update", e, this._uiHash(this))
                    }
                }.call(this, this.currentContainer)))), i = this.containers.length - 1; i >= 0; i--) e || r.push(n("deactivate", this, this.containers[i])), this.containers[i].containerCache.over && (r.push(n("out", this, this.containers[i])), this.containers[i].containerCache.over = 0);
            if (this.storedCursor && (this.document.find("body").css("cursor", this.storedCursor), this.storedStylesheet.remove()), this._storedOpacity && this.helper.css("opacity", this._storedOpacity), this._storedZIndex && this.helper.css("zIndex", "auto" === this._storedZIndex ? "" : this._storedZIndex), this.dragging = !1, e || this._trigger("beforeStop", t, this._uiHash()), this.placeholder[0].parentNode.removeChild(this.placeholder[0]), this.cancelHelperRemoval || (this.helper[0] !== this.currentItem[0] && this.helper.remove(), this.helper = null), !e) {
                for (i = 0; r.length > i; i++) r[i].call(this, t);
                this._trigger("stop", t, this._uiHash())
            }
            return this.fromOutside = !1, !this.cancelHelperRemoval
        },
        _trigger: function() {
            !1 === t.Widget.prototype._trigger.apply(this, arguments) && this.cancel()
        },
        _uiHash: function(e) {
            var n = e || this;
            return {
                helper: n.helper,
                placeholder: n.placeholder || t([]),
                position: n.position,
                originalPosition: n.originalPosition,
                offset: n.positionAbs,
                item: n.currentItem,
                sender: e ? e.element : null
            }
        }
    }), t.widget("ui.spinner", {
        version: "1.12.1",
        defaultElement: "<input>",
        widgetEventPrefix: "spin",
        options: {
            classes: {
                "ui-spinner": "ui-corner-all",
                "ui-spinner-down": "ui-corner-br",
                "ui-spinner-up": "ui-corner-tr"
            },
            culture: null,
            icons: {
                down: "ui-icon-triangle-1-s",
                up: "ui-icon-triangle-1-n"
            },
            incremental: !0,
            max: null,
            min: null,
            numberFormat: null,
            page: 10,
            step: 1,
            change: null,
            spin: null,
            start: null,
            stop: null
        },
        _create: function() {
            this._setOption("max", this.options.max), this._setOption("min", this.options.min), this._setOption("step", this.options.step), "" !== this.value() && this._value(this.element.val(), !0), this._draw(), this._on(this._events), this._refresh(), this._on(this.window, {
                beforeunload: function() {
                    this.element.removeAttr("autocomplete")
                }
            })
        },
        _getCreateOptions: function() {
            var e = this._super(),
                n = this.element;
            return t.each(["min", "max", "step"], (function(t, i) {
                var r = n.attr(i);
                null != r && r.length && (e[i] = r)
            })), e
        },
        _events: {
            keydown: function(t) {
                this._start(t) && this._keydown(t) && t.preventDefault()
            },
            keyup: "_stop",
            focus: function() {
                this.previous = this.element.val()
            },
            blur: function(t) {
                return this.cancelBlur ? void delete this.cancelBlur : (this._stop(), this._refresh(), void(this.previous !== this.element.val() && this._trigger("change", t)))
            },
            mousewheel: function(t, e) {
                if (e) {
                    if (!this.spinning && !this._start(t)) return !1;
                    this._spin((e > 0 ? 1 : -1) * this.options.step, t), clearTimeout(this.mousewheelTimer), this.mousewheelTimer = this._delay((function() {
                        this.spinning && this._stop(t)
                    }), 100), t.preventDefault()
                }
            },
            "mousedown .ui-spinner-button": function(e) {
                function n() {
                    this.element[0] === t.ui.safeActiveElement(this.document[0]) || (this.element.trigger("focus"), this.previous = i, this._delay((function() {
                        this.previous = i
                    })))
                }
                var i;
                i = this.element[0] === t.ui.safeActiveElement(this.document[0]) ? this.previous : this.element.val(), e.preventDefault(), n.call(this), this.cancelBlur = !0, this._delay((function() {
                    delete this.cancelBlur, n.call(this)
                })), !1 !== this._start(e) && this._repeat(null, t(e.currentTarget).hasClass("ui-spinner-up") ? 1 : -1, e)
            },
            "mouseup .ui-spinner-button": "_stop",
            "mouseenter .ui-spinner-button": function(e) {
                return t(e.currentTarget).hasClass("ui-state-active") ? !1 !== this._start(e) && void this._repeat(null, t(e.currentTarget).hasClass("ui-spinner-up") ? 1 : -1, e) : void 0
            },
            "mouseleave .ui-spinner-button": "_stop"
        },
        _enhance: function() {
            this.uiSpinner = this.element.attr("autocomplete", "off").wrap("<span>").parent().append("<a></a><a></a>")
        },
        _draw: function() {
            this._enhance(), this._addClass(this.uiSpinner, "ui-spinner", "ui-widget ui-widget-content"), this._addClass("ui-spinner-input"), this.element.attr("role", "spinbutton"), this.buttons = this.uiSpinner.children("a").attr("tabIndex", -1).attr("aria-hidden", !0).button({
                classes: {
                    "ui-button": ""
                }
            }), this._removeClass(this.buttons, "ui-corner-all"), this._addClass(this.buttons.first(), "ui-spinner-button ui-spinner-up"), this._addClass(this.buttons.last(), "ui-spinner-button ui-spinner-down"), this.buttons.first().button({
                icon: this.options.icons.up,
                showLabel: !1
            }), this.buttons.last().button({
                icon: this.options.icons.down,
                showLabel: !1
            }), this.buttons.height() > Math.ceil(.5 * this.uiSpinner.height()) && this.uiSpinner.height() > 0 && this.uiSpinner.height(this.uiSpinner.height())
        },
        _keydown: function(e) {
            var n = this.options,
                i = t.ui.keyCode;
            switch (e.keyCode) {
                case i.UP:
                    return this._repeat(null, 1, e), !0;
                case i.DOWN:
                    return this._repeat(null, -1, e), !0;
                case i.PAGE_UP:
                    return this._repeat(null, n.page, e), !0;
                case i.PAGE_DOWN:
                    return this._repeat(null, -n.page, e), !0
            }
            return !1
        },
        _start: function(t) {
            return !(!this.spinning && !1 === this._trigger("start", t)) && (this.counter || (this.counter = 1), this.spinning = !0, !0)
        },
        _repeat: function(t, e, n) {
            t = t || 500, clearTimeout(this.timer), this.timer = this._delay((function() {
                this._repeat(40, e, n)
            }), t), this._spin(e * this.options.step, n)
        },
        _spin: function(t, e) {
            var n = this.value() || 0;
            this.counter || (this.counter = 1), n = this._adjustValue(n + t * this._increment(this.counter)), this.spinning && !1 === this._trigger("spin", e, {
                value: n
            }) || (this._value(n), this.counter++)
        },
        _increment: function(e) {
            var n = this.options.incremental;
            return n ? t.isFunction(n) ? n(e) : Math.floor(e * e * e / 5e4 - e * e / 500 + 17 * e / 200 + 1) : 1
        },
        _precision: function() {
            var t = this._precisionOf(this.options.step);
            return null !== this.options.min && (t = Math.max(t, this._precisionOf(this.options.min))), t
        },
        _precisionOf: function(t) {
            var e = "" + t,
                n = e.indexOf(".");
            return -1 === n ? 0 : e.length - n - 1
        },
        _adjustValue: function(t) {
            var e, n, i = this.options;
            return n = t - (e = null !== i.min ? i.min : 0), t = e + (n = Math.round(n / i.step) * i.step), t = parseFloat(t.toFixed(this._precision())), null !== i.max && t > i.max ? i.max : null !== i.min && i.min > t ? i.min : t
        },
        _stop: function(t) {
            this.spinning && (clearTimeout(this.timer), clearTimeout(this.mousewheelTimer), this.counter = 0, this.spinning = !1, this._trigger("stop", t))
        },
        _setOption: function(t, e) {
            var n, i, r;
            return "culture" === t || "numberFormat" === t ? (n = this._parse(this.element.val()), this.options[t] = e, void this.element.val(this._format(n))) : (("max" === t || "min" === t || "step" === t) && "string" == typeof e && (e = this._parse(e)), "icons" === t && (i = this.buttons.first().find(".ui-icon"), this._removeClass(i, null, this.options.icons.up), this._addClass(i, null, e.up), r = this.buttons.last().find(".ui-icon"), this._removeClass(r, null, this.options.icons.down), this._addClass(r, null, e.down)), void this._super(t, e))
        },
        _setOptionDisabled: function(t) {
            this._super(t), this._toggleClass(this.uiSpinner, null, "ui-state-disabled", !!t), this.element.prop("disabled", !!t), this.buttons.button(t ? "disable" : "enable")
        },
        _setOptions: o((function(t) {
            this._super(t)
        })),
        _parse: function(t) {
            return "string" == typeof t && "" !== t && (t = window.Globalize && this.options.numberFormat ? Globalize.parseFloat(t, 10, this.options.culture) : +t), "" === t || isNaN(t) ? null : t
        },
        _format: function(t) {
            return "" === t ? "" : window.Globalize && this.options.numberFormat ? Globalize.format(t, this.options.numberFormat, this.options.culture) : t
        },
        _refresh: function() {
            this.element.attr({
                "aria-valuemin": this.options.min,
                "aria-valuemax": this.options.max,
                "aria-valuenow": this._parse(this.element.val())
            })
        },
        isValid: function() {
            var t = this.value();
            return null !== t && t === this._adjustValue(t)
        },
        _value: function(t, e) {
            var n;
            "" !== t && (null !== (n = this._parse(t)) && (e || (n = this._adjustValue(n)), t = this._format(n))), this.element.val(t), this._refresh()
        },
        _destroy: function() {
            this.element.prop("disabled", !1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"), this.uiSpinner.replaceWith(this.element)
        },
        stepUp: o((function(t) {
            this._stepUp(t)
        })),
        _stepUp: function(t) {
            this._start() && (this._spin((t || 1) * this.options.step), this._stop())
        },
        stepDown: o((function(t) {
            this._stepDown(t)
        })),
        _stepDown: function(t) {
            this._start() && (this._spin((t || 1) * -this.options.step), this._stop())
        },
        pageUp: o((function(t) {
            this._stepUp((t || 1) * this.options.page)
        })),
        pageDown: o((function(t) {
            this._stepDown((t || 1) * this.options.page)
        })),
        value: function(t) {
            return arguments.length ? void o(this._value).call(this, t) : this._parse(this.element.val())
        },
        widget: function() {
            return this.uiSpinner
        }
    }), !1 !== t.uiBackCompat && t.widget("ui.spinner", t.ui.spinner, {
        _enhance: function() {
            this.uiSpinner = this.element.attr("autocomplete", "off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())
        },
        _uiSpinnerHtml: function() {
            return "<span>"
        },
        _buttonHtml: function() {
            return "<a></a><a></a>"
        }
    }), t.ui.spinner, t.widget("ui.tabs", {
        version: "1.12.1",
        delay: 300,
        options: {
            active: null,
            classes: {
                "ui-tabs": "ui-corner-all",
                "ui-tabs-nav": "ui-corner-all",
                "ui-tabs-panel": "ui-corner-bottom",
                "ui-tabs-tab": "ui-corner-top"
            },
            collapsible: !1,
            event: "click",
            heightStyle: "content",
            hide: null,
            show: null,
            activate: null,
            beforeActivate: null,
            beforeLoad: null,
            load: null
        },
        _isLocal: function() {
            var t = /#.*$/;
            return function(e) {
                var n, i;
                n = e.href.replace(t, ""), i = location.href.replace(t, "");
                try {
                    n = decodeURIComponent(n)
                } catch (t) {}
                try {
                    i = decodeURIComponent(i)
                } catch (t) {}
                return e.hash.length > 1 && n === i
            }
        }(),
        _create: function() {
            var e = this,
                n = this.options;
            this.running = !1, this._addClass("ui-tabs", "ui-widget ui-widget-content"), this._toggleClass("ui-tabs-collapsible", null, n.collapsible), this._processTabs(), n.active = this._initialActive(), t.isArray(n.disabled) && (n.disabled = t.unique(n.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"), (function(t) {
                return e.tabs.index(t)
            })))).sort()), this.active = !1 !== this.options.active && this.anchors.length ? this._findActive(n.active) : t(), this._refresh(), this.active.length && this.load(n.active)
        },
        _initialActive: function() {
            var e = this.options.active,
                n = this.options.collapsible,
                i = location.hash.substring(1);
            return null === e && (i && this.tabs.each((function(n, r) {
                return t(r).attr("aria-controls") === i ? (e = n, !1) : void 0
            })), null === e && (e = this.tabs.index(this.tabs.filter(".ui-tabs-active"))), (null === e || -1 === e) && (e = !!this.tabs.length && 0)), !1 !== e && (-1 === (e = this.tabs.index(this.tabs.eq(e))) && (e = !n && 0)), !n && !1 === e && this.anchors.length && (e = 0), e
        },
        _getCreateEventData: function() {
            return {
                tab: this.active,
                panel: this.active.length ? this._getPanelForTab(this.active) : t()
            }
        },
        _tabKeydown: function(e) {
            var n = t(t.ui.safeActiveElement(this.document[0])).closest("li"),
                i = this.tabs.index(n),
                r = !0;
            if (!this._handlePageNav(e)) {
                switch (e.keyCode) {
                    case t.ui.keyCode.RIGHT:
                    case t.ui.keyCode.DOWN:
                        i++;
                        break;
                    case t.ui.keyCode.UP:
                    case t.ui.keyCode.LEFT:
                        r = !1, i--;
                        break;
                    case t.ui.keyCode.END:
                        i = this.anchors.length - 1;
                        break;
                    case t.ui.keyCode.HOME:
                        i = 0;
                        break;
                    case t.ui.keyCode.SPACE:
                        return e.preventDefault(), clearTimeout(this.activating), void this._activate(i);
                    case t.ui.keyCode.ENTER:
                        return e.preventDefault(), clearTimeout(this.activating), void this._activate(i !== this.options.active && i);
                    default:
                        return
                }
                e.preventDefault(), clearTimeout(this.activating), i = this._focusNextTab(i, r), e.ctrlKey || e.metaKey || (n.attr("aria-selected", "false"), this.tabs.eq(i).attr("aria-selected", "true"), this.activating = this._delay((function() {
                    this.option("active", i)
                }), this.delay))
            }
        },
        _panelKeydown: function(e) {
            this._handlePageNav(e) || e.ctrlKey && e.keyCode === t.ui.keyCode.UP && (e.preventDefault(), this.active.trigger("focus"))
        },
        _handlePageNav: function(e) {
            return e.altKey && e.keyCode === t.ui.keyCode.PAGE_UP ? (this._activate(this._focusNextTab(this.options.active - 1, !1)), !0) : e.altKey && e.keyCode === t.ui.keyCode.PAGE_DOWN ? (this._activate(this._focusNextTab(this.options.active + 1, !0)), !0) : void 0
        },
        _findNextTab: function(e, n) {
            for (var i = this.tabs.length - 1; - 1 !== t.inArray((e > i && (e = 0), 0 > e && (e = i), e), this.options.disabled);) e = n ? e + 1 : e - 1;
            return e
        },
        _focusNextTab: function(t, e) {
            return t = this._findNextTab(t, e), this.tabs.eq(t).trigger("focus"), t
        },
        _setOption: function(t, e) {
            return "active" === t ? void this._activate(e) : (this._super(t, e), "collapsible" === t && (this._toggleClass("ui-tabs-collapsible", null, e), e || !1 !== this.options.active || this._activate(0)), "event" === t && this._setupEvents(e), void("heightStyle" === t && this._setupHeightStyle(e)))
        },
        _sanitizeSelector: function(t) {
            return t ? t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g, "\\$&") : ""
        },
        refresh: function() {
            var e = this.options,
                n = this.tablist.children(":has(a[href])");
            e.disabled = t.map(n.filter(".ui-state-disabled"), (function(t) {
                return n.index(t)
            })), this._processTabs(), !1 !== e.active && this.anchors.length ? this.active.length && !t.contains(this.tablist[0], this.active[0]) ? this.tabs.length === e.disabled.length ? (e.active = !1, this.active = t()) : this._activate(this._findNextTab(Math.max(0, e.active - 1), !1)) : e.active = this.tabs.index(this.active) : (e.active = !1, this.active = t()), this._refresh()
        },
        _refresh: function() {
            this._setOptionDisabled(this.options.disabled), this._setupEvents(this.options.event), this._setupHeightStyle(this.options.heightStyle), this.tabs.not(this.active).attr({
                "aria-selected": "false",
                "aria-expanded": "false",
                tabIndex: -1
            }), this.panels.not(this._getPanelForTab(this.active)).hide().attr({
                "aria-hidden": "true"
            }), this.active.length ? (this.active.attr({
                "aria-selected": "true",
                "aria-expanded": "true",
                tabIndex: 0
            }), this._addClass(this.active, "ui-tabs-active", "ui-state-active"), this._getPanelForTab(this.active).show().attr({
                "aria-hidden": "false"
            })) : this.tabs.eq(0).attr("tabIndex", 0)
        },
        _processTabs: function() {
            var e = this,
                n = this.tabs,
                i = this.anchors,
                r = this.panels;
            this.tablist = this._getList().attr("role", "tablist"), this._addClass(this.tablist, "ui-tabs-nav", "ui-helper-reset ui-helper-clearfix ui-widget-header"), this.tablist.on("mousedown" + this.eventNamespace, "> li", (function(e) {
                t(this).is(".ui-state-disabled") && e.preventDefault()
            })).on("focus" + this.eventNamespace, ".ui-tabs-anchor", (function() {
                t(this).closest("li").is(".ui-state-disabled") && this.blur()
            })), this.tabs = this.tablist.find("> li:has(a[href])").attr({
                role: "tab",
                tabIndex: -1
            }), this._addClass(this.tabs, "ui-tabs-tab", "ui-state-default"), this.anchors = this.tabs.map((function() {
                return t("a", this)[0]
            })).attr({
                role: "presentation",
                tabIndex: -1
            }), this._addClass(this.anchors, "ui-tabs-anchor"), this.panels = t(), this.anchors.each((function(n, i) {
                var r, o, s, a = t(i).uniqueId().attr("id"),
                    u = t(i).closest("li"),
                    l = u.attr("aria-controls");
                e._isLocal(i) ? (s = (r = i.hash).substring(1), o = e.element.find(e._sanitizeSelector(r))) : (r = "#" + (s = u.attr("aria-controls") || t({}).uniqueId()[0].id), (o = e.element.find(r)).length || (o = e._createPanel(s)).insertAfter(e.panels[n - 1] || e.tablist), o.attr("aria-live", "polite")), o.length && (e.panels = e.panels.add(o)), l && u.data("ui-tabs-aria-controls", l), u.attr({
                    "aria-controls": s,
                    "aria-labelledby": a
                }), o.attr("aria-labelledby", a)
            })), this.panels.attr("role", "tabpanel"), this._addClass(this.panels, "ui-tabs-panel", "ui-widget-content"), n && (this._off(n.not(this.tabs)), this._off(i.not(this.anchors)), this._off(r.not(this.panels)))
        },
        _getList: function() {
            return this.tablist || this.element.find("ol, ul").eq(0)
        },
        _createPanel: function(e) {
            return t("<div>").attr("id", e).data("ui-tabs-destroy", !0)
        },
        _setOptionDisabled: function(e) {
            var n, i, r;
            for (t.isArray(e) && (e.length ? e.length === this.anchors.length && (e = !0) : e = !1), r = 0; i = this.tabs[r]; r++) n = t(i), !0 === e || -1 !== t.inArray(r, e) ? (n.attr("aria-disabled", "true"), this._addClass(n, null, "ui-state-disabled")) : (n.removeAttr("aria-disabled"), this._removeClass(n, null, "ui-state-disabled"));
            this.options.disabled = e, this._toggleClass(this.widget(), this.widgetFullName + "-disabled", null, !0 === e)
        },
        _setupEvents: function(e) {
            var n = {};
            e && t.each(e.split(" "), (function(t, e) {
                n[e] = "_eventHandler"
            })), this._off(this.anchors.add(this.tabs).add(this.panels)), this._on(!0, this.anchors, {
                click: function(t) {
                    t.preventDefault()
                }
            }), this._on(this.anchors, n), this._on(this.tabs, {
                keydown: "_tabKeydown"
            }), this._on(this.panels, {
                keydown: "_panelKeydown"
            }), this._focusable(this.tabs), this._hoverable(this.tabs)
        },
        _setupHeightStyle: function(e) {
            var n, i = this.element.parent();
            "fill" === e ? (n = i.height(), n -= this.element.outerHeight() - this.element.height(), this.element.siblings(":visible").each((function() {
                var e = t(this),
                    i = e.css("position");
                "absolute" !== i && "fixed" !== i && (n -= e.outerHeight(!0))
            })), this.element.children().not(this.panels).each((function() {
                n -= t(this).outerHeight(!0)
            })), this.panels.each((function() {
                t(this).height(Math.max(0, n - t(this).innerHeight() + t(this).height()))
            })).css("overflow", "auto")) : "auto" === e && (n = 0, this.panels.each((function() {
                n = Math.max(n, t(this).height("").height())
            })).height(n))
        },
        _eventHandler: function(e) {
            var n = this.options,
                i = this.active,
                r = t(e.currentTarget).closest("li"),
                o = r[0] === i[0],
                s = o && n.collapsible,
                a = s ? t() : this._getPanelForTab(r),
                u = i.length ? this._getPanelForTab(i) : t(),
                l = {
                    oldTab: i,
                    oldPanel: u,
                    newTab: s ? t() : r,
                    newPanel: a
                };
            e.preventDefault(), r.hasClass("ui-state-disabled") || r.hasClass("ui-tabs-loading") || this.running || o && !n.collapsible || !1 === this._trigger("beforeActivate", e, l) || (n.active = !s && this.tabs.index(r), this.active = o ? t() : r, this.xhr && this.xhr.abort(), u.length || a.length || t.error("jQuery UI Tabs: Mismatching fragment identifier."), a.length && this.load(this.tabs.index(r), e), this._toggle(e, l))
        },
        _toggle: function(e, n) {
            function i() {
                o.running = !1, o._trigger("activate", e, n)
            }

            function r() {
                o._addClass(n.newTab.closest("li"), "ui-tabs-active", "ui-state-active"), s.length && o.options.show ? o._show(s, o.options.show, i) : (s.show(), i())
            }
            var o = this,
                s = n.newPanel,
                a = n.oldPanel;
            this.running = !0, a.length && this.options.hide ? this._hide(a, this.options.hide, (function() {
                o._removeClass(n.oldTab.closest("li"), "ui-tabs-active", "ui-state-active"), r()
            })) : (this._removeClass(n.oldTab.closest("li"), "ui-tabs-active", "ui-state-active"), a.hide(), r()), a.attr("aria-hidden", "true"), n.oldTab.attr({
                "aria-selected": "false",
                "aria-expanded": "false"
            }), s.length && a.length ? n.oldTab.attr("tabIndex", -1) : s.length && this.tabs.filter((function() {
                return 0 === t(this).attr("tabIndex")
            })).attr("tabIndex", -1), s.attr("aria-hidden", "false"), n.newTab.attr({
                "aria-selected": "true",
                "aria-expanded": "true",
                tabIndex: 0
            })
        },
        _activate: function(e) {
            var n, i = this._findActive(e);
            i[0] !== this.active[0] && (i.length || (i = this.active), n = i.find(".ui-tabs-anchor")[0], this._eventHandler({
                target: n,
                currentTarget: n,
                preventDefault: t.noop
            }))
        },
        _findActive: function(e) {
            return !1 === e ? t() : this.tabs.eq(e)
        },
        _getIndex: function(e) {
            return "string" == typeof e && (e = this.anchors.index(this.anchors.filter("[href$='" + t.ui.escapeSelector(e) + "']"))), e
        },
        _destroy: function() {
            this.xhr && this.xhr.abort(), this.tablist.removeAttr("role").off(this.eventNamespace), this.anchors.removeAttr("role tabIndex").removeUniqueId(), this.tabs.add(this.panels).each((function() {
                t.data(this, "ui-tabs-destroy") ? t(this).remove() : t(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")
            })), this.tabs.each((function() {
                var e = t(this),
                    n = e.data("ui-tabs-aria-controls");
                n ? e.attr("aria-controls", n).removeData("ui-tabs-aria-controls") : e.removeAttr("aria-controls")
            })), this.panels.show(), "content" !== this.options.heightStyle && this.panels.css("height", "")
        },
        enable: function(e) {
            var n = this.options.disabled;
            !1 !== n && (void 0 === e ? n = !1 : (e = this._getIndex(e), n = t.isArray(n) ? t.map(n, (function(t) {
                return t !== e ? t : null
            })) : t.map(this.tabs, (function(t, n) {
                return n !== e ? n : null
            }))), this._setOptionDisabled(n))
        },
        disable: function(e) {
            var n = this.options.disabled;
            if (!0 !== n) {
                if (void 0 === e) n = !0;
                else {
                    if (e = this._getIndex(e), -1 !== t.inArray(e, n)) return;
                    n = t.isArray(n) ? t.merge([e], n).sort() : [e]
                }
                this._setOptionDisabled(n)
            }
        },
        load: function(e, n) {
            e = this._getIndex(e);
            var i = this,
                r = this.tabs.eq(e),
                o = r.find(".ui-tabs-anchor"),
                s = this._getPanelForTab(r),
                a = {
                    tab: r,
                    panel: s
                },
                u = function(t, e) {
                    "abort" === e && i.panels.stop(!1, !0), i._removeClass(r, "ui-tabs-loading"), s.removeAttr("aria-busy"), t === i.xhr && delete i.xhr
                };
            this._isLocal(o[0]) || (this.xhr = t.ajax(this._ajaxSettings(o, n, a)), this.xhr && "canceled" !== this.xhr.statusText && (this._addClass(r, "ui-tabs-loading"), s.attr("aria-busy", "true"), this.xhr.done((function(t, e, r) {
                setTimeout((function() {
                    s.html(t), i._trigger("load", n, a), u(r, e)
                }), 1)
            })).fail((function(t, e) {
                setTimeout((function() {
                    u(t, e)
                }), 1)
            }))))
        },
        _ajaxSettings: function(e, n, i) {
            var r = this;
            return {
                url: e.attr("href").replace(/#.*$/, ""),
                beforeSend: function(e, o) {
                    return r._trigger("beforeLoad", n, t.extend({
                        jqXHR: e,
                        ajaxSettings: o
                    }, i))
                }
            }
        },
        _getPanelForTab: function(e) {
            var n = t(e).attr("aria-controls");
            return this.element.find(this._sanitizeSelector("#" + n))
        }
    }), !1 !== t.uiBackCompat && t.widget("ui.tabs", t.ui.tabs, {
        _processTabs: function() {
            this._superApply(arguments), this._addClass(this.tabs, "ui-tab")
        }
    }), t.ui.tabs, t.widget("ui.tooltip", {
        version: "1.12.1",
        options: {
            classes: {
                "ui-tooltip": "ui-corner-all ui-widget-shadow"
            },
            content: function() {
                var e = t(this).attr("title") || "";
                return t("<a>").text(e).html()
            },
            hide: !0,
            items: "[title]:not([disabled])",
            position: {
                my: "left top+15",
                at: "left bottom",
                collision: "flipfit flip"
            },
            show: !0,
            track: !1,
            close: null,
            open: null
        },
        _addDescribedBy: function(e, n) {
            var i = (e.attr("aria-describedby") || "").split(/\s+/);
            i.push(n), e.data("ui-tooltip-id", n).attr("aria-describedby", t.trim(i.join(" ")))
        },
        _removeDescribedBy: function(e) {
            var n = e.data("ui-tooltip-id"),
                i = (e.attr("aria-describedby") || "").split(/\s+/),
                r = t.inArray(n, i); - 1 !== r && i.splice(r, 1), e.removeData("ui-tooltip-id"), (i = t.trim(i.join(" "))) ? e.attr("aria-describedby", i) : e.removeAttr("aria-describedby")
        },
        _create: function() {
            this._on({
                mouseover: "open",
                focusin: "open"
            }), this.tooltips = {}, this.parents = {}, this.liveRegion = t("<div>").attr({
                role: "log",
                "aria-live": "assertive",
                "aria-relevant": "additions"
            }).appendTo(this.document[0].body), this._addClass(this.liveRegion, null, "ui-helper-hidden-accessible"), this.disabledTitles = t([])
        },
        _setOption: function(e, n) {
            var i = this;
            this._super(e, n), "content" === e && t.each(this.tooltips, (function(t, e) {
                i._updateContent(e.element)
            }))
        },
        _setOptionDisabled: function(t) {
            this[t ? "_disable" : "_enable"]()
        },
        _disable: function() {
            var e = this;
            t.each(this.tooltips, (function(n, i) {
                var r = t.Event("blur");
                r.target = r.currentTarget = i.element[0], e.close(r, !0)
            })), this.disabledTitles = this.disabledTitles.add(this.element.find(this.options.items).addBack().filter((function() {
                var e = t(this);
                return e.is("[title]") ? e.data("ui-tooltip-title", e.attr("title")).removeAttr("title") : void 0
            })))
        },
        _enable: function() {
            this.disabledTitles.each((function() {
                var e = t(this);
                e.data("ui-tooltip-title") && e.attr("title", e.data("ui-tooltip-title"))
            })), this.disabledTitles = t([])
        },
        open: function(e) {
            var n = this,
                i = t(e ? e.target : this.element).closest(this.options.items);
            i.length && !i.data("ui-tooltip-id") && (i.attr("title") && i.data("ui-tooltip-title", i.attr("title")), i.data("ui-tooltip-open", !0), e && "mouseover" === e.type && i.parents().each((function() {
                var e, i = t(this);
                i.data("ui-tooltip-open") && ((e = t.Event("blur")).target = e.currentTarget = this, n.close(e, !0)), i.attr("title") && (i.uniqueId(), n.parents[this.id] = {
                    element: this,
                    title: i.attr("title")
                }, i.attr("title", ""))
            })), this._registerCloseHandlers(e, i), this._updateContent(i, e))
        },
        _updateContent: function(t, e) {
            var n, i = this.options.content,
                r = this,
                o = e ? e.type : null;
            return "string" == typeof i || i.nodeType || i.jquery ? this._open(e, t, i) : void((n = i.call(t[0], (function(n) {
                r._delay((function() {
                    t.data("ui-tooltip-open") && (e && (e.type = o), this._open(e, t, n))
                }))
            }))) && this._open(e, t, n))
        },
        _open: function(e, n, i) {
            function r(t) {
                l.of = t, s.is(":hidden") || s.position(l)
            }
            var o, s, a, u, l = t.extend({}, this.options.position);
            if (i) {
                if (o = this._find(n)) return void o.tooltip.find(".ui-tooltip-content").html(i);
                n.is("[title]") && (e && "mouseover" === e.type ? n.attr("title", "") : n.removeAttr("title")), o = this._tooltip(n), s = o.tooltip, this._addDescribedBy(n, s.attr("id")), s.find(".ui-tooltip-content").html(i), this.liveRegion.children().hide(), (u = t("<div>").html(s.find(".ui-tooltip-content").html())).removeAttr("name").find("[name]").removeAttr("name"), u.removeAttr("id").find("[id]").removeAttr("id"), u.appendTo(this.liveRegion), this.options.track && e && /^mouse/.test(e.type) ? (this._on(this.document, {
                    mousemove: r
                }), r(e)) : s.position(t.extend({
                    of: n
                }, this.options.position)), s.hide(), this._show(s, this.options.show), this.options.track && this.options.show && this.options.show.delay && (a = this.delayedShow = setInterval((function() {
                    s.is(":visible") && (r(l.of), clearInterval(a))
                }), t.fx.interval)), this._trigger("open", e, {
                    tooltip: s
                })
            }
        },
        _registerCloseHandlers: function(e, n) {
            var i = {
                keyup: function(e) {
                    if (e.keyCode === t.ui.keyCode.ESCAPE) {
                        var i = t.Event(e);
                        i.currentTarget = n[0], this.close(i, !0)
                    }
                }
            };
            n[0] !== this.element[0] && (i.remove = function() {
                this._removeTooltip(this._find(n).tooltip)
            }), e && "mouseover" !== e.type || (i.mouseleave = "close"), e && "focusin" !== e.type || (i.focusout = "close"), this._on(!0, n, i)
        },
        close: function(e) {
            var n, i = this,
                r = t(e ? e.currentTarget : this.element),
                o = this._find(r);
            return o ? (n = o.tooltip, void(o.closing || (clearInterval(this.delayedShow), r.data("ui-tooltip-title") && !r.attr("title") && r.attr("title", r.data("ui-tooltip-title")), this._removeDescribedBy(r), o.hiding = !0, n.stop(!0), this._hide(n, this.options.hide, (function() {
                i._removeTooltip(t(this))
            })), r.removeData("ui-tooltip-open"), this._off(r, "mouseleave focusout keyup"), r[0] !== this.element[0] && this._off(r, "remove"), this._off(this.document, "mousemove"), e && "mouseleave" === e.type && t.each(this.parents, (function(e, n) {
                t(n.element).attr("title", n.title), delete i.parents[e]
            })), o.closing = !0, this._trigger("close", e, {
                tooltip: n
            }), o.hiding || (o.closing = !1)))) : void r.removeData("ui-tooltip-open")
        },
        _tooltip: function(e) {
            var n = t("<div>").attr("role", "tooltip"),
                i = t("<div>").appendTo(n),
                r = n.uniqueId().attr("id");
            return this._addClass(i, "ui-tooltip-content"), this._addClass(n, "ui-tooltip", "ui-widget ui-widget-content"), n.appendTo(this._appendTo(e)), this.tooltips[r] = {
                element: e,
                tooltip: n
            }
        },
        _find: function(t) {
            var e = t.data("ui-tooltip-id");
            return e ? this.tooltips[e] : null
        },
        _removeTooltip: function(t) {
            t.remove(), delete this.tooltips[t.attr("id")]
        },
        _appendTo: function(t) {
            var e = t.closest(".ui-front, dialog");
            return e.length || (e = this.document[0].body), e
        },
        _destroy: function() {
            var e = this;
            t.each(this.tooltips, (function(n, i) {
                var r = t.Event("blur"),
                    o = i.element;
                r.target = r.currentTarget = o[0], e.close(r, !0), t("#" + n).remove(), o.data("ui-tooltip-title") && (o.attr("title") || o.attr("title", o.data("ui-tooltip-title")), o.removeData("ui-tooltip-title"))
            })), this.liveRegion.remove()
        }
    }), !1 !== t.uiBackCompat && t.widget("ui.tooltip", t.ui.tooltip, {
        options: {
            tooltipClass: null
        },
        _tooltip: function() {
            var t = this._superApply(arguments);
            return this.options.tooltipClass && t.tooltip.addClass(this.options.tooltipClass), t
        }
    }), t.ui.tooltip
})),
function(t, e) {
    "object" == typeof exports && "undefined" != typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define(e) : (t = t || self).firebase = e()
}(this, (function() {
    "use strict";
    var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                })(e, n)
        },
        e = function() {
            return (e = Object.assign || function(t) {
                for (var e, n = 1, i = arguments.length; n < i; n++)
                    for (var r in e = arguments[n]) Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r]);
                return t
            }).apply(this, arguments)
        };

    function n(t) {
        var e = "function" == typeof Symbol && Symbol.iterator,
            n = e && t[e],
            i = 0;
        if (n) return n.call(t);
        if (t && "number" == typeof t.length) return {
            next: function() {
                return t && i >= t.length && (t = void 0), {
                    value: t && t[i++],
                    done: !t
                }
            }
        };
        throw new TypeError(e ? "Object is not iterable." : "Symbol.iterator is not defined.")
    }

    function i(t, e) {
        var n = "function" == typeof Symbol && t[Symbol.iterator];
        if (!n) return t;
        var i, r, o = n.call(t),
            s = [];
        try {
            for (;
                (void 0 === e || 0 < e--) && !(i = o.next()).done;) s.push(i.value)
        } catch (t) {
            r = {
                error: t
            }
        } finally {
            try {
                i && !i.done && (n = o.return) && n.call(o)
            } finally {
                if (r) throw r.error
            }
        }
        return s
    }

    function r(t, e) {
        if (!(e instanceof Object)) return e;
        switch (e.constructor) {
            case Date:
                return new Date(e.getTime());
            case Object:
                void 0 === t && (t = {});
                break;
            case Array:
                t = [];
                break;
            default:
                return e
        }
        for (var n in e) e.hasOwnProperty(n) && (t[n] = r(t[n], e[n]));
        return t
    }
    var o = (s.prototype.wrapCallback = function(t) {
        var e = this;
        return function(n, i) {
            n ? e.reject(n) : e.resolve(i), "function" == typeof t && (e.promise.catch((function() {})), 1 === t.length ? t(n) : t(n, i))
        }
    }, s);

    function s() {
        var t = this;
        this.reject = function() {}, this.resolve = function() {}, this.promise = new Promise((function(e, n) {
            t.resolve = e, t.reject = n
        }))
    }
    var a, u, l, h = (a = Error, t(u = d, l = a), u.prototype = null === l ? Object.create(l) : (c.prototype = l.prototype, new c), d);

    function c() {
        this.constructor = u
    }

    function d(t, e) {
        var n = a.call(this, e) || this;
        return n.code = t, n.name = "FirebaseError", Object.setPrototypeOf(n, d.prototype), Error.captureStackTrace && Error.captureStackTrace(n, p.prototype.create), n
    }
    var p = (f.prototype.create = function(t) {
        for (var e = [], n = 1; n < arguments.length; n++) e[n - 1] = arguments[n];
        for (var i, r = e[0] || {}, o = this.service + "/" + t, s = this.errors[t], a = s ? (i = r, s.replace(g, (function(t, e) {
                var n = i[e];
                return null != n ? String(n) : "<" + e + "?>"
            }))) : "Error", u = this.serviceName + ": " + a + " (" + o + ").", l = new h(o, u), c = 0, d = Object.keys(r); c < d.length; c++) {
            var p = d[c];
            "_" !== p.slice(-1) && (p in l && console.warn('Overwriting FirebaseError base field "' + p + '" can cause unexpected behavior.'), l[p] = r[p])
        }
        return l
    }, f);

    function f(t, e, n) {
        this.service = t, this.serviceName = e, this.errors = n
    }
    var g = /\{\$([^}]+)}/g;

    function v(t, e) {
        return Object.prototype.hasOwnProperty.call(t, e)
    }

    function m(t, e) {
        var n = new y(t, e);
        return n.subscribe.bind(n)
    }
    var y = (_.prototype.next = function(t) {
        this.forEachObserver((function(e) {
            e.next(t)
        }))
    }, _.prototype.error = function(t) {
        this.forEachObserver((function(e) {
            e.error(t)
        })), this.close(t)
    }, _.prototype.complete = function() {
        this.forEachObserver((function(t) {
            t.complete()
        })), this.close()
    }, _.prototype.subscribe = function(t, e, n) {
        var i, r = this;
        if (void 0 === t && void 0 === e && void 0 === n) throw new Error("Missing Observer.");
        void 0 === (i = function(t, e) {
            if ("object" == typeof t && null !== t)
                for (var n = 0, i = ["next", "error", "complete"]; n < i.length; n++) {
                    var r = i[n];
                    if (r in t && "function" == typeof t[r]) return 1
                }
        }(t) ? t : {
            next: t,
            error: e,
            complete: n
        }).next && (i.next = b), void 0 === i.error && (i.error = b), void 0 === i.complete && (i.complete = b);
        var o = this.unsubscribeOne.bind(this, this.observers.length);
        return this.finalized && this.task.then((function() {
            try {
                r.finalError ? i.error(r.finalError) : i.complete()
            } catch (t) {}
        })), this.observers.push(i), o
    }, _.prototype.unsubscribeOne = function(t) {
        void 0 !== this.observers && void 0 !== this.observers[t] && (delete this.observers[t], --this.observerCount, 0 === this.observerCount && void 0 !== this.onNoObservers && this.onNoObservers(this))
    }, _.prototype.forEachObserver = function(t) {
        if (!this.finalized)
            for (var e = 0; e < this.observers.length; e++) this.sendOne(e, t)
    }, _.prototype.sendOne = function(t, e) {
        var n = this;
        this.task.then((function() {
            if (void 0 !== n.observers && void 0 !== n.observers[t]) try {
                e(n.observers[t])
            } catch (t) {
                "undefined" != typeof console && console.error && console.error(t)
            }
        }))
    }, _.prototype.close = function(t) {
        var e = this;
        this.finalized || (this.finalized = !0, void 0 !== t && (this.finalError = t), this.task.then((function() {
            e.observers = void 0, e.onNoObservers = void 0
        })))
    }, _);

    function _(t, e) {
        var n = this;
        this.observers = [], this.unsubscribes = [], this.observerCount = 0, this.task = Promise.resolve(), this.finalized = !1, this.onNoObservers = e, this.task.then((function() {
            t(n)
        })).catch((function(t) {
            n.error(t)
        }))
    }

    function b() {}
    var w = (E.prototype.setInstantiationMode = function(t) {
        return this.instantiationMode = t, this
    }, E.prototype.setMultipleInstances = function(t) {
        return this.multipleInstances = t, this
    }, E.prototype.setServiceProps = function(t) {
        return this.serviceProps = t, this
    }, E);

    function E(t, e, n) {
        this.name = t, this.instanceFactory = e, this.type = n, this.multipleInstances = !1, this.serviceProps = {}, this.instantiationMode = "LAZY"
    }
    var I = "[DEFAULT]",
        T = (C.prototype.get = function(t) {
            void 0 === t && (t = I);
            var e = this.normalizeInstanceIdentifier(t);
            if (!this.instancesDeferred.has(e)) {
                var n = new o;
                this.instancesDeferred.set(e, n);
                try {
                    var i = this.getOrInitializeService(e);
                    i && n.resolve(i)
                } catch (t) {}
            }
            return this.instancesDeferred.get(e).promise
        }, C.prototype.getImmediate = function(t) {
            var n = e({
                    identifier: I,
                    optional: !1
                }, t),
                i = n.identifier,
                r = n.optional,
                o = this.normalizeInstanceIdentifier(i);
            try {
                var s = this.getOrInitializeService(o);
                if (s) return s;
                if (r) return null;
                throw Error("Service " + this.name + " is not available")
            } catch (t) {
                if (r) return null;
                throw t
            }
        }, C.prototype.getComponent = function() {
            return this.component
        }, C.prototype.setComponent = function(t) {
            var e, r;
            if (t.name !== this.name) throw Error("Mismatching Component " + t.name + " for Provider " + this.name + ".");
            if (this.component) throw Error("Component for " + this.name + " has already been provided");
            if ("EAGER" === (this.component = t).instantiationMode) try {
                this.getOrInitializeService(I)
            } catch (t) {}
            try {
                for (var o = n(this.instancesDeferred.entries()), s = o.next(); !s.done; s = o.next()) {
                    var a = i(s.value, 2),
                        u = a[0],
                        l = a[1],
                        h = this.normalizeInstanceIdentifier(u);
                    try {
                        var c = this.getOrInitializeService(h);
                        l.resolve(c)
                    } catch (t) {}
                }
            } catch (t) {
                e = {
                    error: t
                }
            } finally {
                try {
                    s && !s.done && (r = o.return) && r.call(o)
                } finally {
                    if (e) throw e.error
                }
            }
        }, C.prototype.clearInstance = function(t) {
            void 0 === t && (t = I), this.instancesDeferred.delete(t), this.instances.delete(t)
        }, C.prototype.delete = function() {
            return function(t, e, n, i) {
                return new(n = n || Promise)((function(r, o) {
                    function s(t) {
                        try {
                            u(i.next(t))
                        } catch (t) {
                            o(t)
                        }
                    }

                    function a(t) {
                        try {
                            u(i.throw(t))
                        } catch (t) {
                            o(t)
                        }
                    }

                    function u(t) {
                        var e;
                        t.done ? r(t.value) : ((e = t.value) instanceof n ? e : new n((function(t) {
                            t(e)
                        }))).then(s, a)
                    }
                    u((i = i.apply(t, e || [])).next())
                }))
            }(this, void 0, void 0, (function() {
                var t;
                return function(t, e) {
                    var n, i, r, o, s = {
                        label: 0,
                        sent: function() {
                            if (1 & r[0]) throw r[1];
                            return r[1]
                        },
                        trys: [],
                        ops: []
                    };
                    return o = {
                        next: a(0),
                        throw: a(1),
                        return: a(2)
                    }, "function" == typeof Symbol && (o[Symbol.iterator] = function() {
                        return this
                    }), o;

                    function a(o) {
                        return function(a) {
                            return function(o) {
                                if (n) throw new TypeError("Generator is already executing.");
                                for (; s;) try {
                                    if (n = 1, i && (r = 2 & o[0] ? i.return : o[0] ? i.throw || ((r = i.return) && r.call(i), 0) : i.next) && !(r = r.call(i, o[1])).done) return r;
                                    switch (i = 0, r && (o = [2 & o[0], r.value]), o[0]) {
                                        case 0:
                                        case 1:
                                            r = o;
                                            break;
                                        case 4:
                                            return s.label++, {
                                                value: o[1],
                                                done: !1
                                            };
                                        case 5:
                                            s.label++, i = o[1], o = [0];
                                            continue;
                                        case 7:
                                            o = s.ops.pop(), s.trys.pop();
                                            continue;
                                        default:
                                            if (!(r = 0 < (r = s.trys).length && r[r.length - 1]) && (6 === o[0] || 2 === o[0])) {
                                                s = 0;
                                                continue
                                            }
                                            if (3 === o[0] && (!r || o[1] > r[0] && o[1] < r[3])) {
                                                s.label = o[1];
                                                break
                                            }
                                            if (6 === o[0] && s.label < r[1]) {
                                                s.label = r[1], r = o;
                                                break
                                            }
                                            if (r && s.label < r[2]) {
                                                s.label = r[2], s.ops.push(o);
                                                break
                                            }
                                            r[2] && s.ops.pop(), s.trys.pop();
                                            continue
                                    }
                                    o = e.call(t, s)
                                } catch (t) {
                                    o = [6, t], i = 0
                                } finally {
                                    n = r = 0
                                }
                                if (5 & o[0]) throw o[1];
                                return {
                                    value: o[0] ? o[1] : void 0,
                                    done: !0
                                }
                            }([o, a])
                        }
                    }
                }(this, (function(e) {
                    switch (e.label) {
                        case 0:
                            return t = Array.from(this.instances.values()), [4, Promise.all(t.filter((function(t) {
                                return "INTERNAL" in t
                            })).map((function(t) {
                                return t.INTERNAL.delete()
                            })))];
                        case 1:
                            return e.sent(), [2]
                    }
                }))
            }))
        }, C.prototype.isComponentSet = function() {
            return null != this.component
        }, C.prototype.getOrInitializeService = function(t) {
            var e, n = this.instances.get(t);
            return !n && this.component && (n = this.component.instanceFactory(this.container, (e = t) === I ? void 0 : e), this.instances.set(t, n)), n || null
        }, C.prototype.normalizeInstanceIdentifier = function(t) {
            return !this.component || this.component.multipleInstances ? t : I
        }, C);

    function C(t, e) {
        this.name = t, this.container = e, this.component = null, this.instances = new Map, this.instancesDeferred = new Map
    }
    var k, S = (x.prototype.addComponent = function(t) {
        var e = this.getProvider(t.name);
        if (e.isComponentSet()) throw new Error("Component " + t.name + " has already been registered with " + this.name);
        e.setComponent(t)
    }, x.prototype.addOrOverwriteComponent = function(t) {
        this.getProvider(t.name).isComponentSet() && this.providers.delete(t.name), this.addComponent(t)
    }, x.prototype.getProvider = function(t) {
        if (this.providers.has(t)) return this.providers.get(t);
        var e = new T(t, this);
        return this.providers.set(t, e), e
    }, x.prototype.getProviders = function() {
        return Array.from(this.providers.values())
    }, x);

    function x(t) {
        this.name = t, this.providers = new Map
    }

    function D() {
        for (var t = 0, e = 0, n = arguments.length; e < n; e++) t += arguments[e].length;
        var i = Array(t),
            r = 0;
        for (e = 0; e < n; e++)
            for (var o = arguments[e], s = 0, a = o.length; s < a; s++, r++) i[r] = o[s];
        return i
    }
    var N, A, P = [];

    function O(t, e) {
        for (var n = [], i = 2; i < arguments.length; i++) n[i - 2] = arguments[i];
        if (!(e < t.logLevel)) {
            var r = (new Date).toISOString(),
                o = F[e];
            if (!o) throw new Error("Attempted to log a message with an invalid logType (value: " + e + ")");
            console[o].apply(console, D(["[" + r + "]  " + t.name + ":"], n))
        }
    }(A = N = N || {})[A.DEBUG = 0] = "DEBUG", A[A.VERBOSE = 1] = "VERBOSE", A[A.INFO = 2] = "INFO", A[A.WARN = 3] = "WARN", A[A.ERROR = 4] = "ERROR", A[A.SILENT = 5] = "SILENT";
    var R, L = {
            debug: N.DEBUG,
            verbose: N.VERBOSE,
            info: N.INFO,
            warn: N.WARN,
            error: N.ERROR,
            silent: N.SILENT
        },
        M = N.INFO,
        F = ((k = {})[N.DEBUG] = "log", k[N.VERBOSE] = "log", k[N.INFO] = "info", k[N.WARN] = "warn", k[N.ERROR] = "error", k),
        U = (Object.defineProperty(j.prototype, "logLevel", {
            get: function() {
                return this._logLevel
            },
            set: function(t) {
                if (!(t in N)) throw new TypeError('Invalid value "' + t + '" assigned to `logLevel`');
                this._logLevel = t
            },
            enumerable: !1,
            configurable: !0
        }), j.prototype.setLogLevel = function(t) {
            this._logLevel = "string" == typeof t ? L[t] : t
        }, Object.defineProperty(j.prototype, "logHandler", {
            get: function() {
                return this._logHandler
            },
            set: function(t) {
                if ("function" != typeof t) throw new TypeError("Value assigned to `logHandler` must be a function");
                this._logHandler = t
            },
            enumerable: !1,
            configurable: !0
        }), Object.defineProperty(j.prototype, "userLogHandler", {
            get: function() {
                return this._userLogHandler
            },
            set: function(t) {
                this._userLogHandler = t
            },
            enumerable: !1,
            configurable: !0
        }), j.prototype.debug = function() {
            for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
            this._userLogHandler && this._userLogHandler.apply(this, D([this, N.DEBUG], t)), this._logHandler.apply(this, D([this, N.DEBUG], t))
        }, j.prototype.log = function() {
            for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
            this._userLogHandler && this._userLogHandler.apply(this, D([this, N.VERBOSE], t)), this._logHandler.apply(this, D([this, N.VERBOSE], t))
        }, j.prototype.info = function() {
            for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
            this._userLogHandler && this._userLogHandler.apply(this, D([this, N.INFO], t)), this._logHandler.apply(this, D([this, N.INFO], t))
        }, j.prototype.warn = function() {
            for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
            this._userLogHandler && this._userLogHandler.apply(this, D([this, N.WARN], t)), this._logHandler.apply(this, D([this, N.WARN], t))
        }, j.prototype.error = function() {
            for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
            this._userLogHandler && this._userLogHandler.apply(this, D([this, N.ERROR], t)), this._logHandler.apply(this, D([this, N.ERROR], t))
        }, j);

    function j(t) {
        this.name = t, this._logLevel = M, this._logHandler = O, this._userLogHandler = null, P.push(this)
    }

    function H(t) {
        P.forEach((function(e) {
            e.setLogLevel(t)
        }))
    }
    var q, W = ((R = {})["no-app"] = "No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()", R["bad-app-name"] = "Illegal App name: '{$appName}", R["duplicate-app"] = "Firebase App named '{$appName}' already exists", R["app-deleted"] = "Firebase App named '{$appName}' already deleted", R["invalid-app-argument"] = "firebase.{$appName}() takes either no argument or a Firebase App instance.", R["invalid-log-argument"] = "First argument to `onLog` must be null or a function.", R),
        V = new p("app", "Firebase", W),
        B = "@firebase/app",
        z = "[DEFAULT]",
        $ = ((q = {})[B] = "fire-core", q["@firebase/analytics"] = "fire-analytics", q["@firebase/auth"] = "fire-auth", q["@firebase/database"] = "fire-rtdb", q["@firebase/functions"] = "fire-fn", q["@firebase/installations"] = "fire-iid", q["@firebase/messaging"] = "fire-fcm", q["@firebase/performance"] = "fire-perf", q["@firebase/remote-config"] = "fire-rc", q["@firebase/storage"] = "fire-gcs", q["@firebase/firestore"] = "fire-fst", q["fire-js"] = "fire-js", q["firebase-wrapper"] = "fire-js-all", q),
        K = new U("@firebase/app"),
        G = (Object.defineProperty(Y.prototype, "automaticDataCollectionEnabled", {
            get: function() {
                return this.checkDestroyed_(), this.automaticDataCollectionEnabled_
            },
            set: function(t) {
                this.checkDestroyed_(), this.automaticDataCollectionEnabled_ = t
            },
            enumerable: !1,
            configurable: !0
        }), Object.defineProperty(Y.prototype, "name", {
            get: function() {
                return this.checkDestroyed_(), this.name_
            },
            enumerable: !1,
            configurable: !0
        }), Object.defineProperty(Y.prototype, "options", {
            get: function() {
                return this.checkDestroyed_(), this.options_
            },
            enumerable: !1,
            configurable: !0
        }), Y.prototype.delete = function() {
            var t = this;
            return new Promise((function(e) {
                t.checkDestroyed_(), e()
            })).then((function() {
                return t.firebase_.INTERNAL.removeApp(t.name_), Promise.all(t.container.getProviders().map((function(t) {
                    return t.delete()
                })))
            })).then((function() {
                t.isDeleted_ = !0
            }))
        }, Y.prototype._getService = function(t, e) {
            return void 0 === e && (e = z), this.checkDestroyed_(), this.container.getProvider(t).getImmediate({
                identifier: e
            })
        }, Y.prototype._removeServiceInstance = function(t, e) {
            void 0 === e && (e = z), this.container.getProvider(t).clearInstance(e)
        }, Y.prototype._addComponent = function(t) {
            try {
                this.container.addComponent(t)
            } catch (e) {
                K.debug("Component " + t.name + " failed to register with FirebaseApp " + this.name, e)
            }
        }, Y.prototype._addOrOverwriteComponent = function(t) {
            this.container.addOrOverwriteComponent(t)
        }, Y.prototype.checkDestroyed_ = function() {
            if (this.isDeleted_) throw V.create("app-deleted", {
                appName: this.name_
            })
        }, Y);

    function Y(t, e, i) {
        var o, s, a = this;
        this.firebase_ = i, this.isDeleted_ = !1, this.name_ = e.name, this.automaticDataCollectionEnabled_ = e.automaticDataCollectionEnabled || !1, this.options_ = r(void 0, t), this.container = new S(e.name), this._addComponent(new w("app", (function() {
            return a
        }), "PUBLIC"));
        try {
            for (var u = n(this.firebase_.INTERNAL.components.values()), l = u.next(); !l.done; l = u.next()) {
                var h = l.value;
                this._addComponent(h)
            }
        } catch (t) {
            o = {
                error: t
            }
        } finally {
            try {
                l && !l.done && (s = u.return) && s.call(u)
            } finally {
                if (o) throw o.error
            }
        }
    }
    G.prototype.name && G.prototype.options || G.prototype.delete || console.log("dc");
    var Q = function t() {
            var i = function(t) {
                var e = {},
                    i = new Map,
                    o = {
                        __esModule: !0,
                        initializeApp: function(n, i) {
                            void 0 === i && (i = {}), "object" == typeof i && null !== i || (i = {
                                name: i
                            });
                            var r = i;
                            void 0 === r.name && (r.name = z);
                            var s = r.name;
                            if ("string" != typeof s || !s) throw V.create("bad-app-name", {
                                appName: String(s)
                            });
                            if (v(e, s)) throw V.create("duplicate-app", {
                                appName: s
                            });
                            var a = new t(n, r, o);
                            return e[s] = a
                        },
                        app: s,
                        registerVersion: function(t, e, n) {
                            var i, r = null !== (i = $[t]) && void 0 !== i ? i : t;
                            n && (r += "-" + n);
                            var o = r.match(/\s|\//),
                                s = e.match(/\s|\//);
                            if (o || s) {
                                var u = ['Unable to register library "' + r + '" with version "' + e + '":'];
                                return o && u.push('library name "' + r + '" contains illegal characters (whitespace or "/")'), o && s && u.push("and"), s && u.push('version name "' + e + '" contains illegal characters (whitespace or "/")'), void K.warn(u.join(" "))
                            }
                            a(new w(r + "-version", (function() {
                                return {
                                    library: r,
                                    version: e
                                }
                            }), "VERSION"))
                        },
                        setLogLevel: H,
                        onLog: function(t, e) {
                            if (null !== t && "function" != typeof t) throw V.create("invalid-log-argument", {
                                appName: name
                            });
                            ! function(t, e) {
                                for (var n = function(n) {
                                        var i = null;
                                        e && e.level && (i = L[e.level]), n.userLogHandler = null === t ? null : function(e, n) {
                                            for (var r = [], o = 2; o < arguments.length; o++) r[o - 2] = arguments[o];
                                            var s = r.map((function(t) {
                                                if (null == t) return null;
                                                if ("string" == typeof t) return t;
                                                if ("number" == typeof t || "boolean" == typeof t) return t.toString();
                                                if (t instanceof Error) return t.message;
                                                try {
                                                    return JSON.stringify(t)
                                                } catch (t) {
                                                    return null
                                                }
                                            })).filter((function(t) {
                                                return t
                                            })).join(" ");
                                            n >= (null != i ? i : e.logLevel) && t({
                                                level: N[n].toLowerCase(),
                                                message: s,
                                                args: r,
                                                type: e.name
                                            })
                                        }
                                    }, i = 0, r = P; i < r.length; i++) n(r[i])
                            }(t, e)
                        },
                        apps: null,
                        SDK_VERSION: "7.16.0",
                        INTERNAL: {
                            registerComponent: a,
                            removeApp: function(t) {
                                delete e[t]
                            },
                            components: i,
                            useAsService: function(t, e) {
                                return "serverAuth" !== e ? e : null
                            }
                        }
                    };

                function s(t) {
                    if (!v(e, t = t || z)) throw V.create("no-app", {
                        appName: t
                    });
                    return e[t]
                }

                function a(a) {
                    var u, l, h = a.name;
                    if (i.has(h)) return K.debug("There were multiple attempts to register component " + h + "."), "PUBLIC" === a.type ? o[h] : null;
                    if (i.set(h, a), "PUBLIC" === a.type) {
                        var c = function(t) {
                            if (void 0 === t && (t = s()), "function" != typeof t[h]) throw V.create("invalid-app-argument", {
                                appName: h
                            });
                            return t[h]()
                        };
                        void 0 !== a.serviceProps && r(c, a.serviceProps), o[h] = c, t.prototype[h] = function() {
                            for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                            return this._getService.bind(this, h).apply(this, a.multipleInstances ? t : [])
                        }
                    }
                    try {
                        for (var d = n(Object.keys(e)), p = d.next(); !p.done; p = d.next()) {
                            var f = p.value;
                            e[f]._addComponent(a)
                        }
                    } catch (l) {
                        u = {
                            error: l
                        }
                    } finally {
                        try {
                            p && !p.done && (l = d.return) && l.call(d)
                        } finally {
                            if (u) throw u.error
                        }
                    }
                    return "PUBLIC" === a.type ? o[h] : null
                }
                return o.default = o, Object.defineProperty(o, "apps", {
                    get: function() {
                        return Object.keys(e).map((function(t) {
                            return e[t]
                        }))
                    }
                }), s.App = t, o
            }(G);
            return i.INTERNAL = e(e({}, i.INTERNAL), {
                createFirebaseNamespace: t,
                extendNamespace: function(t) {
                    r(i, t)
                },
                createSubscribe: m,
                ErrorFactory: p,
                deepExtend: r
            }), i
        }(),
        X = (J.prototype.getPlatformInfoString = function() {
            return this.container.getProviders().map((function(t) {
                if ("VERSION" !== (null == (e = t.getComponent()) ? void 0 : e.type)) return null;
                var e, n = t.getImmediate();
                return n.library + "/" + n.version
            })).filter((function(t) {
                return t
            })).join(" ")
        }, J);

    function J(t) {
        this.container = t
    }
    if ("object" == typeof self && self.self === self && void 0 !== self.firebase) {
        K.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");
        var Z = self.firebase.SDK_VERSION;
        Z && 0 <= Z.indexOf("LITE") && K.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")
    }
    var tt = Q.initializeApp;
    Q.initializeApp = function() {
        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
        return function() {
            try {
                return "[object process]" === Object.prototype.toString.call(global.process)
            } catch (t) {
                return
            }
        }() && K.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '), tt.apply(void 0, t)
    };
    var et, nt = Q;
    return (et = nt).INTERNAL.registerComponent(new w("platform-logger", (function(t) {
        return new X(t)
    }), "PRIVATE")), et.registerVersion(B, "0.6.8", undefined), et.registerVersion("fire-js", ""), nt.registerVersion("firebase", "7.16.0", "app"), nt
})),
function(t, e) {
    "object" == typeof exports && "undefined" != typeof module ? e(require("@firebase/app")) : "function" == typeof define && define.amd ? define(["@firebase/app"], e) : e((t = t || self).firebase)
}(this, (function(t) {
    "use strict";
    try {
        (function() {
            t = t && Object.prototype.hasOwnProperty.call(t, "default") ? t.default : t,
                function() {
                    var e, n = "function" == typeof Object.defineProperties ? Object.defineProperty : function(t, e, n) {
                            t != Array.prototype && t != Object.prototype && (t[e] = n.value)
                        },
                        i = function(t) {
                            t = ["object" == typeof window && window, "object" == typeof self && self, "object" == typeof global && global, t];
                            for (var e = 0; e < t.length; ++e) {
                                var n = t[e];
                                if (n && n.Math == Math) return n
                            }
                            return globalThis
                        }(this);

                    function r(t) {
                        var e, n, i = "undefined" != typeof Symbol && Symbol.iterator && t[Symbol.iterator];
                        return i ? i.call(t) : {
                            next: (e = t, n = 0, function() {
                                return n < e.length ? {
                                    done: !1,
                                    value: e[n++]
                                } : {
                                    done: !0
                                }
                            })
                        }
                    }! function(t, e) {
                        if (e) {
                            var r = i;
                            t = t.split(".");
                            for (var o = 0; o < t.length - 1; o++) {
                                var s = t[o];
                                s in r || (r[s] = {}), r = r[s]
                            }(e = e(o = r[t = t[t.length - 1]])) != o && null != e && n(r, t, {
                                configurable: !0,
                                writable: !0,
                                value: e
                            })
                        }
                    }("Promise", (function(t) {
                        function e(t) {
                            this.b = 0, this.c = void 0, this.a = [];
                            var e = this.f();
                            try {
                                t(e.resolve, e.reject)
                            } catch (t) {
                                e.reject(t)
                            }
                        }

                        function n() {
                            this.a = null
                        }

                        function o(t) {
                            return t instanceof e ? t : new e((function(e) {
                                e(t)
                            }))
                        }
                        if (t) return t;
                        n.prototype.b = function(t) {
                            if (null == this.a) {
                                this.a = [];
                                var e = this;
                                this.c((function() {
                                    e.g()
                                }))
                            }
                            this.a.push(t)
                        };
                        var s = i.setTimeout;
                        n.prototype.c = function(t) {
                            s(t, 0)
                        }, n.prototype.g = function() {
                            for (; this.a && this.a.length;) {
                                var t = this.a;
                                this.a = [];
                                for (var e = 0; e < t.length; ++e) {
                                    var n = t[e];
                                    t[e] = null;
                                    try {
                                        n()
                                    } catch (t) {
                                        this.f(t)
                                    }
                                }
                            }
                            this.a = null
                        }, n.prototype.f = function(t) {
                            this.c((function() {
                                throw t
                            }))
                        }, e.prototype.f = function() {
                            function t(t) {
                                return function(i) {
                                    n || (n = !0, t.call(e, i))
                                }
                            }
                            var e = this,
                                n = !1;
                            return {
                                resolve: t(this.m),
                                reject: t(this.g)
                            }
                        }, e.prototype.m = function(t) {
                            if (t === this) this.g(new TypeError("A Promise cannot resolve to itself"));
                            else if (t instanceof e) this.s(t);
                            else {
                                t: switch (typeof t) {
                                    case "object":
                                        var n = null != t;
                                        break t;
                                    case "function":
                                        n = !0;
                                        break t;
                                    default:
                                        n = !1
                                }
                                n ? this.u(t) : this.h(t)
                            }
                        }, e.prototype.u = function(t) {
                            var e = void 0;
                            try {
                                e = t.then
                            } catch (t) {
                                return void this.g(t)
                            }
                            "function" == typeof e ? this.w(e, t) : this.h(t)
                        }, e.prototype.g = function(t) {
                            this.i(2, t)
                        }, e.prototype.h = function(t) {
                            this.i(1, t)
                        }, e.prototype.i = function(t, e) {
                            if (0 != this.b) throw Error("Cannot settle(" + t + ", " + e + "): Promise already settled in state" + this.b);
                            this.b = t, this.c = e, this.l()
                        }, e.prototype.l = function() {
                            if (null != this.a) {
                                for (var t = 0; t < this.a.length; ++t) a.b(this.a[t]);
                                this.a = null
                            }
                        };
                        var a = new n;
                        return e.prototype.s = function(t) {
                            var e = this.f();
                            t.Oa(e.resolve, e.reject)
                        }, e.prototype.w = function(t, e) {
                            var n = this.f();
                            try {
                                t.call(e, n.resolve, n.reject)
                            } catch (t) {
                                n.reject(t)
                            }
                        }, e.prototype.then = function(t, n) {
                            function i(t, e) {
                                return "function" == typeof t ? function(e) {
                                    try {
                                        r(t(e))
                                    } catch (e) {
                                        o(e)
                                    }
                                } : e
                            }
                            var r, o, s = new e((function(t, e) {
                                r = t, o = e
                            }));
                            return this.Oa(i(t, r), i(n, o)), s
                        }, e.prototype.catch = function(t) {
                            return this.then(void 0, t)
                        }, e.prototype.Oa = function(t, e) {
                            function n() {
                                switch (i.b) {
                                    case 1:
                                        t(i.c);
                                        break;
                                    case 2:
                                        e(i.c);
                                        break;
                                    default:
                                        throw Error("Unexpected state: " + i.b)
                                }
                            }
                            var i = this;
                            null == this.a ? a.b(n) : this.a.push(n)
                        }, e.resolve = o, e.reject = function(t) {
                            return new e((function(e, n) {
                                n(t)
                            }))
                        }, e.race = function(t) {
                            return new e((function(e, n) {
                                for (var i = r(t), s = i.next(); !s.done; s = i.next()) o(s.value).Oa(e, n)
                            }))
                        }, e.all = function(t) {
                            var n = r(t),
                                i = n.next();
                            return i.done ? o([]) : new e((function(t, e) {
                                function r(e) {
                                    return function(n) {
                                        s[e] = n, 0 == --a && t(s)
                                    }
                                }
                                for (var s = [], a = 0; s.push(void 0), a++, o(i.value).Oa(r(s.length - 1), e), !(i = n.next()).done;);
                            }))
                        }, e
                    }));
                    var o = o || {},
                        s = this || self,
                        a = /^[\w+/_-]+[=]{0,2}$/,
                        u = null;

                    function l() {}

                    function h(t) {
                        var e = typeof t;
                        if ("object" == e) {
                            if (!t) return "null";
                            if (t instanceof Array) return "array";
                            if (t instanceof Object) return e;
                            var n = Object.prototype.toString.call(t);
                            if ("[object Window]" == n) return "object";
                            if ("[object Array]" == n || "number" == typeof t.length && void 0 !== t.splice && void 0 !== t.propertyIsEnumerable && !t.propertyIsEnumerable("splice")) return "array";
                            if ("[object Function]" == n || void 0 !== t.call && void 0 !== t.propertyIsEnumerable && !t.propertyIsEnumerable("call")) return "function"
                        } else if ("function" == e && void 0 === t.call) return "object";
                        return e
                    }

                    function c(t) {
                        var e = h(t);
                        return "array" == e || "object" == e && "number" == typeof t.length
                    }

                    function d(t) {
                        return "function" == h(t)
                    }

                    function p(t) {
                        var e = typeof t;
                        return "object" == e && null != t || "function" == e
                    }
                    var f = "closure_uid_" + (1e9 * Math.random() >>> 0),
                        g = 0;

                    function v(t, e, n) {
                        return t.call.apply(t.bind, arguments)
                    }

                    function m(t, e, n) {
                        if (!t) throw Error();
                        if (2 < arguments.length) {
                            var i = Array.prototype.slice.call(arguments, 2);
                            return function() {
                                var n = Array.prototype.slice.call(arguments);
                                return Array.prototype.unshift.apply(n, i), t.apply(e, n)
                            }
                        }
                        return function() {
                            return t.apply(e, arguments)
                        }
                    }

                    function y(t, e, n) {
                        return (y = Function.prototype.bind && -1 != Function.prototype.bind.toString().indexOf("native code") ? v : m).apply(null, arguments)
                    }

                    function _(t, e) {
                        var n = Array.prototype.slice.call(arguments, 1);
                        return function() {
                            var e = n.slice();
                            return e.push.apply(e, arguments), t.apply(this, e)
                        }
                    }
                    var b = Date.now || function() {
                        return +new Date
                    };

                    function w(t, e) {
                        function n() {}
                        n.prototype = e.prototype, t.Za = e.prototype, t.prototype = new n, t.prototype.constructor = t
                    }

                    function E(t, e, n) {
                        this.code = C + t, this.message = e || k[t] || "", this.a = n || null
                    }

                    function I(t) {
                        var e = t && t.code;
                        return e ? new E(e.substring(C.length), t.message, t.serverResponse) : null
                    }
                    w(E, Error), E.prototype.v = function() {
                        var t = {
                            code: this.code,
                            message: this.message
                        };
                        return this.a && (t.serverResponse = this.a), t
                    }, E.prototype.toJSON = function() {
                        return this.v()
                    };
                    var T, C = "auth/",
                        k = {
                            "admin-restricted-operation": "This operation is restricted to administrators only.",
                            "argument-error": "",
                            "app-not-authorized": "This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.",
                            "app-not-installed": "The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.",
                            "captcha-check-failed": "The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.",
                            "code-expired": "The SMS code has expired. Please re-send the verification code to try again.",
                            "cordova-not-ready": "Cordova framework is not ready.",
                            "cors-unsupported": "This browser is not supported.",
                            "credential-already-in-use": "This credential is already associated with a different user account.",
                            "custom-token-mismatch": "The custom token corresponds to a different audience.",
                            "requires-recent-login": "This operation is sensitive and requires recent authentication. Log in again before retrying this request.",
                            "dynamic-link-not-activated": "Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.",
                            "email-change-needs-verification": "Multi-factor users must always have a verified email.",
                            "email-already-in-use": "The email address is already in use by another account.",
                            "expired-action-code": "The action code has expired. ",
                            "cancelled-popup-request": "This operation has been cancelled due to another conflicting popup being opened.",
                            "internal-error": "An internal error has occurred.",
                            "invalid-app-credential": "The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.",
                            "invalid-app-id": "The mobile app identifier is not registed for the current project.",
                            "invalid-user-token": "This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.",
                            "invalid-auth-event": "An internal error has occurred.",
                            "invalid-verification-code": "The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.",
                            "invalid-continue-uri": "The continue URL provided in the request is invalid.",
                            "invalid-cordova-configuration": "The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.",
                            "invalid-custom-token": "The custom token format is incorrect. Please check the documentation.",
                            "invalid-dynamic-link-domain": "The provided dynamic link domain is not configured or authorized for the current project.",
                            "invalid-email": "The email address is badly formatted.",
                            "invalid-api-key": "Your API key is invalid, please check you have copied it correctly.",
                            "invalid-cert-hash": "The SHA-1 certificate hash provided is invalid.",
                            "invalid-credential": "The supplied auth credential is malformed or has expired.",
                            "invalid-message-payload": "The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.",
                            "invalid-multi-factor-session": "The request does not contain a valid proof of first factor successful sign-in.",
                            "invalid-oauth-provider": "EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.",
                            "invalid-oauth-client-id": "The OAuth client ID provided is either invalid or does not match the specified API key.",
                            "unauthorized-domain": "This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.",
                            "invalid-action-code": "The action code is invalid. This can happen if the code is malformed, expired, or has already been used.",
                            "wrong-password": "The password is invalid or the user does not have a password.",
                            "invalid-persistence-type": "The specified persistence type is invalid. It can only be local, session or none.",
                            "invalid-phone-number": "The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].",
                            "invalid-provider-id": "The specified provider ID is invalid.",
                            "invalid-recipient-email": "The email corresponding to this action failed to send as the provided recipient email address is invalid.",
                            "invalid-sender": "The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.",
                            "invalid-verification-id": "The verification ID used to create the phone auth credential is invalid.",
                            "invalid-tenant-id": "The Auth instance's tenant ID is invalid.",
                            "multi-factor-info-not-found": "The user does not have a second factor matching the identifier provided.",
                            "multi-factor-auth-required": "Proof of ownership of a second factor is required to complete sign-in.",
                            "missing-android-pkg-name": "An Android Package Name must be provided if the Android App is required to be installed.",
                            "auth-domain-config-required": "Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.",
                            "missing-app-credential": "The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.",
                            "missing-verification-code": "The phone auth credential was created with an empty SMS verification code.",
                            "missing-continue-uri": "A continue URL must be provided in the request.",
                            "missing-iframe-start": "An internal error has occurred.",
                            "missing-ios-bundle-id": "An iOS Bundle ID must be provided if an App Store ID is provided.",
                            "missing-multi-factor-info": "No second factor identifier is provided.",
                            "missing-multi-factor-session": "The request is missing proof of first factor successful sign-in.",
                            "missing-or-invalid-nonce": "The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.",
                            "missing-phone-number": "To send verification codes, provide a phone number for the recipient.",
                            "missing-verification-id": "The phone auth credential was created with an empty verification ID.",
                            "app-deleted": "This instance of FirebaseApp has been deleted.",
                            "account-exists-with-different-credential": "An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.",
                            "network-request-failed": "A network error (such as timeout, interrupted connection or unreachable host) has occurred.",
                            "no-auth-event": "An internal error has occurred.",
                            "no-such-provider": "User was not linked to an account with the given provider.",
                            "null-user": "A null user object was provided as the argument for an operation which requires a non-null user object.",
                            "operation-not-allowed": "The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.",
                            "operation-not-supported-in-this-environment": 'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',
                            "popup-blocked": "Unable to establish a connection with the popup. It may have been blocked by the browser.",
                            "popup-closed-by-user": "The popup has been closed by the user before finalizing the operation.",
                            "provider-already-linked": "User can only be linked to one identity for the given provider.",
                            "quota-exceeded": "The project's quota for this operation has been exceeded.",
                            "redirect-cancelled-by-user": "The redirect operation has been cancelled by the user before finalizing.",
                            "redirect-operation-pending": "A redirect sign-in operation is already pending.",
                            "rejected-credential": "The request contains malformed or mismatching credentials.",
                            "second-factor-already-in-use": "The second factor is already enrolled on this account.",
                            "maximum-second-factor-count-exceeded": "The maximum allowed number of second factors on a user has been exceeded.",
                            "tenant-id-mismatch": "The provided tenant ID does not match the Auth instance's tenant ID",
                            timeout: "The operation has timed out.",
                            "user-token-expired": "The user's credential is no longer valid. The user must sign in again.",
                            "too-many-requests": "We have blocked all requests from this device due to unusual activity. Try again later.",
                            "unauthorized-continue-uri": "The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.",
                            "unsupported-first-factor": "Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.",
                            "unsupported-persistence-type": "The current environment does not support the specified persistence type.",
                            "unsupported-tenant-operation": "This operation is not supported in a multi-tenant context.",
                            "unverified-email": "The operation requires a verified email.",
                            "user-cancelled": "The user did not grant your application the permissions it requested.",
                            "user-not-found": "There is no user record corresponding to this identifier. The user may have been deleted.",
                            "user-disabled": "The user account has been disabled by an administrator.",
                            "user-mismatch": "The supplied credentials do not correspond to the previously signed in user.",
                            "user-signed-out": "",
                            "weak-password": "The password must be 6 characters long or more.",
                            "web-storage-unsupported": "This browser is not supported or 3rd party cookies and data may be disabled."
                        },
                        S = {
                            hd: {
                                Ra: "https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",
                                Xa: "https://staging-securetoken.sandbox.googleapis.com/v1/token",
                                Ua: "https://staging-identitytoolkit.sandbox.googleapis.com/v2/",
                                id: "b"
                            },
                            pd: {
                                Ra: "https://www.googleapis.com/identitytoolkit/v3/relyingparty/",
                                Xa: "https://securetoken.googleapis.com/v1/token",
                                Ua: "https://identitytoolkit.googleapis.com/v2/",
                                id: "p"
                            },
                            rd: {
                                Ra: "https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",
                                Xa: "https://staging-securetoken.sandbox.googleapis.com/v1/token",
                                Ua: "https://staging-identitytoolkit.sandbox.googleapis.com/v2/",
                                id: "s"
                            },
                            sd: {
                                Ra: "https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",
                                Xa: "https://test-securetoken.sandbox.googleapis.com/v1/token",
                                Ua: "https://test-identitytoolkit.sandbox.googleapis.com/v2/",
                                id: "t"
                            }
                        };

                    function x(t) {
                        for (var e in S)
                            if (S[e].id === t) return {
                                firebaseEndpoint: (t = S[e]).Ra,
                                secureTokenEndpoint: t.Xa,
                                identityPlatformEndpoint: t.Ua
                            };
                        return null
                    }

                    function D(t) {
                        if (t) try {
                            return t.$goog_Thenable
                        } catch (t) {
                            return
                        }
                    }

                    function N(t) {
                        if (Error.captureStackTrace) Error.captureStackTrace(this, N);
                        else {
                            var e = Error().stack;
                            e && (this.stack = e)
                        }
                        t && (this.message = String(t))
                    }

                    function A(t, e) {
                        for (var n = "", i = (t = t.split("%s")).length - 1, r = 0; r < i; r++) n += t[r] + (r < e.length ? e[r] : "%s");
                        N.call(this, n + t[i])
                    }

                    function P(t, e) {
                        throw new A("Failure" + (t ? ": " + t : ""), Array.prototype.slice.call(arguments, 1))
                    }

                    function O(t, e) {
                        this.c = t, this.f = e, this.b = 0, this.a = null
                    }

                    function R(t, e) {
                        t.f(e), t.b < 100 && (t.b++, e.next = t.a, t.a = e)
                    }

                    function L() {
                        this.b = this.a = null
                    }
                    T = x("__EID__") ? "__EID__" : void 0, w(N, Error), N.prototype.name = "CustomError", w(A, N), A.prototype.name = "AssertionError", O.prototype.get = function() {
                        if (0 < this.b) {
                            this.b--;
                            var t = this.a;
                            this.a = t.next, t.next = null
                        } else t = this.c();
                        return t
                    };
                    var M = new O((function() {
                        return new F
                    }), (function(t) {
                        t.reset()
                    }));

                    function F() {
                        this.next = this.b = this.a = null
                    }
                    L.prototype.add = function(t, e) {
                        var n = M.get();
                        n.set(t, e), this.b ? this.b.next = n : this.a = n, this.b = n
                    }, F.prototype.set = function(t, e) {
                        this.a = t, this.b = e, this.next = null
                    }, F.prototype.reset = function() {
                        this.next = this.b = this.a = null
                    };
                    var U = Array.prototype.indexOf ? function(t, e) {
                            return Array.prototype.indexOf.call(t, e, void 0)
                        } : function(t, e) {
                            if ("string" == typeof t) return "string" != typeof e || 1 != e.length ? -1 : t.indexOf(e, 0);
                            for (var n = 0; n < t.length; n++)
                                if (n in t && t[n] === e) return n;
                            return -1
                        },
                        j = Array.prototype.forEach ? function(t, e, n) {
                            Array.prototype.forEach.call(t, e, n)
                        } : function(t, e, n) {
                            for (var i = t.length, r = "string" == typeof t ? t.split("") : t, o = 0; o < i; o++) o in r && e.call(n, r[o], o, t)
                        },
                        H = Array.prototype.filter ? function(t, e) {
                            return Array.prototype.filter.call(t, e, void 0)
                        } : function(t, e) {
                            for (var n = t.length, i = [], r = 0, o = "string" == typeof t ? t.split("") : t, s = 0; s < n; s++)
                                if (s in o) {
                                    var a = o[s];
                                    e.call(void 0, a, s, t) && (i[r++] = a)
                                } return i
                        },
                        q = Array.prototype.map ? function(t, e) {
                            return Array.prototype.map.call(t, e, void 0)
                        } : function(t, e) {
                            for (var n = t.length, i = Array(n), r = "string" == typeof t ? t.split("") : t, o = 0; o < n; o++) o in r && (i[o] = e.call(void 0, r[o], o, t));
                            return i
                        },
                        W = Array.prototype.some ? function(t, e) {
                            return Array.prototype.some.call(t, e, void 0)
                        } : function(t, e) {
                            for (var n = t.length, i = "string" == typeof t ? t.split("") : t, r = 0; r < n; r++)
                                if (r in i && e.call(void 0, i[r], r, t)) return !0;
                            return !1
                        };

                    function V(t, e) {
                        return 0 <= U(t, e)
                    }

                    function B(t, e) {
                        var n;
                        return (n = 0 <= (e = U(t, e))) && Array.prototype.splice.call(t, e, 1), n
                    }

                    function z(t, e) {
                        ! function(t, e) {
                            for (var n = "string" == typeof t ? t.split("") : t, i = t.length - 1; 0 <= i; --i) i in n && e.call(void 0, n[i], i, t)
                        }(t, (function(n, i) {
                            e.call(void 0, n, i, t) && Array.prototype.splice.call(t, i, 1).length
                        }))
                    }

                    function $(t) {
                        return Array.prototype.concat.apply([], arguments)
                    }

                    function K(t) {
                        var e = t.length;
                        if (0 < e) {
                            for (var n = Array(e), i = 0; i < e; i++) n[i] = t[i];
                            return n
                        }
                        return []
                    }
                    var G, Y = String.prototype.trim ? function(t) {
                            return t.trim()
                        } : function(t) {
                            return /^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]
                        },
                        Q = /&/g,
                        X = /</g,
                        J = />/g,
                        Z = /"/g,
                        tt = /'/g,
                        et = /\x00/g,
                        nt = /[\x00&<>"']/;

                    function it(t, e) {
                        return -1 != t.indexOf(e)
                    }

                    function rt(t, e) {
                        return t < e ? -1 : e < t ? 1 : 0
                    }
                    t: {
                        var ot = s.navigator;
                        if (ot) {
                            var st = ot.userAgent;
                            if (st) {
                                G = st;
                                break t
                            }
                        }
                        G = ""
                    }

                    function at(t) {
                        return it(G, t)
                    }

                    function ut(t, e) {
                        for (var n in t) e.call(void 0, t[n], n, t)
                    }

                    function lt(t) {
                        for (var e in t) return;
                        return 1
                    }

                    function ht(t) {
                        var e, n = {};
                        for (e in t) n[e] = t[e];
                        return n
                    }
                    var ct = "constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");

                    function dt(t, e) {
                        for (var n, i, r = 1; r < arguments.length; r++) {
                            for (n in i = arguments[r]) t[n] = i[n];
                            for (var o = 0; o < ct.length; o++) n = ct[o], Object.prototype.hasOwnProperty.call(i, n) && (t[n] = i[n])
                        }
                    }

                    function pt(t, e) {
                        t: {
                            try {
                                var n = t && t.ownerDocument,
                                    i = n && (n.defaultView || n.parentWindow);
                                if ((i = i || s).Element && i.Location) {
                                    var r = i;
                                    break t
                                }
                            } catch (t) {}
                            r = null
                        }
                        if (r && void 0 !== r[e] && (!t || !(t instanceof r[e]) && (t instanceof r.Location || t instanceof r.Element))) {
                            if (p(t)) try {
                                var o = t.constructor.displayName || t.constructor.name || Object.prototype.toString.call(t)
                            } catch (t) {
                                o = "<object could not be stringified>"
                            } else o = void 0 === t ? "undefined" : null === t ? "null" : typeof t;
                            P("Argument is not a %s (or a non-Element, non-Location mock); got: %s", e, o)
                        }
                    }

                    function ft(t, e) {
                        this.a = t === mt && e || "", this.b = vt
                    }

                    function gt(t) {
                        return t instanceof ft && t.constructor === ft && t.b === vt ? t.a : (P("expected object of type Const, got '" + t + "'"), "type_error:Const")
                    }
                    ft.prototype.ra = !0, ft.prototype.qa = function() {
                        return this.a
                    }, ft.prototype.toString = function() {
                        return "Const{" + this.a + "}"
                    };
                    var vt = {},
                        mt = {},
                        yt = new ft(mt, "");

                    function _t(t, e) {
                        this.a = t === Ct && e || "", this.b = Tt
                    }

                    function bt(t) {
                        return t instanceof _t && t.constructor === _t && t.b === Tt ? t.a : (P("expected object of type TrustedResourceUrl, got '" + t + "' of type " + h(t)), "type_error:TrustedResourceUrl")
                    }

                    function wt(t, e) {
                        var n = gt(t);
                        if (!It.test(n)) throw Error("Invalid TrustedResourceUrl format: " + n);
                        return t = n.replace(Et, (function(t, i) {
                            if (!Object.prototype.hasOwnProperty.call(e, i)) throw Error('Found marker, "' + i + '", in format string, "' + n + '", but no valid label mapping found in args: ' + JSON.stringify(e));
                            return (t = e[i]) instanceof ft ? gt(t) : encodeURIComponent(String(t))
                        })), new _t(Ct, t)
                    }
                    _t.prototype.ra = !0, _t.prototype.qa = function() {
                        return this.a.toString()
                    }, _t.prototype.toString = function() {
                        return "TrustedResourceUrl{" + this.a + "}"
                    };
                    var Et = /%{(\w+)}/g,
                        It = /^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,
                        Tt = {},
                        Ct = {};

                    function kt(t, e) {
                        this.a = t === At && e || "", this.b = Nt
                    }

                    function St(t) {
                        return t instanceof kt && t.constructor === kt && t.b === Nt ? t.a : (P("expected object of type SafeUrl, got '" + t + "' of type " + h(t)), "type_error:SafeUrl")
                    }
                    kt.prototype.ra = !0, kt.prototype.qa = function() {
                        return this.a.toString()
                    }, kt.prototype.toString = function() {
                        return "SafeUrl{" + this.a + "}"
                    };
                    var xt = /^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;

                    function Dt(t) {
                        return t instanceof kt ? t : (t = "object" == typeof t && t.ra ? t.qa() : String(t), xt.test(t) || (t = "about:invalid#zClosurez"), new kt(At, t))
                    }
                    var Nt = {},
                        At = {};

                    function Pt() {
                        this.a = "", this.b = Rt
                    }

                    function Ot(t) {
                        return t instanceof Pt && t.constructor === Pt && t.b === Rt ? t.a : (P("expected object of type SafeHtml, got '" + t + "' of type " + h(t)), "type_error:SafeHtml")
                    }
                    Pt.prototype.ra = !0, Pt.prototype.qa = function() {
                        return this.a.toString()
                    }, Pt.prototype.toString = function() {
                        return "SafeHtml{" + this.a + "}"
                    };
                    var Rt = {};

                    function Lt(t) {
                        var e = new Pt;
                        return e.a = t, e
                    }
                    Lt("<!DOCTYPE html>");
                    var Mt = Lt("");

                    function Ft(t, e) {
                        for (var n = t.split("%s"), i = "", r = Array.prototype.slice.call(arguments, 1); r.length && 1 < n.length;) i += n.shift() + r.shift();
                        return i + n.join("%s")
                    }

                    function Ut(t) {
                        return nt.test(t) && (-1 != t.indexOf("&") && (t = t.replace(Q, "&amp;")), -1 != t.indexOf("<") && (t = t.replace(X, "&lt;")), -1 != t.indexOf(">") && (t = t.replace(J, "&gt;")), -1 != t.indexOf('"') && (t = t.replace(Z, "&quot;")), -1 != t.indexOf("'") && (t = t.replace(tt, "&#39;")), -1 != t.indexOf("\0") && (t = t.replace(et, "&#0;"))), t
                    }

                    function jt(t) {
                        return jt[" "](t), t
                    }
                    Lt("<br>"), jt[" "] = l;
                    var Ht, qt, Wt = at("Opera"),
                        Vt = at("Trident") || at("MSIE"),
                        Bt = at("Edge"),
                        zt = Bt || Vt,
                        $t = at("Gecko") && !(it(G.toLowerCase(), "webkit") && !at("Edge")) && !(at("Trident") || at("MSIE")) && !at("Edge"),
                        Kt = it(G.toLowerCase(), "webkit") && !at("Edge");

                    function Gt() {
                        var t = s.document;
                        return t ? t.documentMode : void 0
                    }
                    t: {
                        var Yt = "",
                            Qt = (qt = G, $t ? /rv:([^\);]+)(\)|;)/.exec(qt) : Bt ? /Edge\/([\d\.]+)/.exec(qt) : Vt ? /\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(qt) : Kt ? /WebKit\/(\S+)/.exec(qt) : Wt ? /(?:Version)[ \/]?(\S+)/.exec(qt) : void 0);
                        if (Qt && (Yt = Qt ? Qt[1] : ""), Vt) {
                            var Xt = Gt();
                            if (null != Xt && Xt > parseFloat(Yt)) {
                                Ht = String(Xt);
                                break t
                            }
                        }
                        Ht = Yt
                    }
                    var Jt, Zt = {};

                    function te(t) {
                        return e = t, n = function() {
                            for (var e = 0, n = Y(String(Ht)).split("."), i = Y(String(t)).split("."), r = Math.max(n.length, i.length), o = 0; 0 == e && o < r; o++) {
                                var s = n[o] || "",
                                    a = i[o] || "";
                                do {
                                    if (s = /(\d*)(\D*)(.*)/.exec(s) || ["", "", "", ""], a = /(\d*)(\D*)(.*)/.exec(a) || ["", "", "", ""], 0 == s[0].length && 0 == a[0].length) break;
                                    e = rt(0 == s[1].length ? 0 : parseInt(s[1], 10), 0 == a[1].length ? 0 : parseInt(a[1], 10)) || rt(0 == s[2].length, 0 == a[2].length) || rt(s[2], a[2]), s = s[3], a = a[3]
                                } while (0 == e)
                            }
                            return 0 <= e
                        }, i = Zt, Object.prototype.hasOwnProperty.call(i, e) ? i[e] : i[e] = n();
                        var e, n, i
                    }
                    Jt = s.document && Vt ? Gt() : void 0;
                    try {
                        new self.OffscreenCanvas(0, 0).getContext("2d")
                    } catch (e) {}
                    var ee = !Vt || 9 <= Number(Jt);

                    function ne(t) {
                        var e = document;
                        return "string" == typeof t ? e.getElementById(t) : t
                    }

                    function ie(t, e) {
                        ut(e, (function(e, n) {
                            e && "object" == typeof e && e.ra && (e = e.qa()), "style" == n ? t.style.cssText = e : "class" == n ? t.className = e : "for" == n ? t.htmlFor = e : se.hasOwnProperty(n) ? t.setAttribute(se[n], e) : 0 == n.lastIndexOf("aria-", 0) || 0 == n.lastIndexOf("data-", 0) ? t.setAttribute(n, e) : t[n] = e
                        }))
                    }
                    var re, oe, se = {
                        cellpadding: "cellPadding",
                        cellspacing: "cellSpacing",
                        colspan: "colSpan",
                        frameborder: "frameBorder",
                        height: "height",
                        maxlength: "maxLength",
                        nonce: "nonce",
                        role: "role",
                        rowspan: "rowSpan",
                        type: "type",
                        usemap: "useMap",
                        valign: "vAlign",
                        width: "width"
                    };

                    function ae(t, e) {
                        return e = String(e), "application/xhtml+xml" === t.contentType && (e = e.toLowerCase()), t.createElement(e)
                    }

                    function ue(t) {
                        if (t && "number" == typeof t.length) {
                            if (p(t)) return "function" == typeof t.item || "string" == typeof t.item;
                            if (d(t)) return "function" == typeof t.item
                        }
                    }

                    function le(t) {
                        s.setTimeout((function() {
                            throw t
                        }), 0)
                    }

                    function he(t, e) {
                        oe || function() {
                            if (s.Promise && s.Promise.resolve) {
                                var t = s.Promise.resolve(void 0);
                                oe = function() {
                                    t.then(pe)
                                }
                            } else oe = function() {
                                var t = pe;
                                !d(s.setImmediate) || s.Window && s.Window.prototype && !at("Edge") && s.Window.prototype.setImmediate == s.setImmediate ? (re = re || function() {
                                    var t = s.MessageChannel;
                                    if (void 0 === t && "undefined" != typeof window && window.postMessage && window.addEventListener && !at("Presto") && (t = function() {
                                            var t, e, n = ae(document, "IFRAME");
                                            n.style.display = "none", t = n, e = new _t(Ct, gt(yt)), pt(t, "HTMLIFrameElement"), t.src = bt(e).toString(), document.documentElement.appendChild(n);
                                            var i = n.contentWindow;
                                            (n = i.document).open(), n.write(Ot(Mt)), n.close();
                                            var r = "callImmediate" + Math.random(),
                                                o = "file:" == i.location.protocol ? "*" : i.location.protocol + "//" + i.location.host;
                                            n = y((function(t) {
                                                "*" != o && t.origin != o || t.data != r || this.port1.onmessage()
                                            }), this), i.addEventListener("message", n, !1), this.port1 = {}, this.port2 = {
                                                postMessage: function() {
                                                    i.postMessage(r, o)
                                                }
                                            }
                                        }), void 0 === t || at("Trident") || at("MSIE")) return function(t) {
                                        s.setTimeout(t, 0)
                                    };
                                    var e = new t,
                                        n = {},
                                        i = n;
                                    return e.port1.onmessage = function() {
                                            if (void 0 !== n.next) {
                                                var t = (n = n.next).Db;
                                                n.Db = null, t()
                                            }
                                        },
                                        function(t) {
                                            i.next = {
                                                Db: t
                                            }, i = i.next, e.port2.postMessage(0)
                                        }
                                }())(t) : s.setImmediate(t)
                            }
                        }(), ce || (oe(), ce = !0), de.add(t, e)
                    }
                    var ce = !1,
                        de = new L;

                    function pe() {
                        for (var t; n = e = void 0, n = null, (e = de).a && (n = e.a, e.a = e.a.next, e.a || (e.b = null), n.next = null), t = n;) {
                            try {
                                t.a.call(t.b)
                            } catch (t) {
                                le(t)
                            }
                            R(M, t)
                        }
                        var e, n;
                        ce = !1
                    }

                    function fe(t, e) {
                        if (this.a = ge, this.i = void 0, this.f = this.b = this.c = null, this.g = this.h = !1, t != l) try {
                            var n = this;
                            t.call(e, (function(t) {
                                Se(n, ve, t)
                            }), (function(t) {
                                if (!(t instanceof Re)) try {
                                    if (t instanceof Error) throw t;
                                    throw Error("Promise rejected.")
                                } catch (t) {}
                                Se(n, me, t)
                            }))
                        } catch (t) {
                            Se(this, me, t)
                        }
                    }
                    var ge = 0,
                        ve = 2,
                        me = 3;

                    function ye() {
                        this.next = this.f = this.b = this.g = this.a = null, this.c = !1
                    }
                    ye.prototype.reset = function() {
                        this.f = this.b = this.g = this.a = null, this.c = !1
                    };
                    var _e = new O((function() {
                        return new ye
                    }), (function(t) {
                        t.reset()
                    }));

                    function be(t, e, n) {
                        var i = _e.get();
                        return i.g = t, i.b = e, i.f = n, i
                    }

                    function we(t) {
                        if (t instanceof fe) return t;
                        var e = new fe(l);
                        return Se(e, ve, t), e
                    }

                    function Ee(t) {
                        return new fe((function(e, n) {
                            n(t)
                        }))
                    }

                    function Ie(t, e, n) {
                        xe(t, e, n, null) || he(_(e, t))
                    }

                    function Te(t) {
                        return new fe((function(e) {
                            var n = t.length,
                                i = [];
                            if (n)
                                for (var r = function(t, r, o) {
                                        n--, i[t] = r ? {
                                            Mb: !0,
                                            value: o
                                        } : {
                                            Mb: !1,
                                            reason: o
                                        }, 0 == n && e(i)
                                    }, o = 0; o < t.length; o++) Ie(t[o], _(r, o, !0), _(r, o, !1));
                            else e(i)
                        }))
                    }

                    function Ce(t, e) {
                        t.b || t.a != ve && t.a != me || De(t), t.f ? t.f.next = e : t.b = e, t.f = e
                    }

                    function ke(t, e, n, i) {
                        var r = be(null, null, null);
                        return r.a = new fe((function(t, o) {
                            r.g = e ? function(n) {
                                try {
                                    var r = e.call(i, n);
                                    t(r)
                                } catch (n) {
                                    o(n)
                                }
                            } : t, r.b = n ? function(e) {
                                try {
                                    var r = n.call(i, e);
                                    void 0 === r && e instanceof Re ? o(e) : t(r)
                                } catch (e) {
                                    o(e)
                                }
                            } : o
                        })), Ce(r.a.c = t, r), r.a
                    }

                    function Se(t, e, n) {
                        var i, r;
                        t.a == ge && (t === n && (e = me, n = new TypeError("Promise cannot resolve to itself")), t.a = 1, xe(n, t.Yc, t.Zc, t) || (t.i = n, t.a = e, t.c = null, De(t), e != me || n instanceof Re || (r = n, (i = t).g = !0, he((function() {
                            i.g && Oe.call(null, r)
                        })))))
                    }

                    function xe(t, e, n, i) {
                        if (t instanceof fe) return Ce(t, be(e || l, n || null, i)), 1;
                        if (D(t)) return t.then(e, n, i), 1;
                        if (p(t)) try {
                            var r = t.then;
                            if (d(r)) return function(t, e, n, i, r) {
                                function o(t) {
                                    s || (s = !0, i.call(r, t))
                                }
                                var s = !1;
                                try {
                                    e.call(t, (function(t) {
                                        s || (s = !0, n.call(r, t))
                                    }), o)
                                } catch (t) {
                                    o(t)
                                }
                            }(t, r, e, n, i), 1
                        } catch (t) {
                            return n.call(i, t), 1
                        }
                    }

                    function De(t) {
                        t.h || (t.h = !0, he(t.ec, t))
                    }

                    function Ne(t) {
                        var e = null;
                        return t.b && (e = t.b, t.b = e.next, e.next = null), t.b || (t.f = null), e
                    }

                    function Ae(t, e, n, i) {
                        if (n == me && e.b && !e.c)
                            for (; t && t.g; t = t.c) t.g = !1;
                        if (e.a) e.a.c = null, Pe(e, n, i);
                        else try {
                            e.c ? e.g.call(e.f) : Pe(e, n, i)
                        } catch (t) {
                            Oe.call(null, t)
                        }
                        R(_e, e)
                    }

                    function Pe(t, e, n) {
                        e == ve ? t.g.call(t.f, n) : t.b && t.b.call(t.f, n)
                    }
                    fe.prototype.then = function(t, e, n) {
                        return ke(this, d(t) ? t : null, d(e) ? e : null, n)
                    }, fe.prototype.$goog_Thenable = !0, (e = fe.prototype).ma = function(t, e) {
                        return (t = be(t, t, e)).c = !0, Ce(this, t), this
                    }, e.o = function(t, e) {
                        return ke(this, null, t, e)
                    }, e.cancel = function(t) {
                        if (this.a == ge) {
                            var e = new Re(t);
                            he((function() {
                                ! function t(e, n) {
                                    if (e.a == ge)
                                        if (e.c) {
                                            var i = e.c;
                                            if (i.b) {
                                                for (var r = 0, o = null, s = null, a = i.b; a && (a.c || (r++, a.a == e && (o = a), !(o && 1 < r))); a = a.next) o || (s = a);
                                                o && (i.a == ge && 1 == r ? t(i, n) : (s ? ((r = s).next == i.f && (i.f = r), r.next = r.next.next) : Ne(i), Ae(i, o, me, n)))
                                            }
                                            e.c = null
                                        } else Se(e, me, n)
                                }(this, e)
                            }), this)
                        }
                    }, e.Yc = function(t) {
                        this.a = ge, Se(this, ve, t)
                    }, e.Zc = function(t) {
                        this.a = ge, Se(this, me, t)
                    }, e.ec = function() {
                        for (var t; t = Ne(this);) Ae(this, t, this.a, this.i);
                        this.h = !1
                    };
                    var Oe = le;

                    function Re(t) {
                        N.call(this, t)
                    }

                    function Le() {
                        this.wa = this.wa, this.na = this.na
                    }
                    w(Re, N);

                    function Me(t) {
                        var e;
                        !t.wa && (t.wa = !0, t.Ba(), 0) && (e = t, Object.prototype.hasOwnProperty.call(e, f) && e[f] || (e[f] = ++g))
                    }
                    Le.prototype.wa = !(Re.prototype.name = "cancel"), Le.prototype.Ba = function() {
                        if (this.na)
                            for (; this.na.length;) this.na.shift()()
                    };
                    var Fe = Object.freeze || function(t) {
                            return t
                        },
                        Ue = !Vt || 9 <= Number(Jt),
                        je = Vt && !te("9"),
                        He = function() {
                            if (!s.addEventListener || !Object.defineProperty) return !1;
                            var t = !1,
                                e = Object.defineProperty({}, "passive", {
                                    get: function() {
                                        t = !0
                                    }
                                });
                            try {
                                s.addEventListener("test", l, e), s.removeEventListener("test", l, e)
                            } catch (t) {}
                            return t
                        }();

                    function qe(t, e) {
                        this.type = t, this.b = this.target = e, this.defaultPrevented = !1
                    }

                    function We(t, e) {
                        if (qe.call(this, t ? t.type : ""), this.relatedTarget = this.b = this.target = null, this.button = this.screenY = this.screenX = this.clientY = this.clientX = 0, this.key = "", this.metaKey = this.shiftKey = this.altKey = this.ctrlKey = !1, this.pointerId = 0, this.pointerType = "", this.a = null, t) {
                            var n = this.type = t.type,
                                i = t.changedTouches && t.changedTouches.length ? t.changedTouches[0] : null;
                            if (this.target = t.target || t.srcElement, this.b = e, e = t.relatedTarget) {
                                if ($t) {
                                    t: {
                                        try {
                                            jt(e.nodeName);
                                            var r = !0;
                                            break t
                                        } catch (t) {}
                                        r = !1
                                    }
                                    r || (e = null)
                                }
                            } else "mouseover" == n ? e = t.fromElement : "mouseout" == n && (e = t.toElement);
                            this.relatedTarget = e, i ? (this.clientX = void 0 !== i.clientX ? i.clientX : i.pageX, this.clientY = void 0 !== i.clientY ? i.clientY : i.pageY, this.screenX = i.screenX || 0, this.screenY = i.screenY || 0) : (this.clientX = void 0 !== t.clientX ? t.clientX : t.pageX, this.clientY = void 0 !== t.clientY ? t.clientY : t.pageY, this.screenX = t.screenX || 0, this.screenY = t.screenY || 0), this.button = t.button, this.key = t.key || "", this.ctrlKey = t.ctrlKey, this.altKey = t.altKey, this.shiftKey = t.shiftKey, this.metaKey = t.metaKey, this.pointerId = t.pointerId || 0, this.pointerType = "string" == typeof t.pointerType ? t.pointerType : Ve[t.pointerType] || "", (this.a = t).defaultPrevented && this.preventDefault()
                        }
                    }
                    qe.prototype.preventDefault = function() {
                        this.defaultPrevented = !0
                    }, w(We, qe);
                    var Ve = Fe({
                        2: "touch",
                        3: "pen",
                        4: "mouse"
                    });
                    We.prototype.preventDefault = function() {
                        We.Za.preventDefault.call(this);
                        var t = this.a;
                        if (t.preventDefault) t.preventDefault();
                        else if (t.returnValue = !1, je) try {
                            (t.ctrlKey || 112 <= t.keyCode && t.keyCode <= 123) && (t.keyCode = -1)
                        } catch (t) {}
                    }, We.prototype.f = function() {
                        return this.a
                    };
                    var Be = "closure_listenable_" + (1e6 * Math.random() | 0),
                        ze = 0;

                    function $e(t, e, n, i, r) {
                        this.listener = t, this.proxy = null, this.src = e, this.type = n, this.capture = !!i, this.Ta = r, this.key = ++ze, this.ua = this.Na = !1
                    }

                    function Ke(t) {
                        t.ua = !0, t.listener = null, t.proxy = null, t.src = null, t.Ta = null
                    }

                    function Ge(t) {
                        this.src = t, this.a = {}, this.b = 0
                    }

                    function Ye(t, e) {
                        var n = e.type;
                        n in t.a && B(t.a[n], e) && (Ke(e), 0 == t.a[n].length && (delete t.a[n], t.b--))
                    }

                    function Qe(t, e, n, i) {
                        for (var r = 0; r < t.length; ++r) {
                            var o = t[r];
                            if (!o.ua && o.listener == e && o.capture == !!n && o.Ta == i) return r
                        }
                        return -1
                    }
                    Ge.prototype.add = function(t, e, n, i, r) {
                        var o = t.toString();
                        (t = this.a[o]) || (t = this.a[o] = [], this.b++);
                        var s = Qe(t, e, i, r);
                        return -1 < s ? (e = t[s], n || (e.Na = !1)) : ((e = new $e(e, this.src, o, !!i, r)).Na = n, t.push(e)), e
                    };
                    var Xe = "closure_lm_" + (1e6 * Math.random() | 0),
                        Je = {};

                    function Ze(t, e, n, i, r) {
                        if (i && i.once) en(t, e, n, i, r);
                        else if (Array.isArray(e))
                            for (var o = 0; o < e.length; o++) Ze(t, e[o], n, i, r);
                        else n = cn(n), t && t[Be] ? pn(t, e, n, p(i) ? !!i.capture : !!i, r) : tn(t, e, n, !1, i, r)
                    }

                    function tn(t, e, n, i, r, o) {
                        if (!e) throw Error("Invalid event type");
                        var s, a, u = p(r) ? !!r.capture : !!r,
                            l = ln(t);
                        if (l || (t[Xe] = l = new Ge(t)), !(n = l.add(e, n, i, u, o)).proxy)
                            if (s = un, i = a = Ue ? function(t) {
                                    return s.call(a.src, a.listener, t)
                                } : function(t) {
                                    if (!(t = s.call(a.src, a.listener, t))) return t
                                }, (n.proxy = i).src = t, i.listener = n, t.addEventListener) He || (r = u), void 0 === r && (r = !1), t.addEventListener(e.toString(), i, r);
                            else if (t.attachEvent) t.attachEvent(on(e.toString()), i);
                        else {
                            if (!t.addListener || !t.removeListener) throw Error("addEventListener and attachEvent are unavailable.");
                            t.addListener(i)
                        }
                    }

                    function en(t, e, n, i, r) {
                        if (Array.isArray(e))
                            for (var o = 0; o < e.length; o++) en(t, e[o], n, i, r);
                        else n = cn(n), t && t[Be] ? fn(t, e, n, p(i) ? !!i.capture : !!i, r) : tn(t, e, n, !0, i, r)
                    }

                    function nn(t, e, n, i, r) {
                        if (Array.isArray(e))
                            for (var o = 0; o < e.length; o++) nn(t, e[o], n, i, r);
                        else i = p(i) ? !!i.capture : !!i, n = cn(n), t && t[Be] ? (t = t.u, (e = String(e).toString()) in t.a && -1 < (n = Qe(o = t.a[e], n, i, r)) && (Ke(o[n]), Array.prototype.splice.call(o, n, 1), 0 == o.length && (delete t.a[e], t.b--))) : (t = t && ln(t)) && (e = t.a[e.toString()], t = -1, e && (t = Qe(e, n, i, r)), (n = -1 < t ? e[t] : null) && rn(n))
                    }

                    function rn(t) {
                        if ("number" != typeof t && t && !t.ua) {
                            var e = t.src;
                            if (e && e[Be]) Ye(e.u, t);
                            else {
                                var n = t.type,
                                    i = t.proxy;
                                e.removeEventListener ? e.removeEventListener(n, i, t.capture) : e.detachEvent ? e.detachEvent(on(n), i) : e.addListener && e.removeListener && e.removeListener(i), (n = ln(e)) ? (Ye(n, t), 0 == n.b && (n.src = null, e[Xe] = null)) : Ke(t)
                            }
                        }
                    }

                    function on(t) {
                        return t in Je ? Je[t] : Je[t] = "on" + t
                    }

                    function sn(t, e, n, i) {
                        var r = !0;
                        if ((t = ln(t)) && (e = t.a[e.toString()]))
                            for (e = e.concat(), t = 0; t < e.length; t++) {
                                var o = e[t];
                                o && o.capture == n && !o.ua && (o = an(o, i), r = r && !1 !== o)
                            }
                        return r
                    }

                    function an(t, e) {
                        var n = t.listener,
                            i = t.Ta || t.src;
                        return t.Na && rn(t), n.call(i, e)
                    }

                    function un(t, e) {
                        if (t.ua) return !0;
                        if (Ue) return an(t, new We(e, this));
                        if (!e) t: {
                            e = ["window", "event"];
                            for (var n = s, i = 0; i < e.length; i++)
                                if (null == (n = n[e[i]])) {
                                    e = null;
                                    break t
                                } e = n
                        }
                        if (e = new We(i = e, this), n = !0, !(i.keyCode < 0 || null != i.returnValue)) {
                            t: {
                                var r = !1;
                                if (0 == i.keyCode) try {
                                    i.keyCode = -1;
                                    break t
                                } catch (t) {
                                    r = !0
                                }!r && null != i.returnValue || (i.returnValue = !0)
                            }
                            for (i = [], r = e.b; r; r = r.parentNode) i.push(r);
                            for (t = t.type, r = i.length - 1; 0 <= r; r--) {
                                e.b = i[r];
                                var o = sn(i[r], t, !0, e);
                                n = n && o
                            }
                            for (r = 0; r < i.length; r++) e.b = i[r],
                            o = sn(i[r], t, !1, e),
                            n = n && o
                        }
                        return n
                    }

                    function ln(t) {
                        return (t = t[Xe]) instanceof Ge ? t : null
                    }
                    var hn = "__closure_events_fn_" + (1e9 * Math.random() >>> 0);

                    function cn(t) {
                        return d(t) ? t : (t[hn] || (t[hn] = function(e) {
                            return t.handleEvent(e)
                        }), t[hn])
                    }

                    function dn() {
                        Le.call(this), this.u = new Ge(this), (this.Yb = this).eb = null
                    }

                    function pn(t, e, n, i, r) {
                        t.u.add(String(e), n, !1, i, r)
                    }

                    function fn(t, e, n, i, r) {
                        t.u.add(String(e), n, !0, i, r)
                    }

                    function gn(t, e, n, i) {
                        if (!(e = t.u.a[String(e)])) return !0;
                        e = e.concat();
                        for (var r = !0, o = 0; o < e.length; ++o) {
                            var s = e[o];
                            if (s && !s.ua && s.capture == n) {
                                var a = s.listener,
                                    u = s.Ta || s.src;
                                s.Na && Ye(t.u, s), r = !1 !== a.call(u, i) && r
                            }
                        }
                        return r && !i.defaultPrevented
                    }

                    function vn(t, e, n) {
                        if (d(t)) n && (t = y(t, n));
                        else {
                            if (!t || "function" != typeof t.handleEvent) throw Error("Invalid listener argument");
                            t = y(t.handleEvent, t)
                        }
                        return 2147483647 < Number(e) ? -1 : s.setTimeout(t, e || 0)
                    }

                    function mn(t) {
                        var e = null;
                        return new fe((function(n, i) {
                            -1 == (e = vn((function() {
                                n(void 0)
                            }), t)) && i(Error("Failed to schedule timer."))
                        })).o((function(t) {
                            throw s.clearTimeout(e), t
                        }))
                    }

                    function yn(t) {
                        if (t.V && "function" == typeof t.V) return t.V();
                        if ("string" == typeof t) return t.split("");
                        if (c(t)) {
                            for (var e = [], n = t.length, i = 0; i < n; i++) e.push(t[i]);
                            return e
                        }
                        for (i in e = [], n = 0, t) e[n++] = t[i];
                        return e
                    }

                    function _n(t) {
                        if (t.X && "function" == typeof t.X) return t.X();
                        if (!t.V || "function" != typeof t.V) {
                            if (c(t) || "string" == typeof t) {
                                var e = [];
                                t = t.length;
                                for (var n = 0; n < t; n++) e.push(n);
                                return e
                            }
                            for (var i in e = [], n = 0, t) e[n++] = i;
                            return e
                        }
                    }

                    function bn(t, e) {
                        this.b = {}, this.a = [], this.c = 0;
                        var n = arguments.length;
                        if (1 < n) {
                            if (n % 2) throw Error("Uneven number of arguments");
                            for (var i = 0; i < n; i += 2) this.set(arguments[i], arguments[i + 1])
                        } else if (t)
                            if (t instanceof bn)
                                for (n = t.X(), i = 0; i < n.length; i++) this.set(n[i], t.get(n[i]));
                            else
                                for (i in t) this.set(i, t[i])
                    }

                    function wn(t) {
                        if (t.c != t.a.length) {
                            for (var e = 0, n = 0; e < t.a.length;) {
                                var i = t.a[e];
                                En(t.b, i) && (t.a[n++] = i), e++
                            }
                            t.a.length = n
                        }
                        if (t.c != t.a.length) {
                            var r = {};
                            for (n = e = 0; e < t.a.length;) En(r, i = t.a[e]) || (r[t.a[n++] = i] = 1), e++;
                            t.a.length = n
                        }
                    }

                    function En(t, e) {
                        return Object.prototype.hasOwnProperty.call(t, e)
                    }
                    w(dn, Le), dn.prototype[Be] = !0, dn.prototype.addEventListener = function(t, e, n, i) {
                        Ze(this, t, e, n, i)
                    }, dn.prototype.removeEventListener = function(t, e, n, i) {
                        nn(this, t, e, n, i)
                    }, dn.prototype.dispatchEvent = function(t) {
                        var e, n = this.eb;
                        if (n)
                            for (e = []; n; n = n.eb) e.push(n);
                        n = this.Yb;
                        var i = t.type || t;
                        if ("string" == typeof t) t = new qe(t, n);
                        else if (t instanceof qe) t.target = t.target || n;
                        else {
                            var r = t;
                            dt(t = new qe(i, n), r)
                        }
                        if (r = !0, e)
                            for (var o = e.length - 1; 0 <= o; o--) {
                                var s = t.b = e[o];
                                r = gn(s, i, !0, t) && r
                            }
                        if (r = gn(s = t.b = n, i, !0, t) && r, r = gn(s, i, !1, t) && r, e)
                            for (o = 0; o < e.length; o++) r = gn(s = t.b = e[o], i, !1, t) && r;
                        return r
                    }, dn.prototype.Ba = function() {
                        if (dn.Za.Ba.call(this), this.u) {
                            var t, e = this.u;
                            for (t in e.a) {
                                for (var n = e.a[t], i = 0; i < n.length; i++) Ke(n[i]);
                                delete e.a[t], e.b--
                            }
                        }
                        this.eb = null
                    }, (e = bn.prototype).V = function() {
                        wn(this);
                        for (var t = [], e = 0; e < this.a.length; e++) t.push(this.b[this.a[e]]);
                        return t
                    }, e.X = function() {
                        return wn(this), this.a.concat()
                    }, e.clear = function() {
                        this.b = {}, this.c = this.a.length = 0
                    }, e.get = function(t, e) {
                        return En(this.b, t) ? this.b[t] : e
                    }, e.set = function(t, e) {
                        En(this.b, t) || (this.c++, this.a.push(t)), this.b[t] = e
                    }, e.forEach = function(t, e) {
                        for (var n = this.X(), i = 0; i < n.length; i++) {
                            var r = n[i],
                                o = this.get(r);
                            t.call(e, o, r, this)
                        }
                    };
                    var In = /^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;

                    function Tn(t, e) {
                        var n;
                        this.b = this.i = this.f = "", this.l = null, this.g = this.c = "", this.h = !1, t instanceof Tn ? (this.h = void 0 !== e ? e : t.h, Cn(this, t.f), this.i = t.i, this.b = t.b, kn(this, t.l), this.c = t.c, Sn(this, $n(t.a)), this.g = t.g) : t && (n = String(t).match(In)) ? (this.h = !!e, Cn(this, n[1] || "", !0), this.i = Pn(n[2] || ""), this.b = Pn(n[3] || "", !0), kn(this, n[4]), this.c = Pn(n[5] || "", !0), Sn(this, n[6] || "", !0), this.g = Pn(n[7] || "")) : (this.h = !!e, this.a = new Hn(null, this.h))
                    }

                    function Cn(t, e, n) {
                        t.f = n ? Pn(e, !0) : e, t.f && (t.f = t.f.replace(/:$/, ""))
                    }

                    function kn(t, e) {
                        if (e) {
                            if (e = Number(e), isNaN(e) || e < 0) throw Error("Bad port number " + e);
                            t.l = e
                        } else t.l = null
                    }

                    function Sn(t, e, n) {
                        var i, r;
                        e instanceof Hn ? (t.a = e, i = t.a, (r = t.h) && !i.f && (qn(i), i.c = null, i.a.forEach((function(t, e) {
                            var n = e.toLowerCase();
                            e != n && (Vn(this, e), zn(this, n, t))
                        }), i)), i.f = r) : (n || (e = On(e, Un)), t.a = new Hn(e, t.h))
                    }

                    function xn(t, e, n) {
                        t.a.set(e, n)
                    }

                    function Dn(t, e) {
                        return t.a.get(e)
                    }

                    function Nn(t) {
                        return t instanceof Tn ? new Tn(t) : new Tn(t, void 0)
                    }

                    function An(t, e) {
                        var n = new Tn(null, void 0);
                        return Cn(n, "https"), t && (n.b = t), e && (n.c = e), n
                    }

                    function Pn(t, e) {
                        return t ? e ? decodeURI(t.replace(/%25/g, "%2525")) : decodeURIComponent(t) : ""
                    }

                    function On(t, e, n) {
                        return "string" == typeof t ? (t = encodeURI(t).replace(e, Rn), n && (t = t.replace(/%25([0-9a-fA-F]{2})/g, "%$1")), t) : null
                    }

                    function Rn(t) {
                        return "%" + ((t = t.charCodeAt(0)) >> 4 & 15).toString(16) + (15 & t).toString(16)
                    }
                    Tn.prototype.toString = function() {
                        var t = [],
                            e = this.f;
                        e && t.push(On(e, Ln, !0), ":");
                        var n = this.b;
                        return !n && "file" != e || (t.push("//"), (e = this.i) && t.push(On(e, Ln, !0), "@"), t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g, "%$1")), null != (n = this.l) && t.push(":", String(n))), (n = this.c) && (this.b && "/" != n.charAt(0) && t.push("/"), t.push(On(n, "/" == n.charAt(0) ? Fn : Mn, !0))), (n = this.a.toString()) && t.push("?", n), (n = this.g) && t.push("#", On(n, jn)), t.join("")
                    }, Tn.prototype.resolve = function(t) {
                        var e = new Tn(this),
                            n = !!t.f;
                        n ? Cn(e, t.f) : n = !!t.i, n ? e.i = t.i : n = !!t.b, n ? e.b = t.b : n = null != t.l;
                        var i = t.c;
                        if (n) kn(e, t.l);
                        else if (n = !!t.c) {
                            if ("/" != i.charAt(0))
                                if (this.b && !this.c) i = "/" + i;
                                else {
                                    var r = e.c.lastIndexOf("/"); - 1 != r && (i = e.c.substr(0, r + 1) + i)
                                } if (".." == (r = i) || "." == r) i = "";
                            else if (it(r, "./") || it(r, "/.")) {
                                i = 0 == r.lastIndexOf("/", 0), r = r.split("/");
                                for (var o = [], s = 0; s < r.length;) {
                                    var a = r[s++];
                                    "." == a ? i && s == r.length && o.push("") : ".." == a ? ((1 < o.length || 1 == o.length && "" != o[0]) && o.pop(), i && s == r.length && o.push("")) : (o.push(a), i = !0)
                                }
                                i = o.join("/")
                            } else i = r
                        }
                        return n ? e.c = i : n = "" !== t.a.toString(), n ? Sn(e, $n(t.a)) : n = !!t.g, n && (e.g = t.g), e
                    };
                    var Ln = /[#\/\?@]/g,
                        Mn = /[#\?:]/g,
                        Fn = /[#\?]/g,
                        Un = /[#\?@]/g,
                        jn = /#/g;

                    function Hn(t, e) {
                        this.b = this.a = null, this.c = t || null, this.f = !!e
                    }

                    function qn(t) {
                        t.a || (t.a = new bn, t.b = 0, t.c && function(t, e) {
                            if (t) {
                                t = t.split("&");
                                for (var n = 0; n < t.length; n++) {
                                    var i = t[n].indexOf("="),
                                        r = null;
                                    if (0 <= i) {
                                        var o = t[n].substring(0, i);
                                        r = t[n].substring(i + 1)
                                    } else o = t[n];
                                    e(o, r ? decodeURIComponent(r.replace(/\+/g, " ")) : "")
                                }
                            }
                        }(t.c, (function(e, n) {
                            t.add(decodeURIComponent(e.replace(/\+/g, " ")), n)
                        })))
                    }

                    function Wn(t) {
                        var e = _n(t);
                        if (void 0 === e) throw Error("Keys are undefined");
                        var n = new Hn(null, void 0);
                        t = yn(t);
                        for (var i = 0; i < e.length; i++) {
                            var r = e[i],
                                o = t[i];
                            Array.isArray(o) ? zn(n, r, o) : n.add(r, o)
                        }
                        return n
                    }

                    function Vn(t, e) {
                        qn(t), e = Kn(t, e), En(t.a.b, e) && (t.c = null, t.b -= t.a.get(e).length, En((t = t.a).b, e) && (delete t.b[e], t.c--, t.a.length > 2 * t.c && wn(t)))
                    }

                    function Bn(t, e) {
                        return qn(t), e = Kn(t, e), En(t.a.b, e)
                    }

                    function zn(t, e, n) {
                        Vn(t, e), 0 < n.length && (t.c = null, t.a.set(Kn(t, e), K(n)), t.b += n.length)
                    }

                    function $n(t) {
                        var e = new Hn;
                        return e.c = t.c, t.a && (e.a = new bn(t.a), e.b = t.b), e
                    }

                    function Kn(t, e) {
                        return e = String(e), t.f && (e = e.toLowerCase()), e
                    }

                    function Gn(t) {
                        var e = [];
                        return function t(e, n, i) {
                            if (null == n) i.push("null");
                            else {
                                if ("object" == typeof n) {
                                    if (Array.isArray(n)) {
                                        var r = n;
                                        n = r.length, i.push("[");
                                        for (var o = "", s = 0; s < n; s++) i.push(o), t(e, r[s], i), o = ",";
                                        return void i.push("]")
                                    }
                                    if (!(n instanceof String || n instanceof Number || n instanceof Boolean)) {
                                        for (r in i.push("{"), o = "", n) Object.prototype.hasOwnProperty.call(n, r) && "function" != typeof(s = n[r]) && (i.push(o), Jn(r, i), i.push(":"), t(e, s, i), o = ",");
                                        return void i.push("}")
                                    }
                                    n = n.valueOf()
                                }
                                switch (typeof n) {
                                    case "string":
                                        Jn(n, i);
                                        break;
                                    case "number":
                                        i.push(isFinite(n) && !isNaN(n) ? String(n) : "null");
                                        break;
                                    case "boolean":
                                        i.push(String(n));
                                        break;
                                    case "function":
                                        i.push("null");
                                        break;
                                    default:
                                        throw Error("Unknown type: " + typeof n)
                                }
                            }
                        }(new Yn, t, e), e.join("")
                    }

                    function Yn() {}(e = Hn.prototype).add = function(t, e) {
                        qn(this), this.c = null, t = Kn(this, t);
                        var n = this.a.get(t);
                        return n || this.a.set(t, n = []), n.push(e), this.b += 1, this
                    }, e.clear = function() {
                        this.a = this.c = null, this.b = 0
                    }, e.forEach = function(t, e) {
                        qn(this), this.a.forEach((function(n, i) {
                            j(n, (function(n) {
                                t.call(e, n, i, this)
                            }), this)
                        }), this)
                    }, e.X = function() {
                        qn(this);
                        for (var t = this.a.V(), e = this.a.X(), n = [], i = 0; i < e.length; i++)
                            for (var r = t[i], o = 0; o < r.length; o++) n.push(e[i]);
                        return n
                    }, e.V = function(t) {
                        qn(this);
                        var e = [];
                        if ("string" == typeof t) Bn(this, t) && (e = $(e, this.a.get(Kn(this, t))));
                        else {
                            t = this.a.V();
                            for (var n = 0; n < t.length; n++) e = $(e, t[n])
                        }
                        return e
                    }, e.set = function(t, e) {
                        return qn(this), this.c = null, Bn(this, t = Kn(this, t)) && (this.b -= this.a.get(t).length), this.a.set(t, [e]), this.b += 1, this
                    }, e.get = function(t, e) {
                        return t && 0 < (t = this.V(t)).length ? String(t[0]) : e
                    }, e.toString = function() {
                        if (this.c) return this.c;
                        if (!this.a) return "";
                        for (var t = [], e = this.a.X(), n = 0; n < e.length; n++) {
                            var i = e[n],
                                r = encodeURIComponent(String(i));
                            i = this.V(i);
                            for (var o = 0; o < i.length; o++) {
                                var s = r;
                                "" !== i[o] && (s += "=" + encodeURIComponent(String(i[o]))), t.push(s)
                            }
                        }
                        return this.c = t.join("&")
                    };
                    var Qn = {
                            '"': '\\"',
                            "\\": "\\\\",
                            "/": "\\/",
                            "\b": "\\b",
                            "\f": "\\f",
                            "\n": "\\n",
                            "\r": "\\r",
                            "\t": "\\t",
                            "\v": "\\u000b"
                        },
                        Xn = /\uffff/.test("") ? /[\\"\x00-\x1f\x7f-\uffff]/g : /[\\"\x00-\x1f\x7f-\xff]/g;

                    function Jn(t, e) {
                        e.push('"', t.replace(Xn, (function(t) {
                            var e = Qn[t];
                            return e || (e = "\\u" + (65536 | t.charCodeAt(0)).toString(16).substr(1), Qn[t] = e), e
                        })), '"')
                    }

                    function Zn() {
                        var t = mi();
                        return Vt && Jt && 11 == Jt || /Edge\/\d+/.test(t)
                    }

                    function ti() {
                        return s.window && s.window.location.href || self && self.location && self.location.href || ""
                    }

                    function ei(t, e) {
                        e = e || s.window;
                        var n = "about:blank";
                        t && (n = St(Dt(t))), e.location.href = n
                    }

                    function ni(t) {
                        return !!((t = (t || mi()).toLowerCase()).match(/android/) || t.match(/webos/) || t.match(/iphone|ipad|ipod/) || t.match(/blackberry/) || t.match(/windows phone/) || t.match(/iemobile/))
                    }

                    function ii(t) {
                        t = t || s.window;
                        try {
                            t.close()
                        } catch (t) {}
                    }

                    function ri(t, e, n) {
                        var i = Math.floor(1e9 * Math.random()).toString();
                        e = e || 500, n = n || 600;
                        var r = (window.screen.availHeight - n) / 2,
                            o = (window.screen.availWidth - e) / 2;
                        for (s in e = {
                                width: e,
                                height: n,
                                top: 0 < r ? r : 0,
                                left: 0 < o ? o : 0,
                                location: !0,
                                resizable: !0,
                                statusbar: !0,
                                toolbar: !1
                            }, n = mi().toLowerCase(), i && (e.target = i, it(n, "crios/") && (e.target = "_blank")), fi(mi()) == pi && (t = t || "http://localhost", e.scrollbars = !0), n = t || "", (t = e) || (t = {}), i = window, e = n instanceof kt ? n : Dt(void 0 !== n.href ? n.href : String(n)), n = t.target || n.target, r = [], t) switch (s) {
                            case "width":
                            case "height":
                            case "top":
                            case "left":
                                r.push(s + "=" + t[s]);
                                break;
                            case "target":
                            case "noopener":
                            case "noreferrer":
                                break;
                            default:
                                r.push(s + "=" + (t[s] ? 1 : 0))
                        }
                        var s = r.join(",");
                        if ((at("iPhone") && !at("iPod") && !at("iPad") || at("iPad") || at("iPod")) && i.navigator && i.navigator.standalone && n && "_self" != n ? (pt(s = ae(document, "A"), "HTMLAnchorElement"), e instanceof kt || e instanceof kt || (e = "object" == typeof e && e.ra ? e.qa() : String(e), xt.test(e) || (e = "about:invalid#zClosurez"), e = new kt(At, e)), s.href = St(e), s.setAttribute("target", n), t.noreferrer && s.setAttribute("rel", "noreferrer"), (t = document.createEvent("MouseEvent")).initMouseEvent("click", !0, !0, i, 1), s.dispatchEvent(t), s = {}) : t.noreferrer ? (s = i.open("", n, s), t = St(e), s && (zt && it(t, ";") && (t = "'" + t.replace(/'/g, "%27") + "'"), s.opener = null, t = Lt('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url=' + Ut(t) + '">'), i = s.document) && (i.write(Ot(t)), i.close())) : (s = i.open(St(e), n, s)) && t.noopener && (s.opener = null), s) try {
                            s.focus()
                        } catch (t) {}
                        return s
                    }
                    var oi = /^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,
                        si = /^[^@]+@[^@]+$/;

                    function ai() {
                        var t = null;
                        return new fe((function(e) {
                            "complete" == s.document.readyState ? e() : (t = function() {
                                e()
                            }, en(window, "load", t))
                        })).o((function(e) {
                            throw nn(window, "load", t), e
                        }))
                    }

                    function ui(t) {
                        return t = t || mi(), !("file:" !== Ei() && "ionic:" !== Ei() || !t.toLowerCase().match(/iphone|ipad|ipod|android/))
                    }

                    function li() {
                        var t = s.window;
                        try {
                            return t && t != t.top
                        } catch (t) {
                            return
                        }
                    }

                    function hi() {
                        return void 0 !== s.WorkerGlobalScope && "function" == typeof s.importScripts
                    }

                    function ci() {
                        return t.INTERNAL.hasOwnProperty("reactNative") ? "ReactNative" : t.INTERNAL.hasOwnProperty("node") ? "Node" : hi() ? "Worker" : "Browser"
                    }

                    function di() {
                        var t = ci();
                        return "ReactNative" === t || "Node" === t
                    }
                    var pi = "Firefox";

                    function fi(t) {
                        var e = t.toLowerCase();
                        return it(e, "opera/") || it(e, "opr/") || it(e, "opios/") ? "Opera" : it(e, "iemobile") ? "IEMobile" : it(e, "msie") || it(e, "trident/") ? "IE" : it(e, "edge/") ? "Edge" : it(e, "firefox/") ? pi : it(e, "silk/") ? "Silk" : it(e, "blackberry") ? "Blackberry" : it(e, "webos") ? "Webos" : !it(e, "safari/") || it(e, "chrome/") || it(e, "crios/") || it(e, "android") ? !it(e, "chrome/") && !it(e, "crios/") || it(e, "edge/") ? it(e, "android") ? "Android" : (t = t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/)) && 2 == t.length ? t[1] : "Other" : "Chrome" : "Safari"
                    }
                    var gi = {
                        jd: "FirebaseCore-web",
                        ld: "FirebaseUI-web"
                    };

                    function vi(t, e) {
                        e = e || [];
                        var n, i = [],
                            r = {};
                        for (n in gi) r[gi[n]] = !0;
                        for (n = 0; n < e.length; n++) void 0 !== r[e[n]] && (delete r[e[n]], i.push(e[n]));
                        return i.sort(), (e = i).length || (e = ["FirebaseCore-web"]), "Browser" === (i = ci()) ? i = fi(r = mi()) : "Worker" === i && (i = fi(r = mi()) + "-" + i), i + "/JsCore/" + t + "/" + e.join(",")
                    }

                    function mi() {
                        return s.navigator && s.navigator.userAgent || ""
                    }

                    function yi(t, e) {
                        t = t.split("."), e = e || s;
                        for (var n = 0; n < t.length && "object" == typeof e && null != e; n++) e = e[t[n]];
                        return n != t.length && (e = void 0), e
                    }

                    function _i() {
                        try {
                            var t = s.localStorage,
                                e = Si();
                            if (t) return t.setItem(e, "1"), t.removeItem(e), !Zn() || !!s.indexedDB
                        } catch (t) {
                            return hi() && !!s.indexedDB
                        }
                        return !1
                    }

                    function bi() {
                        return (wi() || "chrome-extension:" === Ei() || ui()) && !di() && _i() && !hi()
                    }

                    function wi() {
                        return "http:" === Ei() || "https:" === Ei()
                    }

                    function Ei() {
                        return s.location && s.location.protocol || null
                    }

                    function Ii(t) {
                        return !ni(t = t || mi()) && fi(t) != pi
                    }

                    function Ti(t) {
                        return void 0 === t ? null : Gn(t)
                    }

                    function Ci(t) {
                        var e, n = {};
                        for (e in t) t.hasOwnProperty(e) && null !== t[e] && void 0 !== t[e] && (n[e] = t[e]);
                        return n
                    }

                    function ki(t) {
                        if (null !== t) return JSON.parse(t)
                    }

                    function Si(t) {
                        return t || Math.floor(1e9 * Math.random()).toString()
                    }

                    function xi(t) {
                        return "Safari" != fi(t = t || mi()) && !t.toLowerCase().match(/iphone|ipad|ipod/)
                    }

                    function Di() {
                        var t = s.___jsl;
                        if (t && t.H)
                            for (var e in t.H)
                                if (t.H[e].r = t.H[e].r || [], t.H[e].L = t.H[e].L || [], t.H[e].r = t.H[e].L.concat(), t.CP)
                                    for (var n = 0; n < t.CP.length; n++) t.CP[n] = null
                    }

                    function Ni(t, e) {
                        if (e < t) throw Error("Short delay should be less than long delay!");
                        this.a = t, this.c = e, t = mi(), e = ci(), this.b = ni(t) || "ReactNative" === e
                    }

                    function Ai() {
                        var t = s.document;
                        return !t || void 0 === t.visibilityState || "visible" == t.visibilityState
                    }

                    function Pi(t) {
                        try {
                            var e = new Date(parseInt(t, 10));
                            if (!isNaN(e.getTime()) && !/[^0-9]/.test(t)) return e.toUTCString()
                        } catch (t) {}
                        return null
                    }

                    function Oi() {
                        return yi("fireauth.oauthhelper", s) || yi("fireauth.iframe", s)
                    }
                    Ni.prototype.get = function() {
                        var t = s.navigator;
                        return !t || "boolean" != typeof t.onLine || !wi() && "chrome-extension:" !== Ei() && void 0 === t.connection || t.onLine ? this.b ? this.c : this.a : Math.min(5e3, this.a)
                    };
                    var Ri, Li = {};

                    function Mi(t) {
                        Li[t] || (Li[t] = !0, "undefined" != typeof console && "function" == typeof console.warn && console.warn(t))
                    }
                    try {
                        var Fi = {};
                        Object.defineProperty(Fi, "abcd", {
                            configurable: !0,
                            enumerable: !0,
                            value: 1
                        }), Object.defineProperty(Fi, "abcd", {
                            configurable: !0,
                            enumerable: !0,
                            value: 2
                        }), Ri = 2 == Fi.abcd
                    } catch (e) {
                        Ri = !1
                    }

                    function Ui(t, e, n) {
                        Ri ? Object.defineProperty(t, e, {
                            configurable: !0,
                            enumerable: !0,
                            value: n
                        }) : t[e] = n
                    }

                    function ji(t, e) {
                        if (e)
                            for (var n in e) e.hasOwnProperty(n) && Ui(t, n, e[n])
                    }

                    function Hi(t) {
                        var e = {};
                        return ji(e, t), e
                    }

                    function qi(t) {
                        var e = t;
                        if ("object" == typeof t && null != t)
                            for (var n in e = "length" in t ? [] : {}, t) Ui(e, n, qi(t[n]));
                        return e
                    }

                    function Wi(t) {
                        var e = t && (t[Ki] ? "phone" : null);
                        if (!(e && t && t[$i])) throw new E("internal-error", "Internal assert: invalid MultiFactorInfo object");
                        Ui(this, "uid", t[$i]), Ui(this, "displayName", t[Bi] || null);
                        var n = null;
                        t[zi] && (n = new Date(t[zi]).toUTCString()), Ui(this, "enrollmentTime", n), Ui(this, "factorId", e)
                    }

                    function Vi(t) {
                        try {
                            var e = new Gi(t)
                        } catch (t) {
                            e = null
                        }
                        return e
                    }
                    Wi.prototype.v = function() {
                        return {
                            uid: this.uid,
                            displayName: this.displayName,
                            factorId: this.factorId,
                            enrollmentTime: this.enrollmentTime
                        }
                    };
                    var Bi = "displayName",
                        zi = "enrolledAt",
                        $i = "mfaEnrollmentId",
                        Ki = "phoneInfo";

                    function Gi(t) {
                        Wi.call(this, t), Ui(this, "phoneNumber", t[Ki])
                    }

                    function Yi(t) {
                        var e = {},
                            n = t[Zi],
                            i = t[er],
                            r = t[nr];
                        if (t = Vi(t[tr]), !r || r != Xi && r != Ji && !n || r == Ji && !i || r == Qi && !t) throw Error("Invalid checkActionCode response!");
                        r == Ji ? (e[rr] = n || null, e[sr] = n || null, e[ir] = i) : (e[rr] = i || null, e[sr] = i || null, e[ir] = n || null), e[or] = t || null, Ui(this, ur, r), Ui(this, ar, qi(e))
                    }
                    w(Gi, Wi), Gi.prototype.v = function() {
                        var t = Gi.Za.v.call(this);
                        return t.phoneNumber = this.phoneNumber, t
                    };
                    var Qi = "REVERT_SECOND_FACTOR_ADDITION",
                        Xi = "EMAIL_SIGNIN",
                        Ji = "VERIFY_AND_CHANGE_EMAIL",
                        Zi = "email",
                        tr = "mfaInfo",
                        er = "newEmail",
                        nr = "requestType",
                        ir = "email",
                        rr = "fromEmail",
                        or = "multiFactorInfo",
                        sr = "previousEmail",
                        ar = "data",
                        ur = "operation";

                    function lr(t) {
                        var e = Dn(t = Nn(t), hr) || null,
                            n = Dn(t, cr) || null,
                            i = Dn(t, fr) || null;
                        if (i = i && vr[i] || null, !e || !n || !i) throw new E("argument-error", hr + ", " + cr + "and " + fr + " are required in a valid action code URL.");
                        ji(this, {
                            apiKey: e,
                            operation: i,
                            code: n,
                            continueUrl: Dn(t, dr) || null,
                            languageCode: Dn(t, pr) || null,
                            tenantId: Dn(t, gr) || null
                        })
                    }
                    var hr = "apiKey",
                        cr = "oobCode",
                        dr = "continueUrl",
                        pr = "languageCode",
                        fr = "mode",
                        gr = "tenantId",
                        vr = {
                            recoverEmail: "RECOVER_EMAIL",
                            resetPassword: "PASSWORD_RESET",
                            revertSecondFactorAddition: Qi,
                            signIn: Xi,
                            verifyAndChangeEmail: Ji,
                            verifyEmail: "VERIFY_EMAIL"
                        };

                    function mr(t) {
                        try {
                            return new lr(t)
                        } catch (t) {
                            return null
                        }
                    }

                    function yr(t) {
                        var e = t[Ir];
                        if (void 0 === e) throw new E("missing-continue-uri");
                        if ("string" != typeof e || "string" == typeof e && !e.length) throw new E("invalid-continue-uri");
                        this.h = e, this.b = this.a = null, this.g = !1;
                        var n = t[_r];
                        if (n && "object" == typeof n) {
                            e = n[kr];
                            var i = n[Tr];
                            if (n = n[Cr], "string" == typeof e && e.length) {
                                if (this.a = e, void 0 !== i && "boolean" != typeof i) throw new E("argument-error", Tr + " property must be a boolean when specified.");
                                if (this.g = !!i, void 0 !== n && ("string" != typeof n || "string" == typeof n && !n.length)) throw new E("argument-error", Cr + " property must be a non empty string when specified.");
                                this.b = n || null
                            } else {
                                if (void 0 !== e) throw new E("argument-error", kr + " property must be a non empty string when specified.");
                                if (void 0 !== i || void 0 !== n) throw new E("missing-android-pkg-name")
                            }
                        } else if (void 0 !== n) throw new E("argument-error", _r + " property must be a non null object when specified.");
                        if (this.f = null, (e = t[Er]) && "object" == typeof e) {
                            if ("string" == typeof(e = e[Sr]) && e.length) this.f = e;
                            else if (void 0 !== e) throw new E("argument-error", Sr + " property must be a non empty string when specified.")
                        } else if (void 0 !== e) throw new E("argument-error", Er + " property must be a non null object when specified.");
                        if (void 0 !== (e = t[wr]) && "boolean" != typeof e) throw new E("argument-error", wr + " property must be a boolean when specified.");
                        if (this.c = !!e, void 0 !== (t = t[br]) && ("string" != typeof t || "string" == typeof t && !t.length)) throw new E("argument-error", br + " property must be a non empty string when specified.");
                        this.i = t || null
                    }
                    var _r = "android",
                        br = "dynamicLinkDomain",
                        wr = "handleCodeInApp",
                        Er = "iOS",
                        Ir = "url",
                        Tr = "installApp",
                        Cr = "minimumVersion",
                        kr = "packageName",
                        Sr = "bundleId";

                    function xr(t) {
                        var e = {};
                        for (var n in e.continueUrl = t.h, e.canHandleCodeInApp = t.c, (e.androidPackageName = t.a) && (e.androidMinimumVersion = t.b, e.androidInstallApp = t.g), e.iOSBundleId = t.f, e.dynamicLinkDomain = t.i, e) null === e[n] && delete e[n];
                        return e
                    }
                    var Dr = null;

                    function Nr(t) {
                        var e = Pr(t);
                        if (!(e && e.sub && e.iss && e.aud && e.exp)) throw Error("Invalid JWT");
                        this.g = t, this.c = e.exp, this.h = e.sub, this.a = e.provider_id || e.firebase && e.firebase.sign_in_provider || null, this.f = e.firebase && e.firebase.tenant || null, this.b = !!e.is_anonymous || "anonymous" == this.a
                    }

                    function Ar(t) {
                        try {
                            return new Nr(t)
                        } catch (t) {
                            return null
                        }
                    }

                    function Pr(t) {
                        if (!t) return null;
                        if (3 != (t = t.split(".")).length) return null;
                        for (var e = (4 - (t = t[1]).length % 4) % 4, n = 0; n < e; n++) t += ".";
                        try {
                            return JSON.parse(function(t) {
                                var e = "";
                                return function(t, e) {
                                    function n(e) {
                                        for (; i < t.length;) {
                                            var n = t.charAt(i++),
                                                r = Dr[n];
                                            if (null != r) return r;
                                            if (!/^[\s\xa0]*$/.test(n)) throw Error("Unknown base64 encoding at char: " + n)
                                        }
                                        return e
                                    }! function() {
                                        if (!Dr) {
                                            Dr = {};
                                            for (var t = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""), e = ["+/=", "+/", "-_=", "-_.", "-_"], n = 0; n < 5; n++)
                                                for (var i = t.concat(e[n].split("")), r = 0; r < i.length; r++) {
                                                    var o = i[r];
                                                    void 0 === Dr[o] && (Dr[o] = r)
                                                }
                                        }
                                    }();
                                    for (var i = 0;;) {
                                        var r = n(-1),
                                            o = n(0),
                                            s = n(64),
                                            a = n(64);
                                        if (64 === a && -1 === r) break;
                                        e(r << 2 | o >> 4), 64 != s && (e(o << 4 & 240 | s >> 2), 64 != a && e(s << 6 & 192 | a))
                                    }
                                }(t, (function(t) {
                                    e += String.fromCharCode(t)
                                })), e
                            }(t))
                        } catch (t) {}
                        return null
                    }
                    Nr.prototype.S = function() {
                        return this.f
                    }, Nr.prototype.i = function() {
                        return this.b
                    }, Nr.prototype.toString = function() {
                        return this.g
                    };
                    var Or = "oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),
                        Rr = ["client_id", "response_type", "scope", "redirect_uri", "state"],
                        Lr = {
                            kd: {
                                Ha: "locale",
                                ta: 700,
                                sa: 600,
                                ea: "facebook.com",
                                Va: Rr
                            },
                            md: {
                                Ha: null,
                                ta: 500,
                                sa: 750,
                                ea: "github.com",
                                Va: Rr
                            },
                            nd: {
                                Ha: "hl",
                                ta: 515,
                                sa: 680,
                                ea: "google.com",
                                Va: Rr
                            },
                            td: {
                                Ha: "lang",
                                ta: 485,
                                sa: 705,
                                ea: "twitter.com",
                                Va: Or
                            },
                            gd: {
                                Ha: "locale",
                                ta: 640,
                                sa: 600,
                                ea: "apple.com",
                                Va: []
                            }
                        };

                    function Mr(t) {
                        for (var e in Lr)
                            if (Lr[e].ea == t) return Lr[e];
                        return null
                    }

                    function Fr(t) {
                        var e = {};
                        e["facebook.com"] = Wr, e["google.com"] = Br, e["github.com"] = Vr, e["twitter.com"] = zr;
                        var n = t && t[jr];
                        try {
                            if (n) return e[n] ? new e[n](t) : new qr(t);
                            if (void 0 !== t[Ur]) return new Hr(t)
                        } catch (t) {}
                        return null
                    }
                    var Ur = "idToken",
                        jr = "providerId";

                    function Hr(t) {
                        var e = t[jr];
                        if (!e && t[Ur]) {
                            var n = Ar(t[Ur]);
                            n && n.a && (e = n.a)
                        }
                        if (!e) throw Error("Invalid additional user info!");
                        "anonymous" != e && "custom" != e || (e = null), n = !1, void 0 !== t.isNewUser ? n = !!t.isNewUser : "identitytoolkit#SignupNewUserResponse" === t.kind && (n = !0), Ui(this, "providerId", e), Ui(this, "isNewUser", n)
                    }

                    function qr(t) {
                        Hr.call(this, t), Ui(this, "profile", qi((t = ki(t.rawUserInfo || "{}")) || {}))
                    }

                    function Wr(t) {
                        if (qr.call(this, t), "facebook.com" != this.providerId) throw Error("Invalid provider ID!")
                    }

                    function Vr(t) {
                        if (qr.call(this, t), "github.com" != this.providerId) throw Error("Invalid provider ID!");
                        Ui(this, "username", this.profile && this.profile.login || null)
                    }

                    function Br(t) {
                        if (qr.call(this, t), "google.com" != this.providerId) throw Error("Invalid provider ID!")
                    }

                    function zr(t) {
                        if (qr.call(this, t), "twitter.com" != this.providerId) throw Error("Invalid provider ID!");
                        Ui(this, "username", t.screenName || null)
                    }

                    function $r(t) {
                        var e = Nn(t),
                            n = Dn(e, "link"),
                            i = Dn(Nn(n), "link");
                        return e = Dn(e, "deep_link_id"), Dn(Nn(e), "link") || e || i || n || t
                    }

                    function Kr(t, e) {
                        if (!t && !e) throw new E("internal-error", "Internal assert: no raw session string available");
                        if (t && e) throw new E("internal-error", "Internal assert: unable to determine the session type");
                        this.a = t || null, this.b = e || null, this.type = this.a ? Gr : Yr
                    }
                    w(qr, Hr), w(Wr, qr), w(Vr, qr), w(Br, qr), w(zr, qr);
                    var Gr = "enroll",
                        Yr = "signin";

                    function Qr() {}

                    function Xr(t, e) {
                        return t.then((function(t) {
                            if (t[js]) {
                                var n = Ar(t[js]);
                                if (!n || e != n.h) throw new E("user-mismatch");
                                return t
                            }
                            throw new E("user-mismatch")
                        })).o((function(t) {
                            throw t && t.code && t.code == C + "user-not-found" ? new E("user-mismatch") : t
                        }))
                    }

                    function Jr(t, e) {
                        if (!e) throw new E("internal-error", "failed to construct a credential");
                        this.a = e, Ui(this, "providerId", t), Ui(this, "signInMethod", t)
                    }

                    function Zr(t) {
                        return {
                            pendingToken: t.a,
                            requestUri: "http://localhost"
                        }
                    }

                    function to(t) {
                        if (t && t.providerId && t.signInMethod && 0 == t.providerId.indexOf("saml.") && t.pendingToken) try {
                            return new Jr(t.providerId, t.pendingToken)
                        } catch (t) {}
                        return null
                    }

                    function eo(t, e, n) {
                        if (this.a = null, e.idToken || e.accessToken) e.idToken && Ui(this, "idToken", e.idToken), e.accessToken && Ui(this, "accessToken", e.accessToken), e.nonce && !e.pendingToken && Ui(this, "nonce", e.nonce), e.pendingToken && (this.a = e.pendingToken);
                        else {
                            if (!e.oauthToken || !e.oauthTokenSecret) throw new E("internal-error", "failed to construct a credential");
                            Ui(this, "accessToken", e.oauthToken), Ui(this, "secret", e.oauthTokenSecret)
                        }
                        Ui(this, "providerId", t), Ui(this, "signInMethod", n)
                    }

                    function no(t) {
                        var e = {};
                        return t.idToken && (e.id_token = t.idToken), t.accessToken && (e.access_token = t.accessToken), t.secret && (e.oauth_token_secret = t.secret), e.providerId = t.providerId, t.nonce && !t.a && (e.nonce = t.nonce), e = {
                            postBody: Wn(e).toString(),
                            requestUri: "http://localhost"
                        }, t.a && (delete e.postBody, e.pendingToken = t.a), e
                    }

                    function io(t) {
                        if (t && t.providerId && t.signInMethod) {
                            var e = {
                                idToken: t.oauthIdToken,
                                accessToken: t.oauthTokenSecret ? null : t.oauthAccessToken,
                                oauthTokenSecret: t.oauthTokenSecret,
                                oauthToken: t.oauthTokenSecret && t.oauthAccessToken,
                                nonce: t.nonce,
                                pendingToken: t.pendingToken
                            };
                            try {
                                return new eo(t.providerId, e, t.signInMethod)
                            } catch (t) {}
                        }
                        return null
                    }

                    function ro(t, e) {
                        this.Oc = e || [], ji(this, {
                            providerId: t,
                            isOAuthProvider: !0
                        }), this.Fb = {}, this.lb = (Mr(t) || {}).Ha || null, this.kb = null
                    }

                    function oo(t) {
                        if ("string" != typeof t || 0 != t.indexOf("saml.")) throw new E("argument-error", 'SAML provider IDs must be prefixed with "saml."');
                        ro.call(this, t, [])
                    }

                    function so(t) {
                        ro.call(this, t, Rr), this.a = []
                    }

                    function ao() {
                        so.call(this, "facebook.com")
                    }

                    function uo(t) {
                        if (!t) throw new E("argument-error", "credential failed: expected 1 argument (the OAuth access token).");
                        var e = t;
                        return p(t) && (e = t.accessToken), (new ao).credential({
                            accessToken: e
                        })
                    }

                    function lo() {
                        so.call(this, "github.com")
                    }

                    function ho(t) {
                        if (!t) throw new E("argument-error", "credential failed: expected 1 argument (the OAuth access token).");
                        var e = t;
                        return p(t) && (e = t.accessToken), (new lo).credential({
                            accessToken: e
                        })
                    }

                    function co() {
                        so.call(this, "google.com"), this.Aa("profile")
                    }

                    function po(t, e) {
                        var n = t;
                        return p(t) && (n = t.idToken, e = t.accessToken), (new co).credential({
                            idToken: n,
                            accessToken: e
                        })
                    }

                    function fo() {
                        ro.call(this, "twitter.com", Or)
                    }

                    function go(t, e) {
                        var n = t;
                        if (p(n) || (n = {
                                oauthToken: t,
                                oauthTokenSecret: e
                            }), !n.oauthToken || !n.oauthTokenSecret) throw new E("argument-error", "credential failed: expected 2 arguments (the OAuth access token and secret).");
                        return new eo("twitter.com", n, "twitter.com")
                    }

                    function vo(t, e, n) {
                        this.a = t, this.f = e, Ui(this, "providerId", "password"), Ui(this, "signInMethod", n === yo.EMAIL_LINK_SIGN_IN_METHOD ? yo.EMAIL_LINK_SIGN_IN_METHOD : yo.EMAIL_PASSWORD_SIGN_IN_METHOD)
                    }

                    function mo(t) {
                        return t && t.email && t.password ? new vo(t.email, t.password, t.signInMethod) : null
                    }

                    function yo() {
                        ji(this, {
                            providerId: "password",
                            isOAuthProvider: !1
                        })
                    }

                    function _o(t, e) {
                        if (!(e = bo(e))) throw new E("argument-error", "Invalid email link!");
                        return new vo(t, e.code, yo.EMAIL_LINK_SIGN_IN_METHOD)
                    }

                    function bo(t) {
                        return (t = mr(t = $r(t))) && t.operation === Xi ? t : null
                    }

                    function wo(t) {
                        if (!(t.bb && t.ab || t.Ja && t.da)) throw new E("internal-error");
                        this.a = t, Ui(this, "providerId", "phone"), this.ea = "phone", Ui(this, "signInMethod", "phone")
                    }

                    function Eo(t) {
                        if (t && "phone" === t.providerId && (t.verificationId && t.verificationCode || t.temporaryProof && t.phoneNumber)) {
                            var e = {};
                            return j(["verificationId", "verificationCode", "temporaryProof", "phoneNumber"], (function(n) {
                                t[n] && (e[n] = t[n])
                            })), new wo(e)
                        }
                        return null
                    }

                    function Io(t) {
                        return t.a.Ja && t.a.da ? {
                            temporaryProof: t.a.Ja,
                            phoneNumber: t.a.da
                        } : {
                            sessionInfo: t.a.bb,
                            code: t.a.ab
                        }
                    }

                    function To(e) {
                        try {
                            this.a = e || t.auth()
                        } catch (e) {
                            throw new E("argument-error", "Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")
                        }
                        ji(this, {
                            providerId: "phone",
                            isOAuthProvider: !1
                        })
                    }

                    function Co(t, e) {
                        if (!t) throw new E("missing-verification-id");
                        if (!e) throw new E("missing-verification-code");
                        return new wo({
                            bb: t,
                            ab: e
                        })
                    }

                    function ko(t) {
                        if (t.temporaryProof && t.phoneNumber) return new wo({
                            Ja: t.temporaryProof,
                            da: t.phoneNumber
                        });
                        var e = t && t.providerId;
                        if (!e || "password" === e) return null;
                        var n = t && t.oauthAccessToken,
                            i = t && t.oauthTokenSecret,
                            r = t && t.nonce,
                            o = t && t.oauthIdToken,
                            s = t && t.pendingToken;
                        try {
                            switch (e) {
                                case "google.com":
                                    return po(o, n);
                                case "facebook.com":
                                    return uo(n);
                                case "github.com":
                                    return ho(n);
                                case "twitter.com":
                                    return go(n, i);
                                default:
                                    return n || i || o || s ? s ? 0 == e.indexOf("saml.") ? new Jr(e, s) : new eo(e, {
                                        pendingToken: s,
                                        idToken: t.oauthIdToken,
                                        accessToken: t.oauthAccessToken
                                    }, e) : new so(e).credential({
                                        idToken: o,
                                        accessToken: n,
                                        rawNonce: r
                                    }) : null
                            }
                        } catch (t) {
                            return null
                        }
                    }

                    function So(t) {
                        if (!t.isOAuthProvider) throw new E("invalid-oauth-provider")
                    }

                    function xo(t, e, n, i, r, o, s) {
                        if (this.c = t, this.b = e || null, this.g = n || null, this.f = i || null, this.i = o || null, this.h = s || null, this.a = r || null, !this.g && !this.a) throw new E("invalid-auth-event");
                        if (this.g && this.a) throw new E("invalid-auth-event");
                        if (this.g && !this.f) throw new E("invalid-auth-event")
                    }

                    function Do(t) {
                        return (t = t || {}).type ? new xo(t.type, t.eventId, t.urlResponse, t.sessionId, t.error && I(t.error), t.postBody, t.tenantId) : null
                    }

                    function No() {
                        this.b = null, this.a = []
                    }
                    Kr.prototype.Fa = function() {
                        return this.a ? we(this.a) : we(this.b)
                    }, Kr.prototype.v = function() {
                        return this.type == Gr ? {
                            multiFactorSession: {
                                idToken: this.a
                            }
                        } : {
                            multiFactorSession: {
                                pendingCredential: this.b
                            }
                        }
                    }, Qr.prototype.ia = function() {}, Qr.prototype.b = function() {}, Qr.prototype.c = function() {}, Qr.prototype.v = function() {}, Jr.prototype.ia = function(t) {
                        return ra(t, Zr(this))
                    }, Jr.prototype.b = function(t, e) {
                        var n = Zr(this);
                        return n.idToken = e, oa(t, n)
                    }, Jr.prototype.c = function(t, e) {
                        return Xr(sa(t, Zr(this)), e)
                    }, Jr.prototype.v = function() {
                        return {
                            providerId: this.providerId,
                            signInMethod: this.signInMethod,
                            pendingToken: this.a
                        }
                    }, eo.prototype.ia = function(t) {
                        return ra(t, no(this))
                    }, eo.prototype.b = function(t, e) {
                        var n = no(this);
                        return n.idToken = e, oa(t, n)
                    }, eo.prototype.c = function(t, e) {
                        return Xr(sa(t, no(this)), e)
                    }, eo.prototype.v = function() {
                        var t = {
                            providerId: this.providerId,
                            signInMethod: this.signInMethod
                        };
                        return this.idToken && (t.oauthIdToken = this.idToken), this.accessToken && (t.oauthAccessToken = this.accessToken), this.secret && (t.oauthTokenSecret = this.secret), this.nonce && (t.nonce = this.nonce), this.a && (t.pendingToken = this.a), t
                    }, ro.prototype.Ia = function(t) {
                        return this.Fb = ht(t), this
                    }, w(oo, ro), w(so, ro), so.prototype.Aa = function(t) {
                        return V(this.a, t) || this.a.push(t), this
                    }, so.prototype.Nb = function() {
                        return K(this.a)
                    }, so.prototype.credential = function(t, e) {
                        var n;
                        if (!(n = p(t) ? {
                                idToken: t.idToken || null,
                                accessToken: t.accessToken || null,
                                nonce: t.rawNonce || null
                            } : {
                                idToken: t || null,
                                accessToken: e || null
                            }).idToken && !n.accessToken) throw new E("argument-error", "credential failed: must provide the ID token and/or the access token.");
                        return new eo(this.providerId, n, this.providerId)
                    }, w(ao, so), Ui(ao, "PROVIDER_ID", "facebook.com"), Ui(ao, "FACEBOOK_SIGN_IN_METHOD", "facebook.com"), w(lo, so), Ui(lo, "PROVIDER_ID", "github.com"), Ui(lo, "GITHUB_SIGN_IN_METHOD", "github.com"), w(co, so), Ui(co, "PROVIDER_ID", "google.com"), Ui(co, "GOOGLE_SIGN_IN_METHOD", "google.com"), w(fo, ro), Ui(fo, "PROVIDER_ID", "twitter.com"), Ui(fo, "TWITTER_SIGN_IN_METHOD", "twitter.com"), vo.prototype.ia = function(t) {
                        return this.signInMethod == yo.EMAIL_LINK_SIGN_IN_METHOD ? qa(t, fa, {
                            email: this.a,
                            oobCode: this.f
                        }) : qa(t, Ma, {
                            email: this.a,
                            password: this.f
                        })
                    }, vo.prototype.b = function(t, e) {
                        return this.signInMethod == yo.EMAIL_LINK_SIGN_IN_METHOD ? qa(t, ga, {
                            idToken: e,
                            email: this.a,
                            oobCode: this.f
                        }) : qa(t, xa, {
                            idToken: e,
                            email: this.a,
                            password: this.f
                        })
                    }, vo.prototype.c = function(t, e) {
                        return Xr(this.ia(t), e)
                    }, vo.prototype.v = function() {
                        return {
                            email: this.a,
                            password: this.f,
                            signInMethod: this.signInMethod
                        }
                    }, ji(yo, {
                        PROVIDER_ID: "password"
                    }), ji(yo, {
                        EMAIL_LINK_SIGN_IN_METHOD: "emailLink"
                    }), ji(yo, {
                        EMAIL_PASSWORD_SIGN_IN_METHOD: "password"
                    }), wo.prototype.ia = function(t) {
                        return t.cb(Io(this))
                    }, wo.prototype.b = function(t, e) {
                        var n = Io(this);
                        return n.idToken = e, qa(t, Ua, n)
                    }, wo.prototype.c = function(t, e) {
                        var n = Io(this);
                        return n.operation = "REAUTH", Xr(t = qa(t, ja, n), e)
                    }, wo.prototype.v = function() {
                        var t = {
                            providerId: "phone"
                        };
                        return this.a.bb && (t.verificationId = this.a.bb), this.a.ab && (t.verificationCode = this.a.ab), this.a.Ja && (t.temporaryProof = this.a.Ja), this.a.da && (t.phoneNumber = this.a.da), t
                    }, To.prototype.cb = function(t, e) {
                        var n = this.a.b;
                        return we(e.verify()).then((function(i) {
                            if ("string" != typeof i) throw new E("argument-error", "An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");
                            switch (e.type) {
                                case "recaptcha":
                                    var r = p(t) ? t.session : null,
                                        o = p(t) ? t.phoneNumber : t;
                                    return (r && r.type == Gr ? r.Fa().then((function(t) {
                                        return qa(n, Na, {
                                            idToken: t,
                                            phoneEnrollmentInfo: {
                                                phoneNumber: o,
                                                recaptchaToken: i
                                            }
                                        }).then((function(t) {
                                            return t.phoneSessionInfo.sessionInfo
                                        }))
                                    })) : r && r.type == Yr ? r.Fa().then((function(e) {
                                        return r = n, o = {
                                            mfaPendingCredential: e,
                                            mfaEnrollmentId: t.multiFactorHint && t.multiFactorHint.uid || t.multiFactorUid,
                                            phoneSignInInfo: {
                                                recaptchaToken: i
                                            }
                                        }, qa(r, Aa, o).then((function(t) {
                                            return t.phoneResponseInfo.sessionInfo
                                        }));
                                        var r, o
                                    })) : qa(n, ka, {
                                        phoneNumber: o,
                                        recaptchaToken: i
                                    })).then((function(t) {
                                        return "function" == typeof e.reset && e.reset(), t
                                    }), (function(t) {
                                        throw "function" == typeof e.reset && e.reset(), t
                                    }));
                                default:
                                    throw new E("argument-error", 'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')
                            }
                        }))
                    }, ji(To, {
                        PROVIDER_ID: "phone"
                    }), ji(To, {
                        PHONE_SIGN_IN_METHOD: "phone"
                    }), xo.prototype.getUid = function() {
                        var t = [];
                        return t.push(this.c), this.b && t.push(this.b), this.f && t.push(this.f), this.h && t.push(this.h), t.join("-")
                    }, xo.prototype.S = function() {
                        return this.h
                    }, xo.prototype.v = function() {
                        return {
                            type: this.c,
                            eventId: this.b,
                            urlResponse: this.g,
                            sessionId: this.f,
                            postBody: this.i,
                            tenantId: this.h,
                            error: this.a && this.a.v()
                        }
                    };
                    var Ao, Po = null;

                    function Oo(t) {
                        var e = "unauthorized-domain",
                            n = void 0,
                            i = Nn(t);
                        t = i.b, "chrome-extension" == (i = i.f) ? n = Ft("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.", t) : "http" == i || "https" == i ? n = Ft("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.", t) : e = "operation-not-supported-in-this-environment", E.call(this, e, n)
                    }

                    function Ro(t, e, n) {
                        E.call(this, t, n), (t = e || {}).Gb && Ui(this, "email", t.Gb), t.da && Ui(this, "phoneNumber", t.da), t.credential && Ui(this, "credential", t.credential), t.Wb && Ui(this, "tenantId", t.Wb)
                    }

                    function Lo(t) {
                        if (t.code) {
                            var e = t.code || "";
                            0 == e.indexOf(C) && (e = e.substring(C.length));
                            var n = {
                                credential: ko(t),
                                Wb: t.tenantId
                            };
                            if (t.email) n.Gb = t.email;
                            else if (t.phoneNumber) n.da = t.phoneNumber;
                            else if (!n.credential) return new E(e, t.message || void 0);
                            return new Ro(e, n, t.message)
                        }
                        return null
                    }

                    function Mo() {}

                    function Fo(t) {
                        return t.c || (t.c = t.b())
                    }

                    function Uo() {}

                    function jo(t) {
                        if (t.f || "undefined" != typeof XMLHttpRequest || "undefined" == typeof ActiveXObject) return t.f;
                        for (var e = ["MSXML2.XMLHTTP.6.0", "MSXML2.XMLHTTP.3.0", "MSXML2.XMLHTTP", "Microsoft.XMLHTTP"], n = 0; n < e.length; n++) {
                            var i = e[n];
                            try {
                                return new ActiveXObject(i), t.f = i
                            } catch (t) {}
                        }
                        throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")
                    }

                    function Ho() {}

                    function qo() {
                        this.a = new XDomainRequest, this.readyState = 0, this.onreadystatechange = null, this.responseType = this.responseText = this.response = "", this.status = -1, this.statusText = "", this.a.onload = y(this.oc, this), this.a.onerror = y(this.Pb, this), this.a.onprogress = y(this.pc, this), this.a.ontimeout = y(this.tc, this)
                    }

                    function Wo(t, e) {
                        t.readyState = e, t.onreadystatechange && t.onreadystatechange()
                    }

                    function Vo(t, e, n) {
                        this.reset(t, e, n, void 0, void 0)
                    }

                    function Bo(t) {
                        this.f = t, this.b = this.c = this.a = null
                    }

                    function zo(t, e) {
                        this.name = t, this.value = e
                    }
                    w(Oo, E), w(Ro, E), Ro.prototype.v = function() {
                        var t = {
                            code: this.code,
                            message: this.message
                        };
                        this.email && (t.email = this.email), this.phoneNumber && (t.phoneNumber = this.phoneNumber), this.tenantId && (t.tenantId = this.tenantId);
                        var e = this.credential && this.credential.v();
                        return e && dt(t, e), t
                    }, Ro.prototype.toJSON = function() {
                        return this.v()
                    }, Mo.prototype.c = null, w(Uo, Mo), Uo.prototype.a = function() {
                        var t = jo(this);
                        return t ? new ActiveXObject(t) : new XMLHttpRequest
                    }, Uo.prototype.b = function() {
                        var t = {};
                        return jo(this) && (t[0] = !0, t[1] = !0), t
                    }, Ao = new Uo, w(Ho, Mo), Ho.prototype.a = function() {
                        var t = new XMLHttpRequest;
                        if ("withCredentials" in t) return t;
                        if ("undefined" != typeof XDomainRequest) return new qo;
                        throw Error("Unsupported browser")
                    }, Ho.prototype.b = function() {
                        return {}
                    }, (e = qo.prototype).open = function(t, e, n) {
                        if (null != n && !n) throw Error("Only async requests are supported.");
                        this.a.open(t, e)
                    }, e.send = function(t) {
                        if (t) {
                            if ("string" != typeof t) throw Error("Only string data is supported");
                            this.a.send(t)
                        } else this.a.send()
                    }, e.abort = function() {
                        this.a.abort()
                    }, e.setRequestHeader = function() {}, e.getResponseHeader = function(t) {
                        return "content-type" == t.toLowerCase() ? this.a.contentType : ""
                    }, e.oc = function() {
                        this.status = 200, this.response = this.responseText = this.a.responseText, Wo(this, 4)
                    }, e.Pb = function() {
                        this.status = 500, this.response = this.responseText = "", Wo(this, 4)
                    }, e.tc = function() {
                        this.Pb()
                    }, e.pc = function() {
                        this.status = 200, Wo(this, 1)
                    }, e.getAllResponseHeaders = function() {
                        return "content-type: " + this.a.contentType
                    }, Vo.prototype.a = null, Vo.prototype.reset = function(t, e, n, i, r) {
                        delete this.a
                    }, zo.prototype.toString = function() {
                        return this.name
                    };
                    var $o = new zo("SEVERE", 1e3),
                        Ko = new zo("WARNING", 900),
                        Go = new zo("CONFIG", 700),
                        Yo = new zo("FINE", 500);
                    Bo.prototype.log = function(t, e, n) {
                        if (t.value >= function t(e) {
                                return e.c ? e.c : e.a ? t(e.a) : (P("Root logger has no level set."), null)
                            }(this).value)
                            for (d(e) && (e = e()), t = new Vo(t, String(e), this.f), n && (t.a = n), n = this; n;) n = n.a
                    };
                    var Qo, Xo = {},
                        Jo = null;

                    function Zo(t) {
                        var e;
                        if (Jo || (Jo = new Bo(""), (Xo[""] = Jo).c = Go), !(e = Xo[t])) {
                            e = new Bo(t);
                            var n = t.lastIndexOf("."),
                                i = t.substr(n + 1);
                            (n = Zo(t.substr(0, n))).b || (n.b = {}), (n.b[i] = e).a = n, Xo[t] = e
                        }
                        return e
                    }

                    function ts(t, e) {
                        t && t.log(Yo, e, void 0)
                    }

                    function es(t) {
                        this.f = t
                    }

                    function ns(t) {
                        dn.call(this), this.s = t, this.readyState = is, this.status = 0, this.responseType = this.responseText = this.response = this.statusText = "", this.onreadystatechange = null, this.i = new Headers, this.b = null, this.m = "GET", this.g = "", this.a = !1, this.h = Zo("goog.net.FetchXmlHttp"), this.l = this.c = this.f = null
                    }
                    w(es, Mo), es.prototype.a = function() {
                        return new ns(this.f)
                    }, es.prototype.b = (Qo = {}, function() {
                        return Qo
                    }), w(ns, dn);
                    var is = 0;

                    function rs(t) {
                        t.c.read().then(t.nc.bind(t)).catch(t.Sa.bind(t))
                    }

                    function os(t, e) {
                        e && t.f && (t.status = t.f.status, t.statusText = t.f.statusText), t.readyState = 4, t.f = null, t.c = null, t.l = null, ss(t)
                    }

                    function ss(t) {
                        t.onreadystatechange && t.onreadystatechange.call(t)
                    }

                    function as(t) {
                        dn.call(this), this.headers = new bn, this.D = t || null, this.c = !1, this.B = this.a = null, this.h = this.P = this.l = "", this.f = this.O = this.i = this.N = !1, this.g = 0, this.s = null, this.m = us, this.w = this.R = !1
                    }(e = ns.prototype).open = function(t, e) {
                        if (this.readyState != is) throw this.abort(), Error("Error reopening a connection");
                        this.m = t, this.g = e, this.readyState = 1, ss(this)
                    }, e.send = function(t) {
                        if (1 != this.readyState) throw this.abort(), Error("need to call open() first. ");
                        this.a = !0;
                        var e = {
                            headers: this.i,
                            method: this.m,
                            credentials: void 0,
                            cache: void 0
                        };
                        t && (e.body = t), this.s.fetch(new Request(this.g, e)).then(this.sc.bind(this), this.Sa.bind(this))
                    }, e.abort = function() {
                        this.response = this.responseText = "", this.i = new Headers, this.status = 0, this.c && this.c.cancel("Request was aborted."), 1 <= this.readyState && this.a && 4 != this.readyState && (this.a = !1, os(this, !1)), this.readyState = is
                    }, e.sc = function(t) {
                        this.a && (this.f = t, this.b || (this.b = t.headers, this.readyState = 2, ss(this)), this.a && (this.readyState = 3, ss(this), this.a && ("arraybuffer" === this.responseType ? t.arrayBuffer().then(this.qc.bind(this), this.Sa.bind(this)) : void 0 !== s.ReadableStream && "body" in t ? (this.response = this.responseText = "", this.c = t.body.getReader(), this.l = new TextDecoder, rs(this)) : t.text().then(this.rc.bind(this), this.Sa.bind(this)))))
                    }, e.nc = function(t) {
                        if (this.a) {
                            var e = this.l.decode(t.value ? t.value : new Uint8Array(0), {
                                stream: !t.done
                            });
                            e && (this.response = this.responseText += e), t.done ? os(this, !0) : ss(this), 3 == this.readyState && rs(this)
                        }
                    }, e.rc = function(t) {
                        this.a && (this.response = this.responseText = t, os(this, !0))
                    }, e.qc = function(t) {
                        this.a && (this.response = t, os(this, !0))
                    }, e.Sa = function(t) {
                        var e = this.h;
                        e && e.log(Ko, "Failed to fetch url " + this.g, t instanceof Error ? t : Error(t)), this.a && os(this, !0)
                    }, e.setRequestHeader = function(t, e) {
                        this.i.append(t, e)
                    }, e.getResponseHeader = function(t) {
                        return this.b ? this.b.get(t.toLowerCase()) || "" : ((t = this.h) && t.log(Ko, "Attempting to get response header but no headers have been received for url: " + this.g, void 0), "")
                    }, e.getAllResponseHeaders = function() {
                        if (!this.b) {
                            var t = this.h;
                            return t && t.log(Ko, "Attempting to get all response headers but no headers have been received for url: " + this.g, void 0), ""
                        }
                        t = [];
                        for (var e = this.b.entries(), n = e.next(); !n.done;) n = n.value, t.push(n[0] + ": " + n[1]), n = e.next();
                        return t.join("\r\n")
                    }, w(as, dn);
                    var us = "";
                    as.prototype.b = Zo("goog.net.XhrIo");
                    var ls = /^https?$/i,
                        hs = ["POST", "PUT"];

                    function cs(t) {
                        return "content-type" == t.toLowerCase()
                    }

                    function ds(t, e) {
                        t.c = !1, t.a && (t.f = !0, t.a.abort(), t.f = !1), t.h = e, ps(t), gs(t)
                    }

                    function ps(t) {
                        t.N || (t.N = !0, t.dispatchEvent("complete"), t.dispatchEvent("error"))
                    }

                    function fs(t) {
                        if (t.c && void 0 !== o)
                            if (t.B[1] && 4 == ms(t) && 2 == ys(t)) ts(t.b, _s(t, "Local request error detected and ignored"));
                            else if (t.i && 4 == ms(t)) vn(t.Sb, 0, t);
                        else if (t.dispatchEvent("readystatechange"), 4 == ms(t)) {
                            ts(t.b, _s(t, "Request complete")), t.c = !1;
                            try {
                                var e, n = ys(t);
                                t: switch (n) {
                                    case 200:
                                    case 201:
                                    case 202:
                                    case 204:
                                    case 206:
                                    case 304:
                                    case 1223:
                                        var i = !0;
                                        break t;
                                    default:
                                        i = !1
                                }
                                if (!(e = i)) {
                                    var r;
                                    if (r = 0 === n) {
                                        var a = String(t.l).match(In)[1] || null;
                                        if (!a && s.self && s.self.location) {
                                            var u = s.self.location.protocol;
                                            a = u.substr(0, u.length - 1)
                                        }
                                        r = !ls.test(a ? a.toLowerCase() : "")
                                    }
                                    e = r
                                }
                                if (e) t.dispatchEvent("complete"), t.dispatchEvent("success");
                                else {
                                    try {
                                        var l = 2 < ms(t) ? t.a.statusText : ""
                                    } catch (e) {
                                        ts(t.b, "Can not get status: " + e.message), l = ""
                                    }
                                    t.h = l + " [" + ys(t) + "]", ps(t)
                                }
                            } finally {
                                gs(t)
                            }
                        }
                    }

                    function gs(t, e) {
                        if (t.a) {
                            vs(t);
                            var n = t.a,
                                i = t.B[0] ? l : null;
                            t.a = null, t.B = null, e || t.dispatchEvent("ready");
                            try {
                                n.onreadystatechange = i
                            } catch (e) {
                                (t = t.b) && t.log($o, "Problem encountered resetting onreadystatechange: " + e.message, void 0)
                            }
                        }
                    }

                    function vs(t) {
                        t.a && t.w && (t.a.ontimeout = null), t.s && (s.clearTimeout(t.s), t.s = null)
                    }

                    function ms(t) {
                        return t.a ? t.a.readyState : 0
                    }

                    function ys(t) {
                        try {
                            return 2 < ms(t) ? t.a.status : -1
                        } catch (t) {
                            return -1
                        }
                    }

                    function _s(t, e) {
                        return e + " [" + t.P + " " + t.l + " " + ys(t) + "]"
                    }

                    function bs(t) {
                        var e = As;
                        this.g = [], this.w = e, this.s = t || null, this.f = this.a = !1, this.c = void 0, this.u = this.B = this.i = !1, this.h = 0, this.b = null, this.l = 0
                    }

                    function ws(t, e, n) {
                        t.a = !0, t.c = n, t.f = !e, Cs(t)
                    }

                    function Es(t) {
                        if (t.a) {
                            if (!t.u) throw new ks;
                            t.u = !1
                        }
                    }

                    function Is(t, e, n, i) {
                        t.g.push([e, n, i]), t.a && Cs(t)
                    }

                    function Ts(t) {
                        return W(t.g, (function(t) {
                            return d(t[1])
                        }))
                    }

                    function Cs(t) {
                        if (t.h && t.a && Ts(t)) {
                            var e = t.h,
                                n = Ds[e];
                            n && (s.clearTimeout(n.a), delete Ds[e]), t.h = 0
                        }
                        t.b && (t.b.l--, delete t.b), e = t.c;
                        for (var i = n = !1; t.g.length && !t.i;) {
                            var r = t.g.shift(),
                                o = r[0],
                                a = r[1];
                            if (r = r[2], o = t.f ? a : o) try {
                                var u = o.call(r || t.s, e);
                                void 0 !== u && (t.f = t.f && (u == e || u instanceof Error), t.c = e = u), (D(e) || "function" == typeof s.Promise && e instanceof s.Promise) && (i = !0, t.i = !0)
                            } catch (i) {
                                e = i, t.f = !0, Ts(t) || (n = !0)
                            }
                        }
                        t.c = e, i && (u = y(t.m, t, !0), i = y(t.m, t, !1), e instanceof bs ? (Is(e, u, i), e.B = !0) : e.then(u, i)), n && (e = new xs(e), Ds[e.a] = e, t.h = e.a)
                    }

                    function ks() {
                        N.call(this)
                    }

                    function Ss() {
                        N.call(this)
                    }

                    function xs(t) {
                        this.a = s.setTimeout(y(this.c, this), 0), this.b = t
                    }(e = as.prototype).Ka = function() {
                        void 0 !== o && this.a && (this.h = "Timed out after " + this.g + "ms, aborting", ts(this.b, _s(this, this.h)), this.dispatchEvent("timeout"), this.abort(8))
                    }, e.abort = function() {
                        this.a && this.c && (ts(this.b, _s(this, "Aborting")), this.c = !1, this.f = !0, this.a.abort(), this.f = !1, this.dispatchEvent("complete"), this.dispatchEvent("abort"), gs(this))
                    }, e.Ba = function() {
                        this.a && (this.c && (this.c = !1, this.f = !0, this.a.abort(), this.f = !1), gs(this, !0)), as.Za.Ba.call(this)
                    }, e.Sb = function() {
                        this.wa || (this.O || this.i || this.f ? fs(this) : this.Hc())
                    }, e.Hc = function() {
                        fs(this)
                    }, e.getResponse = function() {
                        try {
                            if (!this.a) return null;
                            if ("response" in this.a) return this.a.response;
                            switch (this.m) {
                                case us:
                                case "text":
                                    return this.a.responseText;
                                case "arraybuffer":
                                    if ("mozResponseArrayBuffer" in this.a) return this.a.mozResponseArrayBuffer
                            }
                            var t = this.b;
                            return t && t.log($o, "Response type " + this.m + " is not supported on this browser", void 0), null
                        } catch (t) {
                            return ts(this.b, "Can not get response: " + t.message), null
                        }
                    }, bs.prototype.cancel = function(t) {
                        if (this.a) this.c instanceof bs && this.c.cancel();
                        else {
                            if (this.b) {
                                var e = this.b;
                                delete this.b, t ? e.cancel(t) : (e.l--, e.l <= 0 && e.cancel())
                            }
                            this.w ? this.w.call(this.s, this) : this.u = !0, this.a || (t = new Ss, Es(this), ws(this, !1, t))
                        }
                    }, bs.prototype.m = function(t, e) {
                        this.i = !1, ws(this, t, e)
                    }, bs.prototype.then = function(t, e, n) {
                        var i, r, o = new fe((function(t, e) {
                            i = t, r = e
                        }));
                        return Is(this, i, (function(t) {
                            t instanceof Ss ? o.cancel() : r(t)
                        })), o.then(t, e, n)
                    }, bs.prototype.$goog_Thenable = !0, w(ks, N), ks.prototype.message = "Deferred has already fired", ks.prototype.name = "AlreadyCalledError", w(Ss, N), Ss.prototype.message = "Deferred was canceled", Ss.prototype.name = "CanceledError", xs.prototype.c = function() {
                        throw delete Ds[this.a], this.b
                    };
                    var Ds = {};

                    function Ns(t) {
                        var e, n, i, r, o, l = document,
                            h = bt(t).toString(),
                            c = ae(document, "SCRIPT"),
                            d = {
                                Tb: c,
                                Ka: void 0
                            },
                            p = new bs(d);
                        return e = window.setTimeout((function() {
                            Ps(c, !0);
                            var t = new Ls(Rs, "Timeout reached for loading script " + h);
                            Es(p), ws(p, !1, t)
                        }), 5e3), d.Ka = e, c.onload = c.onreadystatechange = function() {
                            c.readyState && "loaded" != c.readyState && "complete" != c.readyState || (Ps(c, !1, e), Es(p), ws(p, !0, null))
                        }, c.onerror = function() {
                            Ps(c, !0, e);
                            var t = new Ls(Os, "Error while loading script " + h);
                            Es(p), ws(p, !1, t)
                        }, dt(d = {}, {
                            type: "text/javascript",
                            charset: "UTF-8"
                        }), ie(c, d), i = t, pt(n = c, "HTMLScriptElement"), n.src = bt(i), null === u && (u = (i = (i = s.document).querySelector && i.querySelector("script[nonce]")) && (i = i.nonce || i.getAttribute("nonce")) && a.test(i) ? i : ""), (i = u) && n.setAttribute("nonce", i), ((o = ((r = l) || document).getElementsByTagName("HEAD")) && 0 != o.length ? o[0] : r.documentElement).appendChild(c), p
                    }

                    function As() {
                        if (this && this.Tb) {
                            var t = this.Tb;
                            t && "SCRIPT" == t.tagName && Ps(t, !0, this.Ka)
                        }
                    }

                    function Ps(t, e, n) {
                        null != n && s.clearTimeout(n), t.onload = l, t.onerror = l, t.onreadystatechange = l, e && window.setTimeout((function() {
                            t && t.parentNode && t.parentNode.removeChild(t)
                        }), 0)
                    }
                    var Os = 0,
                        Rs = 1;

                    function Ls(t, e) {
                        var n = "Jsloader error (code #" + t + ")";
                        e && (n += ": " + e), N.call(this, n), this.code = t
                    }

                    function Ms(t) {
                        this.f = t
                    }

                    function Fs(e, n, i) {
                        if (this.c = e, e = n || {}, this.u = e.secureTokenEndpoint || "https://securetoken.googleapis.com/v1/token", this.m = e.secureTokenTimeout || Hs, this.g = ht(e.secureTokenHeaders || qs), this.h = e.firebaseEndpoint || "https://www.googleapis.com/identitytoolkit/v3/relyingparty/", this.l = e.identityPlatformEndpoint || "https://identitytoolkit.googleapis.com/v2/", this.i = e.firebaseTimeout || Ws, this.a = ht(e.firebaseHeaders || Vs), i && (this.a["X-Client-Version"] = i, this.g["X-Client-Version"] = i), i = "Node" == ci(), !(i = s.XMLHttpRequest || i && t.INTERNAL.node && t.INTERNAL.node.XMLHttpRequest) && !hi()) throw new E("internal-error", "The XMLHttpRequest compatibility library was not found.");
                        this.f = void 0, hi() ? this.f = new es(self) : di() ? this.f = new Ms(i) : this.f = new Ho, this.b = null
                    }
                    w(Ls, N), w(Ms, Mo), Ms.prototype.a = function() {
                        return new this.f
                    }, Ms.prototype.b = function() {
                        return {}
                    };
                    var Us, js = "idToken",
                        Hs = new Ni(3e4, 6e4),
                        qs = {
                            "Content-Type": "application/x-www-form-urlencoded"
                        },
                        Ws = new Ni(3e4, 6e4),
                        Vs = {
                            "Content-Type": "application/json"
                        };

                    function Bs(t, e) {
                        e ? t.a["X-Firebase-Locale"] = e : delete t.a["X-Firebase-Locale"]
                    }

                    function zs(t, e) {
                        e ? (t.a["X-Client-Version"] = e, t.g["X-Client-Version"] = e) : (delete t.a["X-Client-Version"], delete t.g["X-Client-Version"])
                    }

                    function $s(t, e, n, i, r, o, a) {
                        var u;
                        (t = !((u = "Chrome" == fi(u = mi()) && (u = u.match(/\sChrome\/(\d+)/i)) && 2 == u.length ? parseInt(u[1], 10) : null) && u < 30 || Vt && Jt && !(9 < Jt)) || hi() ? y(t.w, t) : (Us = Us || new fe((function(t, e) {
                            ! function(t, e) {
                                ((window.gapi || {}).client || {}).request ? t() : (s[Gs] = function() {
                                    ((window.gapi || {}).client || {}).request ? t() : e(Error("CORS_UNSUPPORTED"))
                                }, function(t, e) {
                                    Is(t, null, e, void 0)
                                }(Ns(wt(Ks, {
                                    onload: Gs
                                })), (function() {
                                    e(Error("CORS_UNSUPPORTED"))
                                })))
                            }(t, e)
                        })), y(t.s, t)))(e, n, i, r, o, a)
                    }
                    Fs.prototype.S = function() {
                        return this.b
                    }, Fs.prototype.w = function(t, e, n, i, r, o) {
                        if (hi() && (void 0 === s.fetch || void 0 === s.Headers || void 0 === s.Request)) throw new E("operation-not-supported-in-this-environment", "fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");
                        var a = new as(this.f);
                        if (o) {
                            a.g = Math.max(0, o);
                            var u = setTimeout((function() {
                                a.dispatchEvent("timeout")
                            }), o)
                        }
                        pn(a, "complete", (function() {
                                u && clearTimeout(u);
                                var t = null;
                                try {
                                    t = JSON.parse(function(t) {
                                        try {
                                            return t.a ? t.a.responseText : ""
                                        } catch (e) {
                                            return ts(t.b, "Can not get responseText: " + e.message), ""
                                        }
                                    }(this)) || null
                                } catch (e) {
                                    t = null
                                }
                                e && e(t)
                            })), fn(a, "ready", (function() {
                                u && clearTimeout(u), Me(this)
                            })), fn(a, "timeout", (function() {
                                u && clearTimeout(u), Me(this), e && e(null)
                            })),
                            function(t, e, n, i, r) {
                                if (t.a) throw Error("[goog.net.XhrIo] Object is active with another request=" + t.l + "; newUri=" + e);
                                n = n ? n.toUpperCase() : "GET", t.l = e, t.h = "", t.P = n, t.N = !1, t.c = !0, t.a = t.D ? t.D.a() : Ao.a(), t.B = t.D ? Fo(t.D) : Fo(Ao), t.a.onreadystatechange = y(t.Sb, t);
                                try {
                                    ts(t.b, _s(t, "Opening Xhr")), t.O = !0, t.a.open(n, String(e), !0), t.O = !1
                                } catch (e) {
                                    return ts(t.b, _s(t, "Error opening Xhr: " + e.message)), void ds(t, e)
                                }
                                e = i || "";
                                var o, a = new bn(t.headers);
                                r && function(t, e) {
                                    if (t.forEach && "function" == typeof t.forEach) t.forEach(e, void 0);
                                    else if (c(t) || "string" == typeof t) j(t, e, void 0);
                                    else
                                        for (var n = _n(t), i = yn(t), r = i.length, o = 0; o < r; o++) e.call(void 0, i[o], n && n[o], t)
                                }(r, (function(t, e) {
                                    a.set(e, t)
                                })), r = function(t) {
                                    t: {
                                        for (var e = cs, n = t.length, i = "string" == typeof t ? t.split("") : t, r = 0; r < n; r++)
                                            if (r in i && e.call(void 0, i[r], r, t)) {
                                                e = r;
                                                break t
                                            } e = -1
                                    }
                                    return e < 0 ? null : "string" == typeof t ? t.charAt(e) : t[e]
                                }(a.X()), i = s.FormData && e instanceof s.FormData, !V(hs, n) || r || i || a.set("Content-Type", "application/x-www-form-urlencoded;charset=utf-8"), a.forEach((function(t, e) {
                                    this.a.setRequestHeader(e, t)
                                }), t), t.m && (t.a.responseType = t.m), "withCredentials" in t.a && t.a.withCredentials !== t.R && (t.a.withCredentials = t.R);
                                try {
                                    vs(t), 0 < t.g && (t.w = (o = t.a, Vt && te(9) && "number" == typeof o.timeout && void 0 !== o.ontimeout), ts(t.b, _s(t, "Will abort after " + t.g + "ms if incomplete, xhr2 " + t.w)), t.w ? (t.a.timeout = t.g, t.a.ontimeout = y(t.Ka, t)) : t.s = vn(t.Ka, t.g, t)), ts(t.b, _s(t, "Sending request")), t.i = !0, t.a.send(e), t.i = !1
                                } catch (e) {
                                    ts(t.b, _s(t, "Send error: " + e.message)), ds(t, e)
                                }
                            }(a, t, n, i, r)
                    };
                    var Ks = new ft(mt, "https://apis.google.com/js/client.js?onload=%{onload}"),
                        Gs = "__fcb" + Math.floor(1e6 * Math.random()).toString();

                    function Ys(t) {
                        if ("string" != typeof(t = t.email) || !si.test(t)) throw new E("invalid-email")
                    }

                    function Qs(t) {
                        "email" in t && Ys(t)
                    }

                    function Xs(t) {
                        if (!t[js]) {
                            if (t.mfaPendingCredential) throw new E("multi-factor-auth-required", null, ht(t));
                            throw new E("internal-error")
                        }
                    }

                    function Js(t) {
                        if (t.phoneNumber || t.temporaryProof) {
                            if (!t.phoneNumber || !t.temporaryProof) throw new E("internal-error")
                        } else {
                            if (!t.sessionInfo) throw new E("missing-verification-id");
                            if (!t.code) throw new E("missing-verification-code")
                        }
                    }
                    Fs.prototype.s = function(t, e, n, i, r) {
                        var o = this;
                        Us.then((function() {
                            window.gapi.client.setApiKey(o.c);
                            var s = window.gapi.auth.getToken();
                            window.gapi.auth.setToken(null), window.gapi.client.request({
                                path: t,
                                method: n,
                                body: i,
                                headers: r,
                                authType: "none",
                                callback: function(t) {
                                    window.gapi.auth.setToken(s), e && e(t)
                                }
                            })
                        })).o((function(t) {
                            e && e({
                                error: {
                                    message: t && t.message || "CORS_UNSUPPORTED"
                                }
                            })
                        }))
                    }, Fs.prototype.vb = function() {
                        return qa(this, Da, {})
                    }, Fs.prototype.xb = function(t, e) {
                        return qa(this, Sa, {
                            idToken: t,
                            email: e
                        })
                    }, Fs.prototype.yb = function(t, e) {
                        return qa(this, xa, {
                            idToken: t,
                            password: e
                        })
                    };
                    var Zs = {
                        displayName: "DISPLAY_NAME",
                        photoUrl: "PHOTO_URL"
                    };

                    function ta(t) {
                        if (!t.phoneVerificationInfo) throw new E("internal-error");
                        if (!t.phoneVerificationInfo.sessionInfo) throw new E("missing-verification-id");
                        if (!t.phoneVerificationInfo.code) throw new E("missing-verification-code")
                    }

                    function ea(t) {
                        if (!t.requestUri || !t.sessionId && !t.postBody && !t.pendingToken) throw new E("internal-error")
                    }

                    function na(t, e) {
                        return e.oauthIdToken && e.providerId && 0 == e.providerId.indexOf("oidc.") && !e.pendingToken && (t.sessionId ? e.nonce = t.sessionId : t.postBody && Bn(t = new Hn(t.postBody), "nonce") && (e.nonce = t.get("nonce"))), e
                    }

                    function ia(t) {
                        var e = null;
                        if (t.needConfirmation ? (t.code = "account-exists-with-different-credential", e = Lo(t)) : "FEDERATED_USER_ID_ALREADY_LINKED" == t.errorMessage ? (t.code = "credential-already-in-use", e = Lo(t)) : "EMAIL_EXISTS" == t.errorMessage ? (t.code = "email-already-in-use", e = Lo(t)) : t.errorMessage && (e = Wa(t.errorMessage)), e) throw e;
                        Xs(t)
                    }

                    function ra(t, e) {
                        return e.returnIdpCredential = !0, qa(t, Pa, e)
                    }

                    function oa(t, e) {
                        return e.returnIdpCredential = !0, qa(t, Ra, e)
                    }

                    function sa(t, e) {
                        return e.returnIdpCredential = !0, e.autoCreate = !1, qa(t, Oa, e)
                    }

                    function aa(t) {
                        if (!t.oobCode) throw new E("invalid-action-code")
                    }(e = Fs.prototype).zb = function(t, e) {
                        var n = {
                                idToken: t
                            },
                            i = [];
                        return ut(Zs, (function(t, r) {
                            var o = e[r];
                            null === o ? i.push(t) : r in e && (n[r] = o)
                        })), i.length && (n.deleteAttribute = i), qa(this, Sa, n)
                    }, e.rb = function(t, e) {
                        return dt(t = {
                            requestType: "PASSWORD_RESET",
                            email: t
                        }, e), qa(this, Ea, t)
                    }, e.sb = function(t, e) {
                        return dt(t = {
                            requestType: "EMAIL_SIGNIN",
                            email: t
                        }, e), qa(this, _a, t)
                    }, e.qb = function(t, e) {
                        return dt(t = {
                            requestType: "VERIFY_EMAIL",
                            idToken: t
                        }, e), qa(this, ba, t)
                    }, e.Ab = function(t, e, n) {
                        return dt(t = {
                            requestType: "VERIFY_AND_CHANGE_EMAIL",
                            idToken: t,
                            newEmail: e
                        }, n), qa(this, wa, t)
                    }, e.cb = function(t) {
                        return qa(this, Fa, t)
                    }, e.jb = function(t, e) {
                        return qa(this, Ca, {
                            oobCode: t,
                            newPassword: e
                        })
                    }, e.Pa = function(t) {
                        return qa(this, la, {
                            oobCode: t
                        })
                    }, e.fb = function(t) {
                        return qa(this, ua, {
                            oobCode: t
                        })
                    };
                    var ua = {
                            endpoint: "setAccountInfo",
                            A: aa,
                            Y: "email",
                            C: !0
                        },
                        la = {
                            endpoint: "resetPassword",
                            A: aa,
                            G: function(t) {
                                var e = t.requestType;
                                if (!e || !t.email && "EMAIL_SIGNIN" != e && "VERIFY_AND_CHANGE_EMAIL" != e) throw new E("internal-error")
                            },
                            C: !0
                        },
                        ha = {
                            endpoint: "signupNewUser",
                            A: function(t) {
                                if (Ys(t), !t.password) throw new E("weak-password")
                            },
                            G: Xs,
                            U: !0,
                            C: !0
                        },
                        ca = {
                            endpoint: "createAuthUri",
                            C: !0
                        },
                        da = {
                            endpoint: "deleteAccount",
                            M: ["idToken"]
                        },
                        pa = {
                            endpoint: "setAccountInfo",
                            M: ["idToken", "deleteProvider"],
                            A: function(t) {
                                if ("array" != h(t.deleteProvider)) throw new E("internal-error")
                            }
                        },
                        fa = {
                            endpoint: "emailLinkSignin",
                            M: ["email", "oobCode"],
                            A: Ys,
                            G: Xs,
                            U: !0,
                            C: !0
                        },
                        ga = {
                            endpoint: "emailLinkSignin",
                            M: ["idToken", "email", "oobCode"],
                            A: Ys,
                            G: Xs,
                            U: !0
                        },
                        va = {
                            endpoint: "accounts/mfaEnrollment:finalize",
                            M: ["idToken", "phoneVerificationInfo"],
                            A: ta,
                            G: Xs,
                            C: !0,
                            La: !0
                        },
                        ma = {
                            endpoint: "accounts/mfaSignIn:finalize",
                            M: ["mfaPendingCredential", "phoneVerificationInfo"],
                            A: ta,
                            G: Xs,
                            C: !0,
                            La: !0
                        },
                        ya = {
                            endpoint: "getAccountInfo"
                        },
                        _a = {
                            endpoint: "getOobConfirmationCode",
                            M: ["requestType"],
                            A: function(t) {
                                if ("EMAIL_SIGNIN" != t.requestType) throw new E("internal-error");
                                Ys(t)
                            },
                            Y: "email",
                            C: !0
                        },
                        ba = {
                            endpoint: "getOobConfirmationCode",
                            M: ["idToken", "requestType"],
                            A: function(t) {
                                if ("VERIFY_EMAIL" != t.requestType) throw new E("internal-error")
                            },
                            Y: "email",
                            C: !0
                        },
                        wa = {
                            endpoint: "getOobConfirmationCode",
                            M: ["idToken", "newEmail", "requestType"],
                            A: function(t) {
                                if ("VERIFY_AND_CHANGE_EMAIL" != t.requestType) throw new E("internal-error")
                            },
                            Y: "email",
                            C: !0
                        },
                        Ea = {
                            endpoint: "getOobConfirmationCode",
                            M: ["requestType"],
                            A: function(t) {
                                if ("PASSWORD_RESET" != t.requestType) throw new E("internal-error");
                                Ys(t)
                            },
                            Y: "email",
                            C: !0
                        },
                        Ia = {
                            hb: !0,
                            endpoint: "getProjectConfig",
                            Rb: "GET"
                        },
                        Ta = {
                            hb: !0,
                            endpoint: "getRecaptchaParam",
                            Rb: "GET",
                            G: function(t) {
                                if (!t.recaptchaSiteKey) throw new E("internal-error")
                            }
                        },
                        Ca = {
                            endpoint: "resetPassword",
                            A: aa,
                            Y: "email",
                            C: !0
                        },
                        ka = {
                            endpoint: "sendVerificationCode",
                            M: ["phoneNumber", "recaptchaToken"],
                            Y: "sessionInfo",
                            C: !0
                        },
                        Sa = {
                            endpoint: "setAccountInfo",
                            M: ["idToken"],
                            A: Qs,
                            U: !0
                        },
                        xa = {
                            endpoint: "setAccountInfo",
                            M: ["idToken"],
                            A: function(t) {
                                if (Qs(t), !t.password) throw new E("weak-password")
                            },
                            G: Xs,
                            U: !0
                        },
                        Da = {
                            endpoint: "signupNewUser",
                            G: Xs,
                            U: !0,
                            C: !0
                        },
                        Na = {
                            endpoint: "accounts/mfaEnrollment:start",
                            M: ["idToken", "phoneEnrollmentInfo"],
                            A: function(t) {
                                if (!t.phoneEnrollmentInfo) throw new E("internal-error");
                                if (!t.phoneEnrollmentInfo.phoneNumber) throw new E("missing-phone-number");
                                if (!t.phoneEnrollmentInfo.recaptchaToken) throw new E("missing-app-credential")
                            },
                            G: function(t) {
                                if (!t.phoneSessionInfo || !t.phoneSessionInfo.sessionInfo) throw new E("internal-error")
                            },
                            C: !0,
                            La: !0
                        },
                        Aa = {
                            endpoint: "accounts/mfaSignIn:start",
                            M: ["mfaPendingCredential", "mfaEnrollmentId", "phoneSignInInfo"],
                            A: function(t) {
                                if (!t.phoneSignInInfo || !t.phoneSignInInfo.recaptchaToken) throw new E("missing-app-credential")
                            },
                            G: function(t) {
                                if (!t.phoneResponseInfo || !t.phoneResponseInfo.sessionInfo) throw new E("internal-error")
                            },
                            C: !0,
                            La: !0
                        },
                        Pa = {
                            endpoint: "verifyAssertion",
                            A: ea,
                            Wa: na,
                            G: ia,
                            U: !0,
                            C: !0
                        },
                        Oa = {
                            endpoint: "verifyAssertion",
                            A: ea,
                            Wa: na,
                            G: function(t) {
                                if (t.errorMessage && "USER_NOT_FOUND" == t.errorMessage) throw new E("user-not-found");
                                if (t.errorMessage) throw Wa(t.errorMessage);
                                Xs(t)
                            },
                            U: !0,
                            C: !0
                        },
                        Ra = {
                            endpoint: "verifyAssertion",
                            A: function(t) {
                                if (ea(t), !t.idToken) throw new E("internal-error")
                            },
                            Wa: na,
                            G: ia,
                            U: !0
                        },
                        La = {
                            endpoint: "verifyCustomToken",
                            A: function(t) {
                                if (!t.token) throw new E("invalid-custom-token")
                            },
                            G: Xs,
                            U: !0,
                            C: !0
                        },
                        Ma = {
                            endpoint: "verifyPassword",
                            A: function(t) {
                                if (Ys(t), !t.password) throw new E("wrong-password")
                            },
                            G: Xs,
                            U: !0,
                            C: !0
                        },
                        Fa = {
                            endpoint: "verifyPhoneNumber",
                            A: Js,
                            G: Xs,
                            C: !0
                        },
                        Ua = {
                            endpoint: "verifyPhoneNumber",
                            A: function(t) {
                                if (!t.idToken) throw new E("internal-error");
                                Js(t)
                            },
                            G: function(t) {
                                if (t.temporaryProof) throw t.code = "credential-already-in-use", Lo(t);
                                Xs(t)
                            }
                        },
                        ja = {
                            Eb: {
                                USER_NOT_FOUND: "user-not-found"
                            },
                            endpoint: "verifyPhoneNumber",
                            A: Js,
                            G: Xs,
                            C: !0
                        },
                        Ha = {
                            endpoint: "accounts/mfaEnrollment:withdraw",
                            M: ["idToken", "mfaEnrollmentId"],
                            G: function(t) {
                                if (!!t[js] ^ !!t.refreshToken) throw new E("internal-error")
                            },
                            C: !0,
                            La: !0
                        };

                    function qa(t, e, n) {
                        if (! function(t, e) {
                                if (!e || !e.length) return 1;
                                if (t) {
                                    for (var n = 0; n < e.length; n++) {
                                        var i = t[e[n]];
                                        if (null == i || "" === i) return
                                    }
                                    return 1
                                }
                            }(n, e.M)) return Ee(new E("internal-error"));
                        var i, r = !!e.La,
                            o = e.Rb || "POST";
                        return we(n).then(e.A).then((function() {
                            return e.U && (n.returnSecureToken = !0), e.C && t.b && void 0 === n.tenantId && (n.tenantId = t.b),
                                function(t, e, n, i, r, o, s) {
                                    var a = Nn(e + n);
                                    xn(a, "key", t.c), s && xn(a, "cb", b().toString());
                                    var u = "GET" == i;
                                    if (u)
                                        for (var l in r) r.hasOwnProperty(l) && xn(a, l, r[l]);
                                    return new fe((function(e, n) {
                                        $s(t, a.toString(), (function(t) {
                                            t ? t.error ? n(Va(t, o || {})) : e(t) : n(new E("network-request-failed"))
                                        }), i, u ? void 0 : Gn(Ci(r)), t.a, t.i.get())
                                    }))
                                }(t, r ? t.l : t.h, e.endpoint, o, n, e.Eb, e.hb || !1)
                        })).then((function(t) {
                            return i = t, e.Wa ? e.Wa(n, i) : i
                        })).then(e.G).then((function() {
                            if (!e.Y) return i;
                            if (!(e.Y in i)) throw new E("internal-error");
                            return i[e.Y]
                        }))
                    }

                    function Wa(t) {
                        return Va({
                            error: {
                                errors: [{
                                    message: t
                                }],
                                code: 400,
                                message: t
                            }
                        })
                    }

                    function Va(t, e) {
                        var n = (t.error && t.error.errors && t.error.errors[0] || {}).reason || "",
                            i = {
                                keyInvalid: "invalid-api-key",
                                ipRefererBlocked: "app-not-authorized"
                            };
                        if (n = i[n] ? new E(i[n]) : null) return n;
                        for (var r in n = t.error && t.error.message || "", dt(i = {
                                INVALID_CUSTOM_TOKEN: "invalid-custom-token",
                                CREDENTIAL_MISMATCH: "custom-token-mismatch",
                                MISSING_CUSTOM_TOKEN: "internal-error",
                                INVALID_IDENTIFIER: "invalid-email",
                                MISSING_CONTINUE_URI: "internal-error",
                                INVALID_EMAIL: "invalid-email",
                                INVALID_PASSWORD: "wrong-password",
                                USER_DISABLED: "user-disabled",
                                MISSING_PASSWORD: "internal-error",
                                EMAIL_EXISTS: "email-already-in-use",
                                PASSWORD_LOGIN_DISABLED: "operation-not-allowed",
                                INVALID_IDP_RESPONSE: "invalid-credential",
                                INVALID_PENDING_TOKEN: "invalid-credential",
                                FEDERATED_USER_ID_ALREADY_LINKED: "credential-already-in-use",
                                MISSING_OR_INVALID_NONCE: "missing-or-invalid-nonce",
                                INVALID_MESSAGE_PAYLOAD: "invalid-message-payload",
                                INVALID_RECIPIENT_EMAIL: "invalid-recipient-email",
                                INVALID_SENDER: "invalid-sender",
                                EMAIL_NOT_FOUND: "user-not-found",
                                RESET_PASSWORD_EXCEED_LIMIT: "too-many-requests",
                                EXPIRED_OOB_CODE: "expired-action-code",
                                INVALID_OOB_CODE: "invalid-action-code",
                                MISSING_OOB_CODE: "internal-error",
                                INVALID_PROVIDER_ID: "invalid-provider-id",
                                CREDENTIAL_TOO_OLD_LOGIN_AGAIN: "requires-recent-login",
                                INVALID_ID_TOKEN: "invalid-user-token",
                                TOKEN_EXPIRED: "user-token-expired",
                                USER_NOT_FOUND: "user-token-expired",
                                CORS_UNSUPPORTED: "cors-unsupported",
                                DYNAMIC_LINK_NOT_ACTIVATED: "dynamic-link-not-activated",
                                INVALID_APP_ID: "invalid-app-id",
                                TOO_MANY_ATTEMPTS_TRY_LATER: "too-many-requests",
                                WEAK_PASSWORD: "weak-password",
                                OPERATION_NOT_ALLOWED: "operation-not-allowed",
                                USER_CANCELLED: "user-cancelled",
                                CAPTCHA_CHECK_FAILED: "captcha-check-failed",
                                INVALID_APP_CREDENTIAL: "invalid-app-credential",
                                INVALID_CODE: "invalid-verification-code",
                                INVALID_PHONE_NUMBER: "invalid-phone-number",
                                INVALID_SESSION_INFO: "invalid-verification-id",
                                INVALID_TEMPORARY_PROOF: "invalid-credential",
                                MISSING_APP_CREDENTIAL: "missing-app-credential",
                                MISSING_CODE: "missing-verification-code",
                                MISSING_PHONE_NUMBER: "missing-phone-number",
                                MISSING_SESSION_INFO: "missing-verification-id",
                                QUOTA_EXCEEDED: "quota-exceeded",
                                SESSION_EXPIRED: "code-expired",
                                REJECTED_CREDENTIAL: "rejected-credential",
                                INVALID_CONTINUE_URI: "invalid-continue-uri",
                                MISSING_ANDROID_PACKAGE_NAME: "missing-android-pkg-name",
                                MISSING_IOS_BUNDLE_ID: "missing-ios-bundle-id",
                                UNAUTHORIZED_DOMAIN: "unauthorized-continue-uri",
                                INVALID_DYNAMIC_LINK_DOMAIN: "invalid-dynamic-link-domain",
                                INVALID_OAUTH_CLIENT_ID: "invalid-oauth-client-id",
                                INVALID_CERT_HASH: "invalid-cert-hash",
                                UNSUPPORTED_TENANT_OPERATION: "unsupported-tenant-operation",
                                INVALID_TENANT_ID: "invalid-tenant-id",
                                TENANT_ID_MISMATCH: "tenant-id-mismatch",
                                ADMIN_ONLY_OPERATION: "admin-restricted-operation",
                                INVALID_MFA_PENDING_CREDENTIAL: "invalid-multi-factor-session",
                                MFA_ENROLLMENT_NOT_FOUND: "multi-factor-info-not-found",
                                MISSING_MFA_PENDING_CREDENTIAL: "missing-multi-factor-session",
                                MISSING_MFA_ENROLLMENT_ID: "missing-multi-factor-info",
                                EMAIL_CHANGE_NEEDS_VERIFICATION: "email-change-needs-verification",
                                SECOND_FACTOR_EXISTS: "second-factor-already-in-use",
                                SECOND_FACTOR_LIMIT_EXCEEDED: "maximum-second-factor-count-exceeded",
                                UNSUPPORTED_FIRST_FACTOR: "unsupported-first-factor",
                                UNVERIFIED_EMAIL: "unverified-email"
                            }, e || {}), e = (e = n.match(/^[^\s]+\s*:\s*([\s\S]*)$/)) && 1 < e.length ? e[1] : void 0, i)
                            if (0 === n.indexOf(r)) return new E(i[r], e);
                        return !e && t && (e = Ti(t)), new E("internal-error", e)
                    }

                    function Ba(t) {
                        var e;
                        this.b = t, this.a = null, this.nb = (e = this, (Ga = Ga || new fe((function(t, e) {
                            function n() {
                                Di(), yi("gapi.load")("gapi.iframes", {
                                    callback: t,
                                    ontimeout: function() {
                                        Di(), e(Error("Network Error"))
                                    },
                                    timeout: $a.get()
                                })
                            }
                            if (yi("gapi.iframes.Iframe")) t();
                            else if (yi("gapi.load")) n();
                            else {
                                var i = "__iframefcb" + Math.floor(1e6 * Math.random()).toString();
                                s[i] = function() {
                                    yi("gapi.load") ? n() : e(Error("Network Error"))
                                }, we(Ns(i = wt(za, {
                                    onload: i
                                }))).o((function() {
                                    e(Error("Network Error"))
                                }))
                            }
                        })).o((function(t) {
                            throw Ga = null, t
                        }))).then((function() {
                            return new fe((function(t, n) {
                                yi("gapi.iframes.getContext")().open({
                                    where: document.body,
                                    url: e.b,
                                    messageHandlersFilter: yi("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),
                                    attributes: {
                                        style: {
                                            position: "absolute",
                                            top: "-100px",
                                            width: "1px",
                                            height: "1px"
                                        }
                                    },
                                    dontclear: !0
                                }, (function(i) {
                                    function r() {
                                        clearTimeout(o), t()
                                    }
                                    e.a = i, e.a.restyle({
                                        setHideOnLeave: !1
                                    });
                                    var o = setTimeout((function() {
                                        n(Error("Network Error"))
                                    }), Ka.get());
                                    i.ping(r).then(r, (function() {
                                        n(Error("Network Error"))
                                    }))
                                }))
                            }))
                        })))
                    }
                    var za = new ft(mt, "https://apis.google.com/js/api.js?onload=%{onload}"),
                        $a = new Ni(3e4, 6e4),
                        Ka = new Ni(5e3, 15e3),
                        Ga = null;

                    function Ya(t, e, n) {
                        this.i = t, this.g = e, this.h = n, this.f = null, this.a = An(this.i, "/__/auth/iframe"), xn(this.a, "apiKey", this.g), xn(this.a, "appName", this.h), this.b = null, this.c = []
                    }

                    function Qa(t, e, n, i, r) {
                        this.s = t, this.m = e, this.c = n, this.u = i, this.i = this.g = this.l = null, this.a = r, this.h = this.f = null
                    }

                    function Xa(e) {
                        try {
                            return t.app(e).auth().Ea()
                        } catch (e) {
                            return []
                        }
                    }

                    function Ja(t, e, n, i, r) {
                        this.u = t, this.f = e, this.b = n, this.c = i || null, this.h = r || null, this.m = this.s = this.w = null, this.g = [], this.l = this.a = null
                    }

                    function Za(t) {
                        var e = ti();
                        return qa(t, Ia, {}).then((function(t) {
                            return t.authorizedDomains || []
                        })).then((function(t) {
                            t: {
                                var n = Nn(e),
                                    i = n.f;n = n.b;
                                for (var r = 0; r < t.length; r++) {
                                    var o = t[r],
                                        s = n,
                                        a = i;
                                    if (s = 0 == o.indexOf("chrome-extension://") ? Nn(o).b == s && "chrome-extension" == a : ("http" == a || "https" == a) && (oi.test(o) ? s == o : (o = o.split(".").join("\\."), new RegExp("^(.+\\." + o + "|" + o + ")$", "i").test(s)))) {
                                        t = !0;
                                        break t
                                    }
                                }
                                t = !1
                            }
                            if (!t) throw new Oo(ti())
                        }))
                    }

                    function tu(t) {
                        return t.l || (t.l = ai().then((function() {
                            if (!t.s) {
                                var e = t.c,
                                    n = t.h,
                                    i = Xa(t.b),
                                    r = new Ya(t.u, t.f, t.b);
                                r.f = e, r.b = n, r.c = K(i || []), t.s = r.toString()
                            }
                            t.i = new Ba(t.s),
                                function(t) {
                                    if (!t.i) throw Error("IfcHandler must be initialized!");
                                    ! function(t, e) {
                                        t.nb.then((function() {
                                            t.a.register("authEvent", e, yi("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))
                                        }))
                                    }(t.i, (function(e) {
                                        var n = {};
                                        if (e && e.authEvent) {
                                            var i = !1;
                                            for (e = Do(e.authEvent), n = 0; n < t.g.length; n++) i = t.g[n](e) || i;
                                            return (n = {}).status = i ? "ACK" : "ERROR", we(n)
                                        }
                                        return n.status = "ERROR", we(n)
                                    }))
                                }(t)
                        }))), t.l
                    }

                    function eu(t) {
                        return t.m || (t.w = t.c ? vi(t.c, Xa(t.b)) : null, t.m = new Fs(t.f, x(t.h), t.w)), t.m
                    }

                    function nu(t, e, n, i, r, o, s, a, u, l, h) {
                        return (t = new Qa(t, e, n, i, r)).l = o, t.g = s, t.i = a, t.b = ht(u || null), t.f = l, t.ub(h).toString()
                    }

                    function iu(e) {
                        if (this.a = e || t.INTERNAL.reactNative && t.INTERNAL.reactNative.AsyncStorage, !this.a) throw new E("internal-error", "The React Native compatibility library was not found.");
                        this.type = "asyncStorage"
                    }

                    function ru(t) {
                        this.b = t, this.a = {}, this.f = y(this.c, this)
                    }
                    Ya.prototype.toString = function() {
                        return this.f ? xn(this.a, "v", this.f) : Vn(this.a.a, "v"), this.b ? xn(this.a, "eid", this.b) : Vn(this.a.a, "eid"), this.c.length ? xn(this.a, "fw", this.c.join(",")) : Vn(this.a.a, "fw"), this.a.toString()
                    }, Qa.prototype.ub = function(t) {
                        return this.h = t, this
                    }, Qa.prototype.toString = function() {
                        var e = An(this.s, "/__/auth/handler");
                        if (xn(e, "apiKey", this.m), xn(e, "appName", this.c), xn(e, "authType", this.u), this.a.isOAuthProvider) {
                            var n = this.a;
                            try {
                                var i = t.app(this.c).auth().ja()
                            } catch (e) {
                                i = null
                            }
                            for (var r in n.kb = i, xn(e, "providerId", this.a.providerId), i = Ci((n = this.a).Fb)) i[r] = i[r].toString();
                            r = n.Oc, i = ht(i);
                            for (var o = 0; o < r.length; o++) {
                                var s = r[o];
                                s in i && delete i[s]
                            }
                            n.lb && n.kb && !i[n.lb] && (i[n.lb] = n.kb), lt(i) || xn(e, "customParameters", Ti(i))
                        }
                        if ("function" == typeof this.a.Nb && (n = this.a.Nb()).length && xn(e, "scopes", n.join(",")), this.l ? xn(e, "redirectUrl", this.l) : Vn(e.a, "redirectUrl"), this.g ? xn(e, "eventId", this.g) : Vn(e.a, "eventId"), this.i ? xn(e, "v", this.i) : Vn(e.a, "v"), this.b)
                            for (var a in this.b) this.b.hasOwnProperty(a) && !Dn(e, a) && xn(e, a, this.b[a]);
                        return this.h ? xn(e, "tid", this.h) : Vn(e.a, "tid"), this.f ? xn(e, "eid", this.f) : Vn(e.a, "eid"), (a = Xa(this.c)).length && xn(e, "fw", a.join(",")), e.toString()
                    }, (e = Ja.prototype).Lb = function(t, e, n) {
                        var i = new E("popup-closed-by-user"),
                            r = new E("web-storage-unsupported"),
                            o = this,
                            s = !1;
                        return this.ka().then((function() {
                            var n, i;
                            i = {
                                type: "webStorageSupport"
                            }, tu(n = o).then((function() {
                                return t = n.i, e = i, t.nb.then((function() {
                                    return new fe((function(n) {
                                        t.a.send(e.type, e, n, yi("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))
                                    }))
                                }));
                                var t, e
                            })).then((function(t) {
                                if (t && t.length && void 0 !== t[0].webStorageSupport) return t[0].webStorageSupport;
                                throw Error()
                            })).then((function(n) {
                                n || (t && ii(t), e(r), s = !0)
                            }))
                        })).o((function() {})).then((function() {
                            if (!s) return e = t, new fe((function(t) {
                                return function n() {
                                    mn(2e3).then((function() {
                                        if (e && !e.closed) return n();
                                        t()
                                    }))
                                }()
                            }));
                            var e
                        })).then((function() {
                            if (!s) return mn(n).then((function() {
                                e(i)
                            }))
                        }))
                    }, e.Ub = function() {
                        var t = mi();
                        return !Ii(t) && !xi(t)
                    }, e.Qb = function() {
                        return !1
                    }, e.Jb = function(t, e, n, i, r, o, s, a) {
                        if (!t) return Ee(new E("popup-blocked"));
                        if (s && !Ii()) return this.ka().o((function(e) {
                            ii(t), r(e)
                        })), i(), we();
                        this.a || (this.a = Za(eu(this)));
                        var u = this;
                        return this.a.then((function() {
                            var e = u.ka().o((function(e) {
                                throw ii(t), r(e), e
                            }));
                            return i(), e
                        })).then((function() {
                            So(n), s || ei(nu(u.u, u.f, u.b, e, n, null, o, u.c, void 0, u.h, a), t)
                        })).o((function(t) {
                            throw "auth/network-request-failed" == t.code && (u.a = null), t
                        }))
                    }, e.Kb = function(t, e, n, i) {
                        this.a || (this.a = Za(eu(this)));
                        var r = this;
                        return this.a.then((function() {
                            So(e), ei(nu(r.u, r.f, r.b, t, e, ti(), n, r.c, void 0, r.h, i))
                        })).o((function(t) {
                            throw "auth/network-request-failed" == t.code && (r.a = null), t
                        }))
                    }, e.ka = function() {
                        var t = this;
                        return tu(this).then((function() {
                            return t.i.nb
                        })).o((function() {
                            throw t.a = null, new E("network-request-failed")
                        }))
                    }, e.Xb = function() {
                        return !0
                    }, e.Ca = function(t) {
                        this.g.push(t)
                    }, e.Qa = function(t) {
                        z(this.g, (function(e) {
                            return e == t
                        }))
                    }, (e = iu.prototype).get = function(t) {
                        return we(this.a.getItem(t)).then((function(t) {
                            return t && ki(t)
                        }))
                    }, e.set = function(t, e) {
                        return we(this.a.setItem(t, Ti(e)))
                    }, e.T = function(t) {
                        return we(this.a.removeItem(t))
                    }, e.ba = function() {}, e.ha = function() {};
                    var ou, su = [];

                    function au(t, e, n) {
                        lt(t.a) && t.b.addEventListener("message", t.f), void 0 === t.a[e] && (t.a[e] = []), t.a[e].push(n)
                    }

                    function uu(t) {
                        this.a = t
                    }

                    function lu(t) {
                        this.c = t, this.b = !1, this.a = []
                    }

                    function hu(t, e, n, i) {
                        var r, o, s, a, u = n || {},
                            l = null;
                        if (t.b) return Ee(Error("connection_unavailable"));
                        var h = i ? 800 : 50,
                            c = "undefined" != typeof MessageChannel ? new MessageChannel : null;
                        return new fe((function(n, i) {
                            c ? (r = Math.floor(Math.random() * Math.pow(10, 20)).toString(), c.port1.start(), s = setTimeout((function() {
                                i(Error("unsupported_event"))
                            }), h), l = {
                                messageChannel: c,
                                onMessage: o = function(t) {
                                    t.data.eventId === r && ("ack" === t.data.status ? (clearTimeout(s), a = setTimeout((function() {
                                        i(Error("timeout"))
                                    }), 3e3)) : "done" === t.data.status ? (clearTimeout(a), void 0 !== t.data.response ? n(t.data.response) : i(Error("unknown_error"))) : (clearTimeout(s), clearTimeout(a), i(Error("invalid_response"))))
                                }
                            }, t.a.push(l), c.port1.addEventListener("message", o), t.c.postMessage({
                                eventType: e,
                                eventId: r,
                                data: u
                            }, [c.port2])) : i(Error("connection_unavailable"))
                        })).then((function(e) {
                            return cu(t, l), e
                        })).o((function(e) {
                            throw cu(t, l), e
                        }))
                    }

                    function cu(t, e) {
                        if (e) {
                            var n = e.messageChannel,
                                i = e.onMessage;
                            n && (n.port1.removeEventListener("message", i), n.port1.close()), z(t.a, (function(t) {
                                return t == e
                            }))
                        }
                    }

                    function du() {
                        if (!fu()) throw new E("web-storage-unsupported");
                        this.c = {}, this.a = [], this.b = 0, this.u = s.indexedDB, this.type = "indexedDB", this.g = this.l = this.f = this.i = null, this.s = !1, this.h = null;
                        var t, e = this;
                        hi() && self ? (this.l = function() {
                            var t = hi() ? self : null;
                            if (j(su, (function(n) {
                                    n.b == t && (e = n)
                                })), !e) {
                                var e = new ru(t);
                                su.push(e)
                            }
                            return e
                        }(), au(this.l, "keyChanged", (function(t, n) {
                            return _u(e).then((function(t) {
                                return 0 < t.length && j(e.a, (function(e) {
                                    e(t)
                                })), {
                                    keyProcessed: V(t, n.key)
                                }
                            }))
                        })), au(this.l, "ping", (function() {
                            return we(["keyChanged"])
                        }))) : ((t = s.navigator) && t.serviceWorker ? we().then((function() {
                            return t.serviceWorker.ready
                        })).then((function(t) {
                            return t.active || null
                        })).o((function() {
                            return null
                        })) : we(null)).then((function(t) {
                            (e.h = t) && (e.g = new lu(new uu(t)), hu(e.g, "ping", null, !0).then((function(t) {
                                t[0].fulfilled && V(t[0].value, "keyChanged") && (e.s = !0)
                            })).o((function() {})))
                        }))
                    }

                    function pu(t) {
                        return t.m || (t.m = function t(e) {
                            return new fe((function(n, i) {
                                var r = e.u.open("firebaseLocalStorageDb", 1);
                                r.onerror = function(t) {
                                    try {
                                        t.preventDefault()
                                    } catch (t) {}
                                    i(Error(t.target.error))
                                }, r.onupgradeneeded = function(t) {
                                    t = t.target.result;
                                    try {
                                        t.createObjectStore("firebaseLocalStorage", {
                                            keyPath: "fbase_key"
                                        })
                                    } catch (t) {
                                        i(t)
                                    }
                                }, r.onsuccess = function(r) {
                                    var o;
                                    (r = r.target.result).objectStoreNames.contains("firebaseLocalStorage") ? n(r) : (o = e, new fe((function(t, e) {
                                        var n = o.u.deleteDatabase("firebaseLocalStorageDb");
                                        n.onsuccess = function() {
                                            t()
                                        }, n.onerror = function(t) {
                                            e(Error(t.target.error))
                                        }
                                    })).then((function() {
                                        return t(e)
                                    })).then((function(t) {
                                        n(t)
                                    })).o((function(t) {
                                        i(t)
                                    })))
                                }
                            }))
                        }(t)), t.m
                    }

                    function fu() {
                        try {
                            return s.indexedDB
                        } catch (t) {
                            return
                        }
                    }

                    function gu(t) {
                        return t.objectStore("firebaseLocalStorage")
                    }

                    function vu(t, e) {
                        return t.transaction(["firebaseLocalStorage"], e ? "readwrite" : "readonly")
                    }

                    function mu(t) {
                        return new fe((function(e, n) {
                            t.onsuccess = function(t) {
                                t && t.target ? e(t.target.result) : e()
                            }, t.onerror = function(t) {
                                n(t.target.error)
                            }
                        }))
                    }

                    function yu(t, e) {
                        return t.g && t.h && ((n = s.navigator) && n.serviceWorker && n.serviceWorker.controller || null) === t.h ? hu(t.g, "keyChanged", {
                            key: e
                        }, t.s).then((function() {})).o((function() {})) : we();
                        var n
                    }

                    function _u(t) {
                        return pu(t).then((function(t) {
                            var e = gu(vu(t, !1));
                            return e.getAll ? mu(e.getAll()) : new fe((function(t, n) {
                                var i = [],
                                    r = e.openCursor();
                                r.onsuccess = function(e) {
                                    (e = e.target.result) ? (i.push(e.value), e.continue()) : t(i)
                                }, r.onerror = function(t) {
                                    n(t.target.error)
                                }
                            }))
                        })).then((function(e) {
                            var n = {},
                                i = [];
                            if (0 == t.b) {
                                for (i = 0; i < e.length; i++) n[e[i].fbase_key] = e[i].value;
                                i = function t(e, n) {
                                    var i, r = [];
                                    for (i in e) i in n && typeof e[i] == typeof n[i] ? "object" == typeof e[i] && null != e[i] && null != n[i] ? 0 < t(e[i], n[i]).length && r.push(i) : e[i] !== n[i] && r.push(i) : r.push(i);
                                    for (i in n) i in e || r.push(i);
                                    return r
                                }(t.c, n), t.c = n
                            }
                            return i
                        }))
                    }

                    function bu(t) {
                        t.i && t.i.cancel("STOP_EVENT"), t.f && (clearTimeout(t.f), t.f = null)
                    }

                    function wu(t) {
                        var e = this,
                            n = null;
                        this.a = [], this.type = "indexedDB", this.c = t, this.b = we().then((function() {
                            if (fu()) {
                                var t = Si(),
                                    i = "__sak" + t;
                                return ou = ou || new du, (n = ou).set(i, t).then((function() {
                                    return n.get(i)
                                })).then((function(e) {
                                    if (e !== t) throw Error("indexedDB not supported!");
                                    return n.T(i)
                                })).then((function() {
                                    return n
                                })).o((function() {
                                    return e.c
                                }))
                            }
                            return e.c
                        })).then((function(t) {
                            return e.type = t.type, t.ba((function(t) {
                                j(e.a, (function(e) {
                                    e(t)
                                }))
                            })), t
                        }))
                    }

                    function Eu() {
                        this.a = {}, this.type = "inMemory"
                    }

                    function Iu() {
                        if (! function() {
                                var e = "Node" == ci();
                                if (e = Tu() || e && t.INTERNAL.node && t.INTERNAL.node.localStorage) try {
                                    return e.setItem("__sak", "1"), e.removeItem("__sak"), 1
                                } catch (e) {
                                    return
                                }
                            }()) {
                            if ("Node" == ci()) throw new E("internal-error", "The LocalStorage compatibility library was not found.");
                            throw new E("web-storage-unsupported")
                        }
                        this.a = Tu() || t.INTERNAL.node.localStorage, this.type = "localStorage"
                    }

                    function Tu() {
                        try {
                            var t = s.localStorage,
                                e = Si();
                            return t && (t.setItem(e, "1"), t.removeItem(e)), t
                        } catch (t) {
                            return null
                        }
                    }

                    function Cu() {
                        this.type = "nullStorage"
                    }

                    function ku() {
                        if (! function() {
                                var e = "Node" == ci();
                                if (e = Su() || e && t.INTERNAL.node && t.INTERNAL.node.sessionStorage) try {
                                    return e.setItem("__sak", "1"), e.removeItem("__sak"), 1
                                } catch (e) {
                                    return
                                }
                            }()) {
                            if ("Node" == ci()) throw new E("internal-error", "The SessionStorage compatibility library was not found.");
                            throw new E("web-storage-unsupported")
                        }
                        this.a = Su() || t.INTERNAL.node.sessionStorage, this.type = "sessionStorage"
                    }

                    function Su() {
                        try {
                            var t = s.sessionStorage,
                                e = Si();
                            return t && (t.setItem(e, "1"), t.removeItem(e)), t
                        } catch (t) {
                            return null
                        }
                    }

                    function xu() {
                        var t = {};
                        t.Browser = Au, t.Node = Pu, t.ReactNative = Ou, t.Worker = Ru, this.a = t[ci()]
                    }
                    ru.prototype.c = function(t) {
                        var e = t.data.eventType,
                            n = t.data.eventId,
                            i = this.a[e];
                        if (i && 0 < i.length) {
                            t.ports[0].postMessage({
                                status: "ack",
                                eventId: n,
                                eventType: e,
                                response: null
                            });
                            var r = [];
                            j(i, (function(e) {
                                r.push(we().then((function() {
                                    return e(t.origin, t.data.data)
                                })))
                            })), Te(r).then((function(i) {
                                var r = [];
                                j(i, (function(t) {
                                    r.push({
                                        fulfilled: t.Mb,
                                        value: t.value,
                                        reason: t.reason ? t.reason.message : void 0
                                    })
                                })), j(r, (function(t) {
                                    for (var e in t) void 0 === t[e] && delete t[e]
                                })), t.ports[0].postMessage({
                                    status: "done",
                                    eventId: n,
                                    eventType: e,
                                    response: r
                                })
                            }))
                        }
                    }, uu.prototype.postMessage = function(t, e) {
                        this.a.postMessage(t, e)
                    }, lu.prototype.close = function() {
                        for (; 0 < this.a.length;) cu(this, this.a[0]);
                        this.b = !0
                    }, (e = du.prototype).set = function(t, e) {
                        var n, i = !1,
                            r = this;
                        return pu(this).then((function(e) {
                            return mu((e = gu(vu(n = e, !0))).get(t))
                        })).then((function(o) {
                            var s = gu(vu(n, !0));
                            return o ? (o.value = e, mu(s.put(o))) : (r.b++, i = !0, (o = {}).fbase_key = t, o.value = e, mu(s.add(o)))
                        })).then((function() {
                            return r.c[t] = e, yu(r, t)
                        })).ma((function() {
                            i && r.b--
                        }))
                    }, e.get = function(t) {
                        return pu(this).then((function(e) {
                            return mu(gu(vu(e, !1)).get(t))
                        })).then((function(t) {
                            return t && t.value
                        }))
                    }, e.T = function(t) {
                        var e = !1,
                            n = this;
                        return pu(this).then((function(i) {
                            return e = !0, n.b++, mu(gu(vu(i, !0)).delete(t))
                        })).then((function() {
                            return delete n.c[t], yu(n, t)
                        })).ma((function() {
                            e && n.b--
                        }))
                    }, e.ba = function(t) {
                        var e;
                        0 == this.a.length && (bu(e = this), function t() {
                            e.f = setTimeout((function() {
                                e.i = _u(e).then((function(t) {
                                    0 < t.length && j(e.a, (function(e) {
                                        e(t)
                                    }))
                                })).then((function() {
                                    t()
                                })).o((function(e) {
                                    "STOP_EVENT" != e.message && t()
                                }))
                            }), 800)
                        }()), this.a.push(t)
                    }, e.ha = function(t) {
                        z(this.a, (function(e) {
                            return e == t
                        })), 0 == this.a.length && bu(this)
                    }, (e = wu.prototype).get = function(t) {
                        return this.b.then((function(e) {
                            return e.get(t)
                        }))
                    }, e.set = function(t, e) {
                        return this.b.then((function(n) {
                            return n.set(t, e)
                        }))
                    }, e.T = function(t) {
                        return this.b.then((function(e) {
                            return e.T(t)
                        }))
                    }, e.ba = function(t) {
                        this.a.push(t)
                    }, e.ha = function(t) {
                        z(this.a, (function(e) {
                            return e == t
                        }))
                    }, (e = Eu.prototype).get = function(t) {
                        return we(this.a[t])
                    }, e.set = function(t, e) {
                        return this.a[t] = e, we()
                    }, e.T = function(t) {
                        return delete this.a[t], we()
                    }, e.ba = function() {}, e.ha = function() {}, (e = Iu.prototype).get = function(t) {
                        var e = this;
                        return we().then((function() {
                            return ki(e.a.getItem(t))
                        }))
                    }, e.set = function(t, e) {
                        var n = this;
                        return we().then((function() {
                            var i = Ti(e);
                            null === i ? n.T(t) : n.a.setItem(t, i)
                        }))
                    }, e.T = function(t) {
                        var e = this;
                        return we().then((function() {
                            e.a.removeItem(t)
                        }))
                    }, e.ba = function(t) {
                        s.window && Ze(s.window, "storage", t)
                    }, e.ha = function(t) {
                        s.window && nn(s.window, "storage", t)
                    }, (e = Cu.prototype).get = function() {
                        return we(null)
                    }, e.set = function() {
                        return we()
                    }, e.T = function() {
                        return we()
                    }, e.ba = function() {}, e.ha = function() {}, (e = ku.prototype).get = function(t) {
                        var e = this;
                        return we().then((function() {
                            return ki(e.a.getItem(t))
                        }))
                    }, e.set = function(t, e) {
                        var n = this;
                        return we().then((function() {
                            var i = Ti(e);
                            null === i ? n.T(t) : n.a.setItem(t, i)
                        }))
                    }, e.T = function(t) {
                        var e = this;
                        return we().then((function() {
                            e.a.removeItem(t)
                        }))
                    }, e.ba = function() {}, e.ha = function() {};
                    var Du, Nu, Au = {
                            F: Iu,
                            $a: ku
                        },
                        Pu = {
                            F: Iu,
                            $a: ku
                        },
                        Ou = {
                            F: iu,
                            $a: Cu
                        },
                        Ru = {
                            F: Iu,
                            $a: Cu
                        },
                        Lu = {
                            od: "local",
                            NONE: "none",
                            qd: "session"
                        };

                    function Mu() {
                        var t = !(xi(mi()) || !li()),
                            e = Ii(),
                            n = _i();
                        this.m = t, this.h = e, this.l = n, this.a = {}, t = Du = Du || new xu;
                        try {
                            this.g = !Zn() && Oi() || !s.indexedDB ? new t.a.F : new wu(hi() ? new Eu : new t.a.F)
                        } catch (t) {
                            this.g = new Eu, this.h = !0
                        }
                        try {
                            this.i = new t.a.$a
                        } catch (t) {
                            this.i = new Eu
                        }
                        this.u = new Eu, this.f = y(this.Vb, this), this.b = {}
                    }

                    function Fu() {
                        return Nu = Nu || new Mu
                    }

                    function Uu(t, e) {
                        switch (e) {
                            case "session":
                                return t.i;
                            case "none":
                                return t.u;
                            default:
                                return t.g
                        }
                    }

                    function ju(t, e) {
                        return "firebase:" + t.name + (e ? ":" + e : "")
                    }

                    function Hu(t, e, n) {
                        return n = ju(e, n), "local" == e.F && (t.b[n] = null), Uu(t, e.F).T(n)
                    }

                    function qu(t) {
                        t.c && (clearInterval(t.c), t.c = null)
                    }

                    function Wu(t) {
                        this.a = t, this.b = Fu()
                    }(e = Mu.prototype).get = function(t, e) {
                        return Uu(this, t.F).get(ju(t, e))
                    }, e.set = function(t, e, n) {
                        var i = ju(t, n),
                            r = this,
                            o = Uu(this, t.F);
                        return o.set(i, e).then((function() {
                            return o.get(i)
                        })).then((function(e) {
                            "local" == t.F && (r.b[i] = e)
                        }))
                    }, e.addListener = function(t, e, n) {
                        var i;
                        t = ju(t, e), this.l && (this.b[t] = s.localStorage.getItem(t)), lt(this.a) && (Uu(this, "local").ba(this.f), this.h || (Zn() || !Oi()) && s.indexedDB || !this.l || (qu(i = this), i.c = setInterval((function() {
                            for (var t in i.a) {
                                var e = s.localStorage.getItem(t),
                                    n = i.b[t];
                                e != n && (i.b[t] = e, e = new We({
                                    type: "storage",
                                    key: t,
                                    target: window,
                                    oldValue: n,
                                    newValue: e,
                                    a: !0
                                }), i.Vb(e))
                            }
                        }), 1e3))), this.a[t] || (this.a[t] = []), this.a[t].push(n)
                    }, e.removeListener = function(t, e, n) {
                        t = ju(t, e), this.a[t] && (z(this.a[t], (function(t) {
                            return t == n
                        })), 0 == this.a[t].length && delete this.a[t]), lt(this.a) && (Uu(this, "local").ha(this.f), qu(this))
                    }, e.Vb = function(t) {
                        if (t && t.f) {
                            var e = t.a.key;
                            if (null == e)
                                for (var n in this.a) {
                                    var i = this.b[n];
                                    void 0 === i && (i = null);
                                    var r = s.localStorage.getItem(n);
                                    r !== i && (this.b[n] = r, this.ib(n))
                                } else if (0 == e.indexOf("firebase:") && this.a[e]) {
                                    if (void 0 !== t.a.a ? Uu(this, "local").ha(this.f) : qu(this), this.m)
                                        if (n = s.localStorage.getItem(e), (i = t.a.newValue) !== n) null !== i ? s.localStorage.setItem(e, i) : s.localStorage.removeItem(e);
                                        else if (this.b[e] === i && void 0 === t.a.a) return;
                                    var o = this;
                                    n = function() {
                                        void 0 === t.a.a && o.b[e] === s.localStorage.getItem(e) || (o.b[e] = s.localStorage.getItem(e), o.ib(e))
                                    }, Vt && Jt && 10 == Jt && s.localStorage.getItem(e) !== t.a.newValue && t.a.newValue !== t.a.oldValue ? setTimeout(n, 10) : n()
                                }
                        } else j(t, y(this.ib, this))
                    }, e.ib = function(t) {
                        this.a[t] && j(this.a[t], (function(t) {
                            t()
                        }))
                    };
                    var Vu, Bu = {
                        name: "authEvent",
                        F: "local"
                    };

                    function zu() {
                        this.a = Fu()
                    }

                    function $u(t, e) {
                        this.b = Ku, this.f = s.Uint8Array ? new Uint8Array(this.b) : Array(this.b), this.g = this.c = 0, this.a = [], this.i = t, this.h = e, this.l = s.Int32Array ? new Int32Array(64) : Array(64), void 0 === Vu && (Vu = s.Int32Array ? new Int32Array(tl) : tl), this.reset()
                    }
                    w($u, (function() {
                        this.b = -1
                    }));
                    for (var Ku = 64, Gu = Ku - 1, Yu = [], Qu = 0; Qu < Gu; Qu++) Yu[Qu] = 0;
                    var Xu = $(128, Yu);

                    function Ju(t) {
                        for (var e = t.f, n = t.l, i = 0, r = 0; r < e.length;) n[i++] = e[r] << 24 | e[r + 1] << 16 | e[r + 2] << 8 | e[r + 3], r = 4 * i;
                        for (e = 16; e < 64; e++) {
                            r = 0 | n[e - 15], i = 0 | n[e - 2];
                            var o = (0 | n[e - 16]) + ((r >>> 7 | r << 25) ^ (r >>> 18 | r << 14) ^ r >>> 3) | 0,
                                s = (0 | n[e - 7]) + ((i >>> 17 | i << 15) ^ (i >>> 19 | i << 13) ^ i >>> 10) | 0;
                            n[e] = o + s | 0
                        }
                        i = 0 | t.a[0], r = 0 | t.a[1];
                        var a = 0 | t.a[2],
                            u = 0 | t.a[3],
                            l = 0 | t.a[4],
                            h = 0 | t.a[5],
                            c = 0 | t.a[6];
                        for (o = 0 | t.a[7], e = 0; e < 64; e++) {
                            var d = ((i >>> 2 | i << 30) ^ (i >>> 13 | i << 19) ^ (i >>> 22 | i << 10)) + (i & r ^ i & a ^ r & a) | 0;
                            s = (o = o + ((l >>> 6 | l << 26) ^ (l >>> 11 | l << 21) ^ (l >>> 25 | l << 7)) | 0) + ((s = (s = l & h ^ ~l & c) + (0 | Vu[e]) | 0) + (0 | n[e]) | 0) | 0, o = c, c = h, h = l, l = u + s | 0, u = a, a = r, r = i, i = s + d | 0
                        }
                        t.a[0] = t.a[0] + i | 0, t.a[1] = t.a[1] + r | 0, t.a[2] = t.a[2] + a | 0, t.a[3] = t.a[3] + u | 0, t.a[4] = t.a[4] + l | 0, t.a[5] = t.a[5] + h | 0, t.a[6] = t.a[6] + c | 0, t.a[7] = t.a[7] + o | 0
                    }

                    function Zu(t, e, n) {
                        void 0 === n && (n = e.length);
                        var i = 0,
                            r = t.c;
                        if ("string" == typeof e)
                            for (; i < n;) t.f[r++] = e.charCodeAt(i++), r == t.b && (Ju(t), r = 0);
                        else {
                            if (!c(e)) throw Error("message must be string or array");
                            for (; i < n;) {
                                var o = e[i++];
                                if (!("number" == typeof o && 0 <= o && o <= 255 && o == (0 | o))) throw Error("message must be a byte array");
                                t.f[r++] = o, r == t.b && (Ju(t), r = 0)
                            }
                        }
                        t.c = r, t.g += n
                    }
                    $u.prototype.reset = function() {
                        this.g = this.c = 0, this.a = s.Int32Array ? new Int32Array(this.h) : K(this.h)
                    };
                    var tl = [1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993, 2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987, 1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774, 264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986, 2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711, 113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291, 1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411, 3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344, 430227734, 506948616, 659060556, 883997877, 958139571, 1322822218, 1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424, 2428436474, 2756734187, 3204031479, 3329325298];

                    function el() {
                        $u.call(this, 8, nl)
                    }
                    w(el, $u);
                    var nl = [1779033703, 3144134277, 1013904242, 2773480762, 1359893119, 2600822924, 528734635, 1541459225];

                    function il(t, e, n, i, r) {
                        this.u = t, this.i = e, this.l = n, this.m = i || null, this.s = r || null, this.h = e + ":" + n, this.w = new zu, this.g = new Wu(this.h), this.f = null, this.b = [], this.a = this.c = null
                    }

                    function rl(t) {
                        return new E("invalid-cordova-configuration", t)
                    }

                    function ol(t, e) {
                        for (var n = 0; n < t.b.length; n++) try {
                            t.b[n](e)
                        } catch (t) {}
                    }

                    function sl(t) {
                        return t.f || (t.f = t.ka().then((function() {
                            return new fe((function(e) {
                                function n(t) {
                                    o = !0, a && a.cancel(), al(i).then((function(e) {
                                        var n = r;
                                        if (e && t && t.url) {
                                            var o = null; - 1 != (n = $r(t.url)).indexOf("/__/auth/callback") && (o = (o = "object" == typeof(o = ki(Dn(o = Nn(n), "firebaseError") || null)) ? I(o) : null) ? new xo(e.c, e.b, null, null, o, null, e.S()) : new xo(e.c, e.b, n, e.f, null, null, e.S())), n = o || r
                                        }
                                        ol(i, n)
                                    }))
                                }
                                var i, r, o, a, u;
                                t.Ca((function n(i) {
                                        return e(i), t.Qa(n), !1
                                    })), i = t, r = new xo("unknown", null, null, null, new E("no-auth-event")), o = !1, a = mn(500).then((function() {
                                        return al(i).then((function() {
                                            o || ol(i, r)
                                        }))
                                    })), u = s.handleOpenURL, s.handleOpenURL = function(t) {
                                        if (0 == t.toLowerCase().indexOf(yi("BuildInfo.packageName", s).toLowerCase() + "://") && n({
                                                url: t
                                            }), "function" == typeof u) try {
                                            u(t)
                                        } catch (t) {
                                            console.error(t)
                                        }
                                    }, Po = Po || new No,
                                    function(t) {
                                        var e = Po;
                                        e.a.push(t), e.b || (e.b = function(t) {
                                            for (var n = 0; n < e.a.length; n++) e.a[n](t)
                                        }, "function" == typeof(t = yi("universalLinks.subscribe", s)) && t(null, e.b))
                                    }(n)
                            }))
                        }))), t.f
                    }

                    function al(t) {
                        var e, n = null;
                        return (e = t.g).b.get(Bu, e.a).then((function(t) {
                            return Do(t)
                        })).then((function(e) {
                            return n = e, Hu((e = t.g).b, Bu, e.a)
                        })).then((function() {
                            return n
                        }))
                    }

                    function ul(t) {
                        this.a = t, this.b = Fu()
                    }(e = il.prototype).ka = function() {
                        return this.Ga ? this.Ga : this.Ga = (ui(void 0) ? ai().then((function() {
                            return new fe((function(t, e) {
                                var n = s.document,
                                    i = setTimeout((function() {
                                        e(Error("Cordova framework is not ready."))
                                    }), 1e3);
                                n.addEventListener("deviceready", (function() {
                                    clearTimeout(i), t()
                                }), !1)
                            }))
                        })) : Ee(Error("Cordova must run in an Android or iOS file scheme."))).then((function() {
                            if ("function" != typeof yi("universalLinks.subscribe", s)) throw rl("cordova-universal-links-plugin-fix is not installed");
                            if (void 0 === yi("BuildInfo.packageName", s)) throw rl("cordova-plugin-buildinfo is not installed");
                            if ("function" != typeof yi("cordova.plugins.browsertab.openUrl", s)) throw rl("cordova-plugin-browsertab is not installed");
                            if ("function" != typeof yi("cordova.InAppBrowser.open", s)) throw rl("cordova-plugin-inappbrowser is not installed")
                        }), (function() {
                            throw new E("cordova-not-ready")
                        }))
                    }, e.Lb = function(t, e) {
                        return e(new E("operation-not-supported-in-this-environment")), we()
                    }, e.Jb = function() {
                        return Ee(new E("operation-not-supported-in-this-environment"))
                    }, e.Xb = function() {
                        return !1
                    }, e.Ub = function() {
                        return !0
                    }, e.Qb = function() {
                        return !0
                    }, e.Kb = function(t, e, n, i) {
                        if (this.c) return Ee(new E("redirect-operation-pending"));
                        var r = this,
                            o = s.document,
                            a = null,
                            u = null,
                            l = null,
                            h = null;
                        return this.c = we().then((function() {
                            return So(e), sl(r)
                        })).then((function() {
                            return function(t, e, n, i, r) {
                                var o = function() {
                                        for (var t = 20, e = []; 0 < t;) e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62 * Math.random()))), t--;
                                        return e.join("")
                                    }(),
                                    a = new xo(e, i, null, o, new E("no-auth-event"), null, r),
                                    u = yi("BuildInfo.packageName", s);
                                if ("string" != typeof u) throw new E("invalid-cordova-configuration");
                                var l = yi("BuildInfo.displayName", s),
                                    h = {};
                                if (mi().toLowerCase().match(/iphone|ipad|ipod/)) h.ibi = u;
                                else {
                                    if (!mi().toLowerCase().match(/android/)) return Ee(new E("operation-not-supported-in-this-environment"));
                                    h.apn = u
                                }
                                l && (h.appDisplayName = l), o = function(t) {
                                    var e = new el;
                                    Zu(e, t), t = [];
                                    var n = 8 * e.g;
                                    e.c < 56 ? Zu(e, Xu, 56 - e.c) : Zu(e, Xu, e.b - (e.c - 56));
                                    for (var i = 63; 56 <= i; i--) e.f[i] = 255 & n, n /= 256;
                                    for (Ju(e), i = n = 0; i < e.i; i++)
                                        for (var r = 24; 0 <= r; r -= 8) t[n++] = e.a[i] >> r & 255;
                                    return q(t, (function(t) {
                                        return 1 < (t = t.toString(16)).length ? t : "0" + t
                                    })).join("")
                                }(o), h.sessionId = o;
                                var c = nu(t.u, t.i, t.l, e, n, null, i, t.m, h, t.s, r);
                                return t.ka().then((function() {
                                    var e = t.h;
                                    return t.w.a.set(Bu, a.v(), e)
                                })).then((function() {
                                    var e = yi("cordova.plugins.browsertab.isAvailable", s);
                                    if ("function" != typeof e) throw new E("invalid-cordova-configuration");
                                    var n = null;
                                    e((function(e) {
                                        if (e) {
                                            if ("function" != typeof(n = yi("cordova.plugins.browsertab.openUrl", s))) throw new E("invalid-cordova-configuration");
                                            n(c)
                                        } else {
                                            if ("function" != typeof(n = yi("cordova.InAppBrowser.open", s))) throw new E("invalid-cordova-configuration");
                                            e = mi(), t.a = n(c, e.match(/(iPad|iPhone|iPod).*OS 7_\d/i) || e.match(/(iPad|iPhone|iPod).*OS 8_\d/i) ? "_blank" : "_system", "location=yes")
                                        }
                                    }))
                                }))
                            }(r, t, e, n, i)
                        })).then((function() {
                            return new fe((function(t, e) {
                                u = function() {
                                    var e = yi("cordova.plugins.browsertab.close", s);
                                    return t(), "function" == typeof e && e(), r.a && "function" == typeof r.a.close && (r.a.close(), r.a = null), !1
                                }, r.Ca(u), l = function() {
                                    a = a || mn(2e3).then((function() {
                                        e(new E("redirect-cancelled-by-user"))
                                    }))
                                }, h = function() {
                                    Ai() && l()
                                }, o.addEventListener("resume", l, !1), mi().toLowerCase().match(/android/) || o.addEventListener("visibilitychange", h, !1)
                            })).o((function(t) {
                                return al(r).then((function() {
                                    throw t
                                }))
                            }))
                        })).ma((function() {
                            l && o.removeEventListener("resume", l, !1), h && o.removeEventListener("visibilitychange", h, !1), a && a.cancel(), u && r.Qa(u), r.c = null
                        }))
                    }, e.Ca = function(t) {
                        this.b.push(t), sl(this).o((function(e) {
                            "auth/invalid-cordova-configuration" === e.code && (e = new xo("unknown", null, null, null, new E("no-auth-event")), t(e))
                        }))
                    }, e.Qa = function(t) {
                        z(this.b, (function(e) {
                            return e == t
                        }))
                    };
                    var ll = {
                        name: "pendingRedirect",
                        F: "session"
                    };

                    function hl(t) {
                        return Hu(t.b, ll, t.a)
                    }

                    function cl(t, e, n) {
                        this.i = {}, this.w = 0, this.D = t, this.u = e, this.m = n, this.h = [], this.f = !1, this.l = y(this.s, this), this.b = new Cl, this.B = new Nl, this.g = new ul(this.u + ":" + this.m), this.c = {}, this.c.unknown = this.b, this.c.signInViaRedirect = this.b, this.c.linkViaRedirect = this.b, this.c.reauthViaRedirect = this.b, this.c.signInViaPopup = this.B, this.c.linkViaPopup = this.B, this.c.reauthViaPopup = this.B, this.a = dl(this.D, this.u, this.m, T)
                    }

                    function dl(e, n, i, r) {
                        var o = t.SDK_VERSION || null;
                        return new(ui() ? il : Ja)(e, n, i, o, r)
                    }

                    function pl(t) {
                        t.f || (t.f = !0, t.a.Ca(t.l));
                        var e = t.a;
                        return t.a.ka().o((function(n) {
                            throw t.a == e && t.reset(), n
                        }))
                    }

                    function fl(t) {
                        t.a.Ub() && pl(t).o((function(e) {
                            var n = new xo("unknown", null, null, null, new E("operation-not-supported-in-this-environment"));
                            bl(e) && t.s(n)
                        })), t.a.Qb() || kl(t.b)
                    }

                    function gl(t, e) {
                        var n;
                        V(t.h, e) || t.h.push(e), t.f || (n = t.g).b.get(ll, n.a).then((function(t) {
                            return "pending" == t
                        })).then((function(e) {
                            e ? hl(t.g).then((function() {
                                pl(t).o((function(e) {
                                    var n = new xo("unknown", null, null, null, new E("operation-not-supported-in-this-environment"));
                                    bl(e) && t.s(n)
                                }))
                            })) : fl(t)
                        })).o((function() {
                            fl(t)
                        }))
                    }

                    function vl(t, e) {
                        z(t.h, (function(t) {
                            return t == e
                        }))
                    }
                    cl.prototype.reset = function() {
                        this.f = !1, this.a.Qa(this.l), this.a = dl(this.D, this.u, this.m), this.i = {}
                    }, cl.prototype.s = function(t) {
                        if (!t) throw new E("invalid-auth-event");
                        if (6e5 <= b() - this.w && (this.i = {}, this.w = 0), t && t.getUid() && this.i.hasOwnProperty(t.getUid())) return !1;
                        for (var e = !1, n = 0; n < this.h.length; n++) {
                            var i = this.h[n];
                            if (i.Cb(t.c, t.b)) {
                                (e = this.c[t.c]) && (e.h(t, i), t && (t.f || t.b) && (this.i[t.getUid()] = !0, this.w = b())), e = !0;
                                break
                            }
                        }
                        return kl(this.b), e
                    };
                    var ml = new Ni(2e3, 1e4),
                        yl = new Ni(3e4, 6e4);

                    function _l(t, e, n, i, r, o, s) {
                        return t.a.Jb(e, n, i, (function() {
                            t.f || (t.f = !0, t.a.Ca(t.l))
                        }), (function() {
                            t.reset()
                        }), r, o, s)
                    }

                    function bl(t) {
                        return !(!t || "auth/cordova-not-ready" != t.code)
                    }

                    function wl(t, e, n, i, r) {
                        var o, s;
                        return (s = t.g).b.set(ll, "pending", s.a).then((function() {
                            return t.a.Kb(e, n, i, r).o((function(e) {
                                if (bl(e)) throw new E("operation-not-supported-in-this-environment");
                                return o = e, hl(t.g).then((function() {
                                    throw o
                                }))
                            })).then((function() {
                                return t.a.Xb() ? new fe((function() {})) : hl(t.g).then((function() {
                                    return t.pa()
                                })).then((function() {})).o((function() {}))
                            }))
                        }))
                    }

                    function El(t, e, n, i, r) {
                        return t.a.Lb(i, (function(t) {
                            e.la(n, null, t, r)
                        }), ml.get())
                    }
                    cl.prototype.pa = function() {
                        return this.b.pa()
                    };
                    var Il = {};

                    function Tl(t, e, n) {
                        var i = e + ":" + n;
                        return Il[i] || (Il[i] = new cl(t, e, n)), Il[i]
                    }

                    function Cl() {
                        this.b = null, this.f = [], this.c = [], this.a = null, this.i = this.g = !1
                    }

                    function kl(t) {
                        t.g || (t.g = !0, Dl(t, !1, null, null))
                    }

                    function Sl(t) {
                        t.g && !t.i && Dl(t, !1, null, null)
                    }

                    function xl(t, e) {
                        if (t.b = function() {
                                return we(e)
                            }, t.f.length)
                            for (var n = 0; n < t.f.length; n++) t.f[n](e)
                    }

                    function Dl(t, e, n, i) {
                        e ? i ? function(t, e) {
                            if (t.b = function() {
                                    return Ee(e)
                                }, t.c.length)
                                for (var n = 0; n < t.c.length; n++) t.c[n](e)
                        }(t, i) : xl(t, n) : xl(t, {
                            user: null
                        }), t.f = [], t.c = []
                    }

                    function Nl() {}

                    function Al() {
                        this.Bb = !1, Object.defineProperty(this, "appVerificationDisabled", {
                            get: function() {
                                return this.Bb
                            },
                            set: function(t) {
                                this.Bb = t
                            },
                            enumerable: !1
                        })
                    }

                    function Pl(t, e) {
                        this.a = e, Ui(this, "verificationId", t)
                    }

                    function Ol(t, e, n, i) {
                        return new To(t).cb(e, n).then((function(t) {
                            return new Pl(t, i)
                        }))
                    }

                    function Rl(t) {
                        var e = Pr(t);
                        if (!(e && e.exp && e.auth_time && e.iat)) throw new E("internal-error", "An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");
                        ji(this, {
                            token: t,
                            expirationTime: Pi(1e3 * e.exp),
                            authTime: Pi(1e3 * e.auth_time),
                            issuedAtTime: Pi(1e3 * e.iat),
                            signInProvider: e.firebase && e.firebase.sign_in_provider ? e.firebase.sign_in_provider : null,
                            signInSecondFactor: e.firebase && e.firebase.sign_in_second_factor ? e.firebase.sign_in_second_factor : null,
                            claims: e
                        })
                    }

                    function Ll(t, e, n) {
                        var i = e && e[Fl];
                        if (!i) throw new E("argument-error", "Internal assert: Invalid MultiFactorResolver");
                        this.a = t, this.f = ht(e), this.g = n, this.c = new Kr(null, i), this.b = [];
                        var r = this;
                        j(e[Ml] || [], (function(t) {
                            (t = Vi(t)) && r.b.push(t)
                        })), Ui(this, "auth", this.a), Ui(this, "session", this.c), Ui(this, "hints", this.b)
                    }
                    Cl.prototype.reset = function() {
                        this.b = null, this.a && (this.a.cancel(), this.a = null)
                    }, Cl.prototype.h = function(t, e) {
                        if (t) {
                            this.reset(), this.g = !0;
                            var n = t.c,
                                i = t.b,
                                r = t.a && "auth/web-storage-unsupported" == t.a.code,
                                o = t.a && "auth/operation-not-supported-in-this-environment" == t.a.code;
                            this.i = !(!r && !o), "unknown" != n || r || o ? t.a ? (Dl(this, !0, null, t.a), we()) : e.Da(n, i) ? function(t, e, n) {
                                n = n.Da(e.c, e.b);
                                var i = e.g,
                                    r = e.f,
                                    o = e.i,
                                    s = e.S(),
                                    a = !!e.c.match(/Redirect$/);
                                n(i, r, s, o).then((function(e) {
                                    Dl(t, a, e, null)
                                })).o((function(e) {
                                    Dl(t, a, null, e)
                                }))
                            }(this, t, e) : Ee(new E("invalid-auth-event")) : (Dl(this, !1, null, null), we())
                        } else Ee(new E("invalid-auth-event"))
                    }, Cl.prototype.pa = function() {
                        var t = this;
                        return new fe((function(e, n) {
                            var i, r;
                            t.b ? t.b().then(e, n) : (t.f.push(e), t.c.push(n), i = t, r = new E("timeout"), i.a && i.a.cancel(), i.a = mn(yl.get()).then((function() {
                                i.b || (i.g = !0, Dl(i, !0, null, r))
                            })))
                        }))
                    }, Nl.prototype.h = function(t, e) {
                        if (t) {
                            var n = t.c,
                                i = t.b;
                            t.a ? (e.la(t.c, null, t.a, t.b), we()) : e.Da(n, i) ? (o = e, s = (r = t).b, a = r.c, o.Da(a, s)(r.g, r.f, r.S(), r.i).then((function(t) {
                                o.la(a, t, null, s)
                            })).o((function(t) {
                                o.la(a, null, t, s)
                            }))) : Ee(new E("invalid-auth-event"))
                        } else Ee(new E("invalid-auth-event"));
                        var r, o, s, a
                    }, Pl.prototype.confirm = function(t) {
                        return t = Co(this.verificationId, t), this.a(t)
                    };
                    var Ml = "mfaInfo",
                        Fl = "mfaPendingCredential";

                    function Ul(t, e, n, i) {
                        E.call(this, "multi-factor-auth-required", i, e), this.b = new Ll(t, e, n), Ui(this, "resolver", this.b)
                    }

                    function jl(t, e, n) {
                        if (t && p(t.serverResponse) && "auth/multi-factor-auth-required" === t.code) try {
                            return new Ul(e, t.serverResponse, n, t.message)
                        } catch (t) {}
                        return null
                    }

                    function Hl() {}

                    function ql(t) {
                        Ui(this, "factorId", t.ea), this.a = t
                    }

                    function Wl(t) {
                        if (ql.call(this, t), this.a.ea != To.PROVIDER_ID) throw new E("argument-error", "firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")
                    }

                    function Vl(t, e) {
                        for (var n in qe.call(this, t), e) this[n] = e[n]
                    }

                    function Bl(t, e) {
                        this.a = t, this.b = [], this.c = y(this.wc, this), Ze(this.a, "userReloaded", this.c);
                        var n = [];
                        e && e.multiFactor && e.multiFactor.enrolledFactors && j(e.multiFactor.enrolledFactors, (function(t) {
                            var e = null,
                                i = {};
                            if (t) {
                                t.uid && (i[$i] = t.uid), t.displayName && (i[Bi] = t.displayName), t.enrollmentTime && (i[zi] = new Date(t.enrollmentTime).toISOString()), t.phoneNumber && (i[Ki] = t.phoneNumber);
                                try {
                                    e = new Gi(i)
                                } catch (t) {}
                                t = e
                            } else t = null;
                            t && n.push(t)
                        })), zl(this, n)
                    }

                    function zl(t, e) {
                        t.b = e, Ui(t, "enrolledFactors", e)
                    }

                    function $l(t, e, n) {
                        if (this.h = t, this.i = e, this.g = n, this.c = 3e4, this.f = 96e4, this.b = null, this.a = this.c, this.f < this.c) throw Error("Proactive refresh lower bound greater than upper bound!")
                    }

                    function Kl(t) {
                        this.c = t, this.b = this.a = null
                    }

                    function Gl(t) {
                        return t.b && 1e3 * t.b.c || 0
                    }

                    function Yl(t, e) {
                        var n = e.refreshToken;
                        t.b = Ar(e[js] || ""), t.a = n
                    }

                    function Ql(t, e) {
                        this.a = t || null, this.b = e || null, ji(this, {
                            lastSignInTime: Pi(e || null),
                            creationTime: Pi(t || null)
                        })
                    }

                    function Xl(t, e, n, i, r, o) {
                        ji(this, {
                            uid: t,
                            displayName: i || null,
                            photoURL: r || null,
                            email: n || null,
                            phoneNumber: o || null,
                            providerId: e
                        })
                    }

                    function Jl(e, n, i) {
                        var r;
                        this.N = [], this.l = e.apiKey, this.m = e.appName, this.s = e.authDomain || null, e = t.SDK_VERSION ? vi(t.SDK_VERSION) : null, this.a = new Fs(this.l, x(T), e), this.b = new Kl(this.a), oh(this, n[js]), Yl(this.b, n), Ui(this, "refreshToken", this.b.a), uh(this, i || {}), dn.call(this), this.P = !1, this.s && bi() && (this.i = Tl(this.s, this.l, this.m)), this.R = [], this.h = null, this.B = (r = this, new $l((function() {
                            return r.I(!0)
                        }), (function(t) {
                            return !(!t || "auth/network-request-failed" != t.code)
                        }), (function() {
                            var t = Gl(r.b) - b() - 3e5;
                            return 0 < t ? t : 0
                        }))), this.Z = y(this.Ma, this);
                        var o = this;
                        this.oa = null, this.za = function(t) {
                            o.va(t.g)
                        }, this.aa = null, this.W = [], this.ya = function(t) {
                            th(o, t.c)
                        }, this.$ = null, this.O = new Bl(this, i), Ui(this, "multiFactor", this.O)
                    }

                    function Zl(t, e) {
                        t.aa && nn(t.aa, "languageCodeChanged", t.za), (t.aa = e) && Ze(e, "languageCodeChanged", t.za)
                    }

                    function th(e, n) {
                        e.W = n, zs(e.a, t.SDK_VERSION ? vi(t.SDK_VERSION, e.W) : null)
                    }

                    function eh(t, e) {
                        t.$ && nn(t.$, "frameworkChanged", t.ya), (t.$ = e) && Ze(e, "frameworkChanged", t.ya)
                    }

                    function nh(e) {
                        try {
                            return t.app(e.m).auth()
                        } catch (t) {
                            throw new E("internal-error", "No firebase.auth.Auth instance is available for the Firebase App '" + e.m + "'!")
                        }
                    }

                    function ih(t) {
                        t.D || t.B.b || (t.B.start(), nn(t, "tokenChanged", t.Z), Ze(t, "tokenChanged", t.Z))
                    }

                    function rh(t) {
                        nn(t, "tokenChanged", t.Z), t.B.stop()
                    }

                    function oh(t, e) {
                        t.xa = e, Ui(t, "_lat", e)
                    }

                    function sh(t) {
                        for (var e = [], n = 0; n < t.R.length; n++) e.push(t.R[n](t));
                        return Te(e).then((function() {
                            return t
                        }))
                    }

                    function ah(t) {
                        t.i && !t.P && (t.P = !0, gl(t.i, t))
                    }

                    function uh(t, e) {
                        ji(t, {
                            uid: e.uid,
                            displayName: e.displayName || null,
                            photoURL: e.photoURL || null,
                            email: e.email || null,
                            emailVerified: e.emailVerified || !1,
                            phoneNumber: e.phoneNumber || null,
                            isAnonymous: e.isAnonymous || !1,
                            tenantId: e.tenantId || null,
                            metadata: new Ql(e.createdAt, e.lastLoginAt),
                            providerData: []
                        }), t.a.b = t.tenantId
                    }

                    function lh() {}

                    function hh(t) {
                        return we().then((function() {
                            if (t.D) throw new E("app-deleted")
                        }))
                    }

                    function ch(t) {
                        return q(t.providerData, (function(t) {
                            return t.providerId
                        }))
                    }

                    function dh(t, e) {
                        e && (ph(t, e.providerId), t.providerData.push(e))
                    }

                    function ph(t, e) {
                        z(t.providerData, (function(t) {
                            return t.providerId == e
                        }))
                    }

                    function fh(t, e, n) {
                        ("uid" != e || n) && t.hasOwnProperty(e) && Ui(t, e, n)
                    }

                    function gh(t, e) {
                        var n, i, r;
                        t != e && (ji(t, {
                            uid: e.uid,
                            displayName: e.displayName,
                            photoURL: e.photoURL,
                            email: e.email,
                            emailVerified: e.emailVerified,
                            phoneNumber: e.phoneNumber,
                            isAnonymous: e.isAnonymous,
                            tenantId: e.tenantId,
                            providerData: []
                        }), e.metadata ? Ui(t, "metadata", new Ql((r = e.metadata).a, r.b)) : Ui(t, "metadata", new Ql), j(e.providerData, (function(e) {
                            dh(t, e)
                        })), n = t.b, i = e.b, n.b = i.b, n.a = i.a, Ui(t, "refreshToken", t.b.a), zl(t.O, e.O.b))
                    }

                    function vh(t) {
                        return t.I().then((function(e) {
                            var n, i, r = t.isAnonymous;
                            return i = e, qa((n = t).a, ya, {
                                idToken: i
                            }).then(y(n.Ic, n)).then((function() {
                                return r || fh(t, "isAnonymous", !1), e
                            }))
                        }))
                    }

                    function mh(t, e) {
                        e[js] && t.xa != e[js] && (Yl(t.b, e), t.dispatchEvent(new Vl("tokenChanged")), oh(t, e[js]), fh(t, "refreshToken", t.b.a))
                    }

                    function yh(t, e) {
                        return vh(t).then((function() {
                            if (V(ch(t), e)) return sh(t).then((function() {
                                throw new E("provider-already-linked")
                            }))
                        }))
                    }

                    function _h(t, e, n) {
                        return Hi({
                            user: t,
                            credential: ko(e),
                            additionalUserInfo: e = Fr(e),
                            operationType: n
                        })
                    }

                    function bh(t, e) {
                        return mh(t, e), t.reload().then((function() {
                            return t
                        }))
                    }

                    function wh(e, n, i, r, o) {
                        if (!bi()) return Ee(new E("operation-not-supported-in-this-environment"));
                        if (e.h && !o) return Ee(e.h);
                        var s = Mr(i.providerId),
                            a = Si(e.uid + ":::"),
                            u = null;
                        (!Ii() || li()) && e.s && i.isOAuthProvider && (u = nu(e.s, e.l, e.m, n, i, null, a, t.SDK_VERSION || null, null, null, e.tenantId));
                        var l = ri(u, s && s.ta, s && s.sa);
                        return r = r().then((function() {
                            if (Ih(e), !o) return e.I().then((function() {}))
                        })).then((function() {
                            return _l(e.i, l, n, i, a, !!u, e.tenantId)
                        })).then((function() {
                            return new fe((function(t, i) {
                                e.la(n, null, new E("cancelled-popup-request"), e.g || null), e.f = t, e.w = i, e.g = a, e.c = El(e.i, e, n, l, a)
                            }))
                        })).then((function(t) {
                            return l && ii(l), t ? Hi(t) : null
                        })).o((function(t) {
                            throw l && ii(l), t
                        })), Th(e, r, o)
                    }

                    function Eh(t, e, n, i, r) {
                        if (!bi()) return Ee(new E("operation-not-supported-in-this-environment"));
                        if (t.h && !r) return Ee(t.h);
                        var o = null,
                            s = Si(t.uid + ":::");
                        return i = i().then((function() {
                            if (Ih(t), !r) return t.I().then((function() {}))
                        })).then((function() {
                            return t.fa = s, sh(t)
                        })).then((function(e) {
                            return t.ga && (e = (e = t.ga).b.set(Sh, t.v(), e.a)), e
                        })).then((function() {
                            return wl(t.i, e, n, s, t.tenantId)
                        })).o((function(e) {
                            if (o = e, t.ga) return xh(t.ga);
                            throw o
                        })).then((function() {
                            if (o) throw o
                        })), Th(t, i, r)
                    }

                    function Ih(t) {
                        if (!t.i || !t.P) {
                            if (t.i && !t.P) throw new E("internal-error");
                            throw new E("auth-domain-config-required")
                        }
                    }

                    function Th(t, e, n) {
                        var i, r, o, s = (r = e, o = n, (i = t).h && !o ? (r.cancel(), Ee(i.h)) : r.o((function(t) {
                            throw !t || "auth/user-disabled" != t.code && "auth/user-token-expired" != t.code || (i.h || i.dispatchEvent(new Vl("userInvalidated")), i.h = t), t
                        })));
                        return t.N.push(s), s.ma((function() {
                            B(t.N, s)
                        })), s.o((function(e) {
                            var n = null;
                            throw e && "auth/multi-factor-auth-required" === e.code && (n = jl(e.v(), nh(t), y(t.hc, t))), n || e
                        }))
                    }

                    function Ch(t) {
                        if (!t.apiKey) return null;
                        var e = {
                                apiKey: t.apiKey,
                                authDomain: t.authDomain,
                                appName: t.appName
                            },
                            n = {};
                        if (!t.stsTokenManager || !t.stsTokenManager.accessToken) return null;
                        n[js] = t.stsTokenManager.accessToken, n.refreshToken = t.stsTokenManager.refreshToken || null;
                        var i = new Jl(e, n, t);
                        return t.providerData && j(t.providerData, (function(t) {
                            t && dh(i, Hi(t))
                        })), t.redirectEventId && (i.fa = t.redirectEventId), i
                    }

                    function kh(t) {
                        this.a = t, this.b = Fu()
                    }
                    Ll.prototype.Pc = function(t) {
                        var e = this;
                        return t.ob(this.a.b, this.c).then((function(t) {
                            var n = ht(e.f);
                            return delete n[Ml], delete n[Fl], dt(n, t), e.g(n)
                        }))
                    }, w(Ul, E), Hl.prototype.ob = function(t, e, n) {
                        return e.type == Gr ? (o = this, s = t, a = n, e.Fa().then((function(t) {
                            return t = {
                                idToken: t
                            }, void 0 !== a && (t.displayName = a), dt(t, {
                                phoneVerificationInfo: Io(o.a)
                            }), qa(s, va, t)
                        }))) : (i = this, r = t, e.Fa().then((function(t) {
                            return dt(t = {
                                mfaPendingCredential: t
                            }, {
                                phoneVerificationInfo: Io(i.a)
                            }), qa(r, ma, t)
                        })));
                        var i, r, o, s, a
                    }, w(ql, Hl), w(Wl, ql), w(Vl, qe), (e = Bl.prototype).wc = function(t) {
                        var e, n;
                        zl(this, (e = t.ed, n = [], j(e.mfaInfo || [], (function(t) {
                            (t = Vi(t)) && n.push(t)
                        })), n))
                    }, e.Ob = function() {
                        return this.a.I().then((function(t) {
                            return new Kr(t, null)
                        }))
                    }, e.dc = function(t, e) {
                        var n = this,
                            i = this.a.a;
                        return this.Ob().then((function(n) {
                            return t.ob(i, n, e)
                        })).then((function(t) {
                            return mh(n.a, t), n.a.reload()
                        }))
                    }, e.$c = function(t) {
                        var e = this,
                            n = "string" == typeof t ? t : t.uid,
                            i = this.a.a;
                        return this.a.I().then((function(t) {
                            return qa(i, Ha, {
                                idToken: t,
                                mfaEnrollmentId: n
                            })
                        })).then((function(t) {
                            var i = H(e.b, (function(t) {
                                return t.uid != n
                            }));
                            return zl(e, i), mh(e.a, t), e.a.reload().o((function(t) {
                                if ("auth/user-token-expired" != t.code) throw t
                            }))
                        }))
                    }, e.v = function() {
                        return {
                            multiFactor: {
                                enrolledFactors: q(this.b, (function(t) {
                                    return t.v()
                                }))
                            }
                        }
                    }, $l.prototype.start = function() {
                        this.a = this.c,
                            function t(e, n) {
                                e.stop(), e.b = mn(function(t, e) {
                                    return e ? (t.a = t.c, t.g()) : (e = t.a, t.a *= 2, t.a > t.f && (t.a = t.f), e)
                                }(e, n)).then((function() {
                                    return t = s.document, e = null, Ai() || !t ? we() : new fe((function(n) {
                                        e = function() {
                                            Ai() && (t.removeEventListener("visibilitychange", e, !1), n())
                                        }, t.addEventListener("visibilitychange", e, !1)
                                    })).o((function(n) {
                                        throw t.removeEventListener("visibilitychange", e, !1), n
                                    }));
                                    var t, e
                                })).then((function() {
                                    return e.h()
                                })).then((function() {
                                    t(e, !0)
                                })).o((function(n) {
                                    e.i(n) && t(e, !1)
                                }))
                            }(this, !0)
                    }, $l.prototype.stop = function() {
                        this.b && (this.b.cancel(), this.b = null)
                    }, Kl.prototype.v = function() {
                        return {
                            apiKey: this.c.c,
                            refreshToken: this.a,
                            accessToken: this.b && this.b.toString(),
                            expirationTime: Gl(this)
                        }
                    }, Kl.prototype.getToken = function(t) {
                        return t = !!t, this.b && !this.a ? Ee(new E("user-token-expired")) : t || !this.b || b() > Gl(this) - 3e4 ? this.a ? function(t, e) {
                            return n = t.c, i = e, new fe((function(t, e) {
                                "refresh_token" == i.grant_type && i.refresh_token || "authorization_code" == i.grant_type && i.code ? $s(n, n.u + "?key=" + encodeURIComponent(n.c), (function(n) {
                                    n ? n.error ? e(Va(n)) : n.access_token && n.refresh_token ? t(n) : e(new E("internal-error")) : e(new E("network-request-failed"))
                                }), "POST", Wn(i).toString(), n.g, n.m.get()) : e(new E("internal-error"))
                            })).then((function(e) {
                                return t.b = Ar(e.access_token), t.a = e.refresh_token, {
                                    accessToken: t.b.toString(),
                                    refreshToken: t.a
                                }
                            })).o((function(e) {
                                throw "auth/user-token-expired" == e.code && (t.a = null), e
                            }));
                            var n, i
                        }(this, {
                            grant_type: "refresh_token",
                            refresh_token: this.a
                        }) : we(null) : we({
                            accessToken: this.b.toString(),
                            refreshToken: this.a
                        })
                    }, Ql.prototype.v = function() {
                        return {
                            lastLoginAt: this.b,
                            createdAt: this.a
                        }
                    }, w(Jl, dn), Jl.prototype.va = function(t) {
                        this.oa = t, Bs(this.a, t)
                    }, Jl.prototype.ja = function() {
                        return this.oa
                    }, Jl.prototype.Ea = function() {
                        return K(this.W)
                    }, Jl.prototype.Ma = function() {
                        this.B.b && (this.B.stop(), this.B.start())
                    }, Ui(Jl.prototype, "providerId", "firebase"), (e = Jl.prototype).reload = function() {
                        var t = this;
                        return Th(this, hh(this).then((function() {
                            return vh(t).then((function() {
                                return sh(t)
                            })).then(lh)
                        })))
                    }, e.mc = function(t) {
                        return this.I(t).then((function(t) {
                            return new Rl(t)
                        }))
                    }, e.I = function(t) {
                        var e = this;
                        return Th(this, hh(this).then((function() {
                            return e.b.getToken(t)
                        })).then((function(t) {
                            if (!t) throw new E("internal-error");
                            return t.accessToken != e.xa && (oh(e, t.accessToken), e.dispatchEvent(new Vl("tokenChanged"))), fh(e, "refreshToken", t.refreshToken), t.accessToken
                        })))
                    }, e.Ic = function(t) {
                        if (!(t = t.users) || !t.length) throw new E("internal-error");
                        uh(this, {
                            uid: (t = t[0]).localId,
                            displayName: t.displayName,
                            photoURL: t.photoUrl,
                            email: t.email,
                            emailVerified: !!t.emailVerified,
                            phoneNumber: t.phoneNumber,
                            lastLoginAt: t.lastLoginAt,
                            createdAt: t.createdAt,
                            tenantId: t.tenantId
                        });
                        for (var e = (i = (i = t).providerUserInfo) && i.length ? q(i, (function(t) {
                                return new Xl(t.rawId, t.providerId, t.email, t.displayName, t.photoUrl, t.phoneNumber)
                            })) : [], n = 0; n < e.length; n++) dh(this, e[n]);
                        var i;
                        fh(this, "isAnonymous", !(this.email && t.passwordHash || this.providerData && this.providerData.length)), this.dispatchEvent(new Vl("userReloaded", {
                            ed: t
                        }))
                    }, e.Jc = function(t) {
                        return Mi("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."), this.pb(t)
                    }, e.pb = function(t) {
                        var e = this,
                            n = null;
                        return Th(this, t.c(this.a, this.uid).then((function(t) {
                            return mh(e, t), n = _h(e, t, "reauthenticate"), e.h = null, e.reload()
                        })).then((function() {
                            return n
                        })), !0)
                    }, e.Ac = function(t) {
                        return Mi("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."), this.mb(t)
                    }, e.mb = function(t) {
                        var e = this,
                            n = null;
                        return Th(this, yh(this, t.providerId).then((function() {
                            return e.I()
                        })).then((function(n) {
                            return t.b(e.a, n)
                        })).then((function(t) {
                            return n = _h(e, t, "link"), bh(e, t)
                        })).then((function() {
                            return n
                        })))
                    }, e.Bc = function(t, e) {
                        var n = this;
                        return Th(this, yh(this, "phone").then((function() {
                            return Ol(nh(n), t, e, y(n.mb, n))
                        })))
                    }, e.Kc = function(t, e) {
                        var n = this;
                        return Th(this, we().then((function() {
                            return Ol(nh(n), t, e, y(n.pb, n))
                        })), !0)
                    }, e.xb = function(t) {
                        var e = this;
                        return Th(this, this.I().then((function(n) {
                            return e.a.xb(n, t)
                        })).then((function(t) {
                            return mh(e, t), e.reload()
                        })))
                    }, e.cd = function(t) {
                        var e = this;
                        return Th(this, this.I().then((function(n) {
                            return t.b(e.a, n)
                        })).then((function(t) {
                            return mh(e, t), e.reload()
                        })))
                    }, e.yb = function(t) {
                        var e = this;
                        return Th(this, this.I().then((function(n) {
                            return e.a.yb(n, t)
                        })).then((function(t) {
                            return mh(e, t), e.reload()
                        })))
                    }, e.zb = function(t) {
                        if (void 0 === t.displayName && void 0 === t.photoURL) return hh(this);
                        var e = this;
                        return Th(this, this.I().then((function(n) {
                            return e.a.zb(n, {
                                displayName: t.displayName,
                                photoUrl: t.photoURL
                            })
                        })).then((function(t) {
                            return mh(e, t), fh(e, "displayName", t.displayName || null), fh(e, "photoURL", t.photoUrl || null), j(e.providerData, (function(t) {
                                "password" === t.providerId && (Ui(t, "displayName", e.displayName), Ui(t, "photoURL", e.photoURL))
                            })), sh(e)
                        })).then(lh))
                    }, e.ad = function(t) {
                        var e = this;
                        return Th(this, vh(this).then((function(n) {
                            return V(ch(e), t) ? qa(e.a, pa, {
                                idToken: n,
                                deleteProvider: [t]
                            }).then((function(t) {
                                var n = {};
                                return j(t.providerUserInfo || [], (function(t) {
                                    n[t.providerId] = !0
                                })), j(ch(e), (function(t) {
                                    n[t] || ph(e, t)
                                })), n[To.PROVIDER_ID] || Ui(e, "phoneNumber", null), sh(e)
                            })) : sh(e).then((function() {
                                throw new E("no-such-provider")
                            }))
                        })))
                    }, e.delete = function() {
                        var t = this;
                        return Th(this, this.I().then((function(e) {
                            return qa(t.a, da, {
                                idToken: e
                            })
                        })).then((function() {
                            t.dispatchEvent(new Vl("userDeleted"))
                        }))).then((function() {
                            for (var e = 0; e < t.N.length; e++) t.N[e].cancel("app-deleted");
                            Zl(t, null), eh(t, null), t.N = [], t.D = !0, rh(t), Ui(t, "refreshToken", null), t.i && vl(t.i, t)
                        }))
                    }, e.Cb = function(t, e) {
                        return !!("linkViaPopup" == t && (this.g || null) == e && this.f || "reauthViaPopup" == t && (this.g || null) == e && this.f || "linkViaRedirect" == t && (this.fa || null) == e || "reauthViaRedirect" == t && (this.fa || null) == e)
                    }, e.la = function(t, e, n, i) {
                        "linkViaPopup" != t && "reauthViaPopup" != t || i != (this.g || null) || (n && this.w ? this.w(n) : e && !n && this.f && this.f(e), this.c && (this.c.cancel(), this.c = null), delete this.f, delete this.w)
                    }, e.Da = function(t, e) {
                        return "linkViaPopup" == t && e == (this.g || null) ? y(this.Hb, this) : "reauthViaPopup" == t && e == (this.g || null) ? y(this.Ib, this) : "linkViaRedirect" == t && (this.fa || null) == e ? y(this.Hb, this) : "reauthViaRedirect" == t && (this.fa || null) == e ? y(this.Ib, this) : null
                    }, e.Cc = function(t) {
                        var e = this;
                        return wh(this, "linkViaPopup", t, (function() {
                            return yh(e, t.providerId).then((function() {
                                return sh(e)
                            }))
                        }), !1)
                    }, e.Lc = function(t) {
                        return wh(this, "reauthViaPopup", t, (function() {
                            return we()
                        }), !0)
                    }, e.Dc = function(t) {
                        var e = this;
                        return Eh(this, "linkViaRedirect", t, (function() {
                            return yh(e, t.providerId)
                        }), !1)
                    }, e.Mc = function(t) {
                        return Eh(this, "reauthViaRedirect", t, (function() {
                            return we()
                        }), !0)
                    }, e.Hb = function(t, e, n, i) {
                        var r = this;
                        this.c && (this.c.cancel(), this.c = null);
                        var o = null;
                        return Th(this, this.I().then((function(n) {
                            return oa(r.a, {
                                requestUri: t,
                                postBody: i,
                                sessionId: e,
                                idToken: n
                            })
                        })).then((function(t) {
                            return o = _h(r, t, "link"), bh(r, t)
                        })).then((function() {
                            return o
                        })))
                    }, e.Ib = function(t, e, n, i) {
                        var r = this;
                        this.c && (this.c.cancel(), this.c = null);
                        var o = null;
                        return Th(this, we().then((function() {
                            return Xr(sa(r.a, {
                                requestUri: t,
                                sessionId: e,
                                postBody: i,
                                tenantId: n
                            }), r.uid)
                        })).then((function(t) {
                            return o = _h(r, t, "reauthenticate"), mh(r, t), r.h = null, r.reload()
                        })).then((function() {
                            return o
                        })), !0)
                    }, e.qb = function(t) {
                        var e = this,
                            n = null;
                        return Th(this, this.I().then((function(e) {
                            return n = e, void 0 === t || lt(t) ? {} : xr(new yr(t))
                        })).then((function(t) {
                            return e.a.qb(n, t)
                        })).then((function(t) {
                            if (e.email != t) return e.reload()
                        })).then((function() {})))
                    }, e.Ab = function(t, e) {
                        var n = this,
                            i = null;
                        return Th(this, this.I().then((function(t) {
                            return i = t, void 0 === e || lt(e) ? {} : xr(new yr(e))
                        })).then((function(e) {
                            return n.a.Ab(i, t, e)
                        })).then((function(t) {
                            if (n.email != t) return n.reload()
                        })).then((function() {})))
                    }, e.hc = function(t) {
                        var e = null,
                            n = this;
                        return Th(this, t = Xr(we(t), n.uid).then((function(t) {
                            return e = _h(n, t, "reauthenticate"), mh(n, t), n.h = null, n.reload()
                        })).then((function() {
                            return e
                        })), !0)
                    }, e.toJSON = function() {
                        return this.v()
                    }, e.v = function() {
                        var t = {
                            uid: this.uid,
                            displayName: this.displayName,
                            photoURL: this.photoURL,
                            email: this.email,
                            emailVerified: this.emailVerified,
                            phoneNumber: this.phoneNumber,
                            isAnonymous: this.isAnonymous,
                            tenantId: this.tenantId,
                            providerData: [],
                            apiKey: this.l,
                            appName: this.m,
                            authDomain: this.s,
                            stsTokenManager: this.b.v(),
                            redirectEventId: this.fa || null
                        };
                        return this.metadata && dt(t, this.metadata.v()), j(this.providerData, (function(e) {
                            t.providerData.push(function(t) {
                                var e, n = {};
                                for (e in t) t.hasOwnProperty(e) && (n[e] = t[e]);
                                return n
                            }(e))
                        })), dt(t, this.O.v()), t
                    };
                    var Sh = {
                        name: "redirectUser",
                        F: "session"
                    };

                    function xh(t) {
                        return Hu(t.b, Sh, t.a)
                    }

                    function Dh(t) {
                        var e, n, i, r;
                        this.a = t, this.b = Fu(), this.c = null, this.f = (n = Ph("local"), i = Ph("session"), r = Ph("none"), function(t, e, n) {
                            var i = ju(e, n),
                                r = Uu(t, e.F);
                            return t.get(e, n).then((function(o) {
                                var a = null;
                                try {
                                    a = ki(s.localStorage.getItem(i))
                                } catch (o) {}
                                if (a && !o) return s.localStorage.removeItem(i), t.set(e, a, n);
                                a && o && "localStorage" != r.type && s.localStorage.removeItem(i)
                            }))
                        }((e = this).b, n, e.a).then((function() {
                            return e.b.get(i, e.a)
                        })).then((function(t) {
                            return t ? i : e.b.get(r, e.a).then((function(t) {
                                return t ? r : e.b.get(n, e.a).then((function(t) {
                                    return t ? n : e.b.get(Ah, e.a).then((function(t) {
                                        return t ? Ph(t) : n
                                    }))
                                }))
                            }))
                        })).then((function(t) {
                            return e.c = t, Nh(e, t.F)
                        })).o((function() {
                            e.c || (e.c = n)
                        }))), this.b.addListener(Ph("local"), this.a, y(this.g, this))
                    }

                    function Nh(t, e) {
                        var n, i, r = [];
                        for (n in Lu) Lu[n] !== e && r.push(Hu(t.b, Ph(Lu[n]), t.a));
                        return r.push(Hu(t.b, Ah, t.a)), i = r, new fe((function(t, e) {
                            var n = i.length,
                                r = [];
                            if (n)
                                for (var o = function(e, i) {
                                        n--, r[e] = i, 0 == n && t(r)
                                    }, s = function(t) {
                                        e(t)
                                    }, a = 0; a < i.length; a++) Ie(i[a], _(o, a), s);
                            else t(r)
                        }))
                    }
                    Dh.prototype.g = function() {
                        var t = this,
                            e = Ph("local");
                        Mh(this, (function() {
                            return we().then((function() {
                                return t.c && "local" != t.c.F ? t.b.get(e, t.a) : null
                            })).then((function(n) {
                                if (n) return Nh(t, "local").then((function() {
                                    t.c = e
                                }))
                            }))
                        }))
                    };
                    var Ah = {
                        name: "persistence",
                        F: "session"
                    };

                    function Ph(t) {
                        return {
                            name: "authUser",
                            F: t
                        }
                    }

                    function Oh(t, e) {
                        return Mh(t, (function() {
                            return t.b.set(t.c, e.v(), t.a)
                        }))
                    }

                    function Rh(t) {
                        return Mh(t, (function() {
                            return Hu(t.b, t.c, t.a)
                        }))
                    }

                    function Lh(t, e) {
                        return Mh(t, (function() {
                            return t.b.get(t.c, t.a).then((function(t) {
                                return t && e && (t.authDomain = e), Ch(t || {})
                            }))
                        }))
                    }

                    function Mh(t, e) {
                        return t.f = t.f.then(e, e), t.f
                    }

                    function Fh(e) {
                        if (this.l = !1, Ui(this, "settings", new Al), Ui(this, "app", e), !Bh(this).options || !Bh(this).options.apiKey) throw new E("invalid-api-key");
                        var n, i, r, o, s, a, u, l;
                        e = t.SDK_VERSION ? vi(t.SDK_VERSION) : null, this.b = new Fs(Bh(this).options && Bh(this).options.apiKey, x(T), e), this.P = [], this.m = [], this.O = [], this.$b = t.INTERNAL.createSubscribe(y(this.xc, this)), this.W = void 0, this.ac = t.INTERNAL.createSubscribe(y(this.yc, this)), Wh(this, null), this.i = new Dh(Bh(this).options.apiKey + ":" + Bh(this).name), this.B = new kh(Bh(this).options.apiKey + ":" + Bh(this).name), this.Z = Gh(this, (i = Bh(n = this).options.authDomain, r = function(t) {
                            var e = function(t, e) {
                                return t.b.get(Sh, t.a).then((function(t) {
                                    return t && e && (t.authDomain = e), Ch(t || {})
                                }))
                            }(t.B, Bh(t).options.authDomain).then((function(e) {
                                return (t.D = e) && (e.ga = t.B), xh(t.B)
                            }));
                            return Gh(t, e)
                        }(n).then((function() {
                            return Lh(n.i, i)
                        })).then((function(t) {
                            return t ? (t.ga = n.B, n.D && (n.D.fa || null) == (t.fa || null) ? t : t.reload().then((function() {
                                return Oh(n.i, t).then((function() {
                                    return t
                                }))
                            })).o((function(e) {
                                return "auth/network-request-failed" == e.code ? t : Rh(n.i)
                            }))) : null
                        })).then((function(t) {
                            Wh(n, t || null)
                        })), Gh(n, r))), this.h = Gh(this, (o = this).Z.then((function() {
                            return qh(o)
                        })).o((function() {})).then((function() {
                            if (!o.l) return o.oa()
                        })).o((function() {})).then((function() {
                            if (!o.l) {
                                o.aa = !0;
                                var t = o.i;
                                t.b.addListener(Ph("local"), t.a, o.oa)
                            }
                        }))), this.aa = !1, this.oa = y(this.Xc, this), this.Ma = y(this.ca, this), this.xa = y(this.jc, this), this.ya = y(this.uc, this), this.za = y(this.vc, this), this.a = null, a = Bh(s = this).options.authDomain, u = Bh(s).options.apiKey, a && bi() && (s.Zb = s.Z.then((function() {
                            if (!s.l) {
                                if (s.a = Tl(a, u, Bh(s).name), gl(s.a, s), zh(s) && ah(zh(s)), s.D) {
                                    ah(s.D);
                                    var t = s.D;
                                    t.va(s.ja()), Zl(t, s), th(t = s.D, s.N), eh(t, s), s.D = null
                                }
                                return s.a
                            }
                        }))), this.INTERNAL = {}, this.INTERNAL.delete = y(this.delete, this), this.INTERNAL.logFramework = y(this.Ec, this), this.s = 0, dn.call(this), l = this, Object.defineProperty(l, "lc", {
                            get: function() {
                                return this.ja()
                            },
                            set: function(t) {
                                this.va(t)
                            },
                            enumerable: !1
                        }), l.$ = null, Object.defineProperty(l, "ti", {
                            get: function() {
                                return this.S()
                            },
                            set: function(t) {
                                this.ub(t)
                            },
                            enumerable: !1
                        }), l.R = null, this.N = []
                    }

                    function Uh(t) {
                        qe.call(this, "languageCodeChanged"), this.g = t
                    }

                    function jh(t) {
                        qe.call(this, "frameworkChanged"), this.c = t
                    }

                    function Hh(t) {
                        return t.Zb || Ee(new E("auth-domain-config-required"))
                    }

                    function qh(t) {
                        if (!bi()) return Ee(new E("operation-not-supported-in-this-environment"));
                        var e = Hh(t).then((function() {
                            return t.a.pa()
                        })).then((function(t) {
                            return t ? Hi(t) : null
                        }));
                        return Gh(t, e)
                    }

                    function Wh(t, e) {
                        var n, i;
                        zh(t) && (n = zh(t), i = t.Ma, z(n.R, (function(t) {
                            return t == i
                        })), nn(zh(t), "tokenChanged", t.xa), nn(zh(t), "userDeleted", t.ya), nn(zh(t), "userInvalidated", t.za), rh(zh(t))), e && (e.R.push(t.Ma), Ze(e, "tokenChanged", t.xa), Ze(e, "userDeleted", t.ya), Ze(e, "userInvalidated", t.za), 0 < t.s && ih(e)), Ui(t, "currentUser", e), e && (e.va(t.ja()), Zl(e, t), th(e, t.N), eh(e, t))
                    }

                    function Vh(t, e) {
                        var n = null,
                            i = null;
                        return Gh(t, e.then((function(e) {
                            return n = ko(e), i = Fr(e),
                                function(t, e) {
                                    var n = {};
                                    return n.apiKey = Bh(t).options.apiKey, n.authDomain = Bh(t).options.authDomain, n.appName = Bh(t).name, t.Z.then((function() {
                                        return i = n, r = e, o = t.B, s = t.Ea(), a = new Jl(i, r), o && (a.ga = o), s && th(a, s), a.reload().then((function() {
                                            return a
                                        }));
                                        var i, r, o, s, a
                                    })).then((function(e) {
                                        return zh(t) && e.uid == zh(t).uid ? gh(zh(t), e) : (Wh(t, e), ah(e)), t.ca(e)
                                    })).then((function() {
                                        Kh(t)
                                    }))
                                }(t, e)
                        }), (function(e) {
                            var n = null;
                            throw e && "auth/multi-factor-auth-required" === e.code && (n = jl(e.v(), t, y(t.ic, t))), n || e
                        })).then((function() {
                            return Hi({
                                user: zh(t),
                                credential: n,
                                additionalUserInfo: i,
                                operationType: "signIn"
                            })
                        })))
                    }

                    function Bh(t) {
                        return t.app
                    }

                    function zh(t) {
                        return t.currentUser
                    }

                    function $h(t) {
                        return zh(t) && zh(t)._lat || null
                    }

                    function Kh(t) {
                        if (t.aa) {
                            for (var e = 0; e < t.m.length; e++) t.m[e] && t.m[e]($h(t));
                            if (t.W !== t.getUid() && t.O.length)
                                for (t.W = t.getUid(), e = 0; e < t.O.length; e++) t.O[e] && t.O[e]($h(t))
                        }
                    }

                    function Gh(t, e) {
                        return t.P.push(e), e.ma((function() {
                            B(t.P, e)
                        })), e
                    }

                    function Yh() {}

                    function Qh() {
                        this.a = {}, this.b = 1e12
                    }
                    Dh.prototype.tb = function(t) {
                        var e = null,
                            n = this;
                        return function(t) {
                            var e = new E("invalid-persistence-type"),
                                n = new E("unsupported-persistence-type");
                            t: {
                                for (i in Lu)
                                    if (Lu[i] == t) {
                                        var i = !0;
                                        break t
                                    } i = !1
                            }
                            if (!i || "string" != typeof t) throw e;
                            switch (ci()) {
                                case "ReactNative":
                                    if ("session" === t) throw n;
                                    break;
                                case "Node":
                                    if ("none" !== t) throw n;
                                    break;
                                case "Worker":
                                    if ("session" === t || !fu() && "none" !== t) throw n;
                                    break;
                                default:
                                    if (!_i() && "none" !== t) throw n
                            }
                        }(t), Mh(this, (function() {
                            return t != n.c.F ? n.b.get(n.c, n.a).then((function(i) {
                                return e = i, Nh(n, t)
                            })).then((function() {
                                if (n.c = Ph(t), e) return n.b.set(n.c, e, n.a)
                            })) : we()
                        }))
                    }, w(Fh, dn), w(Uh, qe), w(jh, qe), (e = Fh.prototype).tb = function(t) {
                        return Gh(this, t = this.i.tb(t))
                    }, e.va = function(t) {
                        this.$ === t || this.l || (this.$ = t, Bs(this.b, this.$), this.dispatchEvent(new Uh(this.ja())))
                    }, e.ja = function() {
                        return this.$
                    }, e.dd = function() {
                        var t = s.navigator;
                        this.va(t && (t.languages && t.languages[0] || t.language || t.userLanguage) || null)
                    }, e.Ec = function(e) {
                        this.N.push(e), zs(this.b, t.SDK_VERSION ? vi(t.SDK_VERSION, this.N) : null), this.dispatchEvent(new jh(this.N))
                    }, e.Ea = function() {
                        return K(this.N)
                    }, e.ub = function(t) {
                        this.R === t || this.l || (this.R = t, this.b.b = this.R)
                    }, e.S = function() {
                        return this.R
                    }, e.toJSON = function() {
                        return {
                            apiKey: Bh(this).options.apiKey,
                            authDomain: Bh(this).options.authDomain,
                            appName: Bh(this).name,
                            currentUser: zh(this) && zh(this).v()
                        }
                    }, e.Cb = function(t, e) {
                        switch (t) {
                            case "unknown":
                            case "signInViaRedirect":
                                return !0;
                            case "signInViaPopup":
                                return this.g == e && !!this.f;
                            default:
                                return !1
                        }
                    }, e.la = function(t, e, n, i) {
                        "signInViaPopup" == t && this.g == i && (n && this.w ? this.w(n) : e && !n && this.f && this.f(e), this.c && (this.c.cancel(), this.c = null), delete this.f, delete this.w)
                    }, e.Da = function(t, e) {
                        return "signInViaRedirect" == t || "signInViaPopup" == t && this.g == e && this.f ? y(this.gc, this) : null
                    }, e.gc = function(t, e, n, i) {
                        var r = this,
                            o = {
                                requestUri: t,
                                postBody: i,
                                sessionId: e,
                                tenantId: n
                            };
                        return this.c && (this.c.cancel(), this.c = null), r.Z.then((function() {
                            return Vh(r, ra(r.b, o))
                        }))
                    }, e.Vc = function(e) {
                        if (!bi()) return Ee(new E("operation-not-supported-in-this-environment"));
                        var n = this,
                            i = Mr(e.providerId),
                            r = Si(),
                            o = null;
                        (!Ii() || li()) && Bh(this).options.authDomain && e.isOAuthProvider && (o = nu(Bh(this).options.authDomain, Bh(this).options.apiKey, Bh(this).name, "signInViaPopup", e, null, r, t.SDK_VERSION || null, null, null, this.S()));
                        var s = ri(o, i && i.ta, i && i.sa);
                        return Gh(this, i = Hh(this).then((function(t) {
                            return _l(t, s, "signInViaPopup", e, r, !!o, n.S())
                        })).then((function() {
                            return new fe((function(t, e) {
                                n.la("signInViaPopup", null, new E("cancelled-popup-request"), n.g), n.f = t, n.w = e, n.g = r, n.c = El(n.a, n, "signInViaPopup", s, r)
                            }))
                        })).then((function(t) {
                            return s && ii(s), t ? Hi(t) : null
                        })).o((function(t) {
                            throw s && ii(s), t
                        })))
                    }, e.Wc = function(t) {
                        if (!bi()) return Ee(new E("operation-not-supported-in-this-environment"));
                        var e = this;
                        return Gh(this, Hh(this).then((function() {
                            return Mh(t = e.i, (function() {
                                return t.b.set(Ah, t.c.F, t.a)
                            }));
                            var t
                        })).then((function() {
                            return wl(e.a, "signInViaRedirect", t, void 0, e.S())
                        })))
                    }, e.pa = function() {
                        var t = this;
                        return qh(this).then((function(e) {
                            return t.a && Sl(t.a.b), e
                        })).o((function(e) {
                            throw t.a && Sl(t.a.b), e
                        }))
                    }, e.bd = function(t) {
                        if (!t) return Ee(new E("null-user"));
                        if (this.R != t.tenantId) return Ee(new E("tenant-id-mismatch"));
                        var e = this,
                            n = {};
                        n.apiKey = Bh(this).options.apiKey, n.authDomain = Bh(this).options.authDomain, n.appName = Bh(this).name;
                        var i, r, o, s, a, u, l = (i = t, r = n, o = e.B, s = e.Ea(), a = i.b, (u = {})[js] = a.b && a.b.toString(), u.refreshToken = a.a, r = new Jl(r || {
                            apiKey: i.l,
                            authDomain: i.s,
                            appName: i.m
                        }, u), o && (r.ga = o), s && th(r, s), gh(r, i), r);
                        return Gh(this, this.h.then((function() {
                            if (Bh(e).options.apiKey != t.l) return l.reload()
                        })).then((function() {
                            return zh(e) && t.uid == zh(e).uid ? (gh(zh(e), t), e.ca(t)) : (Wh(e, l), ah(l), e.ca(l))
                        })).then((function() {
                            Kh(e)
                        })))
                    }, e.wb = function() {
                        var t = this;
                        return Gh(this, this.h.then((function() {
                            return t.a && Sl(t.a.b), zh(t) ? (Wh(t, null), Rh(t.i).then((function() {
                                Kh(t)
                            }))) : we()
                        })))
                    }, e.Xc = function() {
                        var t = this;
                        return Lh(this.i, Bh(this).options.authDomain).then((function(e) {
                            if (!t.l) {
                                var n;
                                if (n = zh(t) && e) {
                                    n = zh(t).uid;
                                    var i = e.uid;
                                    n = null != n && "" !== n && null != i && "" !== i && n == i
                                }
                                if (n) return gh(zh(t), e), zh(t).I();
                                (zh(t) || e) && (Wh(t, e), e && (ah(e), e.ga = t.B), t.a && gl(t.a, t), Kh(t))
                            }
                        }))
                    }, e.ca = function(t) {
                        return Oh(this.i, t)
                    }, e.jc = function() {
                        Kh(this), this.ca(zh(this))
                    }, e.uc = function() {
                        this.wb()
                    }, e.vc = function() {
                        this.wb()
                    }, e.ic = function(t) {
                        var e = this;
                        return this.h.then((function() {
                            return Vh(e, we(t))
                        }))
                    }, e.xc = function(t) {
                        var e = this;
                        this.addAuthTokenListener((function() {
                            t.next(zh(e))
                        }))
                    }, e.yc = function(t) {
                        var e, n, i = this;
                        n = function() {
                            t.next(zh(i))
                        }, (e = this).O.push(n), Gh(e, e.h.then((function() {
                            !e.l && V(e.O, n) && e.W !== e.getUid() && (e.W = e.getUid(), n($h(e)))
                        })))
                    }, e.Gc = function(t, e, n) {
                        var i = this;
                        return this.aa && Promise.resolve().then((function() {
                            d(t) ? t(zh(i)) : d(t.next) && t.next(zh(i))
                        })), this.$b(t, e, n)
                    }, e.Fc = function(t, e, n) {
                        var i = this;
                        return this.aa && Promise.resolve().then((function() {
                            i.W = i.getUid(), d(t) ? t(zh(i)) : d(t.next) && t.next(zh(i))
                        })), this.ac(t, e, n)
                    }, e.kc = function(t) {
                        var e = this;
                        return Gh(this, this.h.then((function() {
                            return zh(e) ? zh(e).I(t).then((function(t) {
                                return {
                                    accessToken: t
                                }
                            })) : null
                        })))
                    }, e.Rc = function(t) {
                        var e = this;
                        return this.h.then((function() {
                            return Vh(e, qa(e.b, La, {
                                token: t
                            }))
                        })).then((function(t) {
                            var n = t.user;
                            return fh(n, "isAnonymous", !1), e.ca(n), t
                        }))
                    }, e.Sc = function(t, e) {
                        var n = this;
                        return this.h.then((function() {
                            return Vh(n, qa(n.b, Ma, {
                                email: t,
                                password: e
                            }))
                        }))
                    }, e.cc = function(t, e) {
                        var n = this;
                        return this.h.then((function() {
                            return Vh(n, qa(n.b, ha, {
                                email: t,
                                password: e
                            }))
                        }))
                    }, e.Ya = function(t) {
                        var e = this;
                        return this.h.then((function() {
                            return Vh(e, t.ia(e.b))
                        }))
                    }, e.Qc = function(t) {
                        return Mi("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."), this.Ya(t)
                    }, e.vb = function() {
                        var t = this;
                        return this.h.then((function() {
                            var e = zh(t);
                            if (e && e.isAnonymous) {
                                var n = Hi({
                                    providerId: null,
                                    isNewUser: !1
                                });
                                return Hi({
                                    user: e,
                                    credential: null,
                                    additionalUserInfo: n,
                                    operationType: "signIn"
                                })
                            }
                            return Vh(t, t.b.vb()).then((function(e) {
                                var n = e.user;
                                return fh(n, "isAnonymous", !0), t.ca(n), e
                            }))
                        }))
                    }, e.getUid = function() {
                        return zh(this) && zh(this).uid || null
                    }, e.bc = function(t) {
                        this.addAuthTokenListener(t), this.s++, 0 < this.s && zh(this) && ih(zh(this))
                    }, e.Nc = function(t) {
                        var e = this;
                        j(this.m, (function(n) {
                            n == t && e.s--
                        })), this.s < 0 && (this.s = 0), 0 == this.s && zh(this) && rh(zh(this)), this.removeAuthTokenListener(t)
                    }, e.addAuthTokenListener = function(t) {
                        var e = this;
                        this.m.push(t), Gh(this, this.h.then((function() {
                            e.l || V(e.m, t) && t($h(e))
                        })))
                    }, e.removeAuthTokenListener = function(t) {
                        z(this.m, (function(e) {
                            return e == t
                        }))
                    }, e.delete = function() {
                        this.l = !0;
                        for (var t = 0; t < this.P.length; t++) this.P[t].cancel("app-deleted");
                        return this.P = [], this.i && (t = this.i).b.removeListener(Ph("local"), t.a, this.oa), this.a && (vl(this.a, this), Sl(this.a.b)), Promise.resolve()
                    }, e.fc = function(t) {
                        return Gh(this, qa(this.b, ca, {
                            identifier: t,
                            continueUri: wi() ? ti() : "http://localhost"
                        }).then((function(t) {
                            return t.signinMethods || []
                        })))
                    }, e.zc = function(t) {
                        return !!bo(t)
                    }, e.sb = function(t, e) {
                        var n = this;
                        return Gh(this, we().then((function() {
                            var t = new yr(e);
                            if (!t.c) throw new E("argument-error", wr + " must be true when sending sign in link to email");
                            return xr(t)
                        })).then((function(e) {
                            return n.b.sb(t, e)
                        })).then((function() {})))
                    }, e.fd = function(t) {
                        return this.Pa(t).then((function(t) {
                            return t.data.email
                        }))
                    }, e.jb = function(t, e) {
                        return Gh(this, this.b.jb(t, e).then((function() {})))
                    }, e.Pa = function(t) {
                        return Gh(this, this.b.Pa(t).then((function(t) {
                            return new Yi(t)
                        })))
                    }, e.fb = function(t) {
                        return Gh(this, this.b.fb(t).then((function() {})))
                    }, e.rb = function(t, e) {
                        var n = this;
                        return Gh(this, we().then((function() {
                            return void 0 === e || lt(e) ? {} : xr(new yr(e))
                        })).then((function(e) {
                            return n.b.rb(t, e)
                        })).then((function() {})))
                    }, e.Uc = function(t, e) {
                        return Gh(this, Ol(this, t, e, y(this.Ya, this)))
                    }, e.Tc = function(t, e) {
                        var n = this;
                        return Gh(this, we().then((function() {
                            var i = e || ti(),
                                r = _o(t, i);
                            if (!(i = bo(i))) throw new E("argument-error", "Invalid email link!");
                            if (i.tenantId !== n.S()) throw new E("tenant-id-mismatch");
                            return n.Ya(r)
                        })))
                    }, Yh.prototype.render = function() {}, Yh.prototype.reset = function() {}, Yh.prototype.getResponse = function() {}, Yh.prototype.execute = function() {};
                    var Xh = null;

                    function Jh(t, e) {
                        return (e = Zh(e)) && t.a[e] || null
                    }

                    function Zh(t) {
                        return (t = void 0 === t ? 1e12 : t) ? t.toString() : null
                    }

                    function tc(t, e) {
                        this.g = !1, this.c = e, this.a = this.b = null, this.h = "invisible" !== this.c.size, this.f = ne(t);
                        var n = this;
                        this.i = function() {
                            n.execute()
                        }, this.h ? this.execute() : Ze(this.f, "click", this.i)
                    }

                    function ec(t) {
                        if (t.g) throw Error("reCAPTCHA mock was already deleted!")
                    }

                    function nc() {}

                    function ic() {}
                    Qh.prototype.render = function(t, e) {
                        return this.a[this.b.toString()] = new tc(t, e), this.b++
                    }, Qh.prototype.reset = function(t) {
                        var e = Jh(this, t);
                        t = Zh(t), e && t && (e.delete(), delete this.a[t])
                    }, Qh.prototype.getResponse = function(t) {
                        return (t = Jh(this, t)) ? t.getResponse() : null
                    }, Qh.prototype.execute = function(t) {
                        (t = Jh(this, t)) && t.execute()
                    }, tc.prototype.getResponse = function() {
                        return ec(this), this.b
                    }, tc.prototype.execute = function() {
                        ec(this);
                        var t = this;
                        this.a || (this.a = setTimeout((function() {
                            t.b = function() {
                                for (var t = 50, e = []; 0 < t;) e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62 * Math.random()))), t--;
                                return e.join("")
                            }();
                            var e = t.c.callback,
                                n = t.c["expired-callback"];
                            if (e) try {
                                e(t.b)
                            } catch (e) {}
                            t.a = setTimeout((function() {
                                if (t.a = null, t.b = null, n) try {
                                    n()
                                } catch (t) {}
                                t.h && t.execute()
                            }), 6e4)
                        }), 500))
                    }, tc.prototype.delete = function() {
                        ec(this), this.g = !0, clearTimeout(this.a), this.a = null, nn(this.f, "click", this.i)
                    }, Ui(nc, "FACTOR_ID", "phone"), ic.prototype.g = function() {
                        return we(Xh = Xh || new Qh)
                    }, ic.prototype.c = function() {};
                    var rc = null;

                    function oc() {
                        this.b = s.grecaptcha ? 1 / 0 : 0, this.f = null, this.a = "__rcb" + Math.floor(1e6 * Math.random()).toString()
                    }
                    var sc = new ft(mt, "https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),
                        ac = new Ni(3e4, 6e4);
                    oc.prototype.g = function(t) {
                        var e = this;
                        return new fe((function(n, i) {
                            var r = setTimeout((function() {
                                i(new E("network-request-failed"))
                            }), ac.get());
                            !s.grecaptcha || t !== e.f && !e.b ? (s[e.a] = function() {
                                if (s.grecaptcha) {
                                    e.f = t;
                                    var o = s.grecaptcha.render;
                                    s.grecaptcha.render = function(t, n) {
                                        return t = o(t, n), e.b++, t
                                    }, clearTimeout(r), n(s.grecaptcha)
                                } else clearTimeout(r), i(new E("internal-error"));
                                delete s[e.a]
                            }, we(Ns(wt(sc, {
                                onload: e.a,
                                hl: t || ""
                            }))).o((function() {
                                clearTimeout(r), i(new E("internal-error", "Unable to load external reCAPTCHA dependencies!"))
                            }))) : (clearTimeout(r), n(s.grecaptcha))
                        }))
                    }, oc.prototype.c = function() {
                        this.b--
                    };
                    var uc = null;

                    function lc(t, e, n, i, r, o, a) {
                        if (Ui(this, "type", "recaptcha"), this.c = this.f = null, this.D = !1, this.u = e, this.g = null, a = a ? rc = rc || new ic : uc = uc || new oc, this.m = a, this.a = n || {
                                theme: "light",
                                type: "image"
                            }, this.h = [], this.a[dc]) throw new E("argument-error", "sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");
                        if (this.i = "invisible" === this.a[pc], !s.document) throw new E("operation-not-supported-in-this-environment", "RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");
                        if (!ne(e) || !this.i && ne(e).hasChildNodes()) throw new E("argument-error", "reCAPTCHA container is either not found or already contains inner elements!");
                        this.s = new Fs(t, o || null, r || null), this.w = i || function() {
                            return null
                        };
                        var u = this;
                        this.l = [];
                        var l = this.a[hc];
                        this.a[hc] = function(t) {
                            if (fc(u, t), "function" == typeof l) l(t);
                            else if ("string" == typeof l) {
                                var e = yi(l, s);
                                "function" == typeof e && e(t)
                            }
                        };
                        var h = this.a[cc];
                        this.a[cc] = function() {
                            if (fc(u, null), "function" == typeof h) h();
                            else if ("string" == typeof h) {
                                var t = yi(h, s);
                                "function" == typeof t && t()
                            }
                        }
                    }
                    var hc = "callback",
                        cc = "expired-callback",
                        dc = "sitekey",
                        pc = "size";

                    function fc(t, e) {
                        for (var n = 0; n < t.l.length; n++) try {
                            t.l[n](e)
                        } catch (t) {}
                    }

                    function gc(t, e) {
                        return t.h.push(e), e.ma((function() {
                            B(t.h, e)
                        })), e
                    }

                    function vc(t) {
                        if (t.D) throw new E("internal-error", "RecaptchaVerifier instance has been destroyed.")
                    }

                    function mc(e, n, i) {
                        var r = !1;
                        try {
                            this.b = i || t.app()
                        } catch (e) {
                            throw new E("argument-error", "No firebase.app.App instance is currently initialized.")
                        }
                        if (!this.b.options || !this.b.options.apiKey) throw new E("invalid-api-key");
                        i = this.b.options.apiKey;
                        var o = this,
                            s = null;
                        try {
                            s = this.b.auth().Ea()
                        } catch (e) {}
                        try {
                            r = this.b.auth().settings.appVerificationDisabledForTesting
                        } catch (e) {}
                        s = t.SDK_VERSION ? vi(t.SDK_VERSION, s) : null, lc.call(this, i, e, n, (function() {
                            try {
                                var t = o.b.auth().ja()
                            } catch (e) {
                                t = null
                            }
                            return t
                        }), s, x(T), r)
                    }

                    function yc(t, e, n, i) {
                        t: {
                            n = Array.prototype.slice.call(n);
                            for (var r = 0, o = !1, s = 0; s < e.length; s++)
                                if (e[s].optional) o = !0;
                                else {
                                    if (o) throw new E("internal-error", "Argument validator encountered a required argument after an optional argument.");
                                    r++
                                } if (o = e.length, n.length < r || o < n.length) i = "Expected " + (r == o ? 1 == r ? "1 argument" : r + " arguments" : r + "-" + o + " arguments") + " but got " + n.length + ".";
                            else {
                                for (r = 0; r < n.length; r++)
                                    if (o = e[r].optional && void 0 === n[r], !e[r].K(n[r]) && !o) {
                                        if (e = e[r], r < 0 || r >= _c.length) throw new E("internal-error", "Argument validator received an unsupported number of arguments.");
                                        n = _c[r], i = (i ? "" : n + " argument ") + (e.name ? '"' + e.name + '" ' : "") + "must be " + e.J + ".";
                                        break t
                                    } i = null
                            }
                        }
                        if (i) throw new E("argument-error", t + " failed: " + i)
                    }(e = lc.prototype).Ga = function() {
                        var t = this;
                        return this.f ? this.f : this.f = gc(this, we().then((function() {
                            if (wi() && !hi()) return ai();
                            throw new E("operation-not-supported-in-this-environment", "RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")
                        })).then((function() {
                            return t.m.g(t.w())
                        })).then((function(e) {
                            return t.g = e, qa(t.s, Ta, {})
                        })).then((function(e) {
                            t.a[dc] = e.recaptchaSiteKey
                        })).o((function(e) {
                            throw t.f = null, e
                        })))
                    }, e.render = function() {
                        vc(this);
                        var t = this;
                        return gc(this, this.Ga().then((function() {
                            if (null === t.c) {
                                var e = t.u;
                                if (!t.i) {
                                    var n = ne(e);
                                    e = function(t, e, n) {
                                        var i = arguments,
                                            r = document,
                                            o = String(i[0]),
                                            s = i[1];
                                        if (!ee && s && (s.name || s.type)) {
                                            if (o = ["<", o], s.name && o.push(' name="', Ut(s.name), '"'), s.type) {
                                                o.push(' type="', Ut(s.type), '"');
                                                var a = {};
                                                dt(a, s), delete a.type, s = a
                                            }
                                            o.push(">"), o = o.join("")
                                        }
                                        return o = ae(r, o), s && ("string" == typeof s ? o.className = s : Array.isArray(s) ? o.className = s.join(" ") : ie(o, s)), 2 < i.length && function(t, e, n) {
                                            function i(n) {
                                                n && e.appendChild("string" == typeof n ? t.createTextNode(n) : n)
                                            }
                                            for (var r = 2; r < n.length; r++) {
                                                var o = n[r];
                                                !c(o) || p(o) && 0 < o.nodeType ? i(o) : j(ue(o) ? K(o) : o, i)
                                            }
                                        }(r, o, i), o
                                    }("DIV"), n.appendChild(e)
                                }
                                t.c = t.g.render(e, t.a)
                            }
                            return t.c
                        })))
                    }, e.verify = function() {
                        vc(this);
                        var t = this;
                        return gc(this, this.render().then((function(e) {
                            return new fe((function(n) {
                                var i = t.g.getResponse(e);
                                if (i) n(i);
                                else {
                                    var r = function(e) {
                                        var i;
                                        e && (i = r, z(t.l, (function(t) {
                                            return t == i
                                        })), n(e))
                                    };
                                    t.l.push(r), t.i && t.g.execute(t.c)
                                }
                            }))
                        })))
                    }, e.reset = function() {
                        vc(this), null !== this.c && this.g.reset(this.c)
                    }, e.clear = function() {
                        vc(this), this.D = !0, this.m.c();
                        for (var t = 0; t < this.h.length; t++) this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");
                        if (!this.i) {
                            t = ne(this.u);
                            for (var e; e = t.firstChild;) t.removeChild(e)
                        }
                    }, w(mc, lc);
                    var _c = "First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");

                    function bc(t, e) {
                        return {
                            name: t || "",
                            J: "a valid string",
                            optional: !!e,
                            K: function(t) {
                                return "string" == typeof t
                            }
                        }
                    }

                    function wc(t, e) {
                        return {
                            name: t || "",
                            J: "a boolean",
                            optional: !!e,
                            K: function(t) {
                                return "boolean" == typeof t
                            }
                        }
                    }

                    function Ec(t, e) {
                        return {
                            name: t || "",
                            J: "a valid object",
                            optional: !!e,
                            K: p
                        }
                    }

                    function Ic(t, e) {
                        return {
                            name: t || "",
                            J: "a function",
                            optional: !!e,
                            K: d
                        }
                    }

                    function Tc(t, e) {
                        return {
                            name: t || "",
                            J: "null",
                            optional: !!e,
                            K: function(t) {
                                return null === t
                            }
                        }
                    }

                    function Cc(t) {
                        return {
                            name: t ? t + "Credential" : "credential",
                            J: t ? "a valid " + t + " credential" : "a valid credential",
                            optional: !1,
                            K: function(e) {
                                if (!e) return !1;
                                var n = !t || e.providerId === t;
                                return !(!e.ia || !n)
                            }
                        }
                    }

                    function kc(t, e) {
                        return p(t) && "string" == typeof t.type && t.type === e && d(t.Fa)
                    }

                    function Sc(t) {
                        return p(t) && "string" == typeof t.uid
                    }

                    function xc() {
                        return {
                            name: "applicationVerifier",
                            J: "an implementation of firebase.auth.ApplicationVerifier",
                            optional: !1,
                            K: function(t) {
                                return !(!t || "string" != typeof t.type || !d(t.verify))
                            }
                        }
                    }

                    function Dc(t, e, n, i) {
                        return {
                            name: n || "",
                            J: t.J + " or " + e.J,
                            optional: !!i,
                            K: function(n) {
                                return t.K(n) || e.K(n)
                            }
                        }
                    }

                    function Nc(t, e) {
                        for (var n in e) {
                            var i = e[n].name;
                            t[i] = Oc(i, t[n], e[n].j)
                        }
                    }

                    function Ac(t, e) {
                        for (var n in e) {
                            var i = e[n].name;
                            i !== n && Object.defineProperty(t, i, {
                                get: _((function(t) {
                                    return this[t]
                                }), n),
                                set: _((function(t, e, n, i) {
                                    yc(t, [n], [i], !0), this[e] = i
                                }), i, n, e[n].gb),
                                enumerable: !0
                            })
                        }
                    }

                    function Pc(t, e, n, i) {
                        t[e] = Oc(e, n, i)
                    }

                    function Oc(t, e, n) {
                        function i() {
                            var t = Array.prototype.slice.call(arguments);
                            return yc(s, n, t), e.apply(this, t)
                        }
                        if (!n) return e;
                        var r, o, s = (o = (o = t).split("."))[o.length - 1];
                        for (r in e) i[r] = e[r];
                        for (r in e.prototype) i.prototype[r] = e.prototype[r];
                        return i
                    }
                    Nc(Fh.prototype, {
                            fb: {
                                name: "applyActionCode",
                                j: [bc("code")]
                            },
                            Pa: {
                                name: "checkActionCode",
                                j: [bc("code")]
                            },
                            jb: {
                                name: "confirmPasswordReset",
                                j: [bc("code"), bc("newPassword")]
                            },
                            cc: {
                                name: "createUserWithEmailAndPassword",
                                j: [bc("email"), bc("password")]
                            },
                            fc: {
                                name: "fetchSignInMethodsForEmail",
                                j: [bc("email")]
                            },
                            pa: {
                                name: "getRedirectResult",
                                j: []
                            },
                            zc: {
                                name: "isSignInWithEmailLink",
                                j: [bc("emailLink")]
                            },
                            Fc: {
                                name: "onAuthStateChanged",
                                j: [Dc(Ec(), Ic(), "nextOrObserver"), Ic("opt_error", !0), Ic("opt_completed", !0)]
                            },
                            Gc: {
                                name: "onIdTokenChanged",
                                j: [Dc(Ec(), Ic(), "nextOrObserver"), Ic("opt_error", !0), Ic("opt_completed", !0)]
                            },
                            rb: {
                                name: "sendPasswordResetEmail",
                                j: [bc("email"), Dc(Ec("opt_actionCodeSettings", !0), Tc(null, !0), "opt_actionCodeSettings", !0)]
                            },
                            sb: {
                                name: "sendSignInLinkToEmail",
                                j: [bc("email"), Ec("actionCodeSettings")]
                            },
                            tb: {
                                name: "setPersistence",
                                j: [bc("persistence")]
                            },
                            Qc: {
                                name: "signInAndRetrieveDataWithCredential",
                                j: [Cc()]
                            },
                            vb: {
                                name: "signInAnonymously",
                                j: []
                            },
                            Ya: {
                                name: "signInWithCredential",
                                j: [Cc()]
                            },
                            Rc: {
                                name: "signInWithCustomToken",
                                j: [bc("token")]
                            },
                            Sc: {
                                name: "signInWithEmailAndPassword",
                                j: [bc("email"), bc("password")]
                            },
                            Tc: {
                                name: "signInWithEmailLink",
                                j: [bc("email"), bc("emailLink", !0)]
                            },
                            Uc: {
                                name: "signInWithPhoneNumber",
                                j: [bc("phoneNumber"), xc()]
                            },
                            Vc: {
                                name: "signInWithPopup",
                                j: [{
                                    name: "authProvider",
                                    J: "a valid Auth provider",
                                    optional: !1,
                                    K: function(t) {
                                        return !!(t && t.providerId && t.hasOwnProperty && t.hasOwnProperty("isOAuthProvider"))
                                    }
                                }]
                            },
                            Wc: {
                                name: "signInWithRedirect",
                                j: [{
                                    name: "authProvider",
                                    J: "a valid Auth provider",
                                    optional: !1,
                                    K: function(t) {
                                        return !!(t && t.providerId && t.hasOwnProperty && t.hasOwnProperty("isOAuthProvider"))
                                    }
                                }]
                            },
                            bd: {
                                name: "updateCurrentUser",
                                j: [Dc({
                                    name: "user",
                                    J: "an instance of Firebase User",
                                    optional: !1,
                                    K: function(t) {
                                        return !!(t && t instanceof Jl)
                                    }
                                }, Tc(), "user")]
                            },
                            wb: {
                                name: "signOut",
                                j: []
                            },
                            toJSON: {
                                name: "toJSON",
                                j: [bc(null, !0)]
                            },
                            dd: {
                                name: "useDeviceLanguage",
                                j: []
                            },
                            fd: {
                                name: "verifyPasswordResetCode",
                                j: [bc("code")]
                            }
                        }), Ac(Fh.prototype, {
                            lc: {
                                name: "languageCode",
                                gb: Dc(bc(), Tc(), "languageCode")
                            },
                            ti: {
                                name: "tenantId",
                                gb: Dc(bc(), Tc(), "tenantId")
                            }
                        }), (Fh.Persistence = Lu).LOCAL = "local", Fh.Persistence.SESSION = "session", Fh.Persistence.NONE = "none", Nc(Jl.prototype, {
                            delete: {
                                name: "delete",
                                j: []
                            },
                            mc: {
                                name: "getIdTokenResult",
                                j: [wc("opt_forceRefresh", !0)]
                            },
                            I: {
                                name: "getIdToken",
                                j: [wc("opt_forceRefresh", !0)]
                            },
                            Ac: {
                                name: "linkAndRetrieveDataWithCredential",
                                j: [Cc()]
                            },
                            mb: {
                                name: "linkWithCredential",
                                j: [Cc()]
                            },
                            Bc: {
                                name: "linkWithPhoneNumber",
                                j: [bc("phoneNumber"), xc()]
                            },
                            Cc: {
                                name: "linkWithPopup",
                                j: [{
                                    name: "authProvider",
                                    J: "a valid Auth provider",
                                    optional: !1,
                                    K: function(t) {
                                        return !!(t && t.providerId && t.hasOwnProperty && t.hasOwnProperty("isOAuthProvider"))
                                    }
                                }]
                            },
                            Dc: {
                                name: "linkWithRedirect",
                                j: [{
                                    name: "authProvider",
                                    J: "a valid Auth provider",
                                    optional: !1,
                                    K: function(t) {
                                        return !!(t && t.providerId && t.hasOwnProperty && t.hasOwnProperty("isOAuthProvider"))
                                    }
                                }]
                            },
                            Jc: {
                                name: "reauthenticateAndRetrieveDataWithCredential",
                                j: [Cc()]
                            },
                            pb: {
                                name: "reauthenticateWithCredential",
                                j: [Cc()]
                            },
                            Kc: {
                                name: "reauthenticateWithPhoneNumber",
                                j: [bc("phoneNumber"), xc()]
                            },
                            Lc: {
                                name: "reauthenticateWithPopup",
                                j: [{
                                    name: "authProvider",
                                    J: "a valid Auth provider",
                                    optional: !1,
                                    K: function(t) {
                                        return !!(t && t.providerId && t.hasOwnProperty && t.hasOwnProperty("isOAuthProvider"))
                                    }
                                }]
                            },
                            Mc: {
                                name: "reauthenticateWithRedirect",
                                j: [{
                                    name: "authProvider",
                                    J: "a valid Auth provider",
                                    optional: !1,
                                    K: function(t) {
                                        return !!(t && t.providerId && t.hasOwnProperty && t.hasOwnProperty("isOAuthProvider"))
                                    }
                                }]
                            },
                            reload: {
                                name: "reload",
                                j: []
                            },
                            qb: {
                                name: "sendEmailVerification",
                                j: [Dc(Ec("opt_actionCodeSettings", !0), Tc(null, !0), "opt_actionCodeSettings", !0)]
                            },
                            toJSON: {
                                name: "toJSON",
                                j: [bc(null, !0)]
                            },
                            ad: {
                                name: "unlink",
                                j: [bc("provider")]
                            },
                            xb: {
                                name: "updateEmail",
                                j: [bc("email")]
                            },
                            yb: {
                                name: "updatePassword",
                                j: [bc("password")]
                            },
                            cd: {
                                name: "updatePhoneNumber",
                                j: [Cc("phone")]
                            },
                            zb: {
                                name: "updateProfile",
                                j: [Ec("profile")]
                            },
                            Ab: {
                                name: "verifyBeforeUpdateEmail",
                                j: [bc("email"), Dc(Ec("opt_actionCodeSettings", !0), Tc(null, !0), "opt_actionCodeSettings", !0)]
                            }
                        }), Nc(Qh.prototype, {
                            execute: {
                                name: "execute"
                            },
                            render: {
                                name: "render"
                            },
                            reset: {
                                name: "reset"
                            },
                            getResponse: {
                                name: "getResponse"
                            }
                        }), Nc(Yh.prototype, {
                            execute: {
                                name: "execute"
                            },
                            render: {
                                name: "render"
                            },
                            reset: {
                                name: "reset"
                            },
                            getResponse: {
                                name: "getResponse"
                            }
                        }), Nc(fe.prototype, {
                            ma: {
                                name: "finally"
                            },
                            o: {
                                name: "catch"
                            },
                            then: {
                                name: "then"
                            }
                        }), Ac(Al.prototype, {
                            appVerificationDisabled: {
                                name: "appVerificationDisabledForTesting",
                                gb: wc("appVerificationDisabledForTesting")
                            }
                        }), Nc(Pl.prototype, {
                            confirm: {
                                name: "confirm",
                                j: [bc("verificationCode")]
                            }
                        }), Pc(Qr, "fromJSON", (function(t) {
                            t = "string" == typeof t ? JSON.parse(t) : t;
                            for (var e, n = [io, mo, Eo, to], i = 0; i < n.length; i++)
                                if (e = n[i](t)) return e;
                            return null
                        }), [Dc(bc(), Ec(), "json")]), Pc(yo, "credential", (function(t, e) {
                            return new vo(t, e)
                        }), [bc("email"), bc("password")]), Nc(vo.prototype, {
                            v: {
                                name: "toJSON",
                                j: [bc(null, !0)]
                            }
                        }), Nc(ao.prototype, {
                            Aa: {
                                name: "addScope",
                                j: [bc("scope")]
                            },
                            Ia: {
                                name: "setCustomParameters",
                                j: [Ec("customOAuthParameters")]
                            }
                        }), Pc(ao, "credential", uo, [Dc(bc(), Ec(), "token")]), Pc(yo, "credentialWithLink", _o, [bc("email"), bc("emailLink")]), Nc(lo.prototype, {
                            Aa: {
                                name: "addScope",
                                j: [bc("scope")]
                            },
                            Ia: {
                                name: "setCustomParameters",
                                j: [Ec("customOAuthParameters")]
                            }
                        }), Pc(lo, "credential", ho, [Dc(bc(), Ec(), "token")]), Nc(co.prototype, {
                            Aa: {
                                name: "addScope",
                                j: [bc("scope")]
                            },
                            Ia: {
                                name: "setCustomParameters",
                                j: [Ec("customOAuthParameters")]
                            }
                        }), Pc(co, "credential", po, [Dc(bc(), Dc(Ec(), Tc()), "idToken"), Dc(bc(), Tc(), "accessToken", !0)]), Nc(fo.prototype, {
                            Ia: {
                                name: "setCustomParameters",
                                j: [Ec("customOAuthParameters")]
                            }
                        }), Pc(fo, "credential", go, [Dc(bc(), Ec(), "token"), bc("secret", !0)]), Nc(so.prototype, {
                            Aa: {
                                name: "addScope",
                                j: [bc("scope")]
                            },
                            credential: {
                                name: "credential",
                                j: [Dc(bc(), Dc(Ec(), Tc()), "optionsOrIdToken"), Dc(bc(), Tc(), "accessToken", !0)]
                            },
                            Ia: {
                                name: "setCustomParameters",
                                j: [Ec("customOAuthParameters")]
                            }
                        }), Nc(eo.prototype, {
                            v: {
                                name: "toJSON",
                                j: [bc(null, !0)]
                            }
                        }), Nc(Jr.prototype, {
                            v: {
                                name: "toJSON",
                                j: [bc(null, !0)]
                            }
                        }), Pc(To, "credential", Co, [bc("verificationId"), bc("verificationCode")]), Nc(To.prototype, {
                            cb: {
                                name: "verifyPhoneNumber",
                                j: [Dc(bc(), {
                                    name: "phoneInfoOptions",
                                    J: "valid phone info options",
                                    optional: !1,
                                    K: function(t) {
                                        return !!t && (t.session && t.phoneNumber ? kc(t.session, Gr) && "string" == typeof t.phoneNumber : t.session && t.multiFactorHint ? kc(t.session, Yr) && Sc(t.multiFactorHint) : t.session && t.multiFactorUid ? kc(t.session, Yr) && "string" == typeof t.multiFactorUid : !!t.phoneNumber && "string" == typeof t.phoneNumber)
                                    }
                                }, "phoneInfoOptions"), xc()]
                            }
                        }), Nc(wo.prototype, {
                            v: {
                                name: "toJSON",
                                j: [bc(null, !0)]
                            }
                        }), Nc(E.prototype, {
                            toJSON: {
                                name: "toJSON",
                                j: [bc(null, !0)]
                            }
                        }), Nc(Ro.prototype, {
                            toJSON: {
                                name: "toJSON",
                                j: [bc(null, !0)]
                            }
                        }), Nc(Oo.prototype, {
                            toJSON: {
                                name: "toJSON",
                                j: [bc(null, !0)]
                            }
                        }), Nc(Ul.prototype, {
                            toJSON: {
                                name: "toJSON",
                                j: [bc(null, !0)]
                            }
                        }), Nc(Ll.prototype, {
                            Pc: {
                                name: "resolveSignIn",
                                j: [{
                                    name: "multiFactorAssertion",
                                    J: "a valid multiFactorAssertion",
                                    optional: !1,
                                    K: function(t) {
                                        return !!t && !!t.ob
                                    }
                                }]
                            }
                        }), Nc(Bl.prototype, {
                            Ob: {
                                name: "getSession",
                                j: []
                            },
                            dc: {
                                name: "enroll",
                                j: [{
                                    name: "multiFactorAssertion",
                                    J: "a valid multiFactorAssertion",
                                    optional: !1,
                                    K: function(t) {
                                        return !!t && !!t.ob
                                    }
                                }, bc("displayName", !0)]
                            },
                            $c: {
                                name: "unenroll",
                                j: [Dc({
                                    name: "multiFactorInfo",
                                    J: "a valid multiFactorInfo",
                                    optional: !1,
                                    K: Sc
                                }, bc(), "multiFactorInfoIdentifier")]
                            }
                        }), Nc(mc.prototype, {
                            clear: {
                                name: "clear",
                                j: []
                            },
                            render: {
                                name: "render",
                                j: []
                            },
                            verify: {
                                name: "verify",
                                j: []
                            }
                        }), Pc(lr, "parseLink", mr, [bc("link")]), Pc(nc, "assertion", (function(t) {
                            return new Wl(t)
                        }), [Cc("phone")]),
                        function() {
                            if (void 0 === t || !t.INTERNAL || !t.INTERNAL.registerComponent) throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");
                            var e = {
                                ActionCodeInfo: {
                                    Operation: {
                                        EMAIL_SIGNIN: Xi,
                                        PASSWORD_RESET: "PASSWORD_RESET",
                                        RECOVER_EMAIL: "RECOVER_EMAIL",
                                        REVERT_SECOND_FACTOR_ADDITION: Qi,
                                        VERIFY_AND_CHANGE_EMAIL: Ji,
                                        VERIFY_EMAIL: "VERIFY_EMAIL"
                                    }
                                },
                                Auth: Fh,
                                AuthCredential: Qr,
                                Error: E
                            };
                            Pc(e, "EmailAuthProvider", yo, []), Pc(e, "FacebookAuthProvider", ao, []), Pc(e, "GithubAuthProvider", lo, []), Pc(e, "GoogleAuthProvider", co, []), Pc(e, "TwitterAuthProvider", fo, []), Pc(e, "OAuthProvider", so, [bc("providerId")]), Pc(e, "SAMLAuthProvider", oo, [bc("providerId")]), Pc(e, "PhoneAuthProvider", To, [{
                                name: "auth",
                                J: "an instance of Firebase Auth",
                                optional: !0,
                                K: function(t) {
                                    return !!(t && t instanceof Fh)
                                }
                            }]), Pc(e, "RecaptchaVerifier", mc, [Dc(bc(), {
                                name: "",
                                J: "an HTML element",
                                optional: !1,
                                K: function(t) {
                                    return !!(t && t instanceof Element)
                                }
                            }, "recaptchaContainer"), Ec("recaptchaParameters", !0), {
                                name: "app",
                                J: "an instance of Firebase App",
                                optional: !0,
                                K: function(e) {
                                    return !!(e && e instanceof t.app.App)
                                }
                            }]), Pc(e, "ActionCodeURL", lr, []), Pc(e, "PhoneMultiFactorGenerator", nc, []), t.INTERNAL.registerComponent({
                                name: "auth",
                                instanceFactory: function(t) {
                                    return new Fh(t = t.getProvider("app").getImmediate())
                                },
                                multipleInstances: !1,
                                serviceProps: e,
                                instantiationMode: "LAZY",
                                type: "PUBLIC"
                            }), t.INTERNAL.registerComponent({
                                name: "auth-internal",
                                instanceFactory: function(t) {
                                    return {
                                        getUid: y((t = t.getProvider("auth").getImmediate()).getUid, t),
                                        getToken: y(t.kc, t),
                                        addAuthTokenListener: y(t.bc, t),
                                        removeAuthTokenListener: y(t.Nc, t)
                                    }
                                },
                                multipleInstances: !1,
                                instantiationMode: "LAZY",
                                type: "PRIVATE"
                            }), t.registerVersion("@firebase/auth", "0.14.8"), t.INTERNAL.extendNamespace({
                                User: Jl
                            })
                        }()
                }.apply("undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
        }).apply(this, arguments)
    } catch (t) {
        throw console.error(t), new Error("Cannot instantiate firebase-auth.js - be sure to load firebase-app.js first.")
    }
})),
function(t, e) {
    "object" == typeof exports && "undefined" != typeof module ? e(require("@firebase/app")) : "function" == typeof define && define.amd ? define(["@firebase/app"], e) : e((t = t || self).firebase)
}(this, (function(t) {
    "use strict";
    try {
        (function() {
            t = t && Object.prototype.hasOwnProperty.call(t, "default") ? t.default : t;
            var e = function(t, n) {
                return (e = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, n)
            };

            function n() {
                for (var t = 0, e = 0, n = arguments.length; e < n; e++) t += arguments[e].length;
                var i = Array(t),
                    r = 0;
                for (e = 0; e < n; e++)
                    for (var o = arguments[e], s = 0, a = o.length; s < a; s++, r++) i[r] = o[s];
                return i
            }
            var i, r, o, s = (i = Error, e(r = u, o = i), r.prototype = null === o ? Object.create(o) : (a.prototype = o.prototype, new a), u);

            function a() {
                this.constructor = r
            }

            function u(t, e) {
                var n = i.call(this, e) || this;
                return n.code = t, n.name = "FirebaseError", Object.setPrototypeOf(n, u.prototype), Error.captureStackTrace && Error.captureStackTrace(n, l.prototype.create), n
            }
            var l = (h.prototype.create = function(t) {
                for (var e = [], n = 1; n < arguments.length; n++) e[n - 1] = arguments[n];
                for (var i, r = e[0] || {}, o = this.service + "/" + t, a = this.errors[t], u = a ? (i = r, a.replace(c, (function(t, e) {
                        var n = i[e];
                        return null != n ? String(n) : "<" + e + "?>"
                    }))) : "Error", l = this.serviceName + ": " + u + " (" + o + ").", h = new s(o, l), d = 0, p = Object.keys(r); d < p.length; d++) {
                    var f = p[d];
                    "_" !== f.slice(-1) && (f in h && console.warn('Overwriting FirebaseError base field "' + f + '" can cause unexpected behavior.'), h[f] = r[f])
                }
                return h
            }, h);

            function h(t, e, n) {
                this.service = t, this.serviceName = e, this.errors = n
            }
            var c = /\{\$([^}]+)}/g,
                d = (p.prototype.setInstantiationMode = function(t) {
                    return this.instantiationMode = t, this
                }, p.prototype.setMultipleInstances = function(t) {
                    return this.multipleInstances = t, this
                }, p.prototype.setServiceProps = function(t) {
                    return this.serviceProps = t, this
                }, p);

            function p(t, e, n) {
                this.name = t, this.instanceFactory = e, this.type = n, this.multipleInstances = !1, this.serviceProps = {}, this.instantiationMode = "LAZY"
            }
            var f = "firebasestorage.googleapis.com",
                g = (v.prototype.codeProp = function() {
                    return this.code
                }, v.prototype.codeEquals = function(t) {
                    return L(t) === this.codeProp()
                }, v.prototype.serverResponseProp = function() {
                    return this.serverResponse_
                }, v.prototype.setServerResponseProp = function(t) {
                    this.serverResponse_ = t
                }, Object.defineProperty(v.prototype, "name", {
                    get: function() {
                        return this.name_
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(v.prototype, "code", {
                    get: function() {
                        return this.code_
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(v.prototype, "message", {
                    get: function() {
                        return this.message_
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(v.prototype, "serverResponse", {
                    get: function() {
                        return this.serverResponse_
                    },
                    enumerable: !1,
                    configurable: !0
                }), v);

            function v(t, e) {
                this.code_ = L(t), this.message_ = "Firebase Storage: " + e, this.serverResponse_ = null, this.name_ = "FirebaseError"
            }
            var m = "unknown",
                y = "object-not-found",
                _ = "quota-exceeded",
                b = "unauthenticated",
                w = "unauthorized",
                E = "retry-limit-exceeded",
                I = "canceled",
                T = "invalid-url",
                C = "invalid-default-bucket",
                k = "cannot-slice-blob",
                S = "server-file-wrong-size",
                x = "no-download-url",
                D = "invalid-argument",
                N = "invalid-argument-count",
                A = "app-deleted",
                P = "invalid-root-operation",
                O = "invalid-format",
                R = "internal-error";

            function L(t) {
                return "storage/" + t
            }

            function M() {
                return new g(m, "An unknown error occurred, please check the error payload for server response.")
            }

            function F() {
                return new g(I, "User canceled the upload/download.")
            }

            function U() {
                return new g(k, "Cannot slice blob for upload. Please retry the upload.")
            }

            function j(t, e, n) {
                return new g(D, "Invalid argument in `" + e + "` at index " + t + ": " + n)
            }

            function H() {
                return new g(A, "The Firebase app was deleted.")
            }

            function q(t, e) {
                return new g(O, "String does not match format '" + t + "': " + e)
            }

            function W(t) {
                throw new g(R, "Internal error: " + t)
            }
            var V = {
                RAW: "raw",
                BASE64: "base64",
                BASE64URL: "base64url",
                DATA_URL: "data_url"
            };

            function B(t) {
                switch (t) {
                    case V.RAW:
                    case V.BASE64:
                    case V.BASE64URL:
                    case V.DATA_URL:
                        return;
                    default:
                        throw "Expected one of the event types: [" + V.RAW + ", " + V.BASE64 + ", " + V.BASE64URL + ", " + V.DATA_URL + "]."
                }
            }
            var z = function(t, e) {
                this.data = t, this.contentType = e || null
            };

            function $(t, e) {
                switch (t) {
                    case V.RAW:
                        return new z(K(e));
                    case V.BASE64:
                    case V.BASE64URL:
                        return new z(G(t, e));
                    case V.DATA_URL:
                        return new z((n = new X(e)).base64 ? G(V.BASE64, n.rest) : function(t) {
                            var e;
                            try {
                                e = decodeURIComponent(t)
                            } catch (t) {
                                throw q(V.DATA_URL, "Malformed data URL.")
                            }
                            return K(e)
                        }(n.rest), new X(e).contentType)
                }
                var n;
                throw M()
            }

            function K(t) {
                for (var e = [], n = 0; n < t.length; n++) {
                    var i = t.charCodeAt(n);
                    i <= 127 ? e.push(i) : i <= 2047 ? e.push(192 | i >> 6, 128 | 63 & i) : 55296 == (64512 & i) ? n < t.length - 1 && 56320 == (64512 & t.charCodeAt(n + 1)) ? (i = 65536 | (1023 & i) << 10 | 1023 & t.charCodeAt(++n), e.push(240 | i >> 18, 128 | i >> 12 & 63, 128 | i >> 6 & 63, 128 | 63 & i)) : e.push(239, 191, 189) : 56320 == (64512 & i) ? e.push(239, 191, 189) : e.push(224 | i >> 12, 128 | i >> 6 & 63, 128 | 63 & i)
                }
                return new Uint8Array(e)
            }

            function G(t, e) {
                switch (t) {
                    case V.BASE64:
                        var n = -1 !== e.indexOf("-"),
                            i = -1 !== e.indexOf("_");
                        if (n || i) throw q(t, "Invalid character '" + (n ? "-" : "_") + "' found: is it base64url encoded?");
                        break;
                    case V.BASE64URL:
                        var r = -1 !== e.indexOf("+"),
                            o = -1 !== e.indexOf("/");
                        if (r || o) throw q(t, "Invalid character '" + (r ? "+" : "/") + "' found: is it base64 encoded?");
                        e = e.replace(/-/g, "+").replace(/_/g, "/")
                }
                var s;
                try {
                    s = atob(e)
                } catch (e) {
                    throw q(t, "Invalid character found")
                }
                for (var a = new Uint8Array(s.length), u = 0; u < s.length; u++) a[u] = s.charCodeAt(u);
                return a
            }
            var Y, Q, X = function(t) {
                    this.base64 = !1, this.contentType = null;
                    var e = t.match(/^data:([^,]+)?,/);
                    if (null === e) throw q(V.DATA_URL, "Must be formatted 'data:[<mediatype>][;base64],<data>");
                    var n, i, r = e[1] || null;
                    null != r && (this.base64 = (i = ";base64", (n = r).length >= i.length && n.substring(n.length - i.length) === i), this.contentType = this.base64 ? r.substring(0, r.length - ";base64".length) : r), this.rest = t.substring(t.indexOf(",") + 1)
                },
                J = {
                    STATE_CHANGED: "state_changed"
                },
                Z = "running",
                tt = "pausing",
                et = "paused",
                nt = "success",
                it = "canceling",
                rt = "canceled",
                ot = "error",
                st = {
                    RUNNING: "running",
                    PAUSED: "paused",
                    SUCCESS: "success",
                    CANCELED: "canceled",
                    ERROR: "error"
                };

            function at(t) {
                switch (t) {
                    case Z:
                    case tt:
                    case it:
                        return st.RUNNING;
                    case et:
                        return st.PAUSED;
                    case nt:
                        return st.SUCCESS;
                    case rt:
                        return st.CANCELED;
                    case ot:
                    default:
                        return st.ERROR
                }
            }

            function ut(t) {
                return null != t
            }

            function lt(t) {
                return void 0 !== t
            }

            function ht(t) {
                return "function" == typeof t
            }

            function ct(t) {
                return "object" == typeof t
            }

            function dt(t) {
                return "string" == typeof t || t instanceof String
            }

            function pt(t) {
                return "number" == typeof t || t instanceof Number
            }

            function ft(t) {
                return gt() && t instanceof Blob
            }

            function gt() {
                return "undefined" != typeof Blob
            }(Q = Y = Y || {})[Q.NO_ERROR = 0] = "NO_ERROR", Q[Q.NETWORK_ERROR = 1] = "NETWORK_ERROR", Q[Q.ABORT = 2] = "ABORT";
            var vt = (mt.prototype.send = function(t, e, n, i) {
                if (this.sent_) throw W("cannot .send() more than once");
                if (this.sent_ = !0, this.xhr_.open(e, t, !0), ut(i))
                    for (var r in i) i.hasOwnProperty(r) && this.xhr_.setRequestHeader(r, i[r].toString());
                return ut(n) ? this.xhr_.send(n) : this.xhr_.send(), this.sendPromise_
            }, mt.prototype.getErrorCode = function() {
                if (!this.sent_) throw W("cannot .getErrorCode() before sending");
                return this.errorCode_
            }, mt.prototype.getStatus = function() {
                if (!this.sent_) throw W("cannot .getStatus() before sending");
                try {
                    return this.xhr_.status
                } catch (t) {
                    return -1
                }
            }, mt.prototype.getResponseText = function() {
                if (!this.sent_) throw W("cannot .getResponseText() before sending");
                return this.xhr_.responseText
            }, mt.prototype.abort = function() {
                this.xhr_.abort()
            }, mt.prototype.getResponseHeader = function(t) {
                return this.xhr_.getResponseHeader(t)
            }, mt.prototype.addUploadProgressListener = function(t) {
                ut(this.xhr_.upload) && this.xhr_.upload.addEventListener("progress", t)
            }, mt.prototype.removeUploadProgressListener = function(t) {
                ut(this.xhr_.upload) && this.xhr_.upload.removeEventListener("progress", t)
            }, mt);

            function mt() {
                var t = this;
                this.sent_ = !1, this.xhr_ = new XMLHttpRequest, this.errorCode_ = Y.NO_ERROR, this.sendPromise_ = new Promise((function(e) {
                    t.xhr_.addEventListener("abort", (function() {
                        t.errorCode_ = Y.ABORT, e(t)
                    })), t.xhr_.addEventListener("error", (function() {
                        t.errorCode_ = Y.NETWORK_ERROR, e(t)
                    })), t.xhr_.addEventListener("load", (function() {
                        e(t)
                    }))
                }))
            }
            var yt = (_t.prototype.createXhrIo = function() {
                return new vt
            }, _t);

            function _t() {}

            function bt() {
                for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                var n = "undefined" != typeof BlobBuilder ? BlobBuilder : "undefined" != typeof WebKitBlobBuilder ? WebKitBlobBuilder : void 0;
                if (void 0 !== n) {
                    for (var i = new n, r = 0; r < t.length; r++) i.append(t[r]);
                    return i.getBlob()
                }
                if (gt()) return new Blob(t);
                throw Error("This browser doesn't seem to support creating Blobs")
            }
            var wt = (Et.prototype.size = function() {
                return this.size_
            }, Et.prototype.type = function() {
                return this.type_
            }, Et.prototype.slice = function(t, e) {
                if (ft(this.data_)) {
                    var n = (r = t, o = e, (i = this.data_).webkitSlice ? i.webkitSlice(r, o) : i.mozSlice ? i.mozSlice(r, o) : i.slice ? i.slice(r, o) : null);
                    return null === n ? null : new Et(n)
                }
                var i, r, o;
                return new Et(new Uint8Array(this.data_.buffer, t, e - t), !0)
            }, Et.getBlob = function() {
                for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                if (gt()) {
                    var n = t.map((function(t) {
                        return t instanceof Et ? t.data_ : t
                    }));
                    return new Et(bt.apply(null, n))
                }
                var i = t.map((function(t) {
                        return dt(t) ? $(V.RAW, t).data : t.data_
                    })),
                    r = 0;
                i.forEach((function(t) {
                    r += t.byteLength
                }));
                var o = new Uint8Array(r),
                    s = 0;
                return i.forEach((function(t) {
                    for (var e = 0; e < t.length; e++) o[s++] = t[e]
                })), new Et(o, !0)
            }, Et.prototype.uploadData = function() {
                return this.data_
            }, Et);

            function Et(t, e) {
                var n = 0,
                    i = "";
                ft(t) ? (n = (this.data_ = t).size, i = t.type) : t instanceof ArrayBuffer ? (e ? this.data_ = new Uint8Array(t) : (this.data_ = new Uint8Array(t.byteLength), this.data_.set(new Uint8Array(t))), n = this.data_.length) : t instanceof Uint8Array && (e ? this.data_ = t : (this.data_ = new Uint8Array(t.length), this.data_.set(t)), n = t.length), this.size_ = n, this.type_ = i
            }
            var It = (Object.defineProperty(Tt.prototype, "path", {
                get: function() {
                    return this.path_
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(Tt.prototype, "isRoot", {
                get: function() {
                    return 0 === this.path.length
                },
                enumerable: !1,
                configurable: !0
            }), Tt.prototype.fullServerUrl = function() {
                var t = encodeURIComponent;
                return "/b/" + t(this.bucket) + "/o/" + t(this.path)
            }, Tt.prototype.bucketOnlyServerUrl = function() {
                return "/b/" + encodeURIComponent(this.bucket) + "/o"
            }, Tt.makeFromBucketSpec = function(t) {
                var e;
                try {
                    e = Tt.makeFromUrl(t)
                } catch (e) {
                    return new Tt(t, "")
                }
                if ("" === e.path) return e;
                throw new g(C, "Invalid default bucket '" + t + "'.")
            }, Tt.makeFromUrl = function(t) {
                var e = null,
                    n = "([A-Za-z0-9.\\-_]+)",
                    i = new RegExp("^gs://" + n + "(/(.*))?$", "i");

                function r(t) {
                    t.path_ = decodeURIComponent(t.path)
                }
                for (var o = f.replace(/[.]/g, "\\."), s = [{
                        regex: i,
                        indices: {
                            bucket: 1,
                            path: 3
                        },
                        postModify: function(t) {
                            "/" === t.path.charAt(t.path.length - 1) && (t.path_ = t.path_.slice(0, -1))
                        }
                    }, {
                        regex: new RegExp("^https?://" + o + "/v[A-Za-z0-9_]+/b/" + n + "/o(/([^?#]*).*)?$", "i"),
                        indices: {
                            bucket: 1,
                            path: 3
                        },
                        postModify: r
                    }, {
                        regex: new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/" + n + "/([^?#]*)", "i"),
                        indices: {
                            bucket: 1,
                            path: 2
                        },
                        postModify: r
                    }], a = 0; a < s.length; a++) {
                    var u = s[a],
                        l = u.regex.exec(t);
                    if (l) {
                        var h = l[u.indices.bucket],
                            c = l[u.indices.path];
                        e = new Tt(h, c = c || ""), u.postModify(e);
                        break
                    }
                }
                if (null == e) throw new g(T, "Invalid URL '" + t + "'.");
                return e
            }, Tt);

            function Tt(t, e) {
                this.bucket = t, this.path_ = e
            }

            function Ct(t) {
                var e, n;
                try {
                    e = JSON.parse(t)
                } catch (t) {
                    return null
                }
                return ct(n = e) && !Array.isArray(n) ? e : null
            }

            function kt(t) {
                var e = t.lastIndexOf("/", t.length - 2);
                return -1 === e ? t : t.slice(e + 1)
            }

            function St(t) {
                return "https://" + f + "/v0" + t
            }

            function xt(t) {
                var e = encodeURIComponent,
                    n = "?";
                for (var i in t) t.hasOwnProperty(i) && (n = n + (e(i) + "=") + e(t[i]) + "&");
                return n.slice(0, -1)
            }

            function Dt(t, e) {
                return e
            }
            var Nt = function(t, e, n, i) {
                    this.server = t, this.local = e || t, this.writable = !!n, this.xform = i || Dt
                },
                At = null;

            function Pt(t, e, n) {
                var i = Ct(e);
                return null === i ? null : function(t, e, n) {
                    for (var i = {
                            type: "file"
                        }, r = n.length, o = 0; o < r; o++) {
                        var s = n[o];
                        i[s.local] = s.xform(i, e[s.server])
                    }
                    return function(t, e) {
                        Object.defineProperty(t, "ref", {
                            get: function() {
                                var n = t.bucket,
                                    i = t.fullPath,
                                    r = new It(n, i);
                                return e.makeStorageReference(r)
                            }
                        })
                    }(i, t), i
                }(t, i, n)
            }

            function Ot(t, e) {
                for (var n = {}, i = e.length, r = 0; r < i; r++) {
                    var o = e[r];
                    o.writable && (n[o.server] = t[o.local])
                }
                return JSON.stringify(n)
            }

            function Rt(t) {
                if (!ct(t) || !t) throw "Expected Metadata object.";
                for (var e in t)
                    if (t.hasOwnProperty(e)) {
                        var n = t[e];
                        if ("customMetadata" === e) {
                            if (!ct(n)) throw "Expected object for 'customMetadata' mapping."
                        } else if (ct(i = n) && null !== i) throw "Mapping for '" + e + "' cannot be an object."
                    } var i
            }
            var Lt = "maxResults",
                Mt = "pageToken",
                Ft = "prefixes";

            function Ut(t) {
                if (!ct(t) || !t) throw "Expected ListOptions object.";
                for (var e in t)
                    if (e === Lt) {
                        if (!pt(n = t[Lt]) || !Number.isInteger(n) || t[Lt] <= 0) throw "Expected maxResults to be a positive number.";
                        if (1e3 < t[Lt]) throw "Expected maxResults to be less than or equal to 1000."
                    } else {
                        if (e !== Mt) throw "Unknown option: " + e;
                        if (t[Mt] && !dt(t[Mt])) throw "Expected pageToken to be string."
                    } var n
            }
            var jt = function(t, e, n, i) {
                this.url = t, this.method = e, this.handler = n, this.timeout = i, this.urlParams = {}, this.headers = {}, this.body = null, this.errorHandler = null, this.progressCallback = null, this.successCodes = [200], this.additionalRetryCodes = []
            };

            function Ht(t) {
                if (!t) throw M()
            }

            function qt(t, e) {
                return function(n, i) {
                    var r = Pt(t, i, e);
                    return Ht(null !== r), r
                }
            }

            function Wt(t, e) {
                return function(n, i) {
                    var r = function(t, e, n) {
                        var i = Ct(n);
                        return null === i ? null : function(t, e, n) {
                            var i = {
                                prefixes: [],
                                items: [],
                                nextPageToken: n.nextPageToken
                            };
                            if (n[Ft])
                                for (var r = 0, o = n[Ft]; r < o.length; r++) {
                                    var s = o[r].replace(/\/$/, ""),
                                        a = t.makeStorageReference(new It(e, s));
                                    i.prefixes.push(a)
                                }
                            if (n.items)
                                for (var u = 0, l = n.items; u < l.length; u++) {
                                    var h = l[u];
                                    a = t.makeStorageReference(new It(e, h.name)), i.items.push(a)
                                }
                            return i
                        }(t, e, i)
                    }(t, e, i);
                    return Ht(null !== r), r
                }
            }

            function Vt(t, e) {
                return function(n, i) {
                    var r = Pt(t, i, e);
                    return Ht(null !== r),
                        function(t, e) {
                            var n = Ct(e);
                            if (null === n) return null;
                            if (!dt(n.downloadTokens)) return null;
                            var i = n.downloadTokens;
                            if (0 === i.length) return null;
                            var r = encodeURIComponent;
                            return i.split(",").map((function(e) {
                                var n = t.bucket,
                                    i = t.fullPath;
                                return St("/b/" + r(n) + "/o/" + r(i)) + xt({
                                    alt: "media",
                                    token: e
                                })
                            }))[0]
                        }(r, i)
                }
            }

            function Bt(t) {
                return function(e, n) {
                    var i, r, o;
                    return (i = 401 === e.getStatus() ? new g(b, "User is not authenticated, please authenticate using Firebase Authentication and try again.") : 402 === e.getStatus() ? (o = t.bucket, new g(_, "Quota for bucket '" + o + "' exceeded, please view quota on https://firebase.google.com/pricing/.")) : 403 === e.getStatus() ? (r = t.path, new g(w, "User does not have permission to access '" + r + "'.")) : n).setServerResponseProp(n.serverResponseProp()), i
                }
            }

            function zt(t) {
                var e = Bt(t);
                return function(n, i) {
                    var r, o = e(n, i);
                    return 404 === n.getStatus() && (r = t.path, o = new g(y, "Object '" + r + "' does not exist.")), o.setServerResponseProp(i.serverResponseProp()), o
                }
            }

            function $t(t, e, n) {
                var i = St(e.fullServerUrl()),
                    r = t.maxOperationRetryTime(),
                    o = new jt(i, "GET", qt(t, n), r);
                return o.errorHandler = zt(e), o
            }

            function Kt(t, e, n) {
                var i, r = Object.assign({}, n);
                return r.fullPath = t.path, r.size = e.size(), r.contentType || (r.contentType = (i = e, null && null.contentType || i && i.type() || "application/octet-stream")), r
            }
            var Gt = function(t, e, n, i) {
                this.current = t, this.total = e, this.finalized = !!n, this.metadata = i || null
            };

            function Yt(t, e) {
                var n = null;
                try {
                    n = t.getResponseHeader("X-Goog-Upload-Status")
                } catch (t) {
                    Ht(!1)
                }
                return Ht(!!n && -1 !== (e || ["active"]).indexOf(n)), n
            }
            var Qt = function(t, e, n) {
                    if (ht(t) || ut(e) || ut(n)) this.next = t, this.error = e || null, this.complete = n || null;
                    else {
                        var i = t;
                        this.next = i.next || null, this.error = i.error || null, this.complete = i.complete || null
                    }
                },
                Xt = function(t, e, n, i, r, o) {
                    this.bytesTransferred = t, this.totalBytes = e, this.state = n, this.metadata = i, this.task = r, this.ref = o
                };

            function Jt(t, e, n) {
                for (var i = e.length, r = e.length, o = 0; o < e.length; o++)
                    if (e[o].optional) {
                        i = o;
                        break
                    } var s, a, u, l, h, c;
                if (!(i <= n.length && n.length <= r)) throw s = i, a = r, u = t, l = n.length, c = s === a ? 1 === (h = s) ? "argument" : "arguments" : (h = "between " + s + " and " + a, "arguments"), new g(N, "Invalid argument count in `" + u + "`: Expected " + h + " " + c + ", received " + l + ".");
                for (o = 0; o < n.length; o++) try {
                    e[o].validator(n[o])
                } catch (e) {
                    throw e instanceof Error ? j(o, t, e.message) : j(o, t, e)
                }
            }
            var Zt = function(t, e) {
                var n = this;
                this.validator = function(e) {
                    n.optional && !lt(e) || t(e)
                }, this.optional = !!e
            };

            function te(t, e) {
                function n(t) {
                    if (!dt(t)) throw "Expected string."
                }
                var i, r, o;
                return i = t ? (r = n, o = t, function(t) {
                    r(t), o(t)
                }) : n, new Zt(i, e)
            }

            function ee() {
                return new Zt((function(t) {
                    if (!(t instanceof Uint8Array || t instanceof ArrayBuffer || gt() && t instanceof Blob)) throw "Expected Blob or File."
                }))
            }

            function ne(t) {
                return new Zt(Rt, t)
            }

            function ie() {
                return new Zt((function(t) {
                    if (!(pt(t) && 0 <= t)) throw "Expected a number 0 or greater."
                }))
            }

            function re(t, e) {
                return new Zt((function(e) {
                    if (!(null === e || ut(e) && e instanceof Object)) throw "Expected an Object.";
                    null != t && t(e)
                }), e)
            }

            function oe(t) {
                return new Zt((function(t) {
                    if (null !== t && !ht(t)) throw "Expected a Function."
                }), t)
            }

            function se(t) {
                return function() {
                    for (var e = [], n = 0; n < arguments.length; n++) e[n] = arguments[n];
                    Promise.resolve().then((function() {
                        return t.apply(void 0, e)
                    }))
                }
            }
            var ae = (ue.prototype.makeProgressCallback_ = function() {
                var t = this,
                    e = this.transferred_;
                return function(n) {
                    return t.updateProgress_(e + n)
                }
            }, ue.prototype.shouldDoResumable_ = function(t) {
                return 262144 < t.size()
            }, ue.prototype.start_ = function() {
                this.state_ === Z && null === this.request_ && (this.resumable_ ? null === this.uploadUrl_ ? this.createResumable_() : this.needToFetchStatus_ ? this.fetchStatus_() : this.needToFetchMetadata_ ? this.fetchMetadata_() : this.continueUpload_() : this.oneShotUpload_())
            }, ue.prototype.resolveToken_ = function(t) {
                var e = this;
                this.authWrapper_.getAuthToken().then((function(n) {
                    switch (e.state_) {
                        case Z:
                            t(n);
                            break;
                        case it:
                            e.transition_(rt);
                            break;
                        case tt:
                            e.transition_(et)
                    }
                }))
            }, ue.prototype.createResumable_ = function() {
                var t = this;
                this.resolveToken_((function(e) {
                    var n = function(t, e, n, i, r) {
                            var o = e.bucketOnlyServerUrl(),
                                s = Kt(e, i, r),
                                a = {
                                    name: s.fullPath
                                },
                                u = St(o),
                                l = {
                                    "X-Goog-Upload-Protocol": "resumable",
                                    "X-Goog-Upload-Command": "start",
                                    "X-Goog-Upload-Header-Content-Length": i.size(),
                                    "X-Goog-Upload-Header-Content-Type": s.contentType,
                                    "Content-Type": "application/json; charset=utf-8"
                                },
                                h = Ot(s, n),
                                c = t.maxUploadRetryTime(),
                                d = new jt(u, "POST", (function(t) {
                                    var e;
                                    Yt(t);
                                    try {
                                        e = t.getResponseHeader("X-Goog-Upload-URL")
                                    } catch (t) {
                                        Ht(!1)
                                    }
                                    return Ht(dt(e)), e
                                }), c);
                            return d.urlParams = a, d.headers = l, d.body = h, d.errorHandler = Bt(e), d
                        }(t.authWrapper_, t.location_, t.mappings_, t.blob_, t.metadata_),
                        i = t.authWrapper_.makeRequest(n, e);
                    (t.request_ = i).getPromise().then((function(e) {
                        t.request_ = null, t.uploadUrl_ = e, t.needToFetchStatus_ = !1, t.completeTransitions_()
                    }), t.errorHandler_)
                }))
            }, ue.prototype.fetchStatus_ = function() {
                var t = this,
                    e = this.uploadUrl_;
                this.resolveToken_((function(n) {
                    var i = function(t, e, n, i) {
                            var r = t.maxUploadRetryTime(),
                                o = new jt(n, "POST", (function(t) {
                                    var e = Yt(t, ["active", "final"]),
                                        n = null;
                                    try {
                                        n = t.getResponseHeader("X-Goog-Upload-Size-Received")
                                    } catch (t) {
                                        Ht(!1)
                                    }
                                    n || Ht(!1);
                                    var r = Number(n);
                                    return Ht(!isNaN(r)), new Gt(r, i.size(), "final" === e)
                                }), r);
                            return o.headers = {
                                "X-Goog-Upload-Command": "query"
                            }, o.errorHandler = Bt(e), o
                        }(t.authWrapper_, t.location_, e, t.blob_),
                        r = t.authWrapper_.makeRequest(i, n);
                    (t.request_ = r).getPromise().then((function(e) {
                        e = e, t.request_ = null, t.updateProgress_(e.current), t.needToFetchStatus_ = !1, e.finalized && (t.needToFetchMetadata_ = !0), t.completeTransitions_()
                    }), t.errorHandler_)
                }))
            }, ue.prototype.continueUpload_ = function() {
                var t = this,
                    e = 262144 * this.chunkMultiplier_,
                    n = new Gt(this.transferred_, this.blob_.size()),
                    i = this.uploadUrl_;
                this.resolveToken_((function(r) {
                    var o;
                    try {
                        o = function(t, e, n, i, r, o, s, a) {
                            var u = new Gt(0, 0);
                            if (s ? (u.current = s.current, u.total = s.total) : (u.current = 0, u.total = i.size()), i.size() !== u.total) throw new g(S, "Server recorded incorrect upload file size, please retry the upload.");
                            var l = u.total - u.current,
                                h = l;
                            0 < r && (h = Math.min(h, r));
                            var c = u.current,
                                d = c + h,
                                p = {
                                    "X-Goog-Upload-Command": h === l ? "upload, finalize" : "upload",
                                    "X-Goog-Upload-Offset": u.current
                                },
                                f = i.slice(c, d);
                            if (null === f) throw U();
                            var v = e.maxUploadRetryTime(),
                                m = new jt(n, "POST", (function(t, n) {
                                    var r, s = Yt(t, ["active", "final"]),
                                        a = u.current + h,
                                        l = i.size();
                                    return r = "final" === s ? qt(e, o)(t, n) : null, new Gt(a, l, "final" === s, r)
                                }), v);
                            return m.headers = p, m.body = f.uploadData(), m.progressCallback = a || null, m.errorHandler = Bt(t), m
                        }(t.location_, t.authWrapper_, i, t.blob_, e, t.mappings_, n, t.makeProgressCallback_())
                    } catch (r) {
                        return t.error_ = r, void t.transition_(ot)
                    }
                    var s = t.authWrapper_.makeRequest(o, r);
                    (t.request_ = s).getPromise().then((function(e) {
                        t.increaseMultiplier_(), t.request_ = null, t.updateProgress_(e.current), e.finalized ? (t.metadata_ = e.metadata, t.transition_(nt)) : t.completeTransitions_()
                    }), t.errorHandler_)
                }))
            }, ue.prototype.increaseMultiplier_ = function() {
                262144 * this.chunkMultiplier_ < 33554432 && (this.chunkMultiplier_ *= 2)
            }, ue.prototype.fetchMetadata_ = function() {
                var t = this;
                this.resolveToken_((function(e) {
                    var n = $t(t.authWrapper_, t.location_, t.mappings_),
                        i = t.authWrapper_.makeRequest(n, e);
                    (t.request_ = i).getPromise().then((function(e) {
                        t.request_ = null, t.metadata_ = e, t.transition_(nt)
                    }), t.metadataErrorHandler_)
                }))
            }, ue.prototype.oneShotUpload_ = function() {
                var t = this;
                this.resolveToken_((function(e) {
                    var n = function(t, e, n, i, r) {
                            var o = e.bucketOnlyServerUrl(),
                                s = {
                                    "X-Goog-Upload-Protocol": "multipart"
                                },
                                a = function() {
                                    for (var t = "", e = 0; e < 2; e++) t += Math.random().toString().slice(2);
                                    return t
                                }();
                            s["Content-Type"] = "multipart/related; boundary=" + a;
                            var u = Kt(e, i, r),
                                l = "--" + a + "\r\nContent-Type: application/json; charset=utf-8\r\n\r\n" + Ot(u, n) + "\r\n--" + a + "\r\nContent-Type: " + u.contentType + "\r\n\r\n",
                                h = "\r\n--" + a + "--",
                                c = wt.getBlob(l, i, h);
                            if (null === c) throw U();
                            var d = {
                                    name: u.fullPath
                                },
                                p = St(o),
                                f = t.maxUploadRetryTime(),
                                g = new jt(p, "POST", qt(t, n), f);
                            return g.urlParams = d, g.headers = s, g.body = c.uploadData(), g.errorHandler = Bt(e), g
                        }(t.authWrapper_, t.location_, t.mappings_, t.blob_, t.metadata_),
                        i = t.authWrapper_.makeRequest(n, e);
                    (t.request_ = i).getPromise().then((function(e) {
                        t.request_ = null, t.metadata_ = e, t.updateProgress_(t.blob_.size()), t.transition_(nt)
                    }), t.errorHandler_)
                }))
            }, ue.prototype.updateProgress_ = function(t) {
                var e = this.transferred_;
                this.transferred_ = t, this.transferred_ !== e && this.notifyObservers_()
            }, ue.prototype.transition_ = function(t) {
                if (this.state_ !== t) switch (t) {
                    case it:
                    case tt:
                        this.state_ = t, null !== this.request_ && this.request_.cancel();
                        break;
                    case Z:
                        var e = this.state_ === et;
                        this.state_ = t, e && (this.notifyObservers_(), this.start_());
                        break;
                    case et:
                        this.state_ = t, this.notifyObservers_();
                        break;
                    case rt:
                        this.error_ = F(), this.state_ = t, this.notifyObservers_();
                        break;
                    case ot:
                    case nt:
                        this.state_ = t, this.notifyObservers_()
                }
            }, ue.prototype.completeTransitions_ = function() {
                switch (this.state_) {
                    case tt:
                        this.transition_(et);
                        break;
                    case it:
                        this.transition_(rt);
                        break;
                    case Z:
                        this.start_()
                }
            }, Object.defineProperty(ue.prototype, "snapshot", {
                get: function() {
                    var t = at(this.state_);
                    return new Xt(this.transferred_, this.blob_.size(), t, this.metadata_, this, this.ref_)
                },
                enumerable: !1,
                configurable: !0
            }), ue.prototype.on = function(t, e, n, i) {
                var r = "Expected a function or an Object with one of `next`, `error`, `complete` properties.",
                    o = oe(!0).validator,
                    s = re(null, !0).validator;

                function a(t) {
                    try {
                        return void o(t)
                    } catch (t) {}
                    try {
                        if (s(t), !(lt(t.next) || lt(t.error) || lt(t.complete))) throw "";
                        return
                    } catch (t) {
                        throw r
                    }
                }
                Jt("on", [te((function() {
                    if (t !== J.STATE_CHANGED) throw "Expected one of the event types: [" + J.STATE_CHANGED + "]."
                })), re(a, !0), oe(!0), oe(!0)], arguments);
                var u = this;

                function l(t) {
                    return function(e, n, r) {
                        null !== t && Jt("on", t, arguments);
                        var o = new Qt(e, n, i);
                        return u.addObserver_(o),
                            function() {
                                u.removeObserver_(o)
                            }
                    }
                }
                var h = [re((function(t) {
                    if (null === t) throw r;
                    a(t)
                })), oe(!0), oe(!0)];
                return lt(e) || lt(n) || lt(i) ? l(null)(e, n, i) : l(h)
            }, ue.prototype.then = function(t, e) {
                return this.promise_.then(t, e)
            }, ue.prototype.catch = function(t) {
                return this.then(null, t)
            }, ue.prototype.addObserver_ = function(t) {
                this.observers_.push(t), this.notifyObserver_(t)
            }, ue.prototype.removeObserver_ = function(t) {
                var e = this.observers_.indexOf(t); - 1 !== e && this.observers_.splice(e, 1)
            }, ue.prototype.notifyObservers_ = function() {
                var t = this;
                this.finishPromise_(), this.observers_.slice().forEach((function(e) {
                    t.notifyObserver_(e)
                }))
            }, ue.prototype.finishPromise_ = function() {
                if (null !== this.resolve_) {
                    var t = !0;
                    switch (at(this.state_)) {
                        case st.SUCCESS:
                            se(this.resolve_.bind(null, this.snapshot))();
                            break;
                        case st.CANCELED:
                        case st.ERROR:
                            se(this.reject_.bind(null, this.error_))();
                            break;
                        default:
                            t = !1
                    }
                    t && (this.resolve_ = null, this.reject_ = null)
                }
            }, ue.prototype.notifyObserver_ = function(t) {
                switch (at(this.state_)) {
                    case st.RUNNING:
                    case st.PAUSED:
                        t.next && se(t.next.bind(t, this.snapshot))();
                        break;
                    case st.SUCCESS:
                        t.complete && se(t.complete.bind(t))();
                        break;
                    case st.CANCELED:
                    case st.ERROR:
                        t.error && se(t.error.bind(t, this.error_))();
                        break;
                    default:
                        t.error && se(t.error.bind(t, this.error_))()
                }
            }, ue.prototype.resume = function() {
                Jt("resume", [], arguments);
                var t = this.state_ === et || this.state_ === tt;
                return t && this.transition_(Z), t
            }, ue.prototype.pause = function() {
                Jt("pause", [], arguments);
                var t = this.state_ === Z;
                return t && this.transition_(tt), t
            }, ue.prototype.cancel = function() {
                Jt("cancel", [], arguments);
                var t = this.state_ === Z || this.state_ === tt;
                return t && this.transition_(it), t
            }, ue);

            function ue(t, e, n, i, r, o) {
                var s = this;
                void 0 === o && (o = null), this.transferred_ = 0, this.needToFetchStatus_ = !1, this.needToFetchMetadata_ = !1, this.observers_ = [], this.error_ = null, this.uploadUrl_ = null, this.request_ = null, this.chunkMultiplier_ = 1, this.resolve_ = null, this.reject_ = null, this.ref_ = t, this.authWrapper_ = e, this.location_ = n, this.blob_ = r, this.metadata_ = o, this.mappings_ = i, this.resumable_ = this.shouldDoResumable_(this.blob_), this.state_ = Z, this.errorHandler_ = function(t) {
                    s.request_ = null, s.chunkMultiplier_ = 1, t.codeEquals(I) ? (s.needToFetchStatus_ = !0, s.completeTransitions_()) : (s.error_ = t, s.transition_(ot))
                }, this.metadataErrorHandler_ = function(t) {
                    s.request_ = null, t.codeEquals(I) ? s.completeTransitions_() : (s.error_ = t, s.transition_(ot))
                }, this.promise_ = new Promise((function(t, e) {
                    s.resolve_ = t, s.reject_ = e, s.start_()
                })), this.promise_.then(null, (function() {}))
            }
            var le = (he.prototype.toString = function() {
                return Jt("toString", [], arguments), "gs://" + this.location.bucket + "/" + this.location.path
            }, he.prototype.newRef = function(t, e) {
                return new he(t, e)
            }, he.prototype.mappings = function() {
                return function() {
                    if (At) return At;
                    var t = [];
                    t.push(new Nt("bucket")), t.push(new Nt("generation")), t.push(new Nt("metageneration")), t.push(new Nt("name", "fullPath", !0));
                    var e = new Nt("name");
                    e.xform = function(t, e) {
                        return !dt(n = e) || n.length < 2 ? n : kt(n);
                        var n
                    }, t.push(e);
                    var n = new Nt("size");
                    return n.xform = function(t, e) {
                        return ut(e) ? Number(e) : e
                    }, t.push(n), t.push(new Nt("timeCreated")), t.push(new Nt("updated")), t.push(new Nt("md5Hash", null, !0)), t.push(new Nt("cacheControl", null, !0)), t.push(new Nt("contentDisposition", null, !0)), t.push(new Nt("contentEncoding", null, !0)), t.push(new Nt("contentLanguage", null, !0)), t.push(new Nt("contentType", null, !0)), t.push(new Nt("metadata", "customMetadata", !0)), At = t
                }()
            }, he.prototype.child = function(t) {
                Jt("child", [te()], arguments);
                var e, n, i = (e = this.location.path, n = t.split("/").filter((function(t) {
                        return 0 < t.length
                    })).join("/"), 0 === e.length ? n : e + "/" + n),
                    r = new It(this.location.bucket, i);
                return this.newRef(this.authWrapper, r)
            }, Object.defineProperty(he.prototype, "parent", {
                get: function() {
                    var t = function(t) {
                        if (0 === t.length) return null;
                        var e = t.lastIndexOf("/");
                        return -1 === e ? "" : t.slice(0, e)
                    }(this.location.path);
                    if (null === t) return null;
                    var e = new It(this.location.bucket, t);
                    return this.newRef(this.authWrapper, e)
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(he.prototype, "root", {
                get: function() {
                    var t = new It(this.location.bucket, "");
                    return this.newRef(this.authWrapper, t)
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(he.prototype, "bucket", {
                get: function() {
                    return this.location.bucket
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(he.prototype, "fullPath", {
                get: function() {
                    return this.location.path
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(he.prototype, "name", {
                get: function() {
                    return kt(this.location.path)
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(he.prototype, "storage", {
                get: function() {
                    return this.authWrapper.service()
                },
                enumerable: !1,
                configurable: !0
            }), he.prototype.put = function(t, e) {
                return void 0 === e && (e = null), Jt("put", [ee(), ne(!0)], arguments), this.throwIfRoot_("put"), new ae(this, this.authWrapper, this.location, this.mappings(), new wt(t), e)
            }, he.prototype.putString = function(t, e, n) {
                void 0 === e && (e = V.RAW), Jt("putString", [te(), te(B, !0), ne(!0)], arguments), this.throwIfRoot_("putString");
                var i = $(e, t),
                    r = Object.assign({}, n);
                return !ut(r.contentType) && ut(i.contentType) && (r.contentType = i.contentType), new ae(this, this.authWrapper, this.location, this.mappings(), new wt(i.data, !0), r)
            }, he.prototype.delete = function() {
                var t = this;
                return Jt("delete", [], arguments), this.throwIfRoot_("delete"), this.authWrapper.getAuthToken().then((function(e) {
                    var n, i, r, o, s, a = (n = t.authWrapper, r = St((i = t.location).fullServerUrl()), o = n.maxOperationRetryTime(), (s = new jt(r, "DELETE", (function(t, e) {}), o)).successCodes = [200, 204], s.errorHandler = zt(i), s);
                    return t.authWrapper.makeRequest(a, e).getPromise()
                }))
            }, he.prototype.listAll = function() {
                Jt("listAll", [], arguments);
                var t = {
                    prefixes: [],
                    items: []
                };
                return this.listAllHelper(t).then((function() {
                    return t
                }))
            }, he.prototype.listAllHelper = function(t, e) {
                return function(t, e, n, i) {
                    return new(n = n || Promise)((function(r, o) {
                        function s(t) {
                            try {
                                u(i.next(t))
                            } catch (t) {
                                o(t)
                            }
                        }

                        function a(t) {
                            try {
                                u(i.throw(t))
                            } catch (t) {
                                o(t)
                            }
                        }

                        function u(t) {
                            var e;
                            t.done ? r(t.value) : ((e = t.value) instanceof n ? e : new n((function(t) {
                                t(e)
                            }))).then(s, a)
                        }
                        u((i = i.apply(t, e || [])).next())
                    }))
                }(this, void 0, void 0, (function() {
                    var n, i, r, o;
                    return function(t, e) {
                        var n, i, r, o, s = {
                            label: 0,
                            sent: function() {
                                if (1 & r[0]) throw r[1];
                                return r[1]
                            },
                            trys: [],
                            ops: []
                        };
                        return o = {
                            next: a(0),
                            throw: a(1),
                            return: a(2)
                        }, "function" == typeof Symbol && (o[Symbol.iterator] = function() {
                            return this
                        }), o;

                        function a(o) {
                            return function(a) {
                                return function(o) {
                                    if (n) throw new TypeError("Generator is already executing.");
                                    for (; s;) try {
                                        if (n = 1, i && (r = 2 & o[0] ? i.return : o[0] ? i.throw || ((r = i.return) && r.call(i), 0) : i.next) && !(r = r.call(i, o[1])).done) return r;
                                        switch (i = 0, r && (o = [2 & o[0], r.value]), o[0]) {
                                            case 0:
                                            case 1:
                                                r = o;
                                                break;
                                            case 4:
                                                return s.label++, {
                                                    value: o[1],
                                                    done: !1
                                                };
                                            case 5:
                                                s.label++, i = o[1], o = [0];
                                                continue;
                                            case 7:
                                                o = s.ops.pop(), s.trys.pop();
                                                continue;
                                            default:
                                                if (!(r = 0 < (r = s.trys).length && r[r.length - 1]) && (6 === o[0] || 2 === o[0])) {
                                                    s = 0;
                                                    continue
                                                }
                                                if (3 === o[0] && (!r || o[1] > r[0] && o[1] < r[3])) {
                                                    s.label = o[1];
                                                    break
                                                }
                                                if (6 === o[0] && s.label < r[1]) {
                                                    s.label = r[1], r = o;
                                                    break
                                                }
                                                if (r && s.label < r[2]) {
                                                    s.label = r[2], s.ops.push(o);
                                                    break
                                                }
                                                r[2] && s.ops.pop(), s.trys.pop();
                                                continue
                                        }
                                        o = e.call(t, s)
                                    } catch (t) {
                                        o = [6, t], i = 0
                                    } finally {
                                        n = r = 0
                                    }
                                    if (5 & o[0]) throw o[1];
                                    return {
                                        value: o[0] ? o[1] : void 0,
                                        done: !0
                                    }
                                }([o, a])
                            }
                        }
                    }(this, (function(s) {
                        switch (s.label) {
                            case 0:
                                return n = {
                                    pageToken: e
                                }, [4, this.list(n)];
                            case 1:
                                return i = s.sent(), (r = t.prefixes).push.apply(r, i.prefixes), (o = t.items).push.apply(o, i.items), null == i.nextPageToken ? [3, 3] : [4, this.listAllHelper(t, i.nextPageToken)];
                            case 2:
                                s.sent(), s.label = 3;
                            case 3:
                                return [2]
                        }
                    }))
                }))
            }, he.prototype.list = function(t) {
                Jt("list", [new Zt(Ut, !0)], arguments);
                var e = this;
                return this.authWrapper.getAuthToken().then((function(n) {
                    var i = t || {},
                        r = function(t, e, n, i, r) {
                            var o = {};
                            e.isRoot ? o.prefix = "" : o.prefix = e.path + "/", 0 < "/".length && (o.delimiter = "/"), i && (o.pageToken = i), r && (o.maxResults = r);
                            var s = St(e.bucketOnlyServerUrl()),
                                a = t.maxOperationRetryTime(),
                                u = new jt(s, "GET", Wt(t, e.bucket), a);
                            return u.urlParams = o, u.errorHandler = Bt(e), u
                        }(e.authWrapper, e.location, 0, i.pageToken, i.maxResults);
                    return e.authWrapper.makeRequest(r, n).getPromise()
                }))
            }, he.prototype.getMetadata = function() {
                var t = this;
                return Jt("getMetadata", [], arguments), this.throwIfRoot_("getMetadata"), this.authWrapper.getAuthToken().then((function(e) {
                    var n = $t(t.authWrapper, t.location, t.mappings());
                    return t.authWrapper.makeRequest(n, e).getPromise()
                }))
            }, he.prototype.updateMetadata = function(t) {
                var e = this;
                return Jt("updateMetadata", [ne()], arguments), this.throwIfRoot_("updateMetadata"), this.authWrapper.getAuthToken().then((function(n) {
                    var i, r, o, s, a, u, l, h, c = (i = e.authWrapper, r = e.location, o = t, s = e.mappings(), a = St(r.fullServerUrl()), u = Ot(o, s), l = i.maxOperationRetryTime(), (h = new jt(a, "PATCH", qt(i, s), l)).headers = {
                        "Content-Type": "application/json; charset=utf-8"
                    }, h.body = u, h.errorHandler = zt(r), h);
                    return e.authWrapper.makeRequest(c, n).getPromise()
                }))
            }, he.prototype.getDownloadURL = function() {
                var t = this;
                return Jt("getDownloadURL", [], arguments), this.throwIfRoot_("getDownloadURL"), this.authWrapper.getAuthToken().then((function(e) {
                    var n, i, r, o, s, a, u = (n = t.authWrapper, i = t.location, r = t.mappings(), o = St(i.fullServerUrl()), s = n.maxOperationRetryTime(), (a = new jt(o, "GET", Vt(n, r), s)).errorHandler = zt(i), a);
                    return t.authWrapper.makeRequest(u, e).getPromise().then((function(t) {
                        if (null === t) throw new g(x, "The given file does not have any download URLs.");
                        return t
                    }))
                }))
            }, he.prototype.throwIfRoot_ = function(t) {
                if ("" === this.location.path) throw new g(P, "The operation '" + t + "' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")
            }, he);

            function he(t, e) {
                this.authWrapper = t, this.location = e instanceof It ? e : It.makeFromUrl(e)
            }
            var ce = (de.prototype.getPromise = function() {
                return this.promise_
            }, de.prototype.cancel = function(t) {}, de);

            function de(t) {
                this.promise_ = Promise.reject(t)
            }
            var pe = (fe.prototype.addRequest = function(t) {
                var e = this,
                    n = this.id;
                this.id++, this.map.set(n, t), t.getPromise().then((function() {
                    return e.map.delete(n)
                }), (function() {
                    return e.map.delete(n)
                }))
            }, fe.prototype.clear = function() {
                this.map.forEach((function(t) {
                    t && t.cancel(!0)
                })), this.map.clear()
            }, fe);

            function fe() {
                this.map = new Map, this.id = -9007199254740991
            }
            var ge = (ve.extractBucket_ = function(t) {
                var e = t.storageBucket || null;
                return null == e ? null : It.makeFromBucketSpec(e).bucket
            }, ve.prototype.getAuthToken = function() {
                var t = this.authProvider_.getImmediate({
                    optional: !0
                });
                return t ? t.getToken().then((function(t) {
                    return null !== t ? t.accessToken : null
                }), (function() {
                    return null
                })) : Promise.resolve(null)
            }, ve.prototype.bucket = function() {
                if (this.deleted_) throw H();
                return this.bucket_
            }, ve.prototype.service = function() {
                return this.service_
            }, ve.prototype.makeStorageReference = function(t) {
                return this.storageRefMaker_(this, t)
            }, ve.prototype.makeRequest = function(t, e) {
                if (this.deleted_) return new ce(H());
                var n = this.requestMaker_(t, this.appId_, e, this.pool_);
                return this.requestMap_.addRequest(n), n
            }, ve.prototype.deleteApp = function() {
                this.deleted_ = !0, this.app_ = null, this.requestMap_.clear()
            }, ve.prototype.maxUploadRetryTime = function() {
                return this.maxUploadRetryTime_
            }, ve.prototype.setMaxUploadRetryTime = function(t) {
                this.maxUploadRetryTime_ = t
            }, ve.prototype.maxOperationRetryTime = function() {
                return this.maxOperationRetryTime_
            }, ve.prototype.setMaxOperationRetryTime = function(t) {
                this.maxOperationRetryTime_ = t
            }, ve);

            function ve(t, e, n, i, r, o) {
                var s;
                if (this.bucket_ = null, this.appId_ = null, this.deleted_ = !1, this.app_ = t, null !== this.app_) {
                    var a = this.app_.options;
                    ut(a) && (this.bucket_ = ve.extractBucket_(a), this.appId_ = null !== (s = a.appId) && void 0 !== s ? s : null)
                }
                this.authProvider_ = e, this.storageRefMaker_ = n, this.requestMaker_ = i, this.pool_ = o, this.service_ = r, this.maxOperationRetryTime_ = 12e4, this.maxUploadRetryTime_ = 6e5, this.requestMap_ = new pe
            }
            var me = (ye.prototype.start_ = function() {
                var t, e, i, r, o, s, a, u, l, h = this;

                function c(t, e) {
                    var n, i = h.resolve_,
                        r = h.reject_,
                        o = e.xhr;
                    if (e.wasSuccessCode) try {
                        var s = h.callback_(o, o.getResponseText());
                        lt(s) ? i(s) : i()
                    } catch (t) {
                        r(t)
                    } else null !== o ? ((n = M()).setServerResponseProp(o.getResponseText()), h.errorCallback_ ? r(h.errorCallback_(o, n)) : r(n)) : e.canceled ? r(n = (h.appDelete_ ? H : F)()) : r(n = new g(E, "Max retry time for operation exceeded, please try again."))
                }

                function d() {
                    return 2 === a
                }

                function p() {
                    for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
                    u || (u = !0, e.apply(null, t))
                }

                function f(e) {
                    o = setTimeout((function() {
                        o = null, t(v, d())
                    }), e)
                }

                function v(t) {
                    for (var e = [], i = 1; i < arguments.length; i++) e[i - 1] = arguments[i];
                    u || (t || d() || s ? p.call.apply(p, n([null, t], e)) : (r < 64 && (r *= 2), f(1 === a ? (a = 2, 0) : 1e3 * (r + Math.random()))))
                }

                function m(t) {
                    l || (l = !0, u || (null !== o ? (t || (a = 2), clearTimeout(o), f(0)) : t || (a = 1)))
                }
                this.canceled_ ? c(0, new _e(!1, null, !0)) : this.backoffId_ = (t = function(t, e) {
                    if (e) t(!1, new _e(!1, null, !0));
                    else {
                        var n = h.pool_.createXhrIo();
                        h.pendingXhr_ = n, null !== h.progressCallback_ && n.addUploadProgressListener(i), n.send(h.url_, h.method_, h.body_, h.headers_).then((function(e) {
                            null !== h.progressCallback_ && e.removeUploadProgressListener(i), h.pendingXhr_ = null;
                            var n = (e = e).getErrorCode() === Y.NO_ERROR,
                                r = e.getStatus();
                            if (n && !h.isRetryStatusCode_(r)) {
                                var o = -1 !== h.successCodes_.indexOf(r);
                                t(!0, new _e(o, e))
                            } else {
                                var s = e.getErrorCode() === Y.ABORT;
                                t(!1, new _e(!1, null, s))
                            }
                        }))
                    }

                    function i(t) {
                        var e = t.loaded,
                            n = t.lengthComputable ? t.total : -1;
                        null !== h.progressCallback_ && h.progressCallback_(e, n)
                    }
                }, e = c, i = this.timeout_, o = null, l = u = s = !(r = 1), f(a = 0), setTimeout((function() {
                    m(s = !0)
                }), i), m)
            }, ye.prototype.getPromise = function() {
                return this.promise_
            }, ye.prototype.cancel = function(t) {
                this.canceled_ = !0, this.appDelete_ = t || !1, null !== this.backoffId_ && (0, this.backoffId_)(!1), null !== this.pendingXhr_ && this.pendingXhr_.abort()
            }, ye.prototype.isRetryStatusCode_ = function(t) {
                var e = 500 <= t && t < 600,
                    n = -1 !== [408, 429].indexOf(t),
                    i = -1 !== this.additionalRetryCodes_.indexOf(t);
                return e || n || i
            }, ye);

            function ye(t, e, n, i, r, o, s, a, u, l, h) {
                var c = this;
                this.pendingXhr_ = null, this.backoffId_ = null, this.resolve_ = null, this.reject_ = null, this.canceled_ = !1, this.appDelete_ = !1, this.url_ = t, this.method_ = e, this.headers_ = n, this.body_ = i, this.successCodes_ = r.slice(), this.additionalRetryCodes_ = o.slice(), this.callback_ = s, this.errorCallback_ = a, this.progressCallback_ = l, this.timeout_ = u, this.pool_ = h, this.promise_ = new Promise((function(t, e) {
                    c.resolve_ = t, c.reject_ = e, c.start_()
                }))
            }
            var _e = function(t, e, n) {
                this.wasSuccessCode = t, this.xhr = e, this.canceled = !!n
            };

            function be(e, n, i, r) {
                var o, s, a, u, l, h = xt(e.urlParams),
                    c = e.url + h,
                    d = Object.assign({}, e.headers);
                return (o = n) && (d["X-Firebase-GMPID"] = o), s = d, null !== (a = i) && 0 < a.length && (s.Authorization = "Firebase " + a), u = d, l = void 0 !== t ? t.SDK_VERSION : "AppManager", u["X-Firebase-Storage-Version"] = "webjs/" + l, new me(c, e.method, d, e.body, e.successCodes, e.additionalRetryCodes, e.handler, e.errorHandler, e.timeout, e.progressCallback, r)
            }
            var we = (Ee.prototype.ref = function(t) {
                if (Jt("ref", [te((function(t) {
                        if ("string" != typeof t) throw "Path is not a string.";
                        if (/^[A-Za-z]+:\/\//.test(t)) throw "Expected child path but got a URL, use refFromURL instead."
                    }), !0)], arguments), null == this.bucket_) throw new Error("No Storage Bucket defined in Firebase Options.");
                var e = new le(this.authWrapper_, this.bucket_);
                return null != t ? e.child(t) : e
            }, Ee.prototype.refFromURL = function(t) {
                return Jt("refFromURL", [te((function(t) {
                    if ("string" != typeof t) throw "Path is not a string.";
                    if (!/^[A-Za-z]+:\/\//.test(t)) throw "Expected full URL but got a child path, use ref instead.";
                    try {
                        It.makeFromUrl(t)
                    } catch (t) {
                        throw "Expected valid full URL but got an invalid one."
                    }
                }), !1)], arguments), new le(this.authWrapper_, t)
            }, Object.defineProperty(Ee.prototype, "maxUploadRetryTime", {
                get: function() {
                    return this.authWrapper_.maxUploadRetryTime()
                },
                enumerable: !1,
                configurable: !0
            }), Ee.prototype.setMaxUploadRetryTime = function(t) {
                Jt("setMaxUploadRetryTime", [ie()], arguments), this.authWrapper_.setMaxUploadRetryTime(t)
            }, Ee.prototype.setMaxOperationRetryTime = function(t) {
                Jt("setMaxOperationRetryTime", [ie()], arguments), this.authWrapper_.setMaxOperationRetryTime(t)
            }, Object.defineProperty(Ee.prototype, "app", {
                get: function() {
                    return this.app_
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(Ee.prototype, "INTERNAL", {
                get: function() {
                    return this.internals_
                },
                enumerable: !1,
                configurable: !0
            }), Ee);

            function Ee(t, e, n, i) {
                if (this.bucket_ = null, this.authWrapper_ = new ge(t, e, (function(t, e) {
                        return new le(t, e)
                    }), be, this, n), this.app_ = t, null != i) this.bucket_ = It.makeFromBucketSpec(i);
                else {
                    var r = this.authWrapper_.bucket();
                    null != r && (this.bucket_ = new It(r, ""))
                }
                this.internals_ = new Ce(this)
            }
            var Ie, Te, Ce = (ke.prototype.delete = function() {
                return this.service_.authWrapper_.deleteApp(), Promise.resolve()
            }, ke);

            function ke(t) {
                this.service_ = t
            }
            Te = {
                TaskState: st,
                TaskEvent: J,
                StringFormat: V,
                Storage: we,
                Reference: le
            }, (Ie = t).INTERNAL.registerComponent(new d("storage", (function(t, e) {
                var n = t.getProvider("app").getImmediate(),
                    i = t.getProvider("auth-internal");
                return new we(n, i, new yt, e)
            }), "PUBLIC").setServiceProps(Te).setMultipleInstances(!0)), Ie.registerVersion("@firebase/storage", "0.3.38")
        }).apply(this, arguments)
    } catch (t) {
        throw console.error(t), new Error("Cannot instantiate firebase-storage.js - be sure to load firebase-app.js first.")
    }
})),
function(t, e) {
    "object" == typeof exports && "undefined" != typeof module ? e(require("@firebase/app")) : "function" == typeof define && define.amd ? define(["@firebase/app"], e) : e((t = t || self).firebase)
}(this, (function(t) {
    "use strict";
    try {
        (function() {
            t = t && Object.prototype.hasOwnProperty.call(t, "default") ? t.default : t;
            var e = function(t, n) {
                    return (e = Object.setPrototypeOf || {
                            __proto__: []
                        }
                        instanceof Array && function(t, e) {
                            t.__proto__ = e
                        } || function(t, e) {
                            for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                        })(t, n)
                },
                n = function() {
                    return (n = Object.assign || function(t) {
                        for (var e, n = 1, i = arguments.length; n < i; n++)
                            for (var r in e = arguments[n]) Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r]);
                        return t
                    }).apply(this, arguments)
                };

            function i(t, e, n, i) {
                return new(n = n || Promise)((function(r, o) {
                    function s(t) {
                        try {
                            u(i.next(t))
                        } catch (t) {
                            o(t)
                        }
                    }

                    function a(t) {
                        try {
                            u(i.throw(t))
                        } catch (t) {
                            o(t)
                        }
                    }

                    function u(t) {
                        var e;
                        t.done ? r(t.value) : ((e = t.value) instanceof n ? e : new n((function(t) {
                            t(e)
                        }))).then(s, a)
                    }
                    u((i = i.apply(t, e || [])).next())
                }))
            }

            function r(t, e) {
                var n, i, r, o, s = {
                    label: 0,
                    sent: function() {
                        if (1 & r[0]) throw r[1];
                        return r[1]
                    },
                    trys: [],
                    ops: []
                };
                return o = {
                    next: a(0),
                    throw: a(1),
                    return: a(2)
                }, "function" == typeof Symbol && (o[Symbol.iterator] = function() {
                    return this
                }), o;

                function a(o) {
                    return function(a) {
                        return function(o) {
                            if (n) throw new TypeError("Generator is already executing.");
                            for (; s;) try {
                                if (n = 1, i && (r = 2 & o[0] ? i.return : o[0] ? i.throw || ((r = i.return) && r.call(i), 0) : i.next) && !(r = r.call(i, o[1])).done) return r;
                                switch (i = 0, r && (o = [2 & o[0], r.value]), o[0]) {
                                    case 0:
                                    case 1:
                                        r = o;
                                        break;
                                    case 4:
                                        return s.label++, {
                                            value: o[1],
                                            done: !1
                                        };
                                    case 5:
                                        s.label++, i = o[1], o = [0];
                                        continue;
                                    case 7:
                                        o = s.ops.pop(), s.trys.pop();
                                        continue;
                                    default:
                                        if (!(r = 0 < (r = s.trys).length && r[r.length - 1]) && (6 === o[0] || 2 === o[0])) {
                                            s = 0;
                                            continue
                                        }
                                        if (3 === o[0] && (!r || o[1] > r[0] && o[1] < r[3])) {
                                            s.label = o[1];
                                            break
                                        }
                                        if (6 === o[0] && s.label < r[1]) {
                                            s.label = r[1], r = o;
                                            break
                                        }
                                        if (r && s.label < r[2]) {
                                            s.label = r[2], s.ops.push(o);
                                            break
                                        }
                                        r[2] && s.ops.pop(), s.trys.pop();
                                        continue
                                }
                                o = e.call(t, s)
                            } catch (t) {
                                o = [6, t], i = 0
                            } finally {
                                n = r = 0
                            }
                            if (5 & o[0]) throw o[1];
                            return {
                                value: o[0] ? o[1] : void 0,
                                done: !0
                            }
                        }([o, a])
                    }
                }
            }

            function o(t) {
                var e = "function" == typeof Symbol && Symbol.iterator,
                    n = e && t[e],
                    i = 0;
                if (n) return n.call(t);
                if (t && "number" == typeof t.length) return {
                    next: function() {
                        return t && i >= t.length && (t = void 0), {
                            value: t && t[i++],
                            done: !t
                        }
                    }
                };
                throw new TypeError(e ? "Object is not iterable." : "Symbol.iterator is not defined.")
            }

            function s(t, e) {
                var n = "function" == typeof Symbol && t[Symbol.iterator];
                if (!n) return t;
                var i, r, o = n.call(t),
                    s = [];
                try {
                    for (;
                        (void 0 === e || 0 < e--) && !(i = o.next()).done;) s.push(i.value)
                } catch (t) {
                    r = {
                        error: t
                    }
                } finally {
                    try {
                        i && !i.done && (n = o.return) && n.call(o)
                    } finally {
                        if (r) throw r.error
                    }
                }
                return s
            }

            function a() {
                for (var t = [], e = 0; e < arguments.length; e++) t = t.concat(s(arguments[e]));
                return t
            }
            var u, l, h, c = (u = Error, e(l = p, h = u), l.prototype = null === h ? Object.create(h) : (d.prototype = h.prototype, new d), p);

            function d() {
                this.constructor = l
            }

            function p(t, e) {
                var n = u.call(this, e) || this;
                return n.code = t, n.name = "FirebaseError", Object.setPrototypeOf(n, p.prototype), Error.captureStackTrace && Error.captureStackTrace(n, f.prototype.create), n
            }
            var f = (g.prototype.create = function(t) {
                for (var e = [], n = 1; n < arguments.length; n++) e[n - 1] = arguments[n];
                for (var i, r = e[0] || {}, o = this.service + "/" + t, s = this.errors[t], a = s ? (i = r, s.replace(v, (function(t, e) {
                        var n = i[e];
                        return null != n ? String(n) : "<" + e + "?>"
                    }))) : "Error", u = this.serviceName + ": " + a + " (" + o + ").", l = new c(o, u), h = 0, d = Object.keys(r); h < d.length; h++) {
                    var p = d[h];
                    "_" !== p.slice(-1) && (p in l && console.warn('Overwriting FirebaseError base field "' + p + '" can cause unexpected behavior.'), l[p] = r[p])
                }
                return l
            }, g);

            function g(t, e, n) {
                this.service = t, this.serviceName = e, this.errors = n
            }
            var v = /\{\$([^}]+)}/g,
                m = (y.prototype.setInstantiationMode = function(t) {
                    return this.instantiationMode = t, this
                }, y.prototype.setMultipleInstances = function(t) {
                    return this.multipleInstances = t, this
                }, y.prototype.setServiceProps = function(t) {
                    return this.serviceProps = t, this
                }, y);

            function y(t, e, n) {
                this.name = t, this.instanceFactory = e, this.type = n, this.multipleInstances = !1, this.serviceProps = {}, this.instantiationMode = "LAZY"
            }

            function _(t) {
                return new Promise((function(e, n) {
                    t.onsuccess = function() {
                        e(t.result)
                    }, t.onerror = function() {
                        n(t.error)
                    }
                }))
            }

            function b(t, e, n) {
                var i, r = new Promise((function(r, o) {
                    _(i = t[e].apply(t, n)).then(r, o)
                }));
                return r.request = i, r
            }

            function w(t, e, n) {
                n.forEach((function(n) {
                    Object.defineProperty(t.prototype, n, {
                        get: function() {
                            return this[e][n]
                        },
                        set: function(t) {
                            this[e][n] = t
                        }
                    })
                }))
            }

            function E(t, e, n, i) {
                i.forEach((function(i) {
                    i in n.prototype && (t.prototype[i] = function() {
                        return b(this[e], i, arguments)
                    })
                }))
            }

            function I(t, e, n, i) {
                i.forEach((function(i) {
                    i in n.prototype && (t.prototype[i] = function() {
                        return this[e][i].apply(this[e], arguments)
                    })
                }))
            }

            function T(t, e, n, i) {
                i.forEach((function(i) {
                    i in n.prototype && (t.prototype[i] = function() {
                        return t = this[e], (n = b(t, i, arguments)).then((function(t) {
                            if (t) return new k(t, n.request)
                        }));
                        var t, n
                    })
                }))
            }

            function C(t) {
                this._index = t
            }

            function k(t, e) {
                this._cursor = t, this._request = e
            }

            function S(t) {
                this._store = t
            }

            function x(t) {
                this._tx = t, this.complete = new Promise((function(e, n) {
                    t.oncomplete = function() {
                        e()
                    }, t.onerror = function() {
                        n(t.error)
                    }, t.onabort = function() {
                        n(t.error)
                    }
                }))
            }

            function D(t, e, n) {
                this._db = t, this.oldVersion = e, this.transaction = new x(n)
            }

            function N(t) {
                this._db = t
            }

            function A(t, e, n) {
                var i = b(indexedDB, "open", [t, e]),
                    r = i.request;
                return r && (r.onupgradeneeded = function(t) {
                    n && n(new D(r.result, t.oldVersion, r.transaction))
                }), i.then((function(t) {
                    return new N(t)
                }))
            }

            function P(t) {
                return b(indexedDB, "deleteDatabase", [t])
            }
            w(C, "_index", ["name", "keyPath", "multiEntry", "unique"]), E(C, "_index", IDBIndex, ["get", "getKey", "getAll", "getAllKeys", "count"]), T(C, "_index", IDBIndex, ["openCursor", "openKeyCursor"]), w(k, "_cursor", ["direction", "key", "primaryKey", "value"]), E(k, "_cursor", IDBCursor, ["update", "delete"]), ["advance", "continue", "continuePrimaryKey"].forEach((function(t) {
                t in IDBCursor.prototype && (k.prototype[t] = function() {
                    var e = this,
                        n = arguments;
                    return Promise.resolve().then((function() {
                        return e._cursor[t].apply(e._cursor, n), _(e._request).then((function(t) {
                            if (t) return new k(t, e._request)
                        }))
                    }))
                })
            })), S.prototype.createIndex = function() {
                return new C(this._store.createIndex.apply(this._store, arguments))
            }, S.prototype.index = function() {
                return new C(this._store.index.apply(this._store, arguments))
            }, w(S, "_store", ["name", "keyPath", "indexNames", "autoIncrement"]), E(S, "_store", IDBObjectStore, ["put", "add", "delete", "clear", "get", "getAll", "getKey", "getAllKeys", "count"]), T(S, "_store", IDBObjectStore, ["openCursor", "openKeyCursor"]), I(S, "_store", IDBObjectStore, ["deleteIndex"]), x.prototype.objectStore = function() {
                return new S(this._tx.objectStore.apply(this._tx, arguments))
            }, w(x, "_tx", ["objectStoreNames", "mode"]), I(x, "_tx", IDBTransaction, ["abort"]), D.prototype.createObjectStore = function() {
                return new S(this._db.createObjectStore.apply(this._db, arguments))
            }, w(D, "_db", ["name", "version", "objectStoreNames"]), I(D, "_db", IDBDatabase, ["deleteObjectStore", "close"]), N.prototype.transaction = function() {
                return new x(this._db.transaction.apply(this._db, arguments))
            }, w(N, "_db", ["name", "version", "objectStoreNames"]), I(N, "_db", IDBDatabase, ["close"]), ["openCursor", "openKeyCursor"].forEach((function(t) {
                [S, C].forEach((function(e) {
                    t in e.prototype && (e.prototype[t.replace("open", "iterate")] = function() {
                        var e, n = (e = arguments, Array.prototype.slice.call(e)),
                            i = n[n.length - 1],
                            r = this._store || this._index,
                            o = r[t].apply(r, n.slice(0, -1));
                        o.onsuccess = function() {
                            i(o.result)
                        }
                    })
                }))
            })), [C, S].forEach((function(t) {
                t.prototype.getAll || (t.prototype.getAll = function(t, e) {
                    var n = this,
                        i = [];
                    return new Promise((function(r) {
                        n.iterateCursor(t, (function(t) {
                            t ? (i.push(t.value), void 0 === e || i.length != e ? t.continue() : r(i)) : r(i)
                        }))
                    }))
                })
            }));
            var O, R = "0.4.15",
                L = "w:" + R,
                M = "FIS_v2",
                F = ((O = {})["missing-app-config-values"] = 'Missing App configuration value: "{$valueName}"', O["not-registered"] = "Firebase Installation is not registered.", O["installation-not-found"] = "Firebase Installation not found.", O["request-failed"] = '{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"', O["app-offline"] = "Could not process request. Application offline.", O["delete-pending-registration"] = "Can't delete installation while there is a pending registration request.", O),
                U = new f("installations", "Installations", F);

            function j(t) {
                return t instanceof c && t.code.includes("request-failed")
            }

            function H(t) {
                return "https://firebaseinstallations.googleapis.com/v1/projects/" + t.projectId + "/installations"
            }

            function q(t) {
                return {
                    token: t.token,
                    requestStatus: 2,
                    expiresIn: (e = t.expiresIn, Number(e.replace("s", "000"))),
                    creationTime: Date.now()
                };
                var e
            }

            function W(t, e) {
                return i(this, void 0, void 0, (function() {
                    var n, i;
                    return r(this, (function(r) {
                        switch (r.label) {
                            case 0:
                                return [4, e.json()];
                            case 1:
                                return n = r.sent(), i = n.error, [2, U.create("request-failed", {
                                    requestName: t,
                                    serverCode: i.code,
                                    serverMessage: i.message,
                                    serverStatus: i.status
                                })]
                        }
                    }))
                }))
            }

            function V(t) {
                var e = t.apiKey;
                return new Headers({
                    "Content-Type": "application/json",
                    Accept: "application/json",
                    "x-goog-api-key": e
                })
            }

            function B(t, e) {
                var n = e.refreshToken,
                    i = V(t);
                return i.append("Authorization", M + " " + n), i
            }

            function z(t) {
                return i(this, void 0, void 0, (function() {
                    var e;
                    return r(this, (function(n) {
                        switch (n.label) {
                            case 0:
                                return [4, t()];
                            case 1:
                                return 500 <= (e = n.sent()).status && e.status < 600 ? [2, t()] : [2, e]
                        }
                    }))
                }))
            }

            function $(t) {
                return new Promise((function(e) {
                    setTimeout(e, t)
                }))
            }
            var K = /^[cdef][\w-]{21}$/;

            function G() {
                try {
                    var t = new Uint8Array(17);
                    (self.crypto || self.msCrypto).getRandomValues(t), t[0] = 112 + t[0] % 16;
                    var e = function(t) {
                        return btoa(String.fromCharCode.apply(String, a(t))).replace(/\+/g, "-").replace(/\//g, "_")
                    }(t).substr(0, 22);
                    return K.test(e) ? e : ""
                } catch (t) {
                    return ""
                }
            }

            function Y(t) {
                return t.appName + "!" + t.appId
            }
            var Q = new Map;

            function X(t, e) {
                var n = Y(t);
                J(n, e),
                    function(t, e) {
                        var n = tt();
                        n && n.postMessage({
                            key: t,
                            fid: e
                        }), et()
                    }(n, e)
            }

            function J(t, e) {
                var n, i, r = Q.get(t);
                if (r) try {
                    for (var s = o(r), a = s.next(); !a.done; a = s.next())(0, a.value)(e)
                } catch (t) {
                    n = {
                        error: t
                    }
                } finally {
                    try {
                        a && !a.done && (i = s.return) && i.call(s)
                    } finally {
                        if (n) throw n.error
                    }
                }
            }
            var Z = null;

            function tt() {
                return !Z && "BroadcastChannel" in self && ((Z = new BroadcastChannel("[Firebase] FID Change")).onmessage = function(t) {
                    J(t.data.key, t.data.fid)
                }), Z
            }

            function et() {
                0 === Q.size && Z && (Z.close(), Z = null)
            }
            var nt, it, rt = "firebase-installations-store",
                ot = null;

            function st() {
                return ot = ot || A("firebase-installations-database", 1, (function(t) {
                    switch (t.oldVersion) {
                        case 0:
                            t.createObjectStore(rt)
                    }
                }))
            }

            function at(t, e) {
                return i(this, void 0, void 0, (function() {
                    var n, i, o, s, a;
                    return r(this, (function(r) {
                        switch (r.label) {
                            case 0:
                                return n = Y(t), [4, st()];
                            case 1:
                                return i = r.sent(), o = i.transaction(rt, "readwrite"), [4, (s = o.objectStore(rt)).get(n)];
                            case 2:
                                return a = r.sent(), [4, s.put(e, n)];
                            case 3:
                                return r.sent(), [4, o.complete];
                            case 4:
                                return r.sent(), a && a.fid === e.fid || X(t, e.fid), [2, e]
                        }
                    }))
                }))
            }

            function ut(t) {
                return i(this, void 0, void 0, (function() {
                    var e, n, i;
                    return r(this, (function(r) {
                        switch (r.label) {
                            case 0:
                                return e = Y(t), [4, st()];
                            case 1:
                                return n = r.sent(), [4, (i = n.transaction(rt, "readwrite")).objectStore(rt).delete(e)];
                            case 2:
                                return r.sent(), [4, i.complete];
                            case 3:
                                return r.sent(), [2]
                        }
                    }))
                }))
            }

            function lt(t, e) {
                return i(this, void 0, void 0, (function() {
                    var n, i, o, s, a, u;
                    return r(this, (function(r) {
                        switch (r.label) {
                            case 0:
                                return n = Y(t), [4, st()];
                            case 1:
                                return i = r.sent(), o = i.transaction(rt, "readwrite"), [4, (s = o.objectStore(rt)).get(n)];
                            case 2:
                                return a = r.sent(), void 0 !== (u = e(a)) ? [3, 4] : [4, s.delete(n)];
                            case 3:
                                return r.sent(), [3, 6];
                            case 4:
                                return [4, s.put(u, n)];
                            case 5:
                                r.sent(), r.label = 6;
                            case 6:
                                return [4, o.complete];
                            case 7:
                                return r.sent(), !u || a && a.fid === u.fid || X(t, u.fid), [2, u]
                        }
                    }))
                }))
            }

            function ht(t) {
                return i(this, void 0, void 0, (function() {
                    var e, n, o;
                    return r(this, (function(s) {
                        switch (s.label) {
                            case 0:
                                return [4, lt(t, (function(n) {
                                    var o = dt(n || {
                                            fid: G(),
                                            registrationStatus: 0
                                        }),
                                        s = function(t, e) {
                                            if (0 !== e.registrationStatus) return 1 === e.registrationStatus ? {
                                                installationEntry: e,
                                                registrationPromise: function(t) {
                                                    return i(this, void 0, void 0, (function() {
                                                        var e, n, i, o;
                                                        return r(this, (function(r) {
                                                            switch (r.label) {
                                                                case 0:
                                                                    return [4, ct(t)];
                                                                case 1:
                                                                    e = r.sent(), r.label = 2;
                                                                case 2:
                                                                    return 1 !== e.registrationStatus ? [3, 5] : [4, $(100)];
                                                                case 3:
                                                                    return r.sent(), [4, ct(t)];
                                                                case 4:
                                                                    return e = r.sent(), [3, 2];
                                                                case 5:
                                                                    return 0 !== e.registrationStatus ? [3, 7] : [4, ht(t)];
                                                                case 6:
                                                                    return n = r.sent(), i = n.installationEntry, (o = n.registrationPromise) ? [2, o] : [2, i];
                                                                case 7:
                                                                    return [2, e]
                                                            }
                                                        }))
                                                    }))
                                                }(t)
                                            } : {
                                                installationEntry: e
                                            };
                                            if (!navigator.onLine) return {
                                                installationEntry: e,
                                                registrationPromise: Promise.reject(U.create("app-offline"))
                                            };
                                            var n = {
                                                    fid: e.fid,
                                                    registrationStatus: 1,
                                                    registrationTime: Date.now()
                                                },
                                                o = function(t, e) {
                                                    return i(this, void 0, void 0, (function() {
                                                        var n, o;
                                                        return r(this, (function(s) {
                                                            switch (s.label) {
                                                                case 0:
                                                                    return s.trys.push([0, 2, , 7]), [4, function(t, e) {
                                                                        var n = e.fid;
                                                                        return i(this, void 0, void 0, (function() {
                                                                            var e, i, o, s, a, u;
                                                                            return r(this, (function(r) {
                                                                                switch (r.label) {
                                                                                    case 0:
                                                                                        return e = H(t), i = V(t), o = {
                                                                                            fid: n,
                                                                                            authVersion: M,
                                                                                            appId: t.appId,
                                                                                            sdkVersion: L
                                                                                        }, s = {
                                                                                            method: "POST",
                                                                                            headers: i,
                                                                                            body: JSON.stringify(o)
                                                                                        }, [4, z((function() {
                                                                                            return fetch(e, s)
                                                                                        }))];
                                                                                    case 1:
                                                                                        return (a = r.sent()).ok ? [4, a.json()] : [3, 3];
                                                                                    case 2:
                                                                                        return [2, {
                                                                                            fid: (u = r.sent()).fid || n,
                                                                                            registrationStatus: 2,
                                                                                            refreshToken: u.refreshToken,
                                                                                            authToken: q(u.authToken)
                                                                                        }];
                                                                                    case 3:
                                                                                        return [4, W("Create Installation", a)];
                                                                                    case 4:
                                                                                        throw r.sent()
                                                                                }
                                                                            }))
                                                                        }))
                                                                    }(t, e)];
                                                                case 1:
                                                                    return n = s.sent(), [2, at(t, n)];
                                                                case 2:
                                                                    return j(o = s.sent()) && 409 === o.serverCode ? [4, ut(t)] : [3, 4];
                                                                case 3:
                                                                    return s.sent(), [3, 6];
                                                                case 4:
                                                                    return [4, at(t, {
                                                                        fid: e.fid,
                                                                        registrationStatus: 0
                                                                    })];
                                                                case 5:
                                                                    s.sent(), s.label = 6;
                                                                case 6:
                                                                    throw o;
                                                                case 7:
                                                                    return [2]
                                                            }
                                                        }))
                                                    }))
                                                }(t, n);
                                            return {
                                                installationEntry: n,
                                                registrationPromise: o
                                            }
                                        }(t, o);
                                    return e = s.registrationPromise, s.installationEntry
                                }))];
                            case 1:
                                return "" !== (n = s.sent()).fid ? [3, 3] : (o = {}, [4, e]);
                            case 2:
                                return [2, (o.installationEntry = s.sent(), o)];
                            case 3:
                                return [2, {
                                    installationEntry: n,
                                    registrationPromise: e
                                }]
                        }
                    }))
                }))
            }

            function ct(t) {
                return lt(t, (function(t) {
                    if (!t) throw U.create("installation-not-found");
                    return dt(t)
                }))
            }

            function dt(t) {
                return 1 === (e = t).registrationStatus && e.registrationTime + 1e4 < Date.now() ? {
                    fid: t.fid,
                    registrationStatus: 0
                } : t;
                var e
            }

            function pt(t, e) {
                var n = t.appConfig,
                    o = t.platformLoggerProvider;
                return i(this, void 0, void 0, (function() {
                    var t, i, s, a, u, l;
                    return r(this, (function(r) {
                        switch (r.label) {
                            case 0:
                                return h = n, c = e.fid, t = H(h) + "/" + c + "/authTokens:generate", i = B(n, e), (s = o.getImmediate({
                                    optional: !0
                                })) && i.append("x-firebase-client", s.getPlatformInfoString()), a = {
                                    installation: {
                                        sdkVersion: L
                                    }
                                }, u = {
                                    method: "POST",
                                    headers: i,
                                    body: JSON.stringify(a)
                                }, [4, z((function() {
                                    return fetch(t, u)
                                }))];
                            case 1:
                                return (l = r.sent()).ok ? [4, l.json()] : [3, 3];
                            case 2:
                                return [2, q(r.sent())];
                            case 3:
                                return [4, W("Generate Auth Token", l)];
                            case 4:
                                throw r.sent()
                        }
                        var h, c
                    }))
                }))
            }

            function ft(t, e) {
                return void 0 === e && (e = !1), i(this, void 0, void 0, (function() {
                    var o, s, a;
                    return r(this, (function(u) {
                        switch (u.label) {
                            case 0:
                                return [4, lt(t.appConfig, (function(s) {
                                    if (!vt(s)) throw U.create("not-registered");
                                    var a, u, l, h = s.authToken;
                                    if (e || 2 !== (l = h).requestStatus || function(t) {
                                            var e = Date.now();
                                            return e < t.creationTime || t.creationTime + t.expiresIn < e + 36e5
                                        }(l)) {
                                        if (1 === h.requestStatus) return o = function(t, e) {
                                            return i(this, void 0, void 0, (function() {
                                                var n, i;
                                                return r(this, (function(r) {
                                                    switch (r.label) {
                                                        case 0:
                                                            return [4, gt(t.appConfig)];
                                                        case 1:
                                                            n = r.sent(), r.label = 2;
                                                        case 2:
                                                            return 1 !== n.authToken.requestStatus ? [3, 5] : [4, $(100)];
                                                        case 3:
                                                            return r.sent(), [4, gt(t.appConfig)];
                                                        case 4:
                                                            return n = r.sent(), [3, 2];
                                                        case 5:
                                                            return 0 === (i = n.authToken).requestStatus ? [2, ft(t, e)] : [2, i]
                                                    }
                                                }))
                                            }))
                                        }(t, e), s;
                                        if (!navigator.onLine) throw U.create("app-offline");
                                        var c = (a = s, u = {
                                            requestStatus: 1,
                                            requestTime: Date.now()
                                        }, n(n({}, a), {
                                            authToken: u
                                        }));
                                        return o = function(t, e) {
                                            return i(this, void 0, void 0, (function() {
                                                var i, o, s;
                                                return r(this, (function(r) {
                                                    switch (r.label) {
                                                        case 0:
                                                            return r.trys.push([0, 3, , 8]), [4, pt(t, e)];
                                                        case 1:
                                                            return i = r.sent(), s = n(n({}, e), {
                                                                authToken: i
                                                            }), [4, at(t.appConfig, s)];
                                                        case 2:
                                                            return r.sent(), [2, i];
                                                        case 3:
                                                            return !j(o = r.sent()) || 401 !== o.serverCode && 404 !== o.serverCode ? [3, 5] : [4, ut(t.appConfig)];
                                                        case 4:
                                                            return r.sent(), [3, 7];
                                                        case 5:
                                                            return s = n(n({}, e), {
                                                                authToken: {
                                                                    requestStatus: 0
                                                                }
                                                            }), [4, at(t.appConfig, s)];
                                                        case 6:
                                                            r.sent(), r.label = 7;
                                                        case 7:
                                                            throw o;
                                                        case 8:
                                                            return [2]
                                                    }
                                                }))
                                            }))
                                        }(t, c), c
                                    }
                                    return s
                                }))];
                            case 1:
                                return s = u.sent(), o ? [4, o] : [3, 3];
                            case 2:
                                return a = u.sent(), [3, 4];
                            case 3:
                                a = s.authToken, u.label = 4;
                            case 4:
                                return [2, a]
                        }
                    }))
                }))
            }

            function gt(t) {
                return lt(t, (function(t) {
                    if (!vt(t)) throw U.create("not-registered");
                    var e;
                    return 1 === (e = t.authToken).requestStatus && e.requestTime + 1e4 < Date.now() ? n(n({}, t), {
                        authToken: {
                            requestStatus: 0
                        }
                    }) : t
                }))
            }

            function vt(t) {
                return void 0 !== t && 2 === t.registrationStatus
            }

            function mt(t, e) {
                return i(this, void 0, void 0, (function() {
                    var n, i, o, s;
                    return r(this, (function(r) {
                        switch (r.label) {
                            case 0:
                                return a = t, u = e.fid, n = H(a) + "/" + u, i = B(t, e), o = {
                                    method: "DELETE",
                                    headers: i
                                }, [4, z((function() {
                                    return fetch(n, o)
                                }))];
                            case 1:
                                return (s = r.sent()).ok ? [3, 3] : [4, W("Delete Installation", s)];
                            case 2:
                                throw r.sent();
                            case 3:
                                return [2]
                        }
                        var a, u
                    }))
                }))
            }

            function yt(t) {
                return U.create("missing-app-config-values", {
                    valueName: t
                })
            }(nt = t).INTERNAL.registerComponent(new m("installations", (function(t) {
                var e = t.getProvider("app").getImmediate(),
                    n = {
                        appConfig: function(t) {
                            var e, n;
                            if (!t || !t.options) throw yt("App Configuration");
                            if (!t.name) throw yt("App Name");
                            try {
                                for (var i = o(["projectId", "apiKey", "appId"]), r = i.next(); !r.done; r = i.next()) {
                                    var s = r.value;
                                    if (!t.options[s]) throw yt(s)
                                }
                            } catch (t) {
                                e = {
                                    error: t
                                }
                            } finally {
                                try {
                                    r && !r.done && (n = i.return) && n.call(i)
                                } finally {
                                    if (e) throw e.error
                                }
                            }
                            return {
                                appName: t.name,
                                projectId: t.options.projectId,
                                apiKey: t.options.apiKey,
                                appId: t.options.appId
                            }
                        }(e),
                        platformLoggerProvider: t.getProvider("platform-logger")
                    };
                return {
                    app: e,
                    getId: function() {
                        return function(t) {
                            return i(this, void 0, void 0, (function() {
                                var e, n, i;
                                return r(this, (function(r) {
                                    switch (r.label) {
                                        case 0:
                                            return [4, ht(t.appConfig)];
                                        case 1:
                                            return e = r.sent(), n = e.installationEntry, (i = e.registrationPromise) ? i.catch(console.error) : ft(t).catch(console.error), [2, n.fid]
                                    }
                                }))
                            }))
                        }(n)
                    },
                    getToken: function(t) {
                        return function(t, e) {
                            return void 0 === e && (e = !1), i(this, void 0, void 0, (function() {
                                return r(this, (function(n) {
                                    switch (n.label) {
                                        case 0:
                                            return [4, function(t) {
                                                return i(this, void 0, void 0, (function() {
                                                    var e;
                                                    return r(this, (function(n) {
                                                        switch (n.label) {
                                                            case 0:
                                                                return [4, ht(t)];
                                                            case 1:
                                                                return (e = n.sent().registrationPromise) ? [4, e] : [3, 3];
                                                            case 2:
                                                                n.sent(), n.label = 3;
                                                            case 3:
                                                                return [2]
                                                        }
                                                    }))
                                                }))
                                            }(t.appConfig)];
                                        case 1:
                                            return n.sent(), [4, ft(t, e)];
                                        case 2:
                                            return [2, n.sent().token]
                                    }
                                }))
                            }))
                        }(n, t)
                    },
                    delete: function() {
                        return function(t) {
                            return i(this, void 0, void 0, (function() {
                                var e, n;
                                return r(this, (function(i) {
                                    switch (i.label) {
                                        case 0:
                                            return [4, lt(e = t.appConfig, (function(t) {
                                                if (!t || 0 !== t.registrationStatus) return t
                                            }))];
                                        case 1:
                                            if (!(n = i.sent())) return [3, 6];
                                            if (1 !== n.registrationStatus) return [3, 2];
                                            throw U.create("delete-pending-registration");
                                        case 2:
                                            if (2 !== n.registrationStatus) return [3, 6];
                                            if (navigator.onLine) return [3, 3];
                                            throw U.create("app-offline");
                                        case 3:
                                            return [4, mt(e, n)];
                                        case 4:
                                            return i.sent(), [4, ut(e)];
                                        case 5:
                                            i.sent(), i.label = 6;
                                        case 6:
                                            return [2]
                                    }
                                }))
                            }))
                        }(n)
                    },
                    onIdChange: function(t) {
                        return function(t, e) {
                            var n = t.appConfig;
                            return function(t, e) {
                                    tt();
                                    var n = Y(t),
                                        i = Q.get(n);
                                    i || (i = new Set, Q.set(n, i)), i.add(e)
                                }(n, e),
                                function() {
                                    var t, i, r;
                                    t = e, i = Y(n), (r = Q.get(i)) && (r.delete(t), 0 === r.size && Q.delete(i), et())
                                }
                        }(n, t)
                    }
                }
            }), "PUBLIC")), nt.registerVersion("@firebase/installations", R);
            var _t = ((it = {})["missing-app-config-values"] = 'Missing App configuration value: "{$valueName}"', it["only-available-in-window"] = "This method is available in a Window context.", it["only-available-in-sw"] = "This method is available in a service worker context.", it["permission-default"] = "The notification permission was not granted and dismissed instead.", it["permission-blocked"] = "The notification permission was not granted and blocked instead.", it["unsupported-browser"] = "This browser doesn't support the API's required to use the firebase SDK.", it["failed-service-worker-registration"] = "We are unable to register the default service worker. {$browserErrorMessage}", it["token-subscribe-failed"] = "A problem occured while subscribing the user to FCM: {$errorInfo}", it["token-subscribe-no-token"] = "FCM returned no token when subscribing the user to push.", it["token-unsubscribe-failed"] = "A problem occured while unsubscribing the user from FCM: {$errorInfo}", it["token-update-failed"] = "A problem occured while updating the user from FCM: {$errorInfo}", it["token-update-no-token"] = "FCM returned no token when updating the user to push.", it["use-sw-after-get-token"] = "The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.", it["invalid-sw-registration"] = "The input to useServiceWorker() must be a ServiceWorkerRegistration.", it["invalid-bg-handler"] = "The input to setBackgroundMessageHandler() must be a function.", it["invalid-vapid-key"] = "The public VAPID key must be a string.", it["use-vapid-key-after-get-token"] = "The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.", it),
                bt = new f("messaging", "Messaging", _t);

            function wt(t) {
                return bt.create("missing-app-config-values", {
                    valueName: t
                })
            }
            var Et, It, Tt = "BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",
                Ct = "FCM_MSG",
                kt = "google.c.a.c_id";

            function St(t) {
                var e = new Uint8Array(t);
                return btoa(String.fromCharCode.apply(String, a(e))).replace(/=/g, "").replace(/\+/g, "-").replace(/\//g, "_")
            }(It = Et = Et || {}).PUSH_RECEIVED = "push-received", It.NOTIFICATION_CLICKED = "notification-clicked";
            var xt = "fcm_token_details_db",
                Dt = "fcm_token_object_Store";

            function Nt(t) {
                return i(this, void 0, void 0, (function() {
                    var e, n = this;
                    return r(this, (function(o) {
                        switch (o.label) {
                            case 0:
                                return "databases" in indexedDB ? [4, indexedDB.databases()] : [3, 2];
                            case 1:
                                if (!o.sent().map((function(t) {
                                        return t.name
                                    })).includes(xt)) return [2, null];
                                o.label = 2;
                            case 2:
                                return e = null, [4, A(xt, 5, (function(o) {
                                    return i(n, void 0, void 0, (function() {
                                        var n, i, s, a;
                                        return r(this, (function(r) {
                                            switch (r.label) {
                                                case 0:
                                                    return o.oldVersion < 2 ? [2] : o.objectStoreNames.contains(Dt) ? [4, (n = o.transaction.objectStore(Dt)).index("fcmSenderId").get(t)] : [2];
                                                case 1:
                                                    return i = r.sent(), [4, n.clear()];
                                                case 2:
                                                    if (r.sent(), !i) return [2];
                                                    if (2 === o.oldVersion) {
                                                        if (!(s = i).auth || !s.p256dh || !s.endpoint) return [2];
                                                        e = {
                                                            token: s.fcmToken,
                                                            createTime: null !== (a = s.createTime) && void 0 !== a ? a : Date.now(),
                                                            subscriptionOptions: {
                                                                auth: s.auth,
                                                                p256dh: s.p256dh,
                                                                endpoint: s.endpoint,
                                                                swScope: s.swScope,
                                                                vapidKey: "string" == typeof s.vapidKey ? s.vapidKey : St(s.vapidKey)
                                                            }
                                                        }
                                                    } else(3 === o.oldVersion || 4 === o.oldVersion) && (e = {
                                                        token: (s = i).fcmToken,
                                                        createTime: s.createTime,
                                                        subscriptionOptions: {
                                                            auth: St(s.auth),
                                                            p256dh: St(s.p256dh),
                                                            endpoint: s.endpoint,
                                                            swScope: s.swScope,
                                                            vapidKey: St(s.vapidKey)
                                                        }
                                                    });
                                                    return [2]
                                            }
                                        }))
                                    }))
                                }))];
                            case 3:
                                return o.sent().close(), [4, P(xt)];
                            case 4:
                                return o.sent(), [4, P("fcm_vapid_details_db")];
                            case 5:
                                return o.sent(), [4, P("undefined")];
                            case 6:
                                return o.sent(), [2, function(t) {
                                    if (t && t.subscriptionOptions) {
                                        var e = t.subscriptionOptions;
                                        return "number" == typeof t.createTime && 0 < t.createTime && "string" == typeof t.token && 0 < t.token.length && "string" == typeof e.auth && 0 < e.auth.length && "string" == typeof e.p256dh && 0 < e.p256dh.length && "string" == typeof e.endpoint && 0 < e.endpoint.length && "string" == typeof e.swScope && 0 < e.swScope.length && "string" == typeof e.vapidKey && 0 < e.vapidKey.length
                                    }
                                }(e) ? e : null]
                        }
                    }))
                }))
            }
            var At = "firebase-messaging-store",
                Pt = null;

            function Ot() {
                return Pt = Pt || A("firebase-messaging-database", 1, (function(t) {
                    switch (t.oldVersion) {
                        case 0:
                            t.createObjectStore(At)
                    }
                }))
            }

            function Rt(t) {
                return i(this, void 0, void 0, (function() {
                    var e, n, i;
                    return r(this, (function(r) {
                        switch (r.label) {
                            case 0:
                                return e = Mt(t), [4, Ot()];
                            case 1:
                                return [4, r.sent().transaction(At).objectStore(At).get(e)];
                            case 2:
                                return (n = r.sent()) ? [2, n] : [3, 3];
                            case 3:
                                return [4, Nt(t.appConfig.senderId)];
                            case 4:
                                return (i = r.sent()) ? [4, Lt(t, i)] : [3, 6];
                            case 5:
                                return r.sent(), [2, i];
                            case 6:
                                return [2]
                        }
                    }))
                }))
            }

            function Lt(t, e) {
                return i(this, void 0, void 0, (function() {
                    var n, i, o;
                    return r(this, (function(r) {
                        switch (r.label) {
                            case 0:
                                return n = Mt(t), [4, Ot()];
                            case 1:
                                return i = r.sent(), [4, (o = i.transaction(At, "readwrite")).objectStore(At).put(e, n)];
                            case 2:
                                return r.sent(), [4, o.complete];
                            case 3:
                                return r.sent(), [2, e]
                        }
                    }))
                }))
            }

            function Mt(t) {
                return t.appConfig.appId
            }

            function Ft(t, e) {
                return i(this, void 0, void 0, (function() {
                    var n, i, o, s, a;
                    return r(this, (function(r) {
                        switch (r.label) {
                            case 0:
                                return [4, jt(t)];
                            case 1:
                                n = r.sent(), i = {
                                    method: "DELETE",
                                    headers: n
                                }, r.label = 2;
                            case 2:
                                return r.trys.push([2, 5, , 6]), [4, fetch(Ut(t.appConfig) + "/" + e, i)];
                            case 3:
                                return [4, r.sent().json()];
                            case 4:
                                if ((o = r.sent()).error) throw s = o.error.message, bt.create("token-unsubscribe-failed", {
                                    errorInfo: s
                                });
                                return [3, 6];
                            case 5:
                                throw a = r.sent(), bt.create("token-unsubscribe-failed", {
                                    errorInfo: a
                                });
                            case 6:
                                return [2]
                        }
                    }))
                }))
            }

            function Ut(t) {
                return "https://fcmregistrations.googleapis.com/v1/projects/" + t.projectId + "/registrations"
            }

            function jt(t) {
                var e = t.appConfig,
                    n = t.installations;
                return i(this, void 0, void 0, (function() {
                    var t;
                    return r(this, (function(i) {
                        switch (i.label) {
                            case 0:
                                return [4, n.getToken()];
                            case 1:
                                return t = i.sent(), [2, new Headers({
                                    "Content-Type": "application/json",
                                    Accept: "application/json",
                                    "x-goog-api-key": e.apiKey,
                                    "x-goog-firebase-installations-auth": "FIS " + t
                                })]
                        }
                    }))
                }))
            }

            function Ht(t) {
                var e = t.p256dh,
                    n = t.auth,
                    i = t.endpoint,
                    r = t.vapidKey,
                    o = {
                        web: {
                            endpoint: i,
                            auth: n,
                            p256dh: e
                        }
                    };
                return r !== Tt && (o.web.applicationPubKey = r), o
            }

            function qt(t, e, o) {
                return i(this, void 0, void 0, (function() {
                    var s, a, u, l;
                    return r(this, (function(h) {
                        switch (h.label) {
                            case 0:
                                if ("granted" !== Notification.permission) throw bt.create("permission-blocked");
                                return [4, function(t, e) {
                                    return i(this, void 0, void 0, (function() {
                                        var n;
                                        return r(this, (function(i) {
                                            switch (i.label) {
                                                case 0:
                                                    return [4, t.pushManager.getSubscription()];
                                                case 1:
                                                    return (n = i.sent()) ? [2, n] : [2, t.pushManager.subscribe({
                                                        userVisibleOnly: !0,
                                                        applicationServerKey: function(t) {
                                                            for (var e = (t + "=".repeat((4 - t.length % 4) % 4)).replace(/\-/g, "+").replace(/_/g, "/"), n = atob(e), i = new Uint8Array(n.length), r = 0; r < n.length; ++r) i[r] = n.charCodeAt(r);
                                                            return i
                                                        }(e)
                                                    })]
                                            }
                                        }))
                                    }))
                                }(e, o)];
                            case 1:
                                return s = h.sent(), [4, Rt(t)];
                            case 2:
                                return a = h.sent(), u = {
                                    vapidKey: o,
                                    swScope: e.scope,
                                    endpoint: s.endpoint,
                                    auth: St(s.getKey("auth")),
                                    p256dh: St(s.getKey("p256dh"))
                                }, a ? [3, 3] : [2, Vt(t, u)];
                            case 3:
                                if (c = a.subscriptionOptions, p = (d = u).vapidKey === c.vapidKey, f = d.endpoint === c.endpoint, g = d.auth === c.auth, v = d.p256dh === c.p256dh, p && f && g && v) return [3, 8];
                                h.label = 4;
                            case 4:
                                return h.trys.push([4, 6, , 7]), [4, Ft(t, a.token)];
                            case 5:
                                return h.sent(), [3, 7];
                            case 6:
                                return l = h.sent(), console.warn(l), [3, 7];
                            case 7:
                                return [2, Vt(t, u)];
                            case 8:
                                return Date.now() >= a.createTime + 6048e5 ? [2, function(t, e, o) {
                                    return i(this, void 0, void 0, (function() {
                                        var s, a, u;
                                        return r(this, (function(l) {
                                            switch (l.label) {
                                                case 0:
                                                    return l.trys.push([0, 3, , 5]), [4, function(t, e) {
                                                        return i(this, void 0, void 0, (function() {
                                                            var n, i, o, s, a, u;
                                                            return r(this, (function(r) {
                                                                switch (r.label) {
                                                                    case 0:
                                                                        return [4, jt(t)];
                                                                    case 1:
                                                                        n = r.sent(), i = Ht(e.subscriptionOptions), o = {
                                                                            method: "PATCH",
                                                                            headers: n,
                                                                            body: JSON.stringify(i)
                                                                        }, r.label = 2;
                                                                    case 2:
                                                                        return r.trys.push([2, 5, , 6]), [4, fetch(Ut(t.appConfig) + "/" + e.token, o)];
                                                                    case 3:
                                                                        return [4, r.sent().json()];
                                                                    case 4:
                                                                        return s = r.sent(), [3, 6];
                                                                    case 5:
                                                                        throw a = r.sent(), bt.create("token-update-failed", {
                                                                            errorInfo: a
                                                                        });
                                                                    case 6:
                                                                        if (s.error) throw u = s.error.message, bt.create("token-update-failed", {
                                                                            errorInfo: u
                                                                        });
                                                                        if (!s.token) throw bt.create("token-update-no-token");
                                                                        return [2, s.token]
                                                                }
                                                            }))
                                                        }))
                                                    }(e, t)];
                                                case 1:
                                                    return s = l.sent(), a = n(n({}, t), {
                                                        token: s,
                                                        createTime: Date.now()
                                                    }), [4, Lt(e, a)];
                                                case 2:
                                                    return l.sent(), [2, s];
                                                case 3:
                                                    return u = l.sent(), [4, Wt(e, o)];
                                                case 4:
                                                    throw l.sent(), u;
                                                case 5:
                                                    return [2]
                                            }
                                        }))
                                    }))
                                }({
                                    token: a.token,
                                    createTime: Date.now(),
                                    subscriptionOptions: u
                                }, t, e)] : [2, a.token];
                            case 9:
                                return [2]
                        }
                        var c, d, p, f, g, v
                    }))
                }))
            }

            function Wt(t, e) {
                return i(this, void 0, void 0, (function() {
                    var n, o;
                    return r(this, (function(s) {
                        switch (s.label) {
                            case 0:
                                return [4, Rt(t)];
                            case 1:
                                return (n = s.sent()) ? [4, Ft(t, n.token)] : [3, 4];
                            case 2:
                                return s.sent(), [4, function(t) {
                                    return i(this, void 0, void 0, (function() {
                                        var e, n, i;
                                        return r(this, (function(r) {
                                            switch (r.label) {
                                                case 0:
                                                    return e = Mt(t), [4, Ot()];
                                                case 1:
                                                    return n = r.sent(), [4, (i = n.transaction(At, "readwrite")).objectStore(At).delete(e)];
                                                case 2:
                                                    return r.sent(), [4, i.complete];
                                                case 3:
                                                    return r.sent(), [2]
                                            }
                                        }))
                                    }))
                                }(t)];
                            case 3:
                                s.sent(), s.label = 4;
                            case 4:
                                return [4, e.pushManager.getSubscription()];
                            case 5:
                                return (o = s.sent()) ? [2, o.unsubscribe()] : [2, !0]
                        }
                    }))
                }))
            }

            function Vt(t, e) {
                return i(this, void 0, void 0, (function() {
                    var n, o;
                    return r(this, (function(s) {
                        switch (s.label) {
                            case 0:
                                return [4, function(t, e) {
                                    return i(this, void 0, void 0, (function() {
                                        var n, i, o, s, a, u;
                                        return r(this, (function(r) {
                                            switch (r.label) {
                                                case 0:
                                                    return [4, jt(t)];
                                                case 1:
                                                    n = r.sent(), i = Ht(e), o = {
                                                        method: "POST",
                                                        headers: n,
                                                        body: JSON.stringify(i)
                                                    }, r.label = 2;
                                                case 2:
                                                    return r.trys.push([2, 5, , 6]), [4, fetch(Ut(t.appConfig), o)];
                                                case 3:
                                                    return [4, r.sent().json()];
                                                case 4:
                                                    return s = r.sent(), [3, 6];
                                                case 5:
                                                    throw a = r.sent(), bt.create("token-subscribe-failed", {
                                                        errorInfo: a
                                                    });
                                                case 6:
                                                    if (s.error) throw u = s.error.message, bt.create("token-subscribe-failed", {
                                                        errorInfo: u
                                                    });
                                                    if (!s.token) throw bt.create("token-subscribe-no-token");
                                                    return [2, s.token]
                                            }
                                        }))
                                    }))
                                }(t, e)];
                            case 1:
                                return n = s.sent(), o = {
                                    token: n,
                                    createTime: Date.now(),
                                    subscriptionOptions: e
                                }, [4, Lt(t, o)];
                            case 2:
                                return s.sent(), [2, o.token]
                        }
                    }))
                }))
            }

            function Bt(t) {
                return "object" == typeof t && t && kt in t
            }
            var zt = (Object.defineProperty($t.prototype, "app", {
                get: function() {
                    return this.firebaseDependencies.app
                },
                enumerable: !1,
                configurable: !0
            }), $t.prototype.getToken = function() {
                return i(this, void 0, void 0, (function() {
                    var t;
                    return r(this, (function(e) {
                        switch (e.label) {
                            case 0:
                                return this.vapidKey || (this.vapidKey = Tt), [4, this.getServiceWorkerRegistration()];
                            case 1:
                                return t = e.sent(), "default" !== Notification.permission ? [3, 3] : [4, Notification.requestPermission()];
                            case 2:
                                e.sent(), e.label = 3;
                            case 3:
                                if ("granted" !== Notification.permission) throw bt.create("permission-blocked");
                                return [2, qt(this.firebaseDependencies, t, this.vapidKey)]
                        }
                    }))
                }))
            }, $t.prototype.deleteToken = function() {
                return i(this, void 0, void 0, (function() {
                    var t;
                    return r(this, (function(e) {
                        switch (e.label) {
                            case 0:
                                return [4, this.getServiceWorkerRegistration()];
                            case 1:
                                return t = e.sent(), [2, Wt(this.firebaseDependencies, t)]
                        }
                    }))
                }))
            }, $t.prototype.requestPermission = function() {
                return i(this, void 0, void 0, (function() {
                    var t;
                    return r(this, (function(e) {
                        switch (e.label) {
                            case 0:
                                return "granted" === Notification.permission ? [2] : [4, Notification.requestPermission()];
                            case 1:
                                if ("granted" === (t = e.sent())) return [2];
                                throw "denied" === t ? bt.create("permission-blocked") : bt.create("permission-default")
                        }
                    }))
                }))
            }, $t.prototype.usePublicVapidKey = function(t) {
                if (null !== this.vapidKey) throw bt.create("use-vapid-key-after-get-token");
                if ("string" != typeof t || 0 === t.length) throw bt.create("invalid-vapid-key");
                this.vapidKey = t
            }, $t.prototype.useServiceWorker = function(t) {
                if (!(t instanceof ServiceWorkerRegistration)) throw bt.create("invalid-sw-registration");
                if (this.swRegistration) throw bt.create("use-sw-after-get-token");
                this.swRegistration = t
            }, $t.prototype.onMessage = function(t) {
                var e = this;
                return this.onMessageCallback = t,
                    function() {
                        e.onMessageCallback = null
                    }
            }, $t.prototype.setBackgroundMessageHandler = function() {
                throw bt.create("only-available-in-sw")
            }, $t.prototype.onTokenRefresh = function() {
                return function() {}
            }, $t.prototype.getServiceWorkerRegistration = function() {
                return i(this, void 0, void 0, (function() {
                    var t, e;
                    return r(this, (function(n) {
                        switch (n.label) {
                            case 0:
                                if (this.swRegistration) return [3, 4];
                                n.label = 1;
                            case 1:
                                return n.trys.push([1, 3, , 4]), t = this, [4, navigator.serviceWorker.register("/firebase-messaging-sw.js", {
                                    scope: "/firebase-cloud-messaging-push-scope"
                                })];
                            case 2:
                                return t.swRegistration = n.sent(), this.swRegistration.update().catch((function() {})), [3, 4];
                            case 3:
                                throw e = n.sent(), bt.create("failed-service-worker-registration", {
                                    browserErrorMessage: e.message
                                });
                            case 4:
                                return [2, this.swRegistration]
                        }
                    }))
                }))
            }, $t.prototype.messageEventListener = function(t) {
                var e;
                return i(this, void 0, void 0, (function() {
                    var n, i, o, s;
                    return r(this, (function(r) {
                        switch (r.label) {
                            case 0:
                                return null !== (e = t.data) && void 0 !== e && e.firebaseMessaging ? (n = t.data.firebaseMessaging, i = n.type, o = n.payload, this.onMessageCallback && i === Et.PUSH_RECEIVED && ("function" == typeof this.onMessageCallback ? this.onMessageCallback(o) : this.onMessageCallback.next(o)), Bt(s = o.data) && "1" === s["google.c.a.e"] ? [4, this.logEvent(i, s)] : [3, 2]) : [2];
                            case 1:
                                r.sent(), r.label = 2;
                            case 2:
                                return [2]
                        }
                    }))
                }))
            }, $t.prototype.logEvent = function(t, e) {
                return i(this, void 0, void 0, (function() {
                    var n;
                    return r(this, (function(i) {
                        switch (i.label) {
                            case 0:
                                return n = function(t) {
                                    switch (t) {
                                        case Et.NOTIFICATION_CLICKED:
                                            return "notification_open";
                                        case Et.PUSH_RECEIVED:
                                            return "notification_foreground";
                                        default:
                                            throw new Error
                                    }
                                }(t), [4, this.firebaseDependencies.analyticsProvider.get()];
                            case 1:
                                return i.sent().logEvent(n, {
                                    message_id: e[kt],
                                    message_name: e["google.c.a.c_l"],
                                    message_time: e["google.c.a.ts"],
                                    message_device_time: Math.floor(Date.now() / 1e3)
                                }), [2]
                        }
                    }))
                }))
            }, $t);

            function $t(t) {
                var e = this;
                this.firebaseDependencies = t, this.vapidKey = null, this.onMessageCallback = null, navigator.serviceWorker.addEventListener("message", (function(t) {
                    return e.messageEventListener(t)
                }))
            }
            var Kt = (Object.defineProperty(Gt.prototype, "app", {
                get: function() {
                    return this.firebaseDependencies.app
                },
                enumerable: !1,
                configurable: !0
            }), Gt.prototype.setBackgroundMessageHandler = function(t) {
                if (!t || "function" != typeof t) throw bt.create("invalid-bg-handler");
                this.bgMessageHandler = t
            }, Gt.prototype.getToken = function() {
                var t, e;
                return i(this, void 0, void 0, (function() {
                    var n;
                    return r(this, (function(i) {
                        switch (i.label) {
                            case 0:
                                return this.vapidKey ? [3, 2] : [4, Rt(this.firebaseDependencies)];
                            case 1:
                                n = i.sent(), this.vapidKey = null !== (e = null === (t = null == n ? void 0 : n.subscriptionOptions) || void 0 === t ? void 0 : t.vapidKey) && void 0 !== e ? e : Tt, i.label = 2;
                            case 2:
                                return [2, qt(this.firebaseDependencies, self.registration, this.vapidKey)]
                        }
                    }))
                }))
            }, Gt.prototype.deleteToken = function() {
                return Wt(this.firebaseDependencies, self.registration)
            }, Gt.prototype.requestPermission = function() {
                throw bt.create("only-available-in-window")
            }, Gt.prototype.usePublicVapidKey = function(t) {
                if (null !== this.vapidKey) throw bt.create("use-vapid-key-after-get-token");
                if ("string" != typeof t || 0 === t.length) throw bt.create("invalid-vapid-key");
                this.vapidKey = t
            }, Gt.prototype.useServiceWorker = function() {
                throw bt.create("only-available-in-window")
            }, Gt.prototype.onMessage = function() {
                throw bt.create("only-available-in-window")
            }, Gt.prototype.onTokenRefresh = function() {
                throw bt.create("only-available-in-window")
            }, Gt.prototype.onPush = function(t) {
                return i(this, void 0, void 0, (function() {
                    var e, i, s;
                    return r(this, (function(r) {
                        switch (r.label) {
                            case 0:
                                return (e = function(t) {
                                    var e = t.data;
                                    if (!e) return null;
                                    try {
                                        return e.json()
                                    } catch (t) {
                                        return null
                                    }
                                }(t)) ? [4, Yt()] : [2];
                            case 1:
                                return (i = r.sent()).some((function(t) {
                                    return "visible" === t.visibilityState && !t.url.startsWith("chrome-extension://")
                                })) ? [2, function(t, e) {
                                    var n, i, r = Qt(Et.PUSH_RECEIVED, e);
                                    try {
                                        for (var s = o(t), a = s.next(); !a.done; a = s.next()) a.value.postMessage(r)
                                    } catch (t) {
                                        n = {
                                            error: t
                                        }
                                    } finally {
                                        try {
                                            a && !a.done && (i = s.return) && i.call(s)
                                        } finally {
                                            if (n) throw n.error
                                        }
                                    }
                                }(i, e)] : (s = function(t) {
                                    var e;
                                    if (t && "object" == typeof t.notification) {
                                        var i = n({}, t.notification);
                                        return i.data = n(n({}, t.notification.data), ((e = {})[Ct] = t, e)), i
                                    }
                                }(e)) ? [4, function(t) {
                                    var e, n = null !== (e = t.title) && void 0 !== e ? e : "",
                                        i = t.actions,
                                        r = Notification.maxActions;
                                    return i && r && i.length > r && console.warn("This browser only supports " + r + " actions. The remaining actions will not be displayed."), self.registration.showNotification(n, t)
                                }(s)] : [3, 3];
                            case 2:
                                return r.sent(), [3, 5];
                            case 3:
                                return this.bgMessageHandler ? [4, this.bgMessageHandler(e)] : [3, 5];
                            case 4:
                                r.sent(), r.label = 5;
                            case 5:
                                return [2]
                        }
                    }))
                }))
            }, Gt.prototype.onSubChange = function(t) {
                var e, n;
                return i(this, void 0, void 0, (function() {
                    var i;
                    return r(this, (function(r) {
                        switch (r.label) {
                            case 0:
                                return t.newSubscription ? [3, 2] : [4, Wt(this.firebaseDependencies, self.registration)];
                            case 1:
                                return r.sent(), [2];
                            case 2:
                                return [4, Rt(this.firebaseDependencies)];
                            case 3:
                                return i = r.sent(), [4, Wt(this.firebaseDependencies, self.registration)];
                            case 4:
                                return r.sent(), [4, qt(this.firebaseDependencies, self.registration, null !== (n = null === (e = null == i ? void 0 : i.subscriptionOptions) || void 0 === e ? void 0 : e.vapidKey) && void 0 !== n ? n : Tt)];
                            case 5:
                                return r.sent(), [2]
                        }
                    }))
                }))
            }, Gt.prototype.onNotificationClick = function(t) {
                var e, n;
                return i(this, void 0, void 0, (function() {
                    var s, a, u, l;
                    return r(this, (function(h) {
                        switch (h.label) {
                            case 0:
                                return !(s = null === (n = null === (e = t.notification) || void 0 === e ? void 0 : e.data) || void 0 === n ? void 0 : n[Ct]) || t.action ? [2] : (t.stopImmediatePropagation(), t.notification.close(), (a = function(t) {
                                    var e, n, i;
                                    return (null !== (n = null === (e = t.fcmOptions) || void 0 === e ? void 0 : e.link) && void 0 !== n ? n : null === (i = t.notification) || void 0 === i ? void 0 : i.click_action) || (Bt(t.data) ? self.location.origin : null)
                                }(s)) ? [4, function(t) {
                                    return i(this, void 0, void 0, (function() {
                                        var e, n, i, s, a, u, l;
                                        return r(this, (function(r) {
                                            switch (r.label) {
                                                case 0:
                                                    return e = new URL(t, self.location.href), [4, Yt()];
                                                case 1:
                                                    n = r.sent();
                                                    try {
                                                        for (i = o(n), s = i.next(); !s.done; s = i.next())
                                                            if (a = s.value, new URL(a.url, self.location.href).host === e.host) return [2, a]
                                                    } catch (r) {
                                                        u = {
                                                            error: r
                                                        }
                                                    } finally {
                                                        try {
                                                            s && !s.done && (l = i.return) && l.call(i)
                                                        } finally {
                                                            if (u) throw u.error
                                                        }
                                                    }
                                                    return [2, null]
                                            }
                                        }))
                                    }))
                                }(a)] : [2]);
                            case 1:
                                return (u = h.sent()) ? [3, 4] : [4, self.clients.openWindow(a)];
                            case 2:
                                return u = h.sent(), [4, (3e3, new Promise((function(t) {
                                    setTimeout(t, 3e3)
                                })))];
                            case 3:
                                return h.sent(), [3, 6];
                            case 4:
                                return [4, u.focus()];
                            case 5:
                                u = h.sent(), h.label = 6;
                            case 6:
                                return u ? (l = Qt(Et.NOTIFICATION_CLICKED, s), [2, u.postMessage(l)]) : [2]
                        }
                    }))
                }))
            }, Gt);

            function Gt(t) {
                var e = this;
                this.firebaseDependencies = t, this.vapidKey = null, this.bgMessageHandler = null, self.addEventListener("push", (function(t) {
                    t.waitUntil(e.onPush(t))
                })), self.addEventListener("pushsubscriptionchange", (function(t) {
                    t.waitUntil(e.onSubChange(t))
                })), self.addEventListener("notificationclick", (function(t) {
                    t.waitUntil(e.onNotificationClick(t))
                }))
            }

            function Yt() {
                return self.clients.matchAll({
                    type: "window",
                    includeUncontrolled: !0
                })
            }

            function Qt(t, e) {
                return {
                    firebaseMessaging: {
                        type: t,
                        payload: e
                    }
                }
            }
            var Xt = {
                isSupported: Jt
            };

            function Jt() {
                return self && "ServiceWorkerGlobalScope" in self ? "indexedDB" in self && null !== indexedDB && "PushManager" in self && "Notification" in self && ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification") && PushSubscription.prototype.hasOwnProperty("getKey") : "indexedDB" in window && null !== indexedDB && navigator.cookieEnabled && "serviceWorker" in navigator && "PushManager" in window && "Notification" in window && "fetch" in window && ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification") && PushSubscription.prototype.hasOwnProperty("getKey")
            }
            t.INTERNAL.registerComponent(new m("messaging", (function(t) {
                var e = t.getProvider("app").getImmediate(),
                    n = {
                        app: e,
                        appConfig: function(t) {
                            var e, n;
                            if (!t || !t.options) throw wt("App Configuration Object");
                            if (!t.name) throw wt("App Name");
                            var i = t.options;
                            try {
                                for (var r = o(["projectId", "apiKey", "appId", "messagingSenderId"]), s = r.next(); !s.done; s = r.next()) {
                                    var a = s.value;
                                    if (!i[a]) throw wt(a)
                                }
                            } catch (t) {
                                e = {
                                    error: t
                                }
                            } finally {
                                try {
                                    s && !s.done && (n = r.return) && n.call(r)
                                } finally {
                                    if (e) throw e.error
                                }
                            }
                            return {
                                appName: t.name,
                                projectId: i.projectId,
                                apiKey: i.apiKey,
                                appId: i.appId,
                                senderId: i.messagingSenderId
                            }
                        }(e),
                        installations: t.getProvider("installations").getImmediate(),
                        analyticsProvider: t.getProvider("analytics-internal")
                    };
                if (!Jt()) throw bt.create("unsupported-browser");
                return new(self && "ServiceWorkerGlobalScope" in self ? Kt : zt)(n)
            }), "PUBLIC").setServiceProps(Xt))
        }).apply(this, arguments)
    } catch (t) {
        throw console.error(t), new Error("Cannot instantiate firebase-messaging.js - be sure to load firebase-app.js first.")
    }
})),
function(t, e) {
    "object" == typeof exports && "undefined" != typeof module ? e(require("@firebase/app")) : "function" == typeof define && define.amd ? define(["@firebase/app"], e) : e((t = t || self).firebase)
}(this, (function(t) {
    "use strict";
    try {
        (function() {
            t = t && Object.prototype.hasOwnProperty.call(t, "default") ? t.default : t;
            var e, n, i, r = function(t, e) {
                return (r = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, e)
            };

            function o(t, e) {
                function n() {
                    this.constructor = t
                }
                r(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }

            function s(t, e, n, i) {
                return new(n = n || Promise)((function(r, o) {
                    function s(t) {
                        try {
                            u(i.next(t))
                        } catch (t) {
                            o(t)
                        }
                    }

                    function a(t) {
                        try {
                            u(i.throw(t))
                        } catch (t) {
                            o(t)
                        }
                    }

                    function u(t) {
                        var e;
                        t.done ? r(t.value) : ((e = t.value) instanceof n ? e : new n((function(t) {
                            t(e)
                        }))).then(s, a)
                    }
                    u((i = i.apply(t, e || [])).next())
                }))
            }

            function a(t, e) {
                var n, i, r, o, s = {
                    label: 0,
                    sent: function() {
                        if (1 & r[0]) throw r[1];
                        return r[1]
                    },
                    trys: [],
                    ops: []
                };
                return o = {
                    next: a(0),
                    throw: a(1),
                    return: a(2)
                }, "function" == typeof Symbol && (o[Symbol.iterator] = function() {
                    return this
                }), o;

                function a(o) {
                    return function(a) {
                        return function(o) {
                            if (n) throw new TypeError("Generator is already executing.");
                            for (; s;) try {
                                if (n = 1, i && (r = 2 & o[0] ? i.return : o[0] ? i.throw || ((r = i.return) && r.call(i), 0) : i.next) && !(r = r.call(i, o[1])).done) return r;
                                switch (i = 0, r && (o = [2 & o[0], r.value]), o[0]) {
                                    case 0:
                                    case 1:
                                        r = o;
                                        break;
                                    case 4:
                                        return s.label++, {
                                            value: o[1],
                                            done: !1
                                        };
                                    case 5:
                                        s.label++, i = o[1], o = [0];
                                        continue;
                                    case 7:
                                        o = s.ops.pop(), s.trys.pop();
                                        continue;
                                    default:
                                        if (!(r = 0 < (r = s.trys).length && r[r.length - 1]) && (6 === o[0] || 2 === o[0])) {
                                            s = 0;
                                            continue
                                        }
                                        if (3 === o[0] && (!r || o[1] > r[0] && o[1] < r[3])) {
                                            s.label = o[1];
                                            break
                                        }
                                        if (6 === o[0] && s.label < r[1]) {
                                            s.label = r[1], r = o;
                                            break
                                        }
                                        if (r && s.label < r[2]) {
                                            s.label = r[2], s.ops.push(o);
                                            break
                                        }
                                        r[2] && s.ops.pop(), s.trys.pop();
                                        continue
                                }
                                o = e.call(t, s)
                            } catch (t) {
                                o = [6, t], i = 0
                            } finally {
                                n = r = 0
                            }
                            if (5 & o[0]) throw o[1];
                            return {
                                value: o[0] ? o[1] : void 0,
                                done: !0
                            }
                        }([o, a])
                    }
                }
            }

            function u() {
                for (var t = 0, e = 0, n = arguments.length; e < n; e++) t += arguments[e].length;
                var i = Array(t),
                    r = 0;
                for (e = 0; e < n; e++)
                    for (var o = arguments[e], s = 0, a = o.length; s < a; s++, r++) i[r] = o[s];
                return i
            }

            function l() {
                for (var t = 0, e = 0, n = arguments.length; e < n; e++) t += arguments[e].length;
                var i = Array(t),
                    r = 0;
                for (e = 0; e < n; e++)
                    for (var o = arguments[e], s = 0, a = o.length; s < a; s++, r++) i[r] = o[s];
                return i
            }

            function h(t, e) {
                for (var n = [], i = 2; i < arguments.length; i++) n[i - 2] = arguments[i];
                if (!(e < t.logLevel)) {
                    var r = (new Date).toISOString(),
                        o = p[e];
                    if (!o) throw new Error("Attempted to log a message with an invalid logType (value: " + e + ")");
                    console[o].apply(console, l(["[" + r + "]  " + t.name + ":"], n))
                }
            }(i = n = n || {})[i.DEBUG = 0] = "DEBUG", i[i.VERBOSE = 1] = "VERBOSE", i[i.INFO = 2] = "INFO", i[i.WARN = 3] = "WARN", i[i.ERROR = 4] = "ERROR", i[i.SILENT = 5] = "SILENT";
            var c = {
                    debug: n.DEBUG,
                    verbose: n.VERBOSE,
                    info: n.INFO,
                    warn: n.WARN,
                    error: n.ERROR,
                    silent: n.SILENT
                },
                d = n.INFO,
                p = ((e = {})[n.DEBUG] = "log", e[n.VERBOSE] = "log", e[n.INFO] = "info", e[n.WARN] = "warn", e[n.ERROR] = "error", e),
                f = (Object.defineProperty(g.prototype, "logLevel", {
                    get: function() {
                        return this._logLevel
                    },
                    set: function(t) {
                        if (!(t in n)) throw new TypeError('Invalid value "' + t + '" assigned to `logLevel`');
                        this._logLevel = t
                    },
                    enumerable: !1,
                    configurable: !0
                }), g.prototype.setLogLevel = function(t) {
                    this._logLevel = "string" == typeof t ? c[t] : t
                }, Object.defineProperty(g.prototype, "logHandler", {
                    get: function() {
                        return this._logHandler
                    },
                    set: function(t) {
                        if ("function" != typeof t) throw new TypeError("Value assigned to `logHandler` must be a function");
                        this._logHandler = t
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(g.prototype, "userLogHandler", {
                    get: function() {
                        return this._userLogHandler
                    },
                    set: function(t) {
                        this._userLogHandler = t
                    },
                    enumerable: !1,
                    configurable: !0
                }), g.prototype.debug = function() {
                    for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                    this._userLogHandler && this._userLogHandler.apply(this, l([this, n.DEBUG], t)), this._logHandler.apply(this, l([this, n.DEBUG], t))
                }, g.prototype.log = function() {
                    for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                    this._userLogHandler && this._userLogHandler.apply(this, l([this, n.VERBOSE], t)), this._logHandler.apply(this, l([this, n.VERBOSE], t))
                }, g.prototype.info = function() {
                    for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                    this._userLogHandler && this._userLogHandler.apply(this, l([this, n.INFO], t)), this._logHandler.apply(this, l([this, n.INFO], t))
                }, g.prototype.warn = function() {
                    for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                    this._userLogHandler && this._userLogHandler.apply(this, l([this, n.WARN], t)), this._logHandler.apply(this, l([this, n.WARN], t))
                }, g.prototype.error = function() {
                    for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                    this._userLogHandler && this._userLogHandler.apply(this, l([this, n.ERROR], t)), this._logHandler.apply(this, l([this, n.ERROR], t))
                }, g);

            function g(t) {
                this.name = t, this._logLevel = d, this._logHandler = h, this._userLogHandler = null
            }

            function v() {
                return "undefined" != typeof navigator && "string" == typeof navigator.userAgent ? navigator.userAgent : ""
            }
            var m, y = (o(_, m = Error), _);

            function _(t, e) {
                var n = m.call(this, e) || this;
                return n.code = t, n.name = "FirebaseError", Object.setPrototypeOf(n, _.prototype), Error.captureStackTrace && Error.captureStackTrace(n, b.prototype.create), n
            }
            var b = (w.prototype.create = function(t) {
                for (var e = [], n = 1; n < arguments.length; n++) e[n - 1] = arguments[n];
                for (var i, r = e[0] || {}, o = this.service + "/" + t, s = this.errors[t], a = s ? (i = r, s.replace(E, (function(t, e) {
                        var n = i[e];
                        return null != n ? String(n) : "<" + e + "?>"
                    }))) : "Error", u = this.serviceName + ": " + a + " (" + o + ").", l = new y(o, u), h = 0, c = Object.keys(r); h < c.length; h++) {
                    var d = c[h];
                    "_" !== d.slice(-1) && (d in l && console.warn('Overwriting FirebaseError base field "' + d + '" can cause unexpected behavior.'), l[d] = r[d])
                }
                return l
            }, w);

            function w(t, e, n) {
                this.service = t, this.serviceName = e, this.errors = n
            }
            var E = /\{\$([^}]+)}/g;

            function I(t) {
                var e = "function" == typeof Symbol && Symbol.iterator,
                    n = e && t[e],
                    i = 0;
                if (n) return n.call(t);
                if (t && "number" == typeof t.length) return {
                    next: function() {
                        return t && i >= t.length && (t = void 0), {
                            value: t && t[i++],
                            done: !t
                        }
                    }
                };
                throw new TypeError(e ? "Object is not iterable." : "Symbol.iterator is not defined.")
            }
            var T, C = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {},
                k = k || {},
                S = C || self;

            function x() {}

            function D(t) {
                var e = typeof t;
                if ("object" == e) {
                    if (!t) return "null";
                    if (t instanceof Array) return "array";
                    if (t instanceof Object) return e;
                    var n = Object.prototype.toString.call(t);
                    if ("[object Window]" == n) return "object";
                    if ("[object Array]" == n || "number" == typeof t.length && void 0 !== t.splice && void 0 !== t.propertyIsEnumerable && !t.propertyIsEnumerable("splice")) return "array";
                    if ("[object Function]" == n || void 0 !== t.call && void 0 !== t.propertyIsEnumerable && !t.propertyIsEnumerable("call")) return "function"
                } else if ("function" == e && void 0 === t.call) return "object";
                return e
            }

            function N(t) {
                var e = D(t);
                return "array" == e || "object" == e && "number" == typeof t.length
            }

            function A(t) {
                var e = typeof t;
                return "object" == e && null != t || "function" == e
            }
            var P = "closure_uid_" + (1e9 * Math.random() >>> 0),
                O = 0;

            function R(t, e, n) {
                return t.call.apply(t.bind, arguments)
            }

            function L(t, e, n) {
                if (!t) throw Error();
                if (2 < arguments.length) {
                    var i = Array.prototype.slice.call(arguments, 2);
                    return function() {
                        var n = Array.prototype.slice.call(arguments);
                        return Array.prototype.unshift.apply(n, i), t.apply(e, n)
                    }
                }
                return function() {
                    return t.apply(e, arguments)
                }
            }

            function M(t, e, n) {
                return (M = Function.prototype.bind && -1 != Function.prototype.bind.toString().indexOf("native code") ? R : L).apply(null, arguments)
            }

            function F(t, e) {
                var n = Array.prototype.slice.call(arguments, 1);
                return function() {
                    var e = n.slice();
                    return e.push.apply(e, arguments), t.apply(this, e)
                }
            }
            var U = Date.now || function() {
                return +new Date
            };

            function j(t, e) {
                function n() {}
                n.prototype = e.prototype, t.M = e.prototype, t.prototype = new n, t.prototype.constructor = t
            }

            function H() {
                this.j = this.j, this.i = this.i
            }
            H.prototype.j = !1, H.prototype.da = function() {
                var t;
                !this.j && (this.j = !0, this.C(), 0) && (t = this, Object.prototype.hasOwnProperty.call(t, P) && t[P] || (t[P] = ++O))
            }, H.prototype.C = function() {
                if (this.i)
                    for (; this.i.length;) this.i.shift()()
            };
            var q = Array.prototype.indexOf ? function(t, e) {
                    return Array.prototype.indexOf.call(t, e, void 0)
                } : function(t, e) {
                    if ("string" == typeof t) return "string" != typeof e || 1 != e.length ? -1 : t.indexOf(e, 0);
                    for (var n = 0; n < t.length; n++)
                        if (n in t && t[n] === e) return n;
                    return -1
                },
                W = Array.prototype.forEach ? function(t, e, n) {
                    Array.prototype.forEach.call(t, e, n)
                } : function(t, e, n) {
                    for (var i = t.length, r = "string" == typeof t ? t.split("") : t, o = 0; o < i; o++) o in r && e.call(n, r[o], o, t)
                };

            function V(t) {
                return Array.prototype.concat.apply([], arguments)
            }

            function B(t) {
                var e = t.length;
                if (0 < e) {
                    for (var n = Array(e), i = 0; i < e; i++) n[i] = t[i];
                    return n
                }
                return []
            }

            function z(t) {
                return /^[\s\xa0]*$/.test(t)
            }
            var $, K = String.prototype.trim ? function(t) {
                return t.trim()
            } : function(t) {
                return /^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]
            };

            function G(t, e) {
                return -1 != t.indexOf(e)
            }

            function Y(t, e) {
                return t < e ? -1 : e < t ? 1 : 0
            }
            t: {
                var Q = S.navigator;
                if (Q) {
                    var X = Q.userAgent;
                    if (X) {
                        $ = X;
                        break t
                    }
                }
                $ = ""
            }

            function J(t, e, n) {
                for (var i in t) e.call(n, t[i], i, t)
            }

            function Z(t) {
                var e = {};
                for (var n in t) e[n] = t[n];
                return e
            }
            var tt = "constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");

            function et(t, e) {
                for (var n, i, r = 1; r < arguments.length; r++) {
                    for (n in i = arguments[r]) t[n] = i[n];
                    for (var o = 0; o < tt.length; o++) n = tt[o], Object.prototype.hasOwnProperty.call(i, n) && (t[n] = i[n])
                }
            }

            function nt(t) {
                return nt[" "](t), t
            }
            nt[" "] = x;
            var it, rt, ot = G($, "Opera"),
                st = G($, "Trident") || G($, "MSIE"),
                at = G($, "Edge"),
                ut = at || st,
                lt = G($, "Gecko") && !(G($.toLowerCase(), "webkit") && !G($, "Edge")) && !(G($, "Trident") || G($, "MSIE")) && !G($, "Edge"),
                ht = G($.toLowerCase(), "webkit") && !G($, "Edge");

            function ct() {
                var t = S.document;
                return t ? t.documentMode : void 0
            }
            t: {
                var dt = "",
                    pt = (rt = $, lt ? /rv:([^\);]+)(\)|;)/.exec(rt) : at ? /Edge\/([\d\.]+)/.exec(rt) : st ? /\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(rt) : ht ? /WebKit\/(\S+)/.exec(rt) : ot ? /(?:Version)[ \/]?(\S+)/.exec(rt) : void 0);
                if (pt && (dt = pt ? pt[1] : ""), st) {
                    var ft = ct();
                    if (null != ft && ft > parseFloat(dt)) {
                        it = String(ft);
                        break t
                    }
                }
                it = dt
            }
            var gt, vt = {};

            function mt(t) {
                return e = t, n = function() {
                    for (var e = 0, n = K(String(it)).split("."), i = K(String(t)).split("."), r = Math.max(n.length, i.length), o = 0; 0 == e && o < r; o++) {
                        var s = n[o] || "",
                            a = i[o] || "";
                        do {
                            if (s = /(\d*)(\D*)(.*)/.exec(s) || ["", "", "", ""], a = /(\d*)(\D*)(.*)/.exec(a) || ["", "", "", ""], 0 == s[0].length && 0 == a[0].length) break;
                            e = Y(0 == s[1].length ? 0 : parseInt(s[1], 10), 0 == a[1].length ? 0 : parseInt(a[1], 10)) || Y(0 == s[2].length, 0 == a[2].length) || Y(s[2], a[2]), s = s[3], a = a[3]
                        } while (0 == e)
                    }
                    return 0 <= e
                }, i = vt, Object.prototype.hasOwnProperty.call(i, e) ? i[e] : i[e] = n();
                var e, n, i
            }
            S.document && st ? gt = ct() || parseInt(it, 10) || void 0 : gt = void 0;
            var yt = gt,
                _t = !st || 9 <= Number(yt),
                bt = st && !mt("9"),
                wt = function() {
                    if (!S.addEventListener || !Object.defineProperty) return !1;
                    var t = !1,
                        e = Object.defineProperty({}, "passive", {
                            get: function() {
                                t = !0
                            }
                        });
                    try {
                        S.addEventListener("test", x, e), S.removeEventListener("test", x, e)
                    } catch (t) {}
                    return t
                }();

            function Et(t, e) {
                this.type = t, this.a = this.target = e, this.defaultPrevented = !1
            }

            function It(t, e) {
                if (Et.call(this, t ? t.type : ""), this.relatedTarget = this.a = this.target = null, this.button = this.screenY = this.screenX = this.clientY = this.clientX = 0, this.key = "", this.metaKey = this.shiftKey = this.altKey = this.ctrlKey = !1, this.pointerId = 0, this.pointerType = "", this.c = null, t) {
                    var n = this.type = t.type,
                        i = t.changedTouches && t.changedTouches.length ? t.changedTouches[0] : null;
                    if (this.target = t.target || t.srcElement, this.a = e, e = t.relatedTarget) {
                        if (lt) {
                            t: {
                                try {
                                    nt(e.nodeName);
                                    var r = !0;
                                    break t
                                } catch (t) {}
                                r = !1
                            }
                            r || (e = null)
                        }
                    } else "mouseover" == n ? e = t.fromElement : "mouseout" == n && (e = t.toElement);
                    this.relatedTarget = e, i ? (this.clientX = void 0 !== i.clientX ? i.clientX : i.pageX, this.clientY = void 0 !== i.clientY ? i.clientY : i.pageY, this.screenX = i.screenX || 0, this.screenY = i.screenY || 0) : (this.clientX = void 0 !== t.clientX ? t.clientX : t.pageX, this.clientY = void 0 !== t.clientY ? t.clientY : t.pageY, this.screenX = t.screenX || 0, this.screenY = t.screenY || 0), this.button = t.button, this.key = t.key || "", this.ctrlKey = t.ctrlKey, this.altKey = t.altKey, this.shiftKey = t.shiftKey, this.metaKey = t.metaKey, this.pointerId = t.pointerId || 0, this.pointerType = "string" == typeof t.pointerType ? t.pointerType : Tt[t.pointerType] || "", (this.c = t).defaultPrevented && this.b()
                }
            }
            Et.prototype.b = function() {
                this.defaultPrevented = !0
            }, j(It, Et);
            var Tt = {
                2: "touch",
                3: "pen",
                4: "mouse"
            };
            It.prototype.b = function() {
                It.M.b.call(this);
                var t = this.c;
                if (t.preventDefault) t.preventDefault();
                else if (t.returnValue = !1, bt) try {
                    (t.ctrlKey || 112 <= t.keyCode && t.keyCode <= 123) && (t.keyCode = -1)
                } catch (t) {}
            };
            var Ct = "closure_listenable_" + (1e6 * Math.random() | 0),
                kt = 0;

            function St(t, e, n, i, r) {
                this.listener = t, this.proxy = null, this.src = e, this.type = n, this.capture = !!i, this.aa = r, this.key = ++kt, this.V = this.X = !1
            }

            function xt(t) {
                t.V = !0, t.listener = null, t.proxy = null, t.src = null, t.aa = null
            }

            function Dt(t) {
                this.src = t, this.a = {}, this.b = 0
            }

            function Nt(t, e) {
                var n = e.type;
                if (n in t.a) {
                    var i, r = t.a[n],
                        o = q(r, e);
                    (i = 0 <= o) && Array.prototype.splice.call(r, o, 1), i && (xt(e), 0 == t.a[n].length && (delete t.a[n], t.b--))
                }
            }

            function At(t, e, n, i) {
                for (var r = 0; r < t.length; ++r) {
                    var o = t[r];
                    if (!o.V && o.listener == e && o.capture == !!n && o.aa == i) return r
                }
                return -1
            }
            Dt.prototype.add = function(t, e, n, i, r) {
                var o = t.toString();
                (t = this.a[o]) || (t = this.a[o] = [], this.b++);
                var s = At(t, e, i, r);
                return -1 < s ? (e = t[s], n || (e.X = !1)) : ((e = new St(e, this.src, o, !!i, r)).X = n, t.push(e)), e
            };
            var Pt = "closure_lm_" + (1e6 * Math.random() | 0),
                Ot = {};

            function Rt(t, e, n, i, r) {
                if (i && i.once) return function t(e, n, i, r, o) {
                    if (Array.isArray(n)) {
                        for (var s = 0; s < n.length; s++) t(e, n[s], i, r, o);
                        return null
                    }
                    return i = Wt(i), e && e[Ct] ? e.sa(n, i, A(r) ? !!r.capture : !!r, o) : Lt(e, n, i, !0, r, o)
                }(t, e, n, i, r);
                if (Array.isArray(e)) {
                    for (var o = 0; o < e.length; o++) Rt(t, e[o], n, i, r);
                    return null
                }
                return n = Wt(n), t && t[Ct] ? t.ra(e, n, A(i) ? !!i.capture : !!i, r) : Lt(t, e, n, !1, i, r)
            }

            function Lt(t, e, n, i, r, o) {
                if (!e) throw Error("Invalid event type");
                var s = A(r) ? !!r.capture : !!r;
                if (s && !_t) return null;
                var a, u, l = Ht(t);
                if (l || (t[Pt] = l = new Dt(t)), (n = l.add(e, n, i, s, o)).proxy) return n;
                if (a = jt, i = u = _t ? function(t) {
                        return a.call(u.src, u.listener, t)
                    } : function(t) {
                        if (!(t = a.call(u.src, u.listener, t))) return t
                    }, (n.proxy = i).src = t, i.listener = n, t.addEventListener) wt || (r = s), void 0 === r && (r = !1), t.addEventListener(e.toString(), i, r);
                else if (t.attachEvent) t.attachEvent(Ft(e.toString()), i);
                else {
                    if (!t.addListener || !t.removeListener) throw Error("addEventListener and attachEvent are unavailable.");
                    t.addListener(i)
                }
                return n
            }

            function Mt(t) {
                if ("number" != typeof t && t && !t.V) {
                    var e = t.src;
                    if (e && e[Ct]) Nt(e.c, t);
                    else {
                        var n = t.type,
                            i = t.proxy;
                        e.removeEventListener ? e.removeEventListener(n, i, t.capture) : e.detachEvent ? e.detachEvent(Ft(n), i) : e.addListener && e.removeListener && e.removeListener(i), (n = Ht(e)) ? (Nt(n, t), 0 == n.b && (n.src = null, e[Pt] = null)) : xt(t)
                    }
                }
            }

            function Ft(t) {
                return t in Ot ? Ot[t] : Ot[t] = "on" + t
            }

            function Ut(t, e) {
                var n = t.listener,
                    i = t.aa || t.src;
                return t.X && Mt(t), n.call(i, e)
            }

            function jt(t, e) {
                if (t.V) return !0;
                if (_t) return Ut(t, new It(e, this));
                if (!e) t: {
                    e = ["window", "event"];
                    for (var n = S, i = 0; i < e.length; i++)
                        if (null == (n = n[e[i]])) {
                            e = null;
                            break t
                        } e = n
                }
                return Ut(t, e = new It(e, this))
            }

            function Ht(t) {
                return (t = t[Pt]) instanceof Dt ? t : null
            }
            var qt = "__closure_events_fn_" + (1e9 * Math.random() >>> 0);

            function Wt(t) {
                return "function" == D(t) ? t : (t[qt] || (t[qt] = function(e) {
                    return t.handleEvent(e)
                }), t[qt])
            }

            function Vt() {
                H.call(this), this.c = new Dt(this), (this.J = this).A = null
            }

            function Bt(t, e, n, i) {
                if (!(e = t.c.a[String(e)])) return !0;
                e = e.concat();
                for (var r = !0, o = 0; o < e.length; ++o) {
                    var s = e[o];
                    if (s && !s.V && s.capture == n) {
                        var a = s.listener,
                            u = s.aa || s.src;
                        s.X && Nt(t.c, s), r = !1 !== a.call(u, i) && r
                    }
                }
                return r && !i.defaultPrevented
            }
            j(Vt, H), Vt.prototype[Ct] = !0, (T = Vt.prototype).addEventListener = function(t, e, n, i) {
                Rt(this, t, e, n, i)
            }, T.removeEventListener = function(t, e, n, i) {
                ! function t(e, n, i, r, o) {
                    if (Array.isArray(n))
                        for (var s = 0; s < n.length; s++) t(e, n[s], i, r, o);
                    else r = A(r) ? !!r.capture : !!r, i = Wt(i), e && e[Ct] ? (e = e.c, (n = String(n).toString()) in e.a && -1 < (i = At(s = e.a[n], i, r, o)) && (xt(s[i]), Array.prototype.splice.call(s, i, 1), 0 == s.length && (delete e.a[n], e.b--))) : (e = e && Ht(e)) && (n = e.a[n.toString()], e = -1, n && (e = At(n, i, r, o)), (i = -1 < e ? n[e] : null) && Mt(i))
                }(this, t, e, n, i)
            }, T.dispatchEvent = function(t) {
                var e, n = this.A;
                if (n)
                    for (e = []; n; n = n.A) e.push(n);
                n = this.J;
                var i = t.type || t;
                if ("string" == typeof t) t = new Et(t, n);
                else if (t instanceof Et) t.target = t.target || n;
                else {
                    var r = t;
                    et(t = new Et(i, n), r)
                }
                if (r = !0, e)
                    for (var o = e.length - 1; 0 <= o; o--) {
                        var s = t.a = e[o];
                        r = Bt(s, i, !0, t) && r
                    }
                if (r = Bt(s = t.a = n, i, !0, t) && r, r = Bt(s, i, !1, t) && r, e)
                    for (o = 0; o < e.length; o++) r = Bt(s = t.a = e[o], i, !1, t) && r;
                return r
            }, T.C = function() {
                if (Vt.M.C.call(this), this.c) {
                    var t, e = this.c;
                    for (t in e.a) {
                        for (var n = e.a[t], i = 0; i < n.length; i++) xt(n[i]);
                        delete e.a[t], e.b--
                    }
                }
                this.A = null
            }, T.ra = function(t, e, n, i) {
                return this.c.add(String(t), e, !1, n, i)
            }, T.sa = function(t, e, n, i) {
                return this.c.add(String(t), e, !0, n, i)
            };
            var zt = S.JSON.stringify;

            function $t() {
                this.b = this.a = null
            }
            var Kt, Gt = (Yt.prototype.get = function() {
                var t;
                return 0 < this.b ? (this.b--, t = this.a, this.a = t.next, t.next = null) : t = this.c(), t
            }, new Yt((function() {
                return new Qt
            }), (function(t) {
                t.reset()
            }), 100));

            function Yt(t, e, n) {
                this.f = n, this.c = t, this.g = e, this.b = 0, this.a = null
            }

            function Qt() {
                this.next = this.b = this.a = null
            }

            function Xt(t) {
                S.setTimeout((function() {
                    throw t
                }), 0)
            }

            function Jt(t, e) {
                var n;
                Kt || (n = S.Promise.resolve(void 0), Kt = function() {
                    n.then(ee)
                }), Zt || (Kt(), Zt = !0), te.add(t, e)
            }
            $t.prototype.add = function(t, e) {
                var n = Gt.get();
                n.set(t, e), this.b ? this.b.next = n : this.a = n, this.b = n
            }, Qt.prototype.set = function(t, e) {
                this.a = t, this.b = e, this.next = null
            };
            var Zt = !(Qt.prototype.reset = function() {
                    this.next = this.b = this.a = null
                }),
                te = new $t;

            function ee() {
                for (var t; i = n = void 0, i = null, (n = te).a && (i = n.a, n.a = n.a.next, n.a || (n.b = null), i.next = null), t = i;) {
                    try {
                        t.a.call(t.b)
                    } catch (t) {
                        Xt(t)
                    }
                    var e = Gt;
                    e.g(t), e.b < e.f && (e.b++, t.next = e.a, e.a = t)
                }
                var n, i;
                Zt = !1
            }

            function ne(t, e) {
                Vt.call(this), this.b = t || 1, this.a = e || S, this.f = M(this.Ua, this), this.g = U()
            }

            function ie(t) {
                t.Z = !1, t.L && (t.a.clearTimeout(t.L), t.L = null)
            }

            function re(t, e, n) {
                if ("function" == D(t)) n && (t = M(t, n));
                else {
                    if (!t || "function" != typeof t.handleEvent) throw Error("Invalid listener argument");
                    t = M(t.handleEvent, t)
                }
                return 2147483647 < Number(e) ? -1 : S.setTimeout(t, e || 0)
            }

            function oe(t, e, n) {
                H.call(this), this.f = null != n ? M(t, n) : t, this.c = e, this.b = M(this.Pa, this), this.a = []
            }

            function se(t) {
                t.T = re(t.b, t.c), t.f.apply(null, t.a)
            }

            function ae(t) {
                H.call(this), this.b = t, this.a = {}
            }
            j(ne, Vt), (T = ne.prototype).Z = !1, T.L = null, T.Ua = function() {
                if (this.Z) {
                    var t = U() - this.g;
                    0 < t && t < .8 * this.b ? this.L = this.a.setTimeout(this.f, this.b - t) : (this.L && (this.a.clearTimeout(this.L), this.L = null), this.dispatchEvent("tick"), this.Z && (ie(this), this.start()))
                }
            }, T.start = function() {
                this.Z = !0, this.L || (this.L = this.a.setTimeout(this.f, this.b), this.g = U())
            }, T.C = function() {
                ne.M.C.call(this), ie(this), delete this.a
            }, j(oe, H), (T = oe.prototype).ba = !1, T.T = null, T.Ia = function(t) {
                this.a = arguments, this.T ? this.ba = !0 : se(this)
            }, T.C = function() {
                oe.M.C.call(this), this.T && (S.clearTimeout(this.T), this.T = null, this.ba = !1, this.a = [])
            }, T.Pa = function() {
                this.T = null, this.ba && (this.ba = !1, se(this))
            }, j(ae, H);
            var ue = [];

            function le(t, e, n, i) {
                Array.isArray(n) || (n && (ue[0] = n.toString()), n = ue);
                for (var r = 0; r < n.length; r++) {
                    var o = Rt(e, n[r], i || t.handleEvent, !1, t.b || t);
                    if (!o) break;
                    t.a[o.key] = o
                }
            }

            function he(t) {
                J(t.a, (function(t, e) {
                    this.a.hasOwnProperty(e) && Mt(t)
                }), t), t.a = {}
            }

            function ce() {}
            ae.prototype.C = function() {
                ae.M.C.call(this), he(this)
            }, ae.prototype.handleEvent = function() {
                throw Error("EventHandler.handleEvent not implemented")
            };
            var de = null;

            function pe() {
                return de = de || new Vt
            }

            function fe(t) {
                Et.call(this, "serverreachability", t)
            }

            function ge(t) {
                var e = pe();
                e.dispatchEvent(new fe(e))
            }

            function ve(t) {
                Et.call(this, "statevent", t)
            }

            function me(t) {
                var e = pe();
                e.dispatchEvent(new ve(e))
            }

            function ye(t) {
                Et.call(this, "timingevent", t)
            }

            function _e(t, e) {
                if ("function" != D(t)) throw Error("Fn must not be null and must be a function");
                return S.setTimeout((function() {
                    t()
                }), e)
            }
            j(fe, Et), j(ve, Et), j(ye, Et);
            var be = {
                    NO_ERROR: 0,
                    Va: 1,
                    bb: 2,
                    ab: 3,
                    Ya: 4,
                    $a: 5,
                    cb: 6,
                    za: 7,
                    TIMEOUT: 8,
                    gb: 9
                },
                we = {
                    Xa: "complete",
                    kb: "success",
                    Aa: "error",
                    za: "abort",
                    ib: "ready",
                    jb: "readystatechange",
                    TIMEOUT: "timeout",
                    eb: "incrementaldata",
                    hb: "progress",
                    Za: "downloadprogress",
                    lb: "uploadprogress"
                };

            function Ee() {}

            function Ie(t) {
                var e;
                return (e = t.a) || (e = t.a = {}), e
            }

            function Te() {}
            Ee.prototype.a = null;
            var Ce, ke = {
                OPEN: "a",
                Wa: "b",
                Aa: "c",
                fb: "d"
            };

            function Se() {
                Et.call(this, "d")
            }

            function xe() {
                Et.call(this, "c")
            }

            function De() {}

            function Ne(t, e, n) {
                this.g = t, this.W = e, this.U = n || 1, this.G = new ae(this), this.N = Ae, t = ut ? 125 : void 0, this.O = new ne(t), this.m = null, this.b = !1, this.j = this.A = this.f = this.B = this.s = this.P = this.h = null, this.i = [], this.a = null, this.w = 0, this.c = this.v = null, this.H = -1, this.l = !1, this.J = 0, this.D = null, this.o = this.R = this.F = !1
            }
            j(Se, Et), j(xe, Et), j(De, Ee), Ce = new De;
            var Ae = 45e3,
                Pe = {},
                Oe = {};

            function Re(t, e, n) {
                t.B = 1, t.f = nn(Qe(e)), t.j = n, t.F = !0, Le(t, null)
            }

            function Le(t, e) {
                t.s = U(), Ue(t), t.A = Qe(t.f);
                var n = t.A,
                    i = t.U;
                Array.isArray(i) || (i = [String(i)]), vn(n.b, "t", i), t.w = 0, t.a = ai(t.g, t.g.w ? e : null), 0 < t.J && (t.D = new oe(M(t.ya, t, t.a), t.J)), le(t.G, t.a, "readystatechange", t.Sa), e = t.m ? Z(t.m) : {}, t.j ? (t.v || (t.v = "POST"), e["Content-Type"] = "application/x-www-form-urlencoded", t.a.$(t.A, t.v, t.j, e)) : (t.v = "GET", t.a.$(t.A, t.v, null, e)), ge()
            }

            function Me(t, e, n) {
                for (var i = !0; !t.l && t.w < n.length;) {
                    var r = Fe(t, n);
                    if (r == Oe) {
                        4 == e && (t.c = 4, me(), i = !1);
                        break
                    }
                    if (r == Pe) {
                        t.c = 4, me(), i = !1;
                        break
                    }
                    Ve(t, r)
                }
                4 == e && 0 == n.length && (t.c = 1, me(), i = !1), t.b = t.b && i, i || (We(t), qe(t))
            }

            function Fe(t, e) {
                var n = t.w,
                    i = e.indexOf("\n", n);
                return -1 == i ? Oe : (n = Number(e.substring(n, i)), isNaN(n) ? Pe : (i += 1) + n > e.length ? Oe : (e = e.substr(i, n), t.w = i + n, e))
            }

            function Ue(t) {
                t.P = U() + t.N, je(t, t.N)
            }

            function je(t, e) {
                if (null != t.h) throw Error("WatchDog timer not null");
                t.h = _e(M(t.Qa, t), e)
            }

            function He(t) {
                t.h && (S.clearTimeout(t.h), t.h = null)
            }

            function qe(t) {
                0 == t.g.u || t.l || ni(t.g, t)
            }

            function We(t) {
                He(t);
                var e = t.D;
                e && "function" == typeof e.da && e.da(), t.D = null, ie(t.O), he(t.G), t.a && (e = t.a, t.a = null, e.abort(), e.da())
            }

            function Ve(t, e) {
                try {
                    var n = t.g;
                    if (0 != n.u && (n.a == t || In(n.b, t)))
                        if (n.A = t.H, !t.o && In(n.b, t) && 3 == n.u) {
                            try {
                                var i = n.ja.a.parse(e)
                            } catch (t) {
                                i = null
                            }
                            if (Array.isArray(i) && 3 == i.length) {
                                var r = i;
                                if (0 == r[0]) {
                                    t: if (!n.i) {
                                        if (n.a) {
                                            if (!(n.a.s + 3e3 < t.s)) break t;
                                            ei(n), n.a.cancel(), n.a = null
                                        }
                                        ti(n), me()
                                    }
                                }
                                else n.ia = r[1], 0 < n.ia - n.G && r[2] < 37500 && n.U && 0 == n.m && !n.l && (n.l = _e(M(n.Na, n), 6e3));
                                if (En(n.b) <= 1 && n.O) {
                                    try {
                                        n.O()
                                    } catch (t) {}
                                    n.O = void 0
                                }
                            } else ri(n, 11)
                        } else if (!t.o && n.a != t || ei(n), !z(e))
                        for (e = i = n.ja.a.parse(e), i = 0; i < e.length; i++)
                            if (r = e[i], n.G = r[0], r = r[1], 2 == n.u)
                                if ("c" == r[0]) {
                                    n.B = r[1], n.R = r[2];
                                    var o = r[3];
                                    null != o && (n.oa = o);
                                    var s = r[5];
                                    null != s && "number" == typeof s && 0 < s && (n.D = 1.5 * s);
                                    var a = n,
                                        u = t.a;
                                    if (u) {
                                        var l = u.a ? u.a.getResponseHeader("X-Client-Wire-Protocol") : null;
                                        if (l) {
                                            var h = a.b;
                                            !h.a && (G(l, "spdy") || G(l, "quic") || G(l, "h2")) && (h.f = h.g, h.a = new Set, h.b && (Tn(h, h.b), h.b = null))
                                        }
                                        if (a.s) {
                                            var c = u.a ? u.a.getResponseHeader("X-HTTP-Session-Id") : null;
                                            c && (a.ha = c, en(a.v, a.s, c))
                                        }
                                    }
                                    n.u = 3, n.c && n.c.na();
                                    var d = t;
                                    if ((a = n).ea = si(a, a.w ? a.R : null, a.P), d.o) {
                                        Cn(a.b, d);
                                        var p = d,
                                            f = a.D;
                                        f && p.setTimeout(f), p.h && (He(p), Ue(p)), a.a = d
                                    } else Zn(a);
                                    0 < n.f.length && Yn(n)
                                } else "stop" != r[0] && "close" != r[0] || ri(n, 7);
                    else 3 == n.u && ("stop" == r[0] || "close" == r[0] ? "stop" == r[0] ? ri(n, 7) : $n(n) : "noop" != r[0] && n.c && n.c.ma(r), n.m = 0);
                    ge()
                } catch (t) {}
            }

            function Be(t, e) {
                if (t.forEach && "function" == typeof t.forEach) t.forEach(e, void 0);
                else if (N(t) || "string" == typeof t) W(t, e, void 0);
                else {
                    if (t.K && "function" == typeof t.K) var n = t.K();
                    else if (t.I && "function" == typeof t.I) n = void 0;
                    else if (N(t) || "string" == typeof t) {
                        n = [];
                        for (var i = t.length, r = 0; r < i; r++) n.push(r)
                    } else
                        for (r in n = [], i = 0, t) n[i++] = r;
                    r = (i = function(t) {
                        if (t.I && "function" == typeof t.I) return t.I();
                        if ("string" == typeof t) return t.split("");
                        if (N(t)) {
                            for (var e = [], n = t.length, i = 0; i < n; i++) e.push(t[i]);
                            return e
                        }
                        for (i in e = [], n = 0, t) e[n++] = t[i];
                        return e
                    }(t)).length;
                    for (var o = 0; o < r; o++) e.call(void 0, i[o], n && n[o], t)
                }
            }

            function ze(t, e) {
                this.b = {}, this.a = [], this.c = 0;
                var n = arguments.length;
                if (1 < n) {
                    if (n % 2) throw Error("Uneven number of arguments");
                    for (var i = 0; i < n; i += 2) this.set(arguments[i], arguments[i + 1])
                } else if (t)
                    if (t instanceof ze)
                        for (n = t.K(), i = 0; i < n.length; i++) this.set(n[i], t.get(n[i]));
                    else
                        for (i in t) this.set(i, t[i])
            }

            function $e(t) {
                if (t.c != t.a.length) {
                    for (var e = 0, n = 0; e < t.a.length;) {
                        var i = t.a[e];
                        Ke(t.b, i) && (t.a[n++] = i), e++
                    }
                    t.a.length = n
                }
                if (t.c != t.a.length) {
                    var r = {};
                    for (n = e = 0; e < t.a.length;) Ke(r, i = t.a[e]) || (r[t.a[n++] = i] = 1), e++;
                    t.a.length = n
                }
            }

            function Ke(t, e) {
                return Object.prototype.hasOwnProperty.call(t, e)
            }(T = Ne.prototype).setTimeout = function(t) {
                this.N = t
            }, T.Sa = function(t) {
                t = t.target;
                var e = this.D;
                e && 3 == Wn(t) ? e.Ia() : this.ya(t)
            }, T.ya = function(t) {
                try {
                    if (t == this.a) t: {
                        var e = Wn(this.a),
                            n = this.a.qa();this.a.S();
                        if (!(e < 3 || 3 == e && !ut && !this.a.Y())) {
                            this.l || 4 != e || 7 == n || ge(), He(this);
                            var i = this.a.S();
                            this.H = i;
                            var r = this.a.Y();
                            if (this.b = 200 == i) {
                                if (this.R && !this.o) {
                                    e: {
                                        if (this.a) {
                                            var o, s = this.a;
                                            if ((o = s.a ? s.a.getResponseHeader("X-HTTP-Initial-Response") : null) && !z(o)) {
                                                var a = o;
                                                break e
                                            }
                                        }
                                        a = null
                                    }
                                    if (!a) {
                                        this.b = !1, this.c = 3, me(), We(this), qe(this);
                                        break t
                                    }
                                    this.o = !0,
                                    Ve(this, a)
                                }
                                this.F ? (Me(this, e, r), ut && this.b && 3 == e && (le(this.G, this.O, "tick", this.Ra), this.O.start())) : Ve(this, r), 4 == e && We(this), this.b && !this.l && (4 == e ? ni(this.g, this) : (this.b = !1, Ue(this)))
                            } else 400 == i && 0 < r.indexOf("Unknown SID") ? (this.c = 3, me()) : (this.c = 0, me()), We(this), qe(this)
                        }
                    }
                } catch (t) {}
            }, T.Ra = function() {
                if (this.a) {
                    var t = Wn(this.a),
                        e = this.a.Y();
                    this.w < e.length && (He(this), Me(this, t, e), this.b && 4 != t && Ue(this))
                }
            }, T.cancel = function() {
                this.l = !0, We(this)
            }, T.Qa = function() {
                this.h = null;
                var t = U();
                0 <= t - this.P ? (2 != this.B && (ge(), me()), We(this), this.c = 2, qe(this)) : je(this, this.P - t)
            }, (T = ze.prototype).I = function() {
                $e(this);
                for (var t = [], e = 0; e < this.a.length; e++) t.push(this.b[this.a[e]]);
                return t
            }, T.K = function() {
                return $e(this), this.a.concat()
            }, T.get = function(t, e) {
                return Ke(this.b, t) ? this.b[t] : e
            }, T.set = function(t, e) {
                Ke(this.b, t) || (this.c++, this.a.push(t)), this.b[t] = e
            }, T.forEach = function(t, e) {
                for (var n = this.K(), i = 0; i < n.length; i++) {
                    var r = n[i],
                        o = this.get(r);
                    t.call(e, o, r, this)
                }
            };
            var Ge = /^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;

            function Ye(t, e) {
                if (this.c = this.j = this.f = "", this.h = null, this.i = this.g = "", this.a = !1, t instanceof Ye) {
                    this.a = void 0 !== e ? e : t.a, Xe(this, t.f), this.j = t.j, Je(this, t.c), Ze(this, t.h), this.g = t.g, e = t.b;
                    var n = new dn;
                    n.c = e.c, e.a && (n.a = new ze(e.a), n.b = e.b), tn(this, n), this.i = t.i
                } else t && (n = String(t).match(Ge)) ? (this.a = !!e, Xe(this, n[1] || "", !0), this.j = rn(n[2] || ""), Je(this, n[3] || "", !0), Ze(this, n[4]), this.g = rn(n[5] || "", !0), tn(this, n[6] || "", !0), this.i = rn(n[7] || "")) : (this.a = !!e, this.b = new dn(null, this.a))
            }

            function Qe(t) {
                return new Ye(t)
            }

            function Xe(t, e, n) {
                t.f = n ? rn(e, !0) : e, t.f && (t.f = t.f.replace(/:$/, ""))
            }

            function Je(t, e, n) {
                t.c = n ? rn(e, !0) : e
            }

            function Ze(t, e) {
                if (e) {
                    if (e = Number(e), isNaN(e) || e < 0) throw Error("Bad port number " + e);
                    t.h = e
                } else t.h = null
            }

            function tn(t, e, n) {
                var i, r;
                e instanceof dn ? (t.b = e, i = t.b, (r = t.a) && !i.f && (pn(i), i.c = null, i.a.forEach((function(t, e) {
                    var n = e.toLowerCase();
                    e != n && (fn(this, e), vn(this, n, t))
                }), i)), i.f = r) : (n || (e = on(e, hn)), t.b = new dn(e, t.a))
            }

            function en(t, e, n) {
                t.b.set(e, n)
            }

            function nn(t) {
                return en(t, "zx", Math.floor(2147483648 * Math.random()).toString(36) + Math.abs(Math.floor(2147483648 * Math.random()) ^ U()).toString(36)), t
            }

            function rn(t, e) {
                return t ? e ? decodeURI(t.replace(/%25/g, "%2525")) : decodeURIComponent(t) : ""
            }

            function on(t, e, n) {
                return "string" == typeof t ? (t = encodeURI(t).replace(e, sn), n && (t = t.replace(/%25([0-9a-fA-F]{2})/g, "%$1")), t) : null
            }

            function sn(t) {
                return "%" + ((t = t.charCodeAt(0)) >> 4 & 15).toString(16) + (15 & t).toString(16)
            }
            Ye.prototype.toString = function() {
                var t = [],
                    e = this.f;
                e && t.push(on(e, an, !0), ":");
                var n = this.c;
                return !n && "file" != e || (t.push("//"), (e = this.j) && t.push(on(e, an, !0), "@"), t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g, "%$1")), null != (n = this.h) && t.push(":", String(n))), (n = this.g) && (this.c && "/" != n.charAt(0) && t.push("/"), t.push(on(n, "/" == n.charAt(0) ? ln : un, !0))), (n = this.b.toString()) && t.push("?", n), (n = this.i) && t.push("#", on(n, cn)), t.join("")
            };
            var an = /[#\/\?@]/g,
                un = /[#\?:]/g,
                ln = /[#\?]/g,
                hn = /[#\?@]/g,
                cn = /#/g;

            function dn(t, e) {
                this.b = this.a = null, this.c = t || null, this.f = !!e
            }

            function pn(t) {
                t.a || (t.a = new ze, t.b = 0, t.c && function(t, e) {
                    if (t) {
                        t = t.split("&");
                        for (var n = 0; n < t.length; n++) {
                            var i = t[n].indexOf("="),
                                r = null;
                            if (0 <= i) {
                                var o = t[n].substring(0, i);
                                r = t[n].substring(i + 1)
                            } else o = t[n];
                            e(o, r ? decodeURIComponent(r.replace(/\+/g, " ")) : "")
                        }
                    }
                }(t.c, (function(e, n) {
                    t.add(decodeURIComponent(e.replace(/\+/g, " ")), n)
                })))
            }

            function fn(t, e) {
                pn(t), e = mn(t, e), Ke(t.a.b, e) && (t.c = null, t.b -= t.a.get(e).length, Ke((t = t.a).b, e) && (delete t.b[e], t.c--, t.a.length > 2 * t.c && $e(t)))
            }

            function gn(t, e) {
                return pn(t), e = mn(t, e), Ke(t.a.b, e)
            }

            function vn(t, e, n) {
                fn(t, e), 0 < n.length && (t.c = null, t.a.set(mn(t, e), B(n)), t.b += n.length)
            }

            function mn(t, e) {
                return e = String(e), t.f && (e = e.toLowerCase()), e
            }

            function yn(t, e) {
                this.b = t, this.a = e
            }

            function _n(t) {
                this.g = t || bn, t = S.PerformanceNavigationTiming ? 0 < (t = S.performance.getEntriesByType("navigation")).length && ("hq" == t[0].nextHopProtocol || "h2" == t[0].nextHopProtocol) : !!(S.ca && S.ca.ua && S.ca.ua() && S.ca.ua().mb), this.f = t ? this.g : 1, this.a = null, 1 < this.f && (this.a = new Set), this.b = null, this.c = []
            }(T = dn.prototype).add = function(t, e) {
                pn(this), this.c = null, t = mn(this, t);
                var n = this.a.get(t);
                return n || this.a.set(t, n = []), n.push(e), this.b += 1, this
            }, T.forEach = function(t, e) {
                pn(this), this.a.forEach((function(n, i) {
                    W(n, (function(n) {
                        t.call(e, n, i, this)
                    }), this)
                }), this)
            }, T.K = function() {
                pn(this);
                for (var t = this.a.I(), e = this.a.K(), n = [], i = 0; i < e.length; i++)
                    for (var r = t[i], o = 0; o < r.length; o++) n.push(e[i]);
                return n
            }, T.I = function(t) {
                pn(this);
                var e = [];
                if ("string" == typeof t) gn(this, t) && (e = V(e, this.a.get(mn(this, t))));
                else {
                    t = this.a.I();
                    for (var n = 0; n < t.length; n++) e = V(e, t[n])
                }
                return e
            }, T.set = function(t, e) {
                return pn(this), this.c = null, gn(this, t = mn(this, t)) && (this.b -= this.a.get(t).length), this.a.set(t, [e]), this.b += 1, this
            }, T.get = function(t, e) {
                return t && 0 < (t = this.I(t)).length ? String(t[0]) : e
            }, T.toString = function() {
                if (this.c) return this.c;
                if (!this.a) return "";
                for (var t = [], e = this.a.K(), n = 0; n < e.length; n++) {
                    var i = e[n],
                        r = encodeURIComponent(String(i));
                    i = this.I(i);
                    for (var o = 0; o < i.length; o++) {
                        var s = r;
                        "" !== i[o] && (s += "=" + encodeURIComponent(String(i[o]))), t.push(s)
                    }
                }
                return this.c = t.join("&")
            };
            var bn = 10;

            function wn(t) {
                return t.b || t.a && t.a.size >= t.f
            }

            function En(t) {
                return t.b ? 1 : t.a ? t.a.size : 0
            }

            function In(t, e) {
                return t.b ? t.b == e : t.a && t.a.has(e)
            }

            function Tn(t, e) {
                t.a ? t.a.add(e) : t.b = e
            }

            function Cn(t, e) {
                t.b && t.b == e ? t.b = null : t.a && t.a.has(e) && t.a.delete(e)
            }

            function kn(t) {
                var e, n;
                if (null != t.b) return t.c.concat(t.b.i);
                if (null == t.a || 0 === t.a.size) return B(t.c);
                var i = t.c;
                try {
                    for (var r = I(t.a.values()), o = r.next(); !o.done; o = r.next()) {
                        var s = o.value;
                        i = i.concat(s.i)
                    }
                } catch (t) {
                    e = {
                        error: t
                    }
                } finally {
                    try {
                        o && !o.done && (n = r.return) && n.call(r)
                    } finally {
                        if (e) throw e.error
                    }
                }
                return i
            }

            function Sn() {}

            function xn() {
                this.a = new Sn
            }

            function Dn(t, e, n) {
                var i = n || "";
                try {
                    Be(t, (function(t, n) {
                        var r = t;
                        A(t) && (r = zt(t)), e.push(i + n + "=" + encodeURIComponent(r))
                    }))
                } catch (t) {
                    throw e.push(i + "type=" + encodeURIComponent("_badmap")), t
                }
            }

            function Nn(t, e, n, i, r) {
                try {
                    e.onload = null, e.onerror = null, e.onabort = null, e.ontimeout = null, r(i)
                } catch (t) {}
            }
            _n.prototype.cancel = function() {
                var t, e;
                if (this.c = kn(this), this.b) this.b.cancel(), this.b = null;
                else if (this.a && 0 !== this.a.size) {
                    try {
                        for (var n = I(this.a.values()), i = n.next(); !i.done; i = n.next()) i.value.cancel()
                    } catch (e) {
                        t = {
                            error: e
                        }
                    } finally {
                        try {
                            i && !i.done && (e = n.return) && e.call(n)
                        } finally {
                            if (t) throw t.error
                        }
                    }
                    this.a.clear()
                }
            }, Sn.prototype.stringify = function(t) {
                return S.JSON.stringify(t, void 0)
            }, Sn.prototype.parse = function(t) {
                return S.JSON.parse(t, void 0)
            };
            var An = S.JSON.parse;

            function Pn(t) {
                Vt.call(this), this.headers = new ze, this.G = t || null, this.b = !1, this.s = this.a = null, this.D = "", this.h = 0, this.f = "", this.g = this.w = this.l = this.v = !1, this.o = 0, this.m = null, this.H = On, this.B = this.F = !1
            }
            j(Pn, Vt);
            var On = "",
                Rn = /^https?$/i,
                Ln = ["POST", "PUT"];

            function Mn(t) {
                return "content-type" == t.toLowerCase()
            }

            function Fn(t, e) {
                t.b = !1, t.a && (t.g = !0, t.a.abort(), t.g = !1), t.f = e, t.h = 5, Un(t), Hn(t)
            }

            function Un(t) {
                t.v || (t.v = !0, t.dispatchEvent("complete"), t.dispatchEvent("error"))
            }

            function jn(t) {
                if (t.b && void 0 !== k && (!t.s[1] || 4 != Wn(t) || 2 != t.S()))
                    if (t.l && 4 == Wn(t)) re(t.va, 0, t);
                    else if (t.dispatchEvent("readystatechange"), 4 == Wn(t)) {
                    t.b = !1;
                    try {
                        var e, n = t.S();
                        t: switch (n) {
                            case 200:
                            case 201:
                            case 202:
                            case 204:
                            case 206:
                            case 304:
                            case 1223:
                                var i = !0;
                                break t;
                            default:
                                i = !1
                        }
                        if (!(e = i)) {
                            var r;
                            if (r = 0 === n) {
                                var o = String(t.D).match(Ge)[1] || null;
                                if (!o && S.self && S.self.location) {
                                    var s = S.self.location.protocol;
                                    o = s.substr(0, s.length - 1)
                                }
                                r = !Rn.test(o ? o.toLowerCase() : "")
                            }
                            e = r
                        }
                        if (e) t.dispatchEvent("complete"), t.dispatchEvent("success");
                        else {
                            t.h = 6;
                            try {
                                var a = 2 < Wn(t) ? t.a.statusText : ""
                            } catch (t) {
                                a = ""
                            }
                            t.f = a + " [" + t.S() + "]", Un(t)
                        }
                    } finally {
                        Hn(t)
                    }
                }
            }

            function Hn(t, e) {
                if (t.a) {
                    qn(t);
                    var n = t.a,
                        i = t.s[0] ? x : null;
                    t.a = null, t.s = null, e || t.dispatchEvent("ready");
                    try {
                        n.onreadystatechange = i
                    } catch (t) {}
                }
            }

            function qn(t) {
                t.a && t.B && (t.a.ontimeout = null), t.m && (S.clearTimeout(t.m), t.m = null)
            }

            function Wn(t) {
                return t.a ? t.a.readyState : 0
            }

            function Vn(t, e, n) {
                t: {
                    for (i in n) {
                        var i = !1;
                        break t
                    }
                    i = !0
                }
                var r;i || (r = "", J(n, (function(t, e) {
                    r += e, r += ":", r += t, r += "\r\n"
                })), n = r, "string" == typeof t ? null != n && encodeURIComponent(String(n)) : en(t, e, n))
            }

            function Bn(t, e, n) {
                return n && n.internalChannelParams && n.internalChannelParams[t] || e
            }

            function zn(t) {
                this.f = [], this.R = this.ea = this.v = this.P = this.a = this.ha = this.s = this.N = this.h = this.F = this.j = null, this.Fa = this.H = 0, this.Ca = Bn("failFast", !1, t), this.U = this.l = this.i = this.g = this.c = null, this.W = !0, this.A = this.ia = this.G = -1, this.J = this.m = this.o = 0, this.Ba = Bn("baseRetryDelayMs", 5e3, t), this.Ga = Bn("retryDelaySeedMs", 1e4, t), this.Da = Bn("forwardChannelMaxRetries", 2, t), this.ga = Bn("forwardChannelRequestTimeoutMs", 2e4, t), this.Ea = t && t.nb || void 0, this.D = void 0, this.w = t && t.supportsCrossDomainXhr || !1, this.B = "", this.b = new _n(t && t.concurrentRequestLimit), this.ja = new xn, this.fa = t && t.fastHandshake || !1, t && t.forceLongPolling && (this.W = !1), this.O = void 0
            }

            function $n(t) {
                if (Kn(t), 3 == t.u) {
                    var e = t.H++,
                        n = Qe(t.v);
                    en(n, "SID", t.B), en(n, "RID", e), en(n, "TYPE", "terminate"), Xn(t, n), (e = new Ne(t, e, void 0)).B = 2, e.f = nn(Qe(n)), n = !1, S.navigator && S.navigator.sendBeacon && (n = S.navigator.sendBeacon(e.f.toString(), "")), !n && S.Image && ((new Image).src = e.f, n = !0), n || (e.a = ai(e.g, null), e.a.$(e.f)), e.s = U(), Ue(e)
                }
                oi(t)
            }

            function Kn(t) {
                t.a && (t.a.cancel(), t.a = null), t.i && (S.clearTimeout(t.i), t.i = null), ei(t), t.b.cancel(), t.g && ("number" == typeof t.g && S.clearTimeout(t.g), t.g = null)
            }

            function Gn(t, e) {
                t.f.push(new yn(t.Fa++, e)), 3 == t.u && Yn(t)
            }

            function Yn(t) {
                wn(t.b) || t.g || (t.g = !0, Jt(t.xa, t), t.o = 0)
            }

            function Qn(t, e) {
                var n;
                n = e ? e.W : t.H++;
                var i = Qe(t.v);
                en(i, "SID", t.B), en(i, "RID", n), en(i, "AID", t.G), Xn(t, i), t.h && t.j && Vn(i, t.h, t.j), n = new Ne(t, n, t.o + 1), null === t.h && (n.m = t.j), e && (t.f = e.i.concat(t.f)), e = Jn(t, n, 1e3), n.setTimeout(Math.round(.5 * t.ga) + Math.round(.5 * t.ga * Math.random())), Tn(t.b, n), Re(n, i, e)
            }

            function Xn(t, e) {
                t.c && Be({}, (function(t, n) {
                    en(e, n, t)
                }))
            }

            function Jn(t, e, n) {
                n = Math.min(t.f.length, n);
                var i = t.c ? M(t.c.Ha, t.c, t) : null;
                t: for (var r = t.f, o = -1;;) {
                    var s = ["count=" + n]; - 1 == o ? 0 < n ? (o = r[0].b, s.push("ofs=" + o)) : o = 0 : s.push("ofs=" + o);
                    for (var a = !0, u = 0; u < n; u++) {
                        var l = r[u].b,
                            h = r[u].a;
                        if ((l -= o) < 0) o = Math.max(0, r[u].b - 100), a = !1;
                        else try {
                            Dn(h, s, "req" + l + "_")
                        } catch (t) {
                            i && i(h)
                        }
                    }
                    if (a) {
                        i = s.join("&");
                        break t
                    }
                }
                return t = t.f.splice(0, n), e.i = t, i
            }

            function Zn(t) {
                t.a || t.i || (t.J = 1, Jt(t.wa, t), t.m = 0)
            }

            function ti(t) {
                return !(t.a || t.i || 3 <= t.m) && (t.J++, t.i = _e(M(t.wa, t), ii(t, t.m)), t.m++, 1)
            }

            function ei(t) {
                null != t.l && (S.clearTimeout(t.l), t.l = null)
            }

            function ni(t, e) {
                var n = null;
                if (t.a == e) {
                    ei(t), t.a = null;
                    var i = 2
                } else {
                    if (!In(t.b, e)) return;
                    n = e.i, Cn(t.b, e), i = 1
                }
                if (t.A = e.H, 0 != t.u)
                    if (e.b)
                        if (1 == i) {
                            n = e.j ? e.j.length : 0, e = U() - e.s;
                            var r = t.o;
                            (i = pe()).dispatchEvent(new ye(i)), Yn(t)
                        } else Zn(t);
                else if (3 == (r = e.c) || 0 == r && 0 < t.A || !(1 == i && function(t, e) {
                        if (!(En(t.b) >= t.b.f - (t.g ? 1 : 0))) {
                            if (t.g) return t.f = e.i.concat(t.f), 1;
                            if (!(1 == t.u || 2 == t.u || t.o >= (t.Ca ? 0 : t.Da))) return t.g = _e(M(t.xa, t, e), ii(t, t.o)), t.o++, 1
                        }
                    }(t, e) || 2 == i && ti(t))) switch (n && 0 < n.length && (e = t.b, e.c = e.c.concat(n)), r) {
                    case 1:
                        ri(t, 5);
                        break;
                    case 4:
                        ri(t, 10);
                        break;
                    case 3:
                        ri(t, 6);
                        break;
                    default:
                        ri(t, 2)
                }
            }

            function ii(t, e) {
                var n = t.Ba + Math.floor(Math.random() * t.Ga);
                return t.c || (n *= 2), n * e
            }

            function ri(t, e) {
                if (2 == e) {
                    var n = null;
                    t.c && (n = null);
                    var i = M(t.Ta, t);
                    n || (n = new Ye("//www.google.com/images/cleardot.gif"), S.location && "http" == S.location.protocol || Xe(n, "https"), nn(n)),
                        function(t, e) {
                            var n = new ce;
                            if (S.Image) {
                                var i = new Image;
                                i.onload = F(Nn, n, i, "TestLoadImage: loaded", !0, e), i.onerror = F(Nn, n, i, "TestLoadImage: error", !1, e), i.onabort = F(Nn, n, i, "TestLoadImage: abort", !1, e), i.ontimeout = F(Nn, n, i, "TestLoadImage: timeout", !1, e), S.setTimeout((function() {
                                    i.ontimeout && i.ontimeout()
                                }), 1e4), i.src = t
                            } else e(!1)
                        }(n.toString(), i)
                } else me();
                t.u = 0, t.c && t.c.la(e), oi(t), Kn(t)
            }

            function oi(t) {
                t.u = 0, t.A = -1, t.c && (0 == kn(t.b).length && 0 == t.f.length || (t.b.c.length = 0, B(t.f), t.f.length = 0), t.c.ka())
            }

            function si(t, e, n) {
                var i, r, o, s, a, u, l = (i = n) instanceof Ye ? Qe(i) : new Ye(i, void 0);
                if ("" != l.c) e && Je(l, e + "." + l.c), Ze(l, l.h);
                else {
                    var h = S.location;
                    r = h.protocol, o = e ? e + "." + h.hostname : h.hostname, s = +h.port, a = n, u = new Ye(null, void 0), r && Xe(u, r), o && Je(u, o), s && Ze(u, s), a && (u.g = a), l = u
                }
                return t.N && J(t.N, (function(t, e) {
                    en(l, e, t)
                })), e = t.s, n = t.ha, e && n && en(l, e, n), en(l, "VER", t.oa), Xn(t, l), l
            }

            function ai(t, e) {
                if (e && !t.w) throw Error("Can't create secondary domain capable XhrIo object.");
                return (e = new Pn(t.Ea)).F = t.w, e
            }

            function ui() {}

            function li() {
                if (st && !(10 <= Number(yt))) throw Error("Environmental error: no available transport.")
            }

            function hi(t, e) {
                Vt.call(this), this.a = new zn(e), this.l = t, this.b = e && e.messageUrlParams || null, t = e && e.messageHeaders || null, e && e.clientProtocolHeaderRequired && (t ? t["X-Client-Protocol"] = "webchannel" : t = {
                    "X-Client-Protocol": "webchannel"
                }), this.a.j = t, t = e && e.initMessageHeaders || null, e && e.messageContentType && (t ? t["X-WebChannel-Content-Type"] = e.messageContentType : t = {
                    "X-WebChannel-Content-Type": e.messageContentType
                }), e && e.pa && (t ? t["X-WebChannel-Client-Profile"] = e.pa : t = {
                    "X-WebChannel-Client-Profile": e.pa
                }), this.a.F = t, (t = e && e.httpHeadersOverwriteParam) && !z(t) && (this.a.h = t), this.h = e && e.supportsCrossDomainXhr || !1, this.g = e && e.sendRawJson || !1, (e = e && e.httpSessionIdParam) && !z(e) && (this.a.s = e, null !== (t = this.b) && e in t && e in (t = this.b) && delete t[e]), this.f = new pi(this)
            }

            function ci(t) {
                Se.call(this);
                var e = t.__sm__;
                if (e) {
                    t: {
                        for (var n in e) {
                            t = n;
                            break t
                        }
                        t = void 0
                    }(this.c = t) ? (t = this.c, this.data = null !== e && t in e ? e[t] : void 0) : this.data = e
                }
                else this.data = t
            }

            function di() {
                xe.call(this), this.status = 1
            }

            function pi(t) {
                this.a = t
            }(T = Pn.prototype).$ = function(t, e, n, i) {
                if (this.a) throw Error("[goog.net.XhrIo] Object is active with another request=" + this.D + "; newUri=" + t);
                e = e ? e.toUpperCase() : "GET", this.D = t, this.f = "", this.h = 0, this.v = !1, this.b = !0, this.a = new XMLHttpRequest, this.s = this.G ? Ie(this.G) : Ie(Ce), this.a.onreadystatechange = M(this.va, this);
                try {
                    this.w = !0, this.a.open(e, String(t), !0), this.w = !1
                } catch (t) {
                    return void Fn(this, t)
                }
                t = n || "";
                var r, o = new ze(this.headers);
                i && Be(i, (function(t, e) {
                    o.set(e, t)
                })), i = function(t) {
                    t: {
                        for (var e = Mn, n = t.length, i = "string" == typeof t ? t.split("") : t, r = 0; r < n; r++)
                            if (r in i && e.call(void 0, i[r], r, t)) {
                                e = r;
                                break t
                            } e = -1
                    }
                    return e < 0 ? null : "string" == typeof t ? t.charAt(e) : t[e]
                }(o.K()), n = S.FormData && t instanceof S.FormData, 0 <= q(Ln, e) && !i && !n && o.set("Content-Type", "application/x-www-form-urlencoded;charset=utf-8"), o.forEach((function(t, e) {
                    this.a.setRequestHeader(e, t)
                }), this), this.H && (this.a.responseType = this.H), "withCredentials" in this.a && this.a.withCredentials !== this.F && (this.a.withCredentials = this.F);
                try {
                    qn(this), 0 < this.o && ((this.B = (r = this.a, st && mt(9) && "number" == typeof r.timeout && void 0 !== r.ontimeout)) ? (this.a.timeout = this.o, this.a.ontimeout = M(this.ta, this)) : this.m = re(this.ta, this.o, this)), this.l = !0, this.a.send(t), this.l = !1
                } catch (t) {
                    Fn(this, t)
                }
            }, T.ta = function() {
                void 0 !== k && this.a && (this.f = "Timed out after " + this.o + "ms, aborting", this.h = 8, this.dispatchEvent("timeout"), this.abort(8))
            }, T.abort = function(t) {
                this.a && this.b && (this.b = !1, this.g = !0, this.a.abort(), this.g = !1, this.h = t || 7, this.dispatchEvent("complete"), this.dispatchEvent("abort"), Hn(this))
            }, T.C = function() {
                this.a && (this.b && (this.b = !1, this.g = !0, this.a.abort(), this.g = !1), Hn(this, !0)), Pn.M.C.call(this)
            }, T.va = function() {
                this.j || (this.w || this.l || this.g ? jn(this) : this.Oa())
            }, T.Oa = function() {
                jn(this)
            }, T.S = function() {
                try {
                    return 2 < Wn(this) ? this.a.status : -1
                } catch (t) {
                    return -1
                }
            }, T.Y = function() {
                try {
                    return this.a ? this.a.responseText : ""
                } catch (t) {
                    return ""
                }
            }, T.Ja = function(t) {
                if (this.a) {
                    var e = this.a.responseText;
                    return t && 0 == e.indexOf(t) && (e = e.substring(t.length)), An(e)
                }
            }, T.qa = function() {
                return this.h
            }, T.Ma = function() {
                return "string" == typeof this.f ? this.f : String(this.f)
            }, (T = zn.prototype).oa = 8, T.u = 1, T.xa = function(t) {
                if (this.g)
                    if (this.g = null, 1 == this.u) {
                        if (!t) {
                            this.H = Math.floor(1e5 * Math.random());
                            var e, n = new Ne(this, t = this.H++, void 0),
                                i = this.j;
                            if (this.F && (i ? et(i = Z(i), this.F) : i = this.F), null === this.h && (n.m = i), this.fa) t: {
                                for (var r = e = 0; r < this.f.length; r++) {
                                    var o = this.f[r];
                                    if (void 0 === (o = "__data__" in o.a && "string" == typeof(o = o.a.__data__) ? o.length : void 0)) break;
                                    if (4096 < (e += o)) {
                                        e = r;
                                        break t
                                    }
                                    if (4096 === e || r === this.f.length - 1) {
                                        e = r + 1;
                                        break t
                                    }
                                }
                                e = 1e3
                            }
                            else e = 1e3;
                            e = Jn(this, n, e), en(r = Qe(this.v), "RID", t), en(r, "CVER", 22), this.s && en(r, "X-HTTP-Session-Id", this.s), Xn(this, r), this.h && i && Vn(r, this.h, i), Tn(this.b, n), this.fa ? (en(r, "$req", e), en(r, "SID", "null"), n.R = !0, Re(n, r, null)) : Re(n, r, e), this.u = 2
                        }
                    } else 3 == this.u && (t ? Qn(this, t) : 0 == this.f.length || wn(this.b) || Qn(this))
            }, T.wa = function() {
                this.i = null, this.a = new Ne(this, "rpc", this.J), null === this.h && (this.a.m = this.j), this.a.J = 0;
                var t = Qe(this.ea);
                en(t, "RID", "rpc"), en(t, "SID", this.B), en(t, "CI", this.U ? "0" : "1"), en(t, "AID", this.G), Xn(this, t), en(t, "TYPE", "xmlhttp"), this.h && this.j && Vn(t, this.h, this.j), this.D && this.a.setTimeout(this.D);
                var e = this.a,
                    n = this.R;
                e.B = 1, e.f = nn(Qe(t)), e.j = null, e.F = !0, Le(e, n)
            }, T.Na = function() {
                null != this.l && (this.l = null, this.a.cancel(), this.a = null, ti(this), me())
            }, T.Ta = function(t) {
                me()
            }, (T = ui.prototype).na = function() {}, T.ma = function() {}, T.la = function() {}, T.ka = function() {}, T.Ha = function() {}, li.prototype.a = function(t, e) {
                return new hi(t, e)
            }, j(hi, Vt), (T = hi.prototype).addEventListener = function(t, e, n, i) {
                hi.M.addEventListener.call(this, t, e, n, i)
            }, T.removeEventListener = function(t, e, n, i) {
                hi.M.removeEventListener.call(this, t, e, n, i)
            }, T.Ka = function() {
                this.a.c = this.f, this.h && (this.a.w = !0);
                var t = this.a,
                    e = this.l,
                    n = this.b || void 0;
                me(), t.P = e, t.N = n || {}, t.U = t.W, t.v = si(t, null, t.P), Yn(t)
            }, T.close = function() {
                $n(this.a)
            }, T.La = function(t) {
                if ("string" == typeof t) {
                    var e = {};
                    e.__data__ = t, Gn(this.a, e)
                } else this.g ? ((e = {}).__data__ = zt(t), Gn(this.a, e)) : Gn(this.a, t)
            }, T.C = function() {
                this.a.c = null, delete this.f, $n(this.a), delete this.a, hi.M.C.call(this)
            }, j(ci, Se), j(di, xe), j(pi, ui), pi.prototype.na = function() {
                this.a.dispatchEvent("a")
            }, pi.prototype.ma = function(t) {
                this.a.dispatchEvent(new ci(t))
            }, pi.prototype.la = function(t) {
                this.a.dispatchEvent(new di)
            }, pi.prototype.ka = function() {
                this.a.dispatchEvent("b")
            }, li.prototype.createWebChannel = li.prototype.a, hi.prototype.send = hi.prototype.La, hi.prototype.open = hi.prototype.Ka, hi.prototype.close = hi.prototype.close, be.NO_ERROR = 0, be.TIMEOUT = 8, be.HTTP_ERROR = 6, we.COMPLETE = "complete", (Te.EventType = ke).OPEN = "a", ke.CLOSE = "b", ke.ERROR = "c", ke.MESSAGE = "d", Vt.prototype.listen = Vt.prototype.ra, Pn.prototype.listenOnce = Pn.prototype.sa, Pn.prototype.getLastError = Pn.prototype.Ma, Pn.prototype.getLastErrorCode = Pn.prototype.qa, Pn.prototype.getStatus = Pn.prototype.S, Pn.prototype.getResponseJson = Pn.prototype.Ja, Pn.prototype.getResponseText = Pn.prototype.Y, Pn.prototype.send = Pn.prototype.$;
            var fi = {
                    createWebChannelTransport: function() {
                        return new li
                    },
                    ErrorCode: be,
                    EventType: we,
                    WebChannel: Te,
                    XhrIo: Pn
                },
                gi = fi.createWebChannelTransport,
                vi = fi.ErrorCode,
                mi = fi.EventType,
                yi = fi.WebChannel,
                _i = fi.XhrIo,
                bi = (wi.prototype.setInstantiationMode = function(t) {
                    return this.instantiationMode = t, this
                }, wi.prototype.setMultipleInstances = function(t) {
                    return this.multipleInstances = t, this
                }, wi.prototype.setServiceProps = function(t) {
                    return this.serviceProps = t, this
                }, wi);

            function wi(t, e, n) {
                this.name = t, this.instanceFactory = e, this.type = n, this.multipleInstances = !1, this.serviceProps = {}, this.instantiationMode = "LAZY"
            }
            var Ei = new f("@firebase/firestore");

            function Ii() {
                return Ei.logLevel
            }

            function Ti(t) {
                for (var e = [], i = 1; i < arguments.length; i++) e[i - 1] = arguments[i];
                if (Ei.logLevel <= n.DEBUG) {
                    var r = e.map(ki);
                    Ei.debug.apply(Ei, u(["Firestore (7.17.1): " + t], r))
                }
            }

            function Ci(t) {
                for (var e = [], i = 1; i < arguments.length; i++) e[i - 1] = arguments[i];
                if (Ei.logLevel <= n.ERROR) {
                    var r = e.map(ki);
                    Ei.error.apply(Ei, u(["Firestore (7.17.1): " + t], r))
                }
            }

            function ki(t) {
                if ("string" == typeof t) return t;
                try {
                    return JSON.stringify(t)
                } catch (e) {
                    return t
                }
            }

            function Si(t) {
                void 0 === t && (t = "Unexpected state");
                var e = "FIRESTORE (7.17.1) INTERNAL ASSERTION FAILED: " + t;
                throw Ci(e), new Error(e)
            }

            function xi(t) {
                t || Si()
            }

            function Di(t) {
                var e = "undefined" != typeof self && (self.crypto || self.msCrypto),
                    n = new Uint8Array(t);
                if (e) e.getRandomValues(n);
                else
                    for (var i = 0; i < t; i++) n[i] = Math.floor(256 * Math.random());
                return n
            }
            var Ni = (Ai.t = function() {
                for (var t = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789", e = Math.floor(256 / t.length) * t.length, n = ""; n.length < 20;)
                    for (var i = Di(40), r = 0; r < i.length; ++r) n.length < 20 && i[r] < e && (n += t.charAt(i[r] % t.length));
                return n
            }, Ai);

            function Ai() {}

            function Pi(t, e) {
                return t < e ? -1 : e < t ? 1 : 0
            }

            function Oi(t, e, n) {
                return t.length === e.length && t.every((function(t, i) {
                    return n(t, e[i])
                }))
            }

            function Ri(t) {
                return t + "\0"
            }

            function Li(t, e, n, i, r) {
                this.s = t, this.persistenceKey = e, this.host = n, this.ssl = i, this.forceLongPolling = r
            }
            var Mi = (Object.defineProperty(Fi.prototype, "i", {
                get: function() {
                    return "(default)" === this.database
                },
                enumerable: !1,
                configurable: !0
            }), Fi.prototype.isEqual = function(t) {
                return t instanceof Fi && t.projectId === this.projectId && t.database === this.database
            }, Fi.prototype.o = function(t) {
                return Pi(this.projectId, t.projectId) || Pi(this.database, t.database)
            }, Fi);

            function Fi(t, e) {
                this.projectId = t, this.database = e || "(default)"
            }

            function Ui(t) {
                var e = 0;
                for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && e++;
                return e
            }

            function ji(t, e) {
                for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && e(n, t[n])
            }

            function Hi(t) {
                for (var e in t)
                    if (Object.prototype.hasOwnProperty.call(t, e)) return !1;
                return !0
            }
            var qi, Wi, Vi, Bi = (ar.prototype.get = function(t) {
                    var e = this.h(t),
                        n = this.l[e];
                    if (void 0 !== n)
                        for (var i = 0, r = n; i < r.length; i++) {
                            var o = r[i],
                                s = o[0],
                                a = o[1];
                            if (this.u(s, t)) return a
                        }
                }, ar.prototype.has = function(t) {
                    return void 0 !== this.get(t)
                }, ar.prototype.set = function(t, e) {
                    var n = this.h(t),
                        i = this.l[n];
                    if (void 0 !== i) {
                        for (var r = 0; r < i.length; r++)
                            if (this.u(i[r][0], t)) return void(i[r] = [t, e]);
                        i.push([t, e])
                    } else this.l[n] = [
                        [t, e]
                    ]
                }, ar.prototype.delete = function(t) {
                    var e = this.h(t),
                        n = this.l[e];
                    if (void 0 === n) return !1;
                    for (var i = 0; i < n.length; i++)
                        if (this.u(n[i][0], t)) return 1 === n.length ? delete this.l[e] : n.splice(i, 1), !0;
                    return !1
                }, ar.prototype.forEach = function(t) {
                    ji(this.l, (function(e, n) {
                        for (var i = 0, r = n; i < r.length; i++) {
                            var o = r[i],
                                s = o[0],
                                a = o[1];
                            t(s, a)
                        }
                    }))
                }, ar.prototype._ = function() {
                    return Hi(this.l)
                }, ar),
                zi = {
                    OK: "ok",
                    CANCELLED: "cancelled",
                    UNKNOWN: "unknown",
                    INVALID_ARGUMENT: "invalid-argument",
                    DEADLINE_EXCEEDED: "deadline-exceeded",
                    NOT_FOUND: "not-found",
                    ALREADY_EXISTS: "already-exists",
                    PERMISSION_DENIED: "permission-denied",
                    UNAUTHENTICATED: "unauthenticated",
                    RESOURCE_EXHAUSTED: "resource-exhausted",
                    FAILED_PRECONDITION: "failed-precondition",
                    ABORTED: "aborted",
                    OUT_OF_RANGE: "out-of-range",
                    UNIMPLEMENTED: "unimplemented",
                    INTERNAL: "internal",
                    UNAVAILABLE: "unavailable",
                    DATA_LOSS: "data-loss"
                },
                $i = (o(sr, Vi = Error), sr),
                Ki = (or.now = function() {
                    return or.fromMillis(Date.now())
                }, or.fromDate = function(t) {
                    return or.fromMillis(t.getTime())
                }, or.fromMillis = function(t) {
                    var e = Math.floor(t / 1e3);
                    return new or(e, 1e6 * (t - 1e3 * e))
                }, or.prototype.toDate = function() {
                    return new Date(this.toMillis())
                }, or.prototype.toMillis = function() {
                    return 1e3 * this.seconds + this.nanoseconds / 1e6
                }, or.prototype.T = function(t) {
                    return this.seconds === t.seconds ? Pi(this.nanoseconds, t.nanoseconds) : Pi(this.seconds, t.seconds)
                }, or.prototype.isEqual = function(t) {
                    return t.seconds === this.seconds && t.nanoseconds === this.nanoseconds
                }, or.prototype.toString = function() {
                    return "Timestamp(seconds=" + this.seconds + ", nanoseconds=" + this.nanoseconds + ")"
                }, or.prototype.valueOf = function() {
                    var t = this.seconds - -62135596800;
                    return String(t).padStart(12, "0") + "." + String(this.nanoseconds).padStart(9, "0")
                }, or),
                Gi = (rr.I = function(t) {
                    return new rr(t)
                }, rr.min = function() {
                    return new rr(new Ki(0, 0))
                }, rr.prototype.o = function(t) {
                    return this.timestamp.T(t.timestamp)
                }, rr.prototype.isEqual = function(t) {
                    return this.timestamp.isEqual(t.timestamp)
                }, rr.prototype.m = function() {
                    return 1e6 * this.timestamp.seconds + this.timestamp.nanoseconds / 1e3
                }, rr.prototype.toString = function() {
                    return "SnapshotVersion(" + this.timestamp.toString() + ")"
                }, rr.prototype.A = function() {
                    return this.timestamp
                }, rr),
                Yi = (Object.defineProperty(ir.prototype, "length", {
                    get: function() {
                        return this.R
                    },
                    enumerable: !1,
                    configurable: !0
                }), ir.prototype.isEqual = function(t) {
                    return 0 === ir.P(this, t)
                }, ir.prototype.child = function(t) {
                    var e = this.segments.slice(this.offset, this.limit());
                    return t instanceof ir ? t.forEach((function(t) {
                        e.push(t)
                    })) : e.push(t), this.g(e)
                }, ir.prototype.limit = function() {
                    return this.offset + this.length
                }, ir.prototype.V = function(t) {
                    return t = void 0 === t ? 1 : t, this.g(this.segments, this.offset + t, this.length - t)
                }, ir.prototype.p = function() {
                    return this.g(this.segments, this.offset, this.length - 1)
                }, ir.prototype.v = function() {
                    return this.segments[this.offset]
                }, ir.prototype.S = function() {
                    return this.get(this.length - 1)
                }, ir.prototype.get = function(t) {
                    return this.segments[this.offset + t]
                }, ir.prototype._ = function() {
                    return 0 === this.length
                }, ir.prototype.D = function(t) {
                    if (t.length < this.length) return !1;
                    for (var e = 0; e < this.length; e++)
                        if (this.get(e) !== t.get(e)) return !1;
                    return !0
                }, ir.prototype.C = function(t) {
                    if (this.length + 1 !== t.length) return !1;
                    for (var e = 0; e < this.length; e++)
                        if (this.get(e) !== t.get(e)) return !1;
                    return !0
                }, ir.prototype.forEach = function(t) {
                    for (var e = this.offset, n = this.limit(); e < n; e++) t(this.segments[e])
                }, ir.prototype.F = function() {
                    return this.segments.slice(this.offset, this.limit())
                }, ir.P = function(t, e) {
                    for (var n = Math.min(t.length, e.length), i = 0; i < n; i++) {
                        var r = t.get(i),
                            o = e.get(i);
                        if (r < o) return -1;
                        if (o < r) return 1
                    }
                    return t.length < e.length ? -1 : t.length > e.length ? 1 : 0
                }, ir),
                Qi = (o(nr, Wi = Yi), nr.prototype.g = function(t, e, n) {
                    return new nr(t, e, n)
                }, nr.prototype.$ = function() {
                    return this.F().join("/")
                }, nr.prototype.toString = function() {
                    return this.$()
                }, nr.N = function(t) {
                    if (0 <= t.indexOf("//")) throw new $i(zi.INVALID_ARGUMENT, "Invalid path (" + t + "). Paths must not contain // in them.");
                    return new nr(t.split("/").filter((function(t) {
                        return 0 < t.length
                    })))
                }, nr.k = function() {
                    return new nr([])
                }, nr),
                Xi = /^[_a-zA-Z][_a-zA-Z0-9]*$/,
                Ji = (o(er, qi = Yi), er.prototype.g = function(t, e, n) {
                    return new er(t, e, n)
                }, er.M = function(t) {
                    return Xi.test(t)
                }, er.prototype.$ = function() {
                    return this.F().map((function(t) {
                        return t = t.replace("\\", "\\\\").replace("`", "\\`"), er.M(t) || (t = "`" + t + "`"), t
                    })).join(".")
                }, er.prototype.toString = function() {
                    return this.$()
                }, er.prototype.O = function() {
                    return 1 === this.length && "__name__" === this.get(0)
                }, er.L = function() {
                    return new er(["__name__"])
                }, er.q = function(t) {
                    for (var e = [], n = "", i = 0, r = function() {
                            if (0 === n.length) throw new $i(zi.INVALID_ARGUMENT, "Invalid field path (" + t + "). Paths must not be empty, begin with '.', end with '.', or contain '..'");
                            e.push(n), n = ""
                        }, o = !1; i < t.length;) {
                        var s = t[i];
                        if ("\\" === s) {
                            if (i + 1 === t.length) throw new $i(zi.INVALID_ARGUMENT, "Path has trailing escape character: " + t);
                            var a = t[i + 1];
                            if ("\\" !== a && "." !== a && "`" !== a) throw new $i(zi.INVALID_ARGUMENT, "Path has invalid escape sequence: " + t);
                            n += a, i += 2
                        } else "`" === s ? o = !o : "." !== s || o ? n += s : r(), i++
                    }
                    if (r(), o) throw new $i(zi.INVALID_ARGUMENT, "Unterminated ` in path: " + t);
                    return new er(e)
                }, er.k = function() {
                    return new er([])
                }, er),
                Zi = (tr.B = function(t) {
                    return new tr(Qi.N(t).V(5))
                }, tr.prototype.U = function(t) {
                    return 2 <= this.path.length && this.path.get(this.path.length - 2) === t
                }, tr.prototype.isEqual = function(t) {
                    return null !== t && 0 === Qi.P(this.path, t.path)
                }, tr.prototype.toString = function() {
                    return this.path.toString()
                }, tr.P = function(t, e) {
                    return Qi.P(t.path, e.path)
                }, tr.W = function(t) {
                    return t.length % 2 == 0
                }, tr.j = function(t) {
                    return new tr(new Qi(t.slice()))
                }, tr);

            function tr(t) {
                this.path = t
            }

            function er() {
                return null !== qi && qi.apply(this, arguments) || this
            }

            function nr() {
                return null !== Wi && Wi.apply(this, arguments) || this
            }

            function ir(t, e, n) {
                void 0 === e ? e = 0 : e > t.length && Si(), void 0 === n ? n = t.length - e : n > t.length - e && Si(), this.segments = t, this.offset = e, this.R = n
            }

            function rr(t) {
                this.timestamp = t
            }

            function or(t, e) {
                if (this.seconds = t, (this.nanoseconds = e) < 0) throw new $i(zi.INVALID_ARGUMENT, "Timestamp nanoseconds out of range: " + e);
                if (1e9 <= e) throw new $i(zi.INVALID_ARGUMENT, "Timestamp nanoseconds out of range: " + e);
                if (t < -62135596800) throw new $i(zi.INVALID_ARGUMENT, "Timestamp seconds out of range: " + t);
                if (253402300800 <= t) throw new $i(zi.INVALID_ARGUMENT, "Timestamp seconds out of range: " + t)
            }

            function sr(t, e) {
                var n = this;
                return (n = Vi.call(this, e) || this).code = t, n.message = e, n.name = "FirebaseError", n.toString = function() {
                    return n.name + ": [code=" + n.code + "]: " + n.message
                }, n
            }

            function ar(t, e) {
                this.h = t, this.u = e, this.l = {}
            }

            function ur(t) {
                return null == t
            }

            function lr(t) {
                return -0 === t && 1 / t == -1 / 0
            }

            function hr(t) {
                return "number" == typeof t && Number.isInteger(t) && !lr(t) && t <= Number.MAX_SAFE_INTEGER && t >= Number.MIN_SAFE_INTEGER
            }
            var cr = function(t, e, n, i, r, o, s) {
                void 0 === e && (e = null), void 0 === n && (n = []), void 0 === i && (i = []), void 0 === r && (r = null), void 0 === o && (o = null), void 0 === s && (s = null), this.path = t, this.collectionGroup = e, this.orderBy = n, this.filters = i, this.limit = r, this.startAt = o, this.endAt = s, this.K = null
            };

            function dr(t, e, n, i, r, o, s) {
                return void 0 === e && (e = null), void 0 === n && (n = []), void 0 === i && (i = []), void 0 === r && (r = null), void 0 === o && (o = null), void 0 === s && (s = null), new cr(t, e, n, i, r, o, s)
            }

            function pr(t) {
                var e = t;
                if (null === e.K) {
                    var n = e.path.$();
                    null !== e.collectionGroup && (n += "|cg:" + e.collectionGroup), n += "|f:", n += e.filters.map((function(t) {
                        return (e = t).field.$() + e.op.toString() + bo(e.value);
                        var e
                    })).join(","), n += "|ob:", n += e.orderBy.map((function(t) {
                        return (e = t).field.$() + e.dir;
                        var e
                    })).join(","), ur(e.limit) || (n += "|l:", n += e.limit), e.startAt && (n += "|lb:", n += Ka(e.startAt)), e.endAt && (n += "|ub:", n += Ka(e.endAt)), e.K = n
                }
                return e.K
            }

            function fr(t, e) {
                if (t.limit !== e.limit) return !1;
                if (t.orderBy.length !== e.orderBy.length) return !1;
                for (var n = 0; n < t.orderBy.length; n++)
                    if (i = t.orderBy[n], r = e.orderBy[n], i.dir !== r.dir || !i.field.isEqual(r.field)) return !1;
                var i, r, o, s;
                if (t.filters.length !== e.filters.length) return !1;
                for (var a = 0; a < t.filters.length; a++)
                    if (o = t.filters[a], s = e.filters[a], !(o instanceof Da && s instanceof Da && o.op === s.op && o.field.isEqual(s.field) && vo(o.value, s.value))) return !1;
                return t.collectionGroup === e.collectionGroup && !!t.path.isEqual(e.path) && !!Ya(t.startAt, e.startAt) && Ya(t.endAt, e.endAt)
            }

            function gr(t) {
                return Zi.W(t.path) && null === t.collectionGroup && 0 === t.filters.length
            }
            var vr = (mr.fromBase64String = function(t) {
                return new mr(atob(t))
            }, mr.fromUint8Array = function(t) {
                return new mr(function(t) {
                    for (var e = "", n = 0; n < t.length; ++n) e += String.fromCharCode(t[n]);
                    return e
                }(t))
            }, mr.prototype.toBase64 = function() {
                return t = this.G, btoa(t);
                var t
            }, mr.prototype.toUint8Array = function() {
                return function(t) {
                    for (var e = new Uint8Array(t.length), n = 0; n < t.length; n++) e[n] = t.charCodeAt(n);
                    return e
                }(this.G)
            }, mr.prototype.H = function() {
                return 2 * this.G.length
            }, mr.prototype.o = function(t) {
                return Pi(this.G, t.G)
            }, mr.prototype.isEqual = function(t) {
                return this.G === t.G
            }, mr);

            function mr(t) {
                this.G = t
            }

            function yr(t) {
                this.count = t
            }
            vr.Y = new vr("");
            var _r, br, wr = (Er.prototype.Z = function(t) {
                return new Er(this.target, this.targetId, this.J, t, this.X, this.lastLimboFreeSnapshotVersion, this.resumeToken)
            }, Er.prototype.tt = function(t, e) {
                return new Er(this.target, this.targetId, this.J, this.sequenceNumber, e, this.lastLimboFreeSnapshotVersion, t)
            }, Er.prototype.et = function(t) {
                return new Er(this.target, this.targetId, this.J, this.sequenceNumber, this.X, t, this.resumeToken)
            }, Er);

            function Er(t, e, n, i, r, o, s) {
                void 0 === r && (r = Gi.min()), void 0 === o && (o = Gi.min()), void 0 === s && (s = vr.Y), this.target = t, this.targetId = e, this.J = n, this.sequenceNumber = i, this.X = r, this.lastLimboFreeSnapshotVersion = o, this.resumeToken = s
            }

            function Ir(t) {
                switch (t) {
                    case zi.OK:
                        return Si();
                    case zi.CANCELLED:
                    case zi.UNKNOWN:
                    case zi.DEADLINE_EXCEEDED:
                    case zi.RESOURCE_EXHAUSTED:
                    case zi.INTERNAL:
                    case zi.UNAVAILABLE:
                    case zi.UNAUTHENTICATED:
                        return;
                    case zi.INVALID_ARGUMENT:
                    case zi.NOT_FOUND:
                    case zi.ALREADY_EXISTS:
                    case zi.PERMISSION_DENIED:
                    case zi.FAILED_PRECONDITION:
                    case zi.ABORTED:
                    case zi.OUT_OF_RANGE:
                    case zi.UNIMPLEMENTED:
                    case zi.DATA_LOSS:
                        return 1;
                    default:
                        return Si()
                }
            }

            function Tr(t) {
                if (void 0 === t) return Ci("GRPC error has no .code"), zi.UNKNOWN;
                switch (t) {
                    case _r.OK:
                        return zi.OK;
                    case _r.CANCELLED:
                        return zi.CANCELLED;
                    case _r.UNKNOWN:
                        return zi.UNKNOWN;
                    case _r.DEADLINE_EXCEEDED:
                        return zi.DEADLINE_EXCEEDED;
                    case _r.RESOURCE_EXHAUSTED:
                        return zi.RESOURCE_EXHAUSTED;
                    case _r.INTERNAL:
                        return zi.INTERNAL;
                    case _r.UNAVAILABLE:
                        return zi.UNAVAILABLE;
                    case _r.UNAUTHENTICATED:
                        return zi.UNAUTHENTICATED;
                    case _r.INVALID_ARGUMENT:
                        return zi.INVALID_ARGUMENT;
                    case _r.NOT_FOUND:
                        return zi.NOT_FOUND;
                    case _r.ALREADY_EXISTS:
                        return zi.ALREADY_EXISTS;
                    case _r.PERMISSION_DENIED:
                        return zi.PERMISSION_DENIED;
                    case _r.FAILED_PRECONDITION:
                        return zi.FAILED_PRECONDITION;
                    case _r.ABORTED:
                        return zi.ABORTED;
                    case _r.OUT_OF_RANGE:
                        return zi.OUT_OF_RANGE;
                    case _r.UNIMPLEMENTED:
                        return zi.UNIMPLEMENTED;
                    case _r.DATA_LOSS:
                        return zi.DATA_LOSS;
                    default:
                        return Si()
                }
            }(br = _r = _r || {})[br.OK = 0] = "OK", br[br.CANCELLED = 1] = "CANCELLED", br[br.UNKNOWN = 2] = "UNKNOWN", br[br.INVALID_ARGUMENT = 3] = "INVALID_ARGUMENT", br[br.DEADLINE_EXCEEDED = 4] = "DEADLINE_EXCEEDED", br[br.NOT_FOUND = 5] = "NOT_FOUND", br[br.ALREADY_EXISTS = 6] = "ALREADY_EXISTS", br[br.PERMISSION_DENIED = 7] = "PERMISSION_DENIED", br[br.UNAUTHENTICATED = 16] = "UNAUTHENTICATED", br[br.RESOURCE_EXHAUSTED = 8] = "RESOURCE_EXHAUSTED", br[br.FAILED_PRECONDITION = 9] = "FAILED_PRECONDITION", br[br.ABORTED = 10] = "ABORTED", br[br.OUT_OF_RANGE = 11] = "OUT_OF_RANGE", br[br.UNIMPLEMENTED = 12] = "UNIMPLEMENTED", br[br.INTERNAL = 13] = "INTERNAL", br[br.UNAVAILABLE = 14] = "UNAVAILABLE", br[br.DATA_LOSS = 15] = "DATA_LOSS";
            var Cr = (Nr.prototype.nt = function(t, e) {
                    return new Nr(this.P, this.root.nt(t, e, this.P).copy(null, null, Sr.st, null, null))
                }, Nr.prototype.remove = function(t) {
                    return new Nr(this.P, this.root.remove(t, this.P).copy(null, null, Sr.st, null, null))
                }, Nr.prototype.get = function(t) {
                    for (var e = this.root; !e._();) {
                        var n = this.P(t, e.key);
                        if (0 === n) return e.value;
                        n < 0 ? e = e.left : 0 < n && (e = e.right)
                    }
                    return null
                }, Nr.prototype.indexOf = function(t) {
                    for (var e = 0, n = this.root; !n._();) {
                        var i = this.P(t, n.key);
                        if (0 === i) return e + n.left.size;
                        n = i < 0 ? n.left : (e += n.left.size + 1, n.right)
                    }
                    return -1
                }, Nr.prototype._ = function() {
                    return this.root._()
                }, Object.defineProperty(Nr.prototype, "size", {
                    get: function() {
                        return this.root.size
                    },
                    enumerable: !1,
                    configurable: !0
                }), Nr.prototype.it = function() {
                    return this.root.it()
                }, Nr.prototype.rt = function() {
                    return this.root.rt()
                }, Nr.prototype.ot = function(t) {
                    return this.root.ot(t)
                }, Nr.prototype.forEach = function(t) {
                    this.ot((function(e, n) {
                        return t(e, n), !1
                    }))
                }, Nr.prototype.toString = function() {
                    var t = [];
                    return this.ot((function(e, n) {
                        return t.push(e + ":" + n), !1
                    })), "{" + t.join(", ") + "}"
                }, Nr.prototype.ht = function(t) {
                    return this.root.ht(t)
                }, Nr.prototype.at = function() {
                    return new kr(this.root, null, this.P, !1)
                }, Nr.prototype.ut = function(t) {
                    return new kr(this.root, t, this.P, !1)
                }, Nr.prototype.ct = function() {
                    return new kr(this.root, null, this.P, !0)
                }, Nr.prototype.lt = function(t) {
                    return new kr(this.root, t, this.P, !0)
                }, Nr),
                kr = (Dr.prototype.dt = function() {
                    var t = this.ft.pop(),
                        e = {
                            key: t.key,
                            value: t.value
                        };
                    if (this._t)
                        for (t = t.left; !t._();) this.ft.push(t), t = t.right;
                    else
                        for (t = t.right; !t._();) this.ft.push(t), t = t.left;
                    return e
                }, Dr.prototype.wt = function() {
                    return 0 < this.ft.length
                }, Dr.prototype.Tt = function() {
                    if (0 === this.ft.length) return null;
                    var t = this.ft[this.ft.length - 1];
                    return {
                        key: t.key,
                        value: t.value
                    }
                }, Dr),
                Sr = (xr.prototype.copy = function(t, e, n, i, r) {
                    return new xr(null != t ? t : this.key, null != e ? e : this.value, null != n ? n : this.color, null != i ? i : this.left, null != r ? r : this.right)
                }, xr.prototype._ = function() {
                    return !1
                }, xr.prototype.ot = function(t) {
                    return this.left.ot(t) || t(this.key, this.value) || this.right.ot(t)
                }, xr.prototype.ht = function(t) {
                    return this.right.ht(t) || t(this.key, this.value) || this.left.ht(t)
                }, xr.prototype.min = function() {
                    return this.left._() ? this : this.left.min()
                }, xr.prototype.it = function() {
                    return this.min().key
                }, xr.prototype.rt = function() {
                    return this.right._() ? this.key : this.right.rt()
                }, xr.prototype.nt = function(t, e, n) {
                    var i = this,
                        r = n(t, i.key);
                    return (i = r < 0 ? i.copy(null, null, null, i.left.nt(t, e, n), null) : 0 === r ? i.copy(null, e, null, null, null) : i.copy(null, null, null, null, i.right.nt(t, e, n))).Et()
                }, xr.prototype.It = function() {
                    if (this.left._()) return xr.EMPTY;
                    var t = this;
                    return t.left.At() || t.left.left.At() || (t = t.Rt()), (t = t.copy(null, null, null, t.left.It(), null)).Et()
                }, xr.prototype.remove = function(t, e) {
                    var n, i = this;
                    if (e(t, i.key) < 0) i.left._() || i.left.At() || i.left.left.At() || (i = i.Rt()), i = i.copy(null, null, null, i.left.remove(t, e), null);
                    else {
                        if (i.left.At() && (i = i.Pt()), i.right._() || i.right.At() || i.right.left.At() || (i = i.gt()), 0 === e(t, i.key)) {
                            if (i.right._()) return xr.EMPTY;
                            n = i.right.min(), i = i.copy(n.key, n.value, null, null, i.right.It())
                        }
                        i = i.copy(null, null, null, null, i.right.remove(t, e))
                    }
                    return i.Et()
                }, xr.prototype.At = function() {
                    return this.color
                }, xr.prototype.Et = function() {
                    var t = this;
                    return t.right.At() && !t.left.At() && (t = t.Vt()), t.left.At() && t.left.left.At() && (t = t.Pt()), t.left.At() && t.right.At() && (t = t.yt()), t
                }, xr.prototype.Rt = function() {
                    var t = this.yt();
                    return t.right.left.At() && (t = (t = (t = t.copy(null, null, null, null, t.right.Pt())).Vt()).yt()), t
                }, xr.prototype.gt = function() {
                    var t = this.yt();
                    return t.left.left.At() && (t = (t = t.Pt()).yt()), t
                }, xr.prototype.Vt = function() {
                    var t = this.copy(null, null, xr.RED, null, this.right.left);
                    return this.right.copy(null, null, this.color, t, null)
                }, xr.prototype.Pt = function() {
                    var t = this.copy(null, null, xr.RED, this.left.right, null);
                    return this.left.copy(null, null, this.color, null, t)
                }, xr.prototype.yt = function() {
                    var t = this.left.copy(null, null, !this.left.color, null, null),
                        e = this.right.copy(null, null, !this.right.color, null, null);
                    return this.copy(null, null, !this.color, t, e)
                }, xr.prototype.pt = function() {
                    var t = this.bt();
                    return Math.pow(2, t) <= this.size + 1
                }, xr.prototype.bt = function() {
                    if (this.At() && this.left.At()) throw Si();
                    if (this.right.At()) throw Si();
                    var t = this.left.bt();
                    if (t !== this.right.bt()) throw Si();
                    return t + (this.At() ? 0 : 1)
                }, xr);

            function xr(t, e, n, i, r) {
                this.key = t, this.value = e, this.color = null != n ? n : xr.RED, this.left = null != i ? i : xr.EMPTY, this.right = null != r ? r : xr.EMPTY, this.size = this.left.size + 1 + this.right.size
            }

            function Dr(t, e, n, i) {
                this._t = i, this.ft = [];
                for (var r = 1; !t._();)
                    if (r = e ? n(t.key, e) : 1, i && (r *= -1), r < 0) t = this._t ? t.left : t.right;
                    else {
                        if (0 === r) {
                            this.ft.push(t);
                            break
                        }
                        this.ft.push(t), t = this._t ? t.right : t.left
                    }
            }

            function Nr(t, e) {
                this.P = t, this.root = e || Sr.EMPTY
            }

            function Ar() {
                this.size = 0
            }
            Sr.EMPTY = null, Sr.RED = !0, Sr.st = !1, Sr.EMPTY = (Object.defineProperty(Ar.prototype, "key", {
                get: function() {
                    throw Si()
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(Ar.prototype, "value", {
                get: function() {
                    throw Si()
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(Ar.prototype, "color", {
                get: function() {
                    throw Si()
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(Ar.prototype, "left", {
                get: function() {
                    throw Si()
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(Ar.prototype, "right", {
                get: function() {
                    throw Si()
                },
                enumerable: !1,
                configurable: !0
            }), Ar.prototype.copy = function(t, e, n, i, r) {
                return this
            }, Ar.prototype.nt = function(t, e, n) {
                return new Sr(t, e)
            }, Ar.prototype.remove = function(t, e) {
                return this
            }, Ar.prototype._ = function() {
                return !0
            }, Ar.prototype.ot = function(t) {
                return !1
            }, Ar.prototype.ht = function(t) {
                return !1
            }, Ar.prototype.it = function() {
                return null
            }, Ar.prototype.rt = function() {
                return null
            }, Ar.prototype.At = function() {
                return !1
            }, Ar.prototype.pt = function() {
                return !0
            }, Ar.prototype.bt = function() {
                return 0
            }, new Ar);
            var Pr = (Mr.prototype.has = function(t) {
                    return null !== this.data.get(t)
                }, Mr.prototype.first = function() {
                    return this.data.it()
                }, Mr.prototype.last = function() {
                    return this.data.rt()
                }, Object.defineProperty(Mr.prototype, "size", {
                    get: function() {
                        return this.data.size
                    },
                    enumerable: !1,
                    configurable: !0
                }), Mr.prototype.indexOf = function(t) {
                    return this.data.indexOf(t)
                }, Mr.prototype.forEach = function(t) {
                    this.data.ot((function(e, n) {
                        return t(e), !1
                    }))
                }, Mr.prototype.vt = function(t, e) {
                    for (var n = this.data.ut(t[0]); n.wt();) {
                        var i = n.dt();
                        if (0 <= this.P(i.key, t[1])) return;
                        e(i.key)
                    }
                }, Mr.prototype.St = function(t, e) {
                    var n;
                    for (n = void 0 !== e ? this.data.ut(e) : this.data.at(); n.wt();)
                        if (!t(n.dt().key)) return
                }, Mr.prototype.Dt = function(t) {
                    var e = this.data.ut(t);
                    return e.wt() ? e.dt().key : null
                }, Mr.prototype.at = function() {
                    return new Or(this.data.at())
                }, Mr.prototype.ut = function(t) {
                    return new Or(this.data.ut(t))
                }, Mr.prototype.add = function(t) {
                    return this.copy(this.data.remove(t).nt(t, !0))
                }, Mr.prototype.delete = function(t) {
                    return this.has(t) ? this.copy(this.data.remove(t)) : this
                }, Mr.prototype._ = function() {
                    return this.data._()
                }, Mr.prototype.Ct = function(t) {
                    var e = this;
                    return e.size < t.size && (e = t, t = this), t.forEach((function(t) {
                        e = e.add(t)
                    })), e
                }, Mr.prototype.isEqual = function(t) {
                    if (!(t instanceof Mr)) return !1;
                    if (this.size !== t.size) return !1;
                    for (var e = this.data.at(), n = t.data.at(); e.wt();) {
                        var i = e.dt().key,
                            r = n.dt().key;
                        if (0 !== this.P(i, r)) return !1
                    }
                    return !0
                }, Mr.prototype.F = function() {
                    var t = [];
                    return this.forEach((function(e) {
                        t.push(e)
                    })), t
                }, Mr.prototype.toString = function() {
                    var t = [];
                    return this.forEach((function(e) {
                        return t.push(e)
                    })), "SortedSet(" + t.toString() + ")"
                }, Mr.prototype.copy = function(t) {
                    var e = new Mr(this.P);
                    return e.data = t, e
                }, Mr),
                Or = (Lr.prototype.dt = function() {
                    return this.Ft.dt().key
                }, Lr.prototype.wt = function() {
                    return this.Ft.wt()
                }, Lr),
                Rr = new Cr(Zi.P);

            function Lr(t) {
                this.Ft = t
            }

            function Mr(t) {
                this.P = t, this.data = new Cr(this.P)
            }

            function Fr() {
                return Rr
            }

            function Ur() {
                return Fr()
            }
            var jr = new Cr(Zi.P);

            function Hr() {
                return jr
            }
            var qr = new Cr(Zi.P),
                Wr = new Pr(Zi.P);

            function Vr() {
                for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                for (var n = Wr, i = 0, r = t; i < r.length; i++) {
                    var o = r[i];
                    n = n.add(o)
                }
                return n
            }
            var Br = new Pr(Pi);

            function zr() {
                return Br
            }

            function $r(t, e, n, i) {
                this.Zt = t, this.removedTargetIds = e, this.key = n, this.te = i
            }

            function Kr(t, e) {
                this.targetId = t, this.ee = e
            }

            function Gr(t, e, n, i) {
                void 0 === n && (n = vr.Y), void 0 === i && (i = null), this.state = t, this.targetIds = e, this.resumeToken = n, this.cause = i
            }
            var Yr = (uo.kt = function(t) {
                    return new uo(t.P)
                }, uo.prototype.has = function(t) {
                    return null != this.$t.get(t)
                }, uo.prototype.get = function(t) {
                    return this.$t.get(t)
                }, uo.prototype.first = function() {
                    return this.Nt.it()
                }, uo.prototype.last = function() {
                    return this.Nt.rt()
                }, uo.prototype._ = function() {
                    return this.Nt._()
                }, uo.prototype.indexOf = function(t) {
                    var e = this.$t.get(t);
                    return e ? this.Nt.indexOf(e) : -1
                }, Object.defineProperty(uo.prototype, "size", {
                    get: function() {
                        return this.Nt.size
                    },
                    enumerable: !1,
                    configurable: !0
                }), uo.prototype.forEach = function(t) {
                    this.Nt.ot((function(e, n) {
                        return t(e), !1
                    }))
                }, uo.prototype.add = function(t) {
                    var e = this.delete(t.key);
                    return e.copy(e.$t.nt(t.key, t), e.Nt.nt(t, null))
                }, uo.prototype.delete = function(t) {
                    var e = this.get(t);
                    return e ? this.copy(this.$t.remove(t), this.Nt.remove(e)) : this
                }, uo.prototype.isEqual = function(t) {
                    if (!(t instanceof uo)) return !1;
                    if (this.size !== t.size) return !1;
                    for (var e = this.Nt.at(), n = t.Nt.at(); e.wt();) {
                        var i = e.dt().key,
                            r = n.dt().key;
                        if (!i.isEqual(r)) return !1
                    }
                    return !0
                }, uo.prototype.toString = function() {
                    var t = [];
                    return this.forEach((function(e) {
                        t.push(e.toString())
                    })), 0 === t.length ? "DocumentSet ()" : "DocumentSet (\n  " + t.join("  \n") + "\n)"
                }, uo.prototype.copy = function(t, e) {
                    var n = new uo;
                    return n.P = this.P, n.$t = t, n.Nt = e, n
                }, uo),
                Qr = (ao.prototype.track = function(t) {
                    var e = t.doc.key,
                        n = this.xt.get(e);
                    !n || 0 !== t.type && 3 === n.type ? this.xt = this.xt.nt(e, t) : 3 === t.type && 1 !== n.type ? this.xt = this.xt.nt(e, {
                        type: n.type,
                        doc: t.doc
                    }) : 2 === t.type && 2 === n.type ? this.xt = this.xt.nt(e, {
                        type: 2,
                        doc: t.doc
                    }) : 2 === t.type && 0 === n.type ? this.xt = this.xt.nt(e, {
                        type: 0,
                        doc: t.doc
                    }) : 1 === t.type && 0 === n.type ? this.xt = this.xt.remove(e) : 1 === t.type && 2 === n.type ? this.xt = this.xt.nt(e, {
                        type: 1,
                        doc: n.doc
                    }) : 0 === t.type && 1 === n.type ? this.xt = this.xt.nt(e, {
                        type: 2,
                        doc: t.doc
                    }) : Si()
                }, ao.prototype.Mt = function() {
                    var t = [];
                    return this.xt.ot((function(e, n) {
                        t.push(n)
                    })), t
                }, ao),
                Xr = (so.Ut = function(t, e, n, i) {
                    var r = [];
                    return e.forEach((function(t) {
                        r.push({
                            type: 0,
                            doc: t
                        })
                    })), new so(t, e, Yr.kt(e), r, n, i, !0, !1)
                }, Object.defineProperty(so.prototype, "hasPendingWrites", {
                    get: function() {
                        return !this.Lt._()
                    },
                    enumerable: !1,
                    configurable: !0
                }), so.prototype.isEqual = function(t) {
                    if (!(this.fromCache === t.fromCache && this.qt === t.qt && this.Lt.isEqual(t.Lt) && Ia(this.query, t.query) && this.docs.isEqual(t.docs) && this.Ot.isEqual(t.Ot))) return !1;
                    var e = this.docChanges,
                        n = t.docChanges;
                    if (e.length !== n.length) return !1;
                    for (var i = 0; i < e.length; i++)
                        if (e[i].type !== n[i].type || !e[i].doc.isEqual(n[i].doc)) return !1;
                    return !0
                }, so),
                Jr = (oo.Gt = function(t, e) {
                    var n = new Map;
                    return n.set(t, Zr.zt(t, e)), new oo(Gi.min(), n, zr(), Fr(), Vr())
                }, oo),
                Zr = (ro.zt = function(t, e) {
                    return new ro(vr.Y, e, Vr(), Vr(), Vr())
                }, ro),
                to = (Object.defineProperty(io.prototype, "Ht", {
                    get: function() {
                        return this.re
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(io.prototype, "resumeToken", {
                    get: function() {
                        return this.ie
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(io.prototype, "he", {
                    get: function() {
                        return 0 !== this.ne
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(io.prototype, "ae", {
                    get: function() {
                        return this.oe
                    },
                    enumerable: !1,
                    configurable: !0
                }), io.prototype.ue = function(t) {
                    0 < t.H() && (this.oe = !0, this.ie = t)
                }, io.prototype.ce = function() {
                    var t = Vr(),
                        e = Vr(),
                        n = Vr();
                    return this.se.forEach((function(i, r) {
                        switch (r) {
                            case 0:
                                t = t.add(i);
                                break;
                            case 2:
                                e = e.add(i);
                                break;
                            case 1:
                                n = n.add(i);
                                break;
                            default:
                                Si()
                        }
                    })), new Zr(this.ie, this.re, t, e, n)
                }, io.prototype.le = function() {
                    this.oe = !1, this.se = ho()
                }, io.prototype._e = function(t, e) {
                    this.oe = !0, this.se = this.se.nt(t, e)
                }, io.prototype.fe = function(t) {
                    this.oe = !0, this.se = this.se.remove(t)
                }, io.prototype.de = function() {
                    this.ne += 1
                }, io.prototype.we = function() {
                    --this.ne
                }, io.prototype.Te = function() {
                    this.oe = !0, this.re = !0
                }, io),
                eo = (no.prototype.Pe = function(t) {
                    for (var e = 0, n = t.Zt; e < n.length; e++) {
                        var i = n[e];
                        t.te instanceof sa ? this.ge(i, t.te) : t.te instanceof aa && this.Ve(i, t.key, t.te)
                    }
                    for (var r = 0, o = t.removedTargetIds; r < o.length; r++) {
                        var s = o[r];
                        this.Ve(s, t.key, t.te)
                    }
                }, no.prototype.ye = function(t) {
                    var e = this;
                    this.pe(t, (function(n) {
                        var i = e.be(n);
                        switch (t.state) {
                            case 0:
                                e.ve(n) && i.ue(t.resumeToken);
                                break;
                            case 1:
                                i.we(), i.he || i.le(), i.ue(t.resumeToken);
                                break;
                            case 2:
                                i.we(), i.he || e.removeTarget(n);
                                break;
                            case 3:
                                e.ve(n) && (i.Te(), i.ue(t.resumeToken));
                                break;
                            case 4:
                                e.ve(n) && (e.Se(n), i.ue(t.resumeToken));
                                break;
                            default:
                                Si()
                        }
                    }))
                }, no.prototype.pe = function(t, e) {
                    var n = this;
                    0 < t.targetIds.length ? t.targetIds.forEach(e) : this.Ie.forEach((function(t, i) {
                        n.ve(i) && e(i)
                    }))
                }, no.prototype.De = function(t) {
                    var e = t.targetId,
                        n = t.ee.count,
                        i = this.Ce(e);
                    if (i) {
                        var r = i.target;
                        if (gr(r))
                            if (0 === n) {
                                var o = new Zi(r.path);
                                this.Ve(e, o, new aa(o, Gi.min()))
                            } else xi(1 === n);
                        else this.Fe(e) !== n && (this.Se(e), this.Re = this.Re.add(e))
                    }
                }, no.prototype.$e = function(t) {
                    var e = this,
                        n = new Map;
                    this.Ie.forEach((function(i, r) {
                        var o = e.Ce(r);
                        if (o) {
                            if (i.Ht && gr(o.target)) {
                                var s = new Zi(o.target.path);
                                null !== e.me.get(s) || e.Ne(r, s) || e.Ve(r, s, new aa(s, t))
                            }
                            i.ae && (n.set(r, i.ce()), i.le())
                        }
                    }));
                    var i = Vr();
                    this.Ae.forEach((function(t, n) {
                        var r = !0;
                        n.St((function(t) {
                            var n = e.Ce(t);
                            return !n || 2 === n.J || (r = !1)
                        })), r && (i = i.add(t))
                    }));
                    var r = new Jr(t, n, this.Re, this.me, i);
                    return this.me = Fr(), this.Ae = lo(), this.Re = new Pr(Pi), r
                }, no.prototype.ge = function(t, e) {
                    if (this.ve(t)) {
                        var n = this.Ne(t, e.key) ? 2 : 0;
                        this.be(t)._e(e.key, n), this.me = this.me.nt(e.key, e), this.Ae = this.Ae.nt(e.key, this.ke(e.key).add(t))
                    }
                }, no.prototype.Ve = function(t, e, n) {
                    if (this.ve(t)) {
                        var i = this.be(t);
                        this.Ne(t, e) ? i._e(e, 1) : i.fe(e), this.Ae = this.Ae.nt(e, this.ke(e).delete(t)), n && (this.me = this.me.nt(e, n))
                    }
                }, no.prototype.removeTarget = function(t) {
                    this.Ie.delete(t)
                }, no.prototype.Fe = function(t) {
                    var e = this.be(t).ce();
                    return this.Ee.xe(t).size + e.Yt.size - e.Xt.size
                }, no.prototype.de = function(t) {
                    this.be(t).de()
                }, no.prototype.be = function(t) {
                    var e = this.Ie.get(t);
                    return e || (e = new to, this.Ie.set(t, e)), e
                }, no.prototype.ke = function(t) {
                    var e = this.Ae.get(t);
                    return e || (e = new Pr(Pi), this.Ae = this.Ae.nt(t, e)), e
                }, no.prototype.ve = function(t) {
                    var e = null !== this.Ce(t);
                    return e || Ti("WatchChangeAggregator", "Detected inactive target", t), e
                }, no.prototype.Ce = function(t) {
                    var e = this.Ie.get(t);
                    return e && e.he ? null : this.Ee.Me(t)
                }, no.prototype.Se = function(t) {
                    var e = this;
                    this.Ie.set(t, new to), this.Ee.xe(t).forEach((function(n) {
                        e.Ve(t, n, null)
                    }))
                }, no.prototype.Ne = function(t, e) {
                    return this.Ee.xe(t).has(e)
                }, no);

            function no(t) {
                this.Ee = t, this.Ie = new Map, this.me = Fr(), this.Ae = lo(), this.Re = new Pr(Pi)
            }

            function io() {
                this.ne = 0, this.se = ho(), this.ie = vr.Y, this.re = !1, this.oe = !0
            }

            function ro(t, e, n, i, r) {
                this.resumeToken = t, this.Ht = e, this.Yt = n, this.Jt = i, this.Xt = r
            }

            function oo(t, e, n, i, r) {
                this.X = t, this.Wt = e, this.Qt = n, this.jt = i, this.Kt = r
            }

            function so(t, e, n, i, r, o, s, a) {
                this.query = t, this.docs = e, this.Ot = n, this.docChanges = i, this.Lt = r, this.fromCache = o, this.qt = s, this.Bt = a
            }

            function ao() {
                this.xt = new Cr(Zi.P)
            }

            function uo(t) {
                this.P = t ? function(e, n) {
                    return t(e, n) || Zi.P(e.key, n.key)
                } : function(t, e) {
                    return Zi.P(t.key, e.key)
                }, this.$t = Hr(), this.Nt = new Cr(this.P)
            }

            function lo() {
                return new Cr(Zi.P)
            }

            function ho() {
                return new Cr(Zi.P)
            }

            function co(t) {
                var e, n;
                return "server_timestamp" === (null === (n = ((null === (e = null == t ? void 0 : t.mapValue) || void 0 === e ? void 0 : e.fields) || {}).__type__) || void 0 === n ? void 0 : n.stringValue)
            }

            function po(t) {
                var e = wo(t.mapValue.fields.__local_write_time__.timestampValue);
                return new Ki(e.seconds, e.nanos)
            }
            var fo = new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);

            function go(t) {
                return "nullValue" in t ? 0 : "booleanValue" in t ? 1 : "integerValue" in t || "doubleValue" in t ? 2 : "timestampValue" in t ? 3 : "stringValue" in t ? 5 : "bytesValue" in t ? 6 : "referenceValue" in t ? 7 : "geoPointValue" in t ? 8 : "arrayValue" in t ? 9 : "mapValue" in t ? co(t) ? 4 : 10 : Si()
            }

            function vo(t, e) {
                var n, i, r, o = go(t);
                if (o !== go(e)) return !1;
                switch (o) {
                    case 0:
                        return !0;
                    case 1:
                        return t.booleanValue === e.booleanValue;
                    case 4:
                        return po(t).isEqual(po(e));
                    case 3:
                        return function(e) {
                            if ("string" == typeof t.timestampValue && "string" == typeof e.timestampValue && t.timestampValue.length === e.timestampValue.length) return t.timestampValue === e.timestampValue;
                            var n = wo(t.timestampValue),
                                i = wo(e.timestampValue);
                            return n.seconds === i.seconds && n.nanos === i.nanos
                        }(e);
                    case 5:
                        return t.stringValue === e.stringValue;
                    case 6:
                        return r = e, Io(t.bytesValue).isEqual(Io(r.bytesValue));
                    case 7:
                        return t.referenceValue === e.referenceValue;
                    case 8:
                        return i = e, Eo((n = t).geoPointValue.latitude) === Eo(i.geoPointValue.latitude) && Eo(n.geoPointValue.longitude) === Eo(i.geoPointValue.longitude);
                    case 2:
                        return function(t, e) {
                            if ("integerValue" in t && "integerValue" in e) return Eo(t.integerValue) === Eo(e.integerValue);
                            if ("doubleValue" in t && "doubleValue" in e) {
                                var n = Eo(t.doubleValue),
                                    i = Eo(e.doubleValue);
                                return n === i ? lr(n) === lr(i) : isNaN(n) && isNaN(i)
                            }
                            return !1
                        }(t, e);
                    case 9:
                        return Oi(t.arrayValue.values || [], e.arrayValue.values || [], vo);
                    case 10:
                        return function(e) {
                            var n = t.mapValue.fields || {},
                                i = e.mapValue.fields || {};
                            if (Ui(n) !== Ui(i)) return !1;
                            for (var r in n)
                                if (n.hasOwnProperty(r) && (void 0 === i[r] || !vo(n[r], i[r]))) return !1;
                            return !0
                        }(e);
                    default:
                        return Si()
                }
            }

            function mo(t, e) {
                return void 0 !== (t.values || []).find((function(t) {
                    return vo(t, e)
                }))
            }

            function yo(t, e) {
                var n, i, r, o, s, a, u, l, h, c, d = go(t),
                    p = go(e);
                if (d !== p) return Pi(d, p);
                switch (d) {
                    case 0:
                        return 0;
                    case 1:
                        return Pi(t.booleanValue, e.booleanValue);
                    case 2:
                        return l = e, (h = Eo(t.integerValue || t.doubleValue)) < (c = Eo(l.integerValue || l.doubleValue)) ? -1 : c < h ? 1 : h === c ? 0 : isNaN(h) ? isNaN(c) ? 0 : -1 : 1;
                    case 3:
                        return _o(t.timestampValue, e.timestampValue);
                    case 4:
                        return _o(po(t), po(e));
                    case 5:
                        return Pi(t.stringValue, e.stringValue);
                    case 6:
                        return o = t.bytesValue, s = e.bytesValue, a = Io(o), u = Io(s), a.o(u);
                    case 7:
                        return function(t, e) {
                            for (var n = t.split("/"), i = e.split("/"), r = 0; r < n.length && r < i.length; r++) {
                                var o = Pi(n[r], i[r]);
                                if (0 !== o) return o
                            }
                            return Pi(n.length, i.length)
                        }(t.referenceValue, e.referenceValue);
                    case 8:
                        return n = t.geoPointValue, i = e.geoPointValue, 0 !== (r = Pi(Eo(n.latitude), Eo(i.latitude))) ? r : Pi(Eo(n.longitude), Eo(i.longitude));
                    case 9:
                        return function(t, e) {
                            for (var n = t.values || [], i = e.values || [], r = 0; r < n.length && r < i.length; ++r) {
                                var o = yo(n[r], i[r]);
                                if (o) return o
                            }
                            return Pi(n.length, i.length)
                        }(t.arrayValue, e.arrayValue);
                    case 10:
                        return function(t, e) {
                            var n = t.fields || {},
                                i = Object.keys(n),
                                r = e.fields || {},
                                o = Object.keys(r);
                            i.sort(), o.sort();
                            for (var s = 0; s < i.length && s < o.length; ++s) {
                                var a = Pi(i[s], o[s]);
                                if (0 !== a) return a;
                                var u = yo(n[i[s]], r[o[s]]);
                                if (0 !== u) return u
                            }
                            return Pi(i.length, o.length)
                        }(t.mapValue, e.mapValue);
                    default:
                        throw Si()
                }
            }

            function _o(t, e) {
                if ("string" == typeof t && "string" == typeof e && t.length === e.length) return Pi(t, e);
                var n = wo(t),
                    i = wo(e),
                    r = Pi(n.seconds, i.seconds);
                return 0 !== r ? r : Pi(n.nanos, i.nanos)
            }

            function bo(t) {
                return function t(e) {
                    return "nullValue" in e ? "null" : "booleanValue" in e ? "" + e.booleanValue : "integerValue" in e ? "" + e.integerValue : "doubleValue" in e ? "" + e.doubleValue : "timestampValue" in e ? "time(" + (n = wo(e.timestampValue)).seconds + "," + n.nanos + ")" : "stringValue" in e ? e.stringValue : "bytesValue" in e ? Io(e.bytesValue).toBase64() : "referenceValue" in e ? (r = e.referenceValue, Zi.B(r).toString()) : "geoPointValue" in e ? "geo(" + (i = e.geoPointValue).latitude + "," + i.longitude + ")" : "arrayValue" in e ? function() {
                        for (var n = "[", i = !0, r = 0, o = e.arrayValue.values || []; r < o.length; r++) i ? i = !1 : n += ",", n += t(o[r]);
                        return n + "]"
                    }() : "mapValue" in e ? function(e) {
                        for (var n = "{", i = !0, r = 0, o = Object.keys(e.fields || {}).sort(); r < o.length; r++) {
                            var s = o[r];
                            i ? i = !1 : n += ",", n += s + ":" + t(e.fields[s])
                        }
                        return n + "}"
                    }(e.mapValue) : Si();
                    var n, i, r
                }(t)
            }

            function wo(t) {
                if (xi(!!t), "string" != typeof t) return {
                    seconds: Eo(t.seconds),
                    nanos: Eo(t.nanos)
                };
                var e = 0,
                    n = fo.exec(t);
                if (xi(!!n), n[1]) {
                    var i = n[1];
                    i = (i + "000000000").substr(0, 9), e = Number(i)
                }
                var r = new Date(t);
                return {
                    seconds: Math.floor(r.getTime() / 1e3),
                    nanos: e
                }
            }

            function Eo(t) {
                return "number" == typeof t ? t : "string" == typeof t ? Number(t) : 0
            }

            function Io(t) {
                return "string" == typeof t ? vr.fromBase64String(t) : vr.fromUint8Array(t)
            }

            function To(t, e) {
                return {
                    referenceValue: "projects/" + t.projectId + "/databases/" + t.database + "/documents/" + e.path.$()
                }
            }

            function Co(t) {
                return t && "integerValue" in t
            }

            function ko(t) {
                return !!t && "arrayValue" in t
            }

            function So(t) {
                return t && "nullValue" in t
            }

            function xo(t) {
                return t && "doubleValue" in t && isNaN(Number(t.doubleValue))
            }

            function Do(t) {
                return t && "mapValue" in t
            }
            var No = {
                    asc: "ASCENDING",
                    desc: "DESCENDING"
                },
                Ao = {
                    "<": "LESS_THAN",
                    "<=": "LESS_THAN_OR_EQUAL",
                    ">": "GREATER_THAN",
                    ">=": "GREATER_THAN_OR_EQUAL",
                    "==": "EQUAL",
                    "array-contains": "ARRAY_CONTAINS",
                    in: "IN",
                    "array-contains-any": "ARRAY_CONTAINS_ANY"
                },
                Po = function(t, e) {
                    this.s = t, this.Oe = e
                };

            function Oo(t) {
                return {
                    integerValue: "" + t
                }
            }

            function Ro(t, e) {
                if (t.Oe) {
                    if (isNaN(e)) return {
                        doubleValue: "NaN"
                    };
                    if (e === 1 / 0) return {
                        doubleValue: "Infinity"
                    };
                    if (e === -1 / 0) return {
                        doubleValue: "-Infinity"
                    }
                }
                return {
                    doubleValue: lr(e) ? "-0" : e
                }
            }

            function Lo(t, e) {
                return hr(e) ? Oo(e) : Ro(t, e)
            }

            function Mo(t, e) {
                return t.Oe ? new Date(1e3 * e.seconds).toISOString().replace(/\.\d*/, "").replace("Z", "") + "." + ("000000000" + e.nanoseconds).slice(-9) + "Z" : {
                    seconds: "" + e.seconds,
                    nanos: e.nanoseconds
                }
            }

            function Fo(t, e) {
                return t.Oe ? e.toBase64() : e.toUint8Array()
            }

            function Uo(t) {
                return xi(!!t), Gi.I((e = wo(t), new Ki(e.seconds, e.nanos)));
                var e
            }

            function jo(t, e) {
                return new Qi(["projects", t.projectId, "databases", t.database]).child("documents").child(e).$()
            }

            function Ho(t) {
                var e = Qi.N(t);
                return xi(ns(e)), e
            }

            function qo(t, e) {
                return jo(t.s, e.path)
            }

            function Wo(t, e) {
                var n = Ho(e);
                return xi(n.get(1) === t.s.projectId), xi(!n.get(3) && !t.s.database || n.get(3) === t.s.database), new Zi($o(n))
            }

            function Vo(t, e) {
                return jo(t.s, e)
            }

            function Bo(t) {
                var e = Ho(t);
                return 4 === e.length ? Qi.k() : $o(e)
            }

            function zo(t) {
                return new Qi(["projects", t.s.projectId, "databases", t.s.database]).$()
            }

            function $o(t) {
                return xi(4 < t.length && "documents" === t.get(4)), t.V(5)
            }

            function Ko(t, e, n) {
                return {
                    name: qo(t, e),
                    fields: n.proto.mapValue.fields
                }
            }

            function Go(t, e) {
                var n, i, r, o, s, a, u;
                if (e instanceof Ls) n = {
                    update: Ko(t, e.key, e.value)
                };
                else if (e instanceof Ks) n = {
                    delete: qo(t, e.key)
                };
                else if (e instanceof Ms) n = {
                    update: Ko(t, e.key, e.data),
                    updateMask: (i = e.Le, r = [], i.fields.forEach((function(t) {
                        return r.push(t.$())
                    })), {
                        fieldPaths: r
                    })
                };
                else if (e instanceof qs) n = {
                    transform: {
                        document: qo(t, e.key),
                        fieldTransforms: e.fieldTransforms.map((function(t) {
                            return function(t) {
                                var e = t.transform;
                                if (e instanceof as) return {
                                    fieldPath: t.field.$(),
                                    setToServerValue: "REQUEST_TIME"
                                };
                                if (e instanceof us) return {
                                    fieldPath: t.field.$(),
                                    appendMissingElements: {
                                        values: e.elements
                                    }
                                };
                                if (e instanceof ps) return {
                                    fieldPath: t.field.$(),
                                    removeAllFromArray: {
                                        values: e.elements
                                    }
                                };
                                if (e instanceof ms) return {
                                    fieldPath: t.field.$(),
                                    increment: e.qe
                                };
                                throw Si()
                            }(t)
                        }))
                    }
                };
                else {
                    if (!(e instanceof Gs)) return Si();
                    n = {
                        verify: qo(t, e.key)
                    }
                }
                return e.Ue.Be || (n.currentDocument = (o = t, void 0 !== (s = e.Ue).updateTime ? {
                    updateTime: (a = o, u = s.updateTime, Mo(a, u.A()))
                } : void 0 !== s.exists ? {
                    exists: s.exists
                } : Si())), n
            }

            function Yo(t, e) {
                var n, i, r = e.currentDocument ? void 0 !== (n = e.currentDocument).updateTime ? Cs.updateTime(Uo(n.updateTime)) : void 0 !== n.exists ? Cs.exists(n.exists) : Cs.We() : Cs.We();
                if (e.update) {
                    e.update.name;
                    var o = Wo(t, e.update.name),
                        s = new Ys({
                            mapValue: {
                                fields: e.update.fields
                            }
                        });
                    if (e.updateMask) {
                        var a = (i = e.updateMask.fieldPaths || [], new ws(i.map((function(t) {
                            return Ji.q(t)
                        }))));
                        return new Ms(o, s, a, r)
                    }
                    return new Ls(o, s, r)
                }
                if (e.delete) {
                    var u = Wo(t, e.delete);
                    return new Ks(u, r)
                }
                if (e.transform) {
                    var l = Wo(t, e.transform.document),
                        h = e.transform.fieldTransforms.map((function(e) {
                            return function(t, e) {
                                var n = null;
                                if ("setToServerValue" in e) xi("REQUEST_TIME" === e.setToServerValue), n = new as;
                                else if ("appendMissingElements" in e) {
                                    var i = e.appendMissingElements.values || [];
                                    n = new us(i)
                                } else if ("removeAllFromArray" in e) {
                                    var r = e.removeAllFromArray.values || [];
                                    n = new ps(r)
                                } else "increment" in e ? n = new ms(t, e.increment) : Si();
                                var o = Ji.q(e.fieldPath);
                                return new Es(o, n)
                            }(t, e)
                        }));
                    return xi(!0 === r.exists), new qs(l, h)
                }
                if (e.verify) {
                    var c = Wo(t, e.verify);
                    return new Gs(c, r)
                }
                return Si()
            }

            function Qo(t, e) {
                return {
                    documents: [Vo(t, e.path)]
                }
            }

            function Xo(t, e) {
                var n = {
                        structuredQuery: {}
                    },
                    i = e.path;
                null !== e.collectionGroup ? (n.parent = Vo(t, i), n.structuredQuery.from = [{
                    collectionId: e.collectionGroup,
                    allDescendants: !0
                }]) : (n.parent = Vo(t, i.p()), n.structuredQuery.from = [{
                    collectionId: i.S()
                }]);
                var r = function(t) {
                    if (0 !== t.length) {
                        var e = t.map((function(t) {
                            return t instanceof Da ? function(t) {
                                if ("==" === t.op) {
                                    if (xo(t.value)) return {
                                        unaryFilter: {
                                            field: ts(t.field),
                                            op: "IS_NAN"
                                        }
                                    };
                                    if (So(t.value)) return {
                                        unaryFilter: {
                                            field: ts(t.field),
                                            op: "IS_NULL"
                                        }
                                    }
                                }
                                return {
                                    fieldFilter: {
                                        field: ts(t.field),
                                        op: (e = t.op, Ao[e]),
                                        value: t.value
                                    }
                                };
                                var e
                            }(t) : Si()
                        }));
                        return 1 === e.length ? e[0] : {
                            compositeFilter: {
                                op: "AND",
                                filters: e
                            }
                        }
                    }
                }(e.filters);
                r && (n.structuredQuery.where = r);
                var o = function(t) {
                    if (0 !== t.length) return t.map((function(t) {
                        return {
                            field: ts((e = t).field),
                            direction: (n = e.dir, No[n])
                        };
                        var e, n
                    }))
                }(e.orderBy);
                o && (n.structuredQuery.orderBy = o);
                var s, a, u = (s = t, a = e.limit, s.Oe || ur(a) ? a : {
                    value: a
                });
                return null !== u && (n.structuredQuery.limit = u), e.startAt && (n.structuredQuery.startAt = Jo(e.startAt)), e.endAt && (n.structuredQuery.endAt = Jo(e.endAt)), n
            }

            function Jo(t) {
                return {
                    before: t.before,
                    values: t.position
                }
            }

            function Zo(t) {
                var e = !!t.before,
                    n = t.values || [];
                return new qa(n, e)
            }

            function ts(t) {
                return {
                    fieldPath: t.$()
                }
            }

            function es(t) {
                return Ji.q(t.fieldPath)
            }

            function ns(t) {
                return 4 <= t.length && "projects" === t.get(0) && "databases" === t.get(2)
            }

            function is() {
                this.Qe = void 0
            }

            function rs(t, e) {
                return t instanceof ms ? Co(n = e) || n && "doubleValue" in n ? e : {
                    integerValue: 0
                } : null;
                var n
            }
            var os, ss, as = (o(hs, ss = is), hs),
                us = (o(ls, os = is), ls);

            function ls(t) {
                var e = this;
                return (e = os.call(this) || this).elements = t, e
            }

            function hs() {
                return null !== ss && ss.apply(this, arguments) || this
            }

            function cs(t, e) {
                for (var n = bs(e), i = function(t) {
                        n.some((function(e) {
                            return vo(e, t)
                        })) || n.push(t)
                    }, r = 0, o = t.elements; r < o.length; r++) i(o[r]);
                return {
                    arrayValue: {
                        values: n
                    }
                }
            }
            var ds, ps = (o(fs, ds = is), fs);

            function fs(t) {
                var e = this;
                return (e = ds.call(this) || this).elements = t, e
            }

            function gs(t, e) {
                for (var n = bs(e), i = function(t) {
                        n = n.filter((function(e) {
                            return !vo(e, t)
                        }))
                    }, r = 0, o = t.elements; r < o.length; r++) i(o[r]);
                return {
                    arrayValue: {
                        values: n
                    }
                }
            }
            var vs, ms = (o(ys, vs = is), ys);

            function ys(t, e) {
                var n = this;
                return (n = vs.call(this) || this).serializer = t, n.qe = e, n
            }

            function _s(t) {
                return Eo(t.integerValue || t.doubleValue)
            }

            function bs(t) {
                return ko(t) && t.arrayValue.values ? t.arrayValue.values.slice() : []
            }
            var ws = (Is.prototype.je = function(t) {
                    for (var e = 0, n = this.fields; e < n.length; e++)
                        if (n[e].D(t)) return !0;
                    return !1
                }, Is.prototype.isEqual = function(t) {
                    return Oi(this.fields, t.fields, (function(t, e) {
                        return t.isEqual(e)
                    }))
                }, Is),
                Es = function(t, e) {
                    this.field = t, this.transform = e
                };

            function Is(t) {
                (this.fields = t).sort(Ji.P)
            }

            function Ts(t, e) {
                this.version = t, this.transformResults = e
            }
            var Cs = (ks.We = function() {
                return new ks
            }, ks.exists = function(t) {
                return new ks(void 0, t)
            }, ks.updateTime = function(t) {
                return new ks(t)
            }, Object.defineProperty(ks.prototype, "Be", {
                get: function() {
                    return void 0 === this.updateTime && void 0 === this.exists
                },
                enumerable: !1,
                configurable: !0
            }), ks.prototype.isEqual = function(t) {
                return this.exists === t.exists && (this.updateTime ? !!t.updateTime && this.updateTime.isEqual(t.updateTime) : !t.updateTime)
            }, ks);

            function ks(t, e) {
                this.updateTime = t, this.exists = e
            }

            function Ss(t, e) {
                return void 0 !== t.updateTime ? e instanceof sa && e.version.isEqual(t.updateTime) : void 0 === t.exists || t.exists === e instanceof sa
            }

            function xs() {}

            function Ds(t, e, n) {
                return t instanceof Ls ? (r = n, new sa(t.key, r.version, t.value, {
                    hasCommittedMutations: !0
                })) : t instanceof Ms ? function(t, e, n) {
                    if (!Ss(t.Ue, e)) return new ua(t.key, n.version);
                    var i = js(t, e);
                    return new sa(t.key, n.version, i, {
                        hasCommittedMutations: !0
                    })
                }(t, e, n) : t instanceof qs ? function(t, e, n) {
                    if (xi(null != n.transformResults), !Ss(t.Ue, e)) return new ua(t.key, n.version);
                    var i = Vs(0, e),
                        r = function(t, e, n) {
                            var i, r, o, s = [];
                            xi(t.length === n.length);
                            for (var a = 0; a < n.length; a++) {
                                var u = t[a],
                                    l = u.transform,
                                    h = null;
                                e instanceof sa && (h = e.field(u.field)), s.push((i = l, r = h, o = n[a], i instanceof us ? cs(i, r) : i instanceof ps ? gs(i, r) : o))
                            }
                            return s
                        }(t.fieldTransforms, e, n.transformResults),
                        o = n.version,
                        s = Bs(t, i.data(), r);
                    return new sa(t.key, o, s, {
                        hasCommittedMutations: !0
                    })
                }(t, e, n) : (i = n, new aa(t.key, i.version, {
                    hasCommittedMutations: !0
                }));
                var i, r
            }

            function Ns(t, e, n, i) {
                return t instanceof Ls ? function(t, e) {
                    if (!Ss(t.Ue, e)) return e;
                    var n = Ps(e);
                    return new sa(t.key, n, t.value, {
                        Ke: !0
                    })
                }(t, e) : t instanceof Ms ? function(t, e) {
                    if (!Ss(t.Ue, e)) return e;
                    var n = Ps(e),
                        i = js(t, e);
                    return new sa(t.key, n, i, {
                        Ke: !0
                    })
                }(t, e) : t instanceof qs ? function(t, e, n, i) {
                    if (!Ss(t.Ue, e)) return e;
                    var r = Vs(0, e),
                        o = function(t, e, n, i) {
                            for (var r = [], o = 0, s = t; o < s.length; o++) {
                                var a = s[o],
                                    u = a.transform,
                                    l = null;
                                n instanceof sa && (l = n.field(a.field)), null === l && i instanceof sa && (l = i.field(a.field)), r.push((c = l, d = e, v = g = f = p = void 0, (h = u) instanceof as ? (v = {
                                    fields: {
                                        __type__: {
                                            stringValue: "server_timestamp"
                                        },
                                        __local_write_time__: {
                                            timestampValue: {
                                                seconds: d.seconds,
                                                nanos: d.nanoseconds
                                            }
                                        }
                                    }
                                }, c && (v.fields.__previous_value__ = c), {
                                    mapValue: v
                                }) : h instanceof us ? cs(h, c) : h instanceof ps ? gs(h, c) : (g = _s(f = rs(p = h, c)) + _s(p.qe), Co(f) && Co(p.qe) ? Oo(g) : Ro(p.serializer, g))))
                            }
                            var h, c, d, p, f, g, v;
                            return r
                        }(t.fieldTransforms, n, e, i),
                        s = Bs(t, r.data(), o);
                    return new sa(t.key, r.version, s, {
                        Ke: !0
                    })
                }(t, e, i, n) : (o = e, Ss((r = t).Ue, o) ? new aa(r.key, Gi.min()) : o);
                var r, o
            }

            function As(t, e) {
                return t.type === e.type && !!t.key.isEqual(e.key) && !!t.Ue.isEqual(e.Ue) && (0 === t.type ? t.value.isEqual(e.value) : 1 === t.type ? t.data.isEqual(e.data) && t.Le.isEqual(e.Le) : 2 !== t.type || Oi(t.fieldTransforms, t.fieldTransforms, (function(t, e) {
                    return i = e, (n = t).field.isEqual(i.field) && (r = n.transform, o = i.transform, r instanceof us && o instanceof us || r instanceof ps && o instanceof ps ? Oi(r.elements, o.elements, vo) : r instanceof ms && o instanceof ms ? vo(r.qe, o.qe) : r instanceof as && o instanceof as);
                    var n, i, r, o
                })))
            }

            function Ps(t) {
                return t instanceof sa ? t.version : Gi.min()
            }
            var Os, Rs, Ls = (o(Us, Rs = xs), Us),
                Ms = (o(Fs, Os = xs), Fs);

            function Fs(t, e, n, i) {
                var r = this;
                return (r = Os.call(this) || this).key = t, r.data = e, r.Le = n, r.Ue = i, r.type = 1, r
            }

            function Us(t, e, n) {
                var i = this;
                return (i = Rs.call(this) || this).key = t, i.value = e, i.Ue = n, i.type = 0, i
            }

            function js(t, e) {
                return n = t, i = e instanceof sa ? e.data() : Ys.empty(), r = new Qs(i), n.Le.fields.forEach((function(t) {
                    if (!t._()) {
                        var e = n.data.field(t);
                        null !== e ? r.set(t, e) : r.delete(t)
                    }
                })), r.Ge();
                var n, i, r
            }
            var Hs, qs = (o(Ws, Hs = xs), Ws);

            function Ws(t, e) {
                var n = this;
                return (n = Hs.call(this) || this).key = t, n.fieldTransforms = e, n.type = 2, n.Ue = Cs.exists(!0), n
            }

            function Vs(t, e) {
                return e
            }

            function Bs(t, e, n) {
                for (var i = new Qs(e), r = 0; r < t.fieldTransforms.length; r++) {
                    var o = t.fieldTransforms[r];
                    i.set(o.field, n[r])
                }
                return i.Ge()
            }
            var zs, $s, Ks = (o(ta, $s = xs), ta),
                Gs = (o(Zs, zs = xs), Zs),
                Ys = (Js.empty = function() {
                    return new Js({
                        mapValue: {}
                    })
                }, Js.prototype.field = function(t) {
                    if (t._()) return this.proto;
                    for (var e = this.proto, n = 0; n < t.length - 1; ++n) {
                        if (!e.mapValue.fields) return null;
                        if (!Do(e = e.mapValue.fields[t.get(n)])) return null
                    }
                    return (e = (e.mapValue.fields || {})[t.S()]) || null
                }, Js.prototype.isEqual = function(t) {
                    return vo(this.proto, t.proto)
                }, Js),
                Qs = (Xs.prototype.set = function(t, e) {
                    return this.Ye(t, e), this
                }, Xs.prototype.delete = function(t) {
                    return this.Ye(t, null), this
                }, Xs.prototype.Ye = function(t, e) {
                    for (var n = this.He, i = 0; i < t.length - 1; ++i) {
                        var r = t.get(i),
                            o = n.get(r);
                        o instanceof Map || (o = o && 10 === go(o) ? new Map(Object.entries(o.mapValue.fields || {})) : new Map, n.set(r, o)), n = o
                    }
                    n.set(t.S(), e)
                }, Xs.prototype.Ge = function() {
                    var t = this.Je(Ji.k(), this.He);
                    return null != t ? new Ys(t) : this.ze
                }, Xs.prototype.Je = function(t, e) {
                    var n = this,
                        i = !1,
                        r = this.ze.field(t),
                        o = Do(r) ? Object.assign({}, r.mapValue.fields) : {};
                    return e.forEach((function(e, r) {
                        if (e instanceof Map) {
                            var s = n.Je(t.child(r), e);
                            null != s && (o[r] = s, i = !0)
                        } else null !== e ? (o[r] = e, i = !0) : o.hasOwnProperty(r) && (delete o[r], i = !0)
                    })), i ? {
                        mapValue: {
                            fields: o
                        }
                    } : null
                }, Xs);

            function Xs(t) {
                void 0 === t && (t = Ys.empty()), this.ze = t, this.He = new Map
            }

            function Js(t) {
                this.proto = t
            }

            function Zs(t, e) {
                var n = this;
                return (n = zs.call(this) || this).key = t, n.Ue = e, n.type = 4, n
            }

            function ta(t, e) {
                var n = this;
                return (n = $s.call(this) || this).key = t, n.Ue = e, n.type = 3, n
            }

            function ea(t) {
                var e = [];
                return ji(t.fields || {}, (function(t, n) {
                    var i = new Ji([t]);
                    if (Do(n)) {
                        var r = ea(n.mapValue).fields;
                        if (0 === r.length) e.push(i);
                        else
                            for (var o = 0, s = r; o < s.length; o++) {
                                var a = s[o];
                                e.push(i.child(a))
                            }
                    } else e.push(i)
                })), new ws(e)
            }

            function na(t, e) {
                this.key = t, this.version = e
            }
            var ia, ra, oa, sa = (o(ca, oa = na), ca.prototype.field = function(t) {
                    return this.Xe.field(t)
                }, ca.prototype.data = function() {
                    return this.Xe
                }, ca.prototype.Ze = function() {
                    return this.Xe.proto
                }, ca.prototype.isEqual = function(t) {
                    return t instanceof ca && this.key.isEqual(t.key) && this.version.isEqual(t.version) && this.Ke === t.Ke && this.hasCommittedMutations === t.hasCommittedMutations && this.Xe.isEqual(t.Xe)
                }, ca.prototype.toString = function() {
                    return "Document(" + this.key + ", " + this.version + ", " + this.Xe.toString() + ", {hasLocalMutations: " + this.Ke + "}), {hasCommittedMutations: " + this.hasCommittedMutations + "})"
                }, Object.defineProperty(ca.prototype, "hasPendingWrites", {
                    get: function() {
                        return this.Ke || this.hasCommittedMutations
                    },
                    enumerable: !1,
                    configurable: !0
                }), ca),
                aa = (o(ha, ra = na), ha.prototype.toString = function() {
                    return "NoDocument(" + this.key + ", " + this.version + ")"
                }, Object.defineProperty(ha.prototype, "hasPendingWrites", {
                    get: function() {
                        return this.hasCommittedMutations
                    },
                    enumerable: !1,
                    configurable: !0
                }), ha.prototype.isEqual = function(t) {
                    return t instanceof ha && t.hasCommittedMutations === this.hasCommittedMutations && t.version.isEqual(this.version) && t.key.isEqual(this.key)
                }, ha),
                ua = (o(la, ia = na), la.prototype.toString = function() {
                    return "UnknownDocument(" + this.key + ", " + this.version + ")"
                }, Object.defineProperty(la.prototype, "hasPendingWrites", {
                    get: function() {
                        return !0
                    },
                    enumerable: !1,
                    configurable: !0
                }), la.prototype.isEqual = function(t) {
                    return t instanceof la && t.version.isEqual(this.version) && t.key.isEqual(this.key)
                }, la);

            function la() {
                return null !== ia && ia.apply(this, arguments) || this
            }

            function ha(t, e, n) {
                var i = this;
                return (i = ra.call(this, t, e) || this).hasCommittedMutations = !(!n || !n.hasCommittedMutations), i
            }

            function ca(t, e, n, i) {
                var r = this;
                return (r = oa.call(this, t, e) || this).Xe = n, r.Ke = !!i.Ke, r.hasCommittedMutations = !!i.hasCommittedMutations, r
            }

            function da(t, e) {
                if (!(t instanceof e)) throw e.name === t.constructor.name ? new $i(zi.INVALID_ARGUMENT, "Type does not match the expected instance. Did you pass '" + e.name + "' from a different Firestore SDK?") : new $i(zi.INVALID_ARGUMENT, "Expected type '" + e.name + "', but was '" + t.constructor.name + "'");
                return t
            }
            var pa = (fa.prototype.rn = function(t) {
                return new fa(t, null, this.tn.slice(), this.filters.slice(), this.limit, this.en, this.startAt, this.endAt)
            }, fa.prototype.on = function() {
                return 0 === this.filters.length && null === this.limit && null == this.startAt && null == this.endAt && (0 === this.tn.length || 1 === this.tn.length && this.tn[0].field.O())
            }, fa.prototype.hn = function() {
                return !ur(this.limit) && "F" === this.en
            }, fa.prototype.an = function() {
                return !ur(this.limit) && "L" === this.en
            }, fa.prototype.un = function() {
                return 0 < this.tn.length ? this.tn[0].field : null
            }, fa.prototype.cn = function() {
                for (var t = 0, e = this.filters; t < e.length; t++) {
                    var n = e[t];
                    if (n.ln()) return n.field
                }
                return null
            }, fa.prototype._n = function(t) {
                for (var e = 0, n = this.filters; e < n.length; e++) {
                    var i = n[e];
                    if (0 <= t.indexOf(i.op)) return i.op
                }
                return null
            }, fa);

            function fa(t, e, n, i, r, o, s, a) {
                void 0 === e && (e = null), void 0 === n && (n = []), void 0 === i && (i = []), void 0 === r && (r = null), void 0 === o && (o = "F"), void 0 === s && (s = null), void 0 === a && (a = null), this.path = t, this.collectionGroup = e, this.tn = n, this.filters = i, this.limit = r, this.en = o, this.startAt = s, this.endAt = a, this.nn = null, this.sn = null, this.startAt, this.endAt
            }

            function ga(t, e, n, i, r, o, s, a) {
                return new pa(t, e, n, i, r, o, s, a)
            }

            function va(t) {
                return new pa(t)
            }

            function ma(t) {
                return null !== t.collectionGroup
            }

            function ya(t) {
                var e = da(t, pa);
                if (null === e.nn) {
                    e.nn = [];
                    var n = e.cn(),
                        i = e.un();
                    if (null !== n && null === i) n.O() || e.nn.push(new Qa(n)), e.nn.push(new Qa(Ji.L(), "asc"));
                    else {
                        for (var r = !1, o = 0, s = e.tn; o < s.length; o++) {
                            var a = s[o];
                            e.nn.push(a), a.field.O() && (r = !0)
                        }
                        if (!r) {
                            var u = 0 < e.tn.length ? e.tn[e.tn.length - 1].dir : "asc";
                            e.nn.push(new Qa(Ji.L(), u))
                        }
                    }
                }
                return e.nn
            }

            function _a(t) {
                var e = da(t, pa);
                if (!e.sn)
                    if ("F" === e.en) e.sn = dr(e.path, e.collectionGroup, ya(e), e.filters, e.limit, e.startAt, e.endAt);
                    else {
                        for (var n = [], i = 0, r = ya(e); i < r.length; i++) {
                            var o = r[i],
                                s = "desc" === o.dir ? "asc" : "desc";
                            n.push(new Qa(o.field, s))
                        }
                        var a = e.endAt ? new qa(e.endAt.position, !e.endAt.before) : null,
                            u = e.startAt ? new qa(e.startAt.position, !e.startAt.before) : null;
                        e.sn = dr(e.path, e.collectionGroup, n, e.filters, e.limit, a, u)
                    } return e.sn
            }

            function ba(t, e, n) {
                return new pa(t.path, t.collectionGroup, t.tn.slice(), t.filters.slice(), e, n, t.startAt, t.endAt)
            }

            function wa(t, e) {
                return new pa(t.path, t.collectionGroup, t.tn.slice(), t.filters.slice(), t.limit, t.en, e, t.endAt)
            }

            function Ea(t, e) {
                return new pa(t.path, t.collectionGroup, t.tn.slice(), t.filters.slice(), t.limit, t.en, t.startAt, e)
            }

            function Ia(t, e) {
                return fr(_a(t), _a(e)) && t.en === e.en
            }

            function Ta(t) {
                return pr(_a(t)) + "|lt:" + t.en
            }

            function Ca(t) {
                return "Query(target=" + (n = (e = _a(t)).path.$(), null !== e.collectionGroup && (n += " collectionGroup=" + e.collectionGroup), 0 < e.filters.length && (n += ", filters: [" + e.filters.map((function(t) {
                    return (e = t).field.$() + " " + e.op + " " + bo(e.value);
                    var e
                })).join(", ") + "]"), ur(e.limit) || (n += ", limit: " + e.limit), 0 < e.orderBy.length && (n += ", orderBy: [" + e.orderBy.map((function(t) {
                    return (e = t).field.$() + " (" + e.dir + ")";
                    var e
                })).join(", ") + "]"), e.startAt && (n += ", startAt: " + Ka(e.startAt)), e.endAt && (n += ", endAt: " + Ka(e.endAt)), "Target(" + n + "); limitType=") + t.en + ")";
                var e, n
            }

            function ka(t, e) {
                return r = t, o = e.key.path, (null !== r.collectionGroup ? e.key.U(r.collectionGroup) && r.path.D(o) : Zi.W(r.path) ? r.path.isEqual(o) : r.path.C(o)) && function(e) {
                    for (var n = 0, i = t.tn; n < i.length; n++) {
                        var r = i[n];
                        if (!r.field.O() && null === e.field(r.field)) return
                    }
                    return 1
                }(e) && function(e) {
                    for (var n = 0, i = t.filters; n < i.length; n++)
                        if (!i[n].matches(e)) return;
                    return 1
                }(e) && (i = e, (!(n = t).startAt || Ga(n.startAt, ya(n), i)) && (!n.endAt || !Ga(n.endAt, ya(n), i)));
                var n, i, r, o
            }

            function Sa(t) {
                return function(e, n) {
                    for (var i = !1, r = 0, o = ya(t); r < o.length; r++) {
                        var s = o[r],
                            a = Xa(s, e, n);
                        if (0 !== a) return a;
                        i = i || s.field.O()
                    }
                    return 0
                }
            }
            var xa, Da = (o(Na, xa = function() {}), Na.create = function(t, e, n) {
                if (t.O()) return "in" === e ? new Fa(t, n) : new Ma(t, e, n);
                if (So(n)) {
                    if ("==" !== e) throw new $i(zi.INVALID_ARGUMENT, "Invalid query. Null supports only equality comparisons.");
                    return new Na(t, e, n)
                }
                if (xo(n)) {
                    if ("==" !== e) throw new $i(zi.INVALID_ARGUMENT, "Invalid query. NaN supports only equality comparisons.");
                    return new Na(t, e, n)
                }
                return "array-contains" === e ? new Ua(t, n) : "in" === e ? new ja(t, n) : "array-contains-any" === e ? new Ha(t, n) : new Na(t, e, n)
            }, Na.prototype.matches = function(t) {
                var e = t.field(this.field);
                return null !== e && go(this.value) === go(e) && this.fn(yo(e, this.value))
            }, Na.prototype.fn = function(t) {
                switch (this.op) {
                    case "<":
                        return t < 0;
                    case "<=":
                        return t <= 0;
                    case "==":
                        return 0 === t;
                    case ">":
                        return 0 < t;
                    case ">=":
                        return 0 <= t;
                    default:
                        return Si()
                }
            }, Na.prototype.ln = function() {
                return 0 <= ["<", "<=", ">", ">="].indexOf(this.op)
            }, Na);

            function Na(t, e, n) {
                var i = this;
                return (i = xa.call(this) || this).field = t, i.op = e, i.value = n, i
            }
            var Aa, Pa, Oa, Ra, La, Ma = (o($a, La = Da), $a.prototype.matches = function(t) {
                    var e = Zi.P(t.key, this.key);
                    return this.fn(e)
                }, $a),
                Fa = (o(za, Ra = Da), za.prototype.matches = function(t) {
                    return this.keys.some((function(e) {
                        return e.isEqual(t.key)
                    }))
                }, za),
                Ua = (o(Ba, Oa = Da), Ba.prototype.matches = function(t) {
                    var e = t.field(this.field);
                    return ko(e) && mo(e.arrayValue, this.value)
                }, Ba),
                ja = (o(Va, Pa = Da), Va.prototype.matches = function(t) {
                    var e = t.field(this.field);
                    return null !== e && mo(this.value.arrayValue, e)
                }, Va),
                Ha = (o(Wa, Aa = Da), Wa.prototype.matches = function(t) {
                    var e = this,
                        n = t.field(this.field);
                    return !(!ko(n) || !n.arrayValue.values) && n.arrayValue.values.some((function(t) {
                        return mo(e.value.arrayValue, t)
                    }))
                }, Wa),
                qa = function(t, e) {
                    this.position = t, this.before = e
                };

            function Wa(t, e) {
                return Aa.call(this, t, "array-contains-any", e) || this
            }

            function Va(t, e) {
                return Pa.call(this, t, "in", e) || this
            }

            function Ba(t, e) {
                return Oa.call(this, t, "array-contains", e) || this
            }

            function za(t, e) {
                var n = this;
                return (n = Ra.call(this, t, "in", e) || this).keys = (e.arrayValue.values || []).map((function(t) {
                    return Zi.B(t.referenceValue)
                })), n
            }

            function $a(t, e, n) {
                var i = this;
                return (i = La.call(this, t, e, n) || this).key = Zi.B(n.referenceValue), i
            }

            function Ka(t) {
                return (t.before ? "b" : "a") + ":" + t.position.map((function(t) {
                    return bo(t)
                })).join(",")
            }

            function Ga(t, e, n) {
                for (var i = 0, r = 0; r < t.position.length; r++) {
                    var o = e[r],
                        s = t.position[r];
                    if (i = o.field.O() ? Zi.P(Zi.B(s.referenceValue), n.key) : yo(s, n.field(o.field)), "desc" === o.dir && (i *= -1), 0 !== i) break
                }
                return t.before ? i <= 0 : i < 0
            }

            function Ya(t, e) {
                if (null === t) return null === e;
                if (null === e) return !1;
                if (t.before !== e.before || t.position.length !== e.position.length) return !1;
                for (var n = 0; n < t.position.length; n++)
                    if (!vo(t.position[n], e.position[n])) return !1;
                return !0
            }
            var Qa = function(t, e) {
                void 0 === e && (e = "asc"), this.field = t, this.dir = e
            };

            function Xa(t, e, n) {
                var i, r, o, s, a = t.field.O() ? Zi.P(e.key, n.key) : (i = t.field, r = n, o = e.field(i), s = r.field(i), null !== o && null !== s ? yo(o, s) : Si());
                switch (t.dir) {
                    case "asc":
                        return a;
                    case "desc":
                        return -1 * a;
                    default:
                        return Si()
                }
            }
            var Ja = (fu.prototype.wn = function(t, e, n) {
                    for (var i = n.Tn, r = 0; r < this.mutations.length; r++) {
                        var o = this.mutations[r];
                        o.key.isEqual(t) && (e = Ds(o, e, i[r]))
                    }
                    return e
                }, fu.prototype.En = function(t, e) {
                    for (var n = 0, i = this.baseMutations; n < i.length; n++) {
                        var r = i[n];
                        r.key.isEqual(t) && (e = Ns(r, e, e, this.dn))
                    }
                    for (var o = e, s = 0, a = this.mutations; s < a.length; s++) {
                        var u = a[s];
                        u.key.isEqual(t) && (e = Ns(u, e, o, this.dn))
                    }
                    return e
                }, fu.prototype.In = function(t) {
                    var e = this,
                        n = t;
                    return this.mutations.forEach((function(i) {
                        var r = e.En(i.key, t.get(i.key));
                        r && (n = n.nt(i.key, r))
                    })), n
                }, fu.prototype.keys = function() {
                    return this.mutations.reduce((function(t, e) {
                        return t.add(e.key)
                    }), Vr())
                }, fu.prototype.isEqual = function(t) {
                    return this.batchId === t.batchId && Oi(this.mutations, t.mutations, (function(t, e) {
                        return As(t, e)
                    })) && Oi(this.baseMutations, t.baseMutations, (function(t, e) {
                        return As(t, e)
                    }))
                }, fu),
                Za = (pu.from = function(t, e, n) {
                    xi(t.mutations.length === n.length);
                    for (var i = qr, r = t.mutations, o = 0; o < r.length; o++) i = i.nt(r[o].key, n[o].version);
                    return new pu(t, e, n, i)
                }, pu),
                tu = (du.prototype.catch = function(t) {
                    return this.next(void 0, t)
                }, du.prototype.next = function(t, e) {
                    var n = this;
                    return this.Vn && Si(), this.Vn = !0, this.gn ? this.error ? this.yn(e, this.error) : this.pn(t, this.result) : new du((function(i, r) {
                        n.Rn = function(e) {
                            n.pn(t, e).next(i, r)
                        }, n.Pn = function(t) {
                            n.yn(e, t).next(i, r)
                        }
                    }))
                }, du.prototype.bn = function() {
                    var t = this;
                    return new Promise((function(e, n) {
                        t.next(e, n)
                    }))
                }, du.prototype.vn = function(t) {
                    try {
                        var e = t();
                        return e instanceof du ? e : du.resolve(e)
                    } catch (t) {
                        return du.reject(t)
                    }
                }, du.prototype.pn = function(t, e) {
                    return t ? this.vn((function() {
                        return t(e)
                    })) : du.resolve(e)
                }, du.prototype.yn = function(t, e) {
                    return t ? this.vn((function() {
                        return t(e)
                    })) : du.reject(e)
                }, du.resolve = function(t) {
                    return new du((function(e, n) {
                        e(t)
                    }))
                }, du.reject = function(t) {
                    return new du((function(e, n) {
                        n(t)
                    }))
                }, du.Sn = function(t) {
                    return new du((function(e, n) {
                        var i = 0,
                            r = 0,
                            o = !1;
                        t.forEach((function(t) {
                            ++i, t.next((function() {
                                ++r, o && r === i && e()
                            }), (function(t) {
                                return n(t)
                            }))
                        })), o = !0, r === i && e()
                    }))
                }, du.Dn = function(t) {
                    for (var e = du.resolve(!1), n = function(t) {
                            e = e.next((function(e) {
                                return e ? du.resolve(e) : t()
                            }))
                        }, i = 0, r = t; i < r.length; i++) n(r[i]);
                    return e
                }, du.forEach = function(t, e) {
                    var n = this,
                        i = [];
                    return t.forEach((function(t, r) {
                        i.push(e.call(n, t, r))
                    })), this.Sn(i)
                }, du),
                eu = (Object.defineProperty(cu.prototype, "readTime", {
                    get: function() {
                        return this.$n
                    },
                    set: function(t) {
                        this.$n = t
                    },
                    enumerable: !1,
                    configurable: !0
                }), cu.prototype.Nn = function(t, e) {
                    this.kn(), this.readTime = e, this.Cn.set(t.key, t)
                }, cu.prototype.xn = function(t, e) {
                    this.kn(), e && (this.readTime = e), this.Cn.set(t, null)
                }, cu.prototype.Mn = function(t, e) {
                    this.kn();
                    var n = this.Cn.get(e);
                    return void 0 !== n ? tu.resolve(n) : this.On(t, e)
                }, cu.prototype.getEntries = function(t, e) {
                    return this.Ln(t, e)
                }, cu.prototype.apply = function(t) {
                    return this.kn(), this.Fn = !0, this.qn(t)
                }, cu.prototype.kn = function() {}, cu),
                nu = "The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",
                iu = (hu.prototype.Un = function(t) {
                    this.Bn.push(t)
                }, hu.prototype.Wn = function() {
                    this.Bn.forEach((function(t) {
                        return t()
                    }))
                }, hu),
                ru = (lu.prototype.Gn = function(t, e) {
                    var n = this;
                    return this.jn.zn(t, e).next((function(i) {
                        return n.Hn(t, e, i)
                    }))
                }, lu.prototype.Hn = function(t, e, n) {
                    return this.Qn.Mn(t, e).next((function(t) {
                        for (var i = 0, r = n; i < r.length; i++) t = r[i].En(e, t);
                        return t
                    }))
                }, lu.prototype.Yn = function(t, e, n) {
                    var i = Ur();
                    return e.forEach((function(t, e) {
                        for (var r = 0, o = n; r < o.length; r++) e = o[r].En(t, e);
                        i = i.nt(t, e)
                    })), i
                }, lu.prototype.Jn = function(t, e) {
                    var n = this;
                    return this.Qn.getEntries(t, e).next((function(e) {
                        return n.Xn(t, e)
                    }))
                }, lu.prototype.Xn = function(t, e) {
                    var n = this;
                    return this.jn.Zn(t, e).next((function(i) {
                        var r = n.Yn(t, e, i),
                            o = Fr();
                        return r.forEach((function(t, e) {
                            e = e || new aa(t, Gi.min()), o = o.nt(t, e)
                        })), o
                    }))
                }, lu.prototype.ts = function(t, e, n) {
                    return i = e, Zi.W(i.path) && null === i.collectionGroup && 0 === i.filters.length ? this.es(t, e.path) : ma(e) ? this.ns(t, e, n) : this.ss(t, e, n);
                    var i
                }, lu.prototype.es = function(t, e) {
                    return this.Gn(t, new Zi(e)).next((function(t) {
                        var e = Hr();
                        return t instanceof sa && (e = e.nt(t.key, t)), e
                    }))
                }, lu.prototype.ns = function(t, e, n) {
                    var i = this,
                        r = e.collectionGroup,
                        o = Hr();
                    return this.Kn.rs(t, r).next((function(s) {
                        return tu.forEach(s, (function(s) {
                            var a = e.rn(s.child(r));
                            return i.ss(t, a, n).next((function(t) {
                                t.forEach((function(t, e) {
                                    o = o.nt(t, e)
                                }))
                            }))
                        })).next((function() {
                            return o
                        }))
                    }))
                }, lu.prototype.ss = function(t, e, n) {
                    var i, r, o = this;
                    return this.Qn.ts(t, e, n).next((function(n) {
                        return i = n, o.jn.os(t, e)
                    })).next((function(e) {
                        return r = e, o.hs(t, r, i).next((function(t) {
                            i = t;
                            for (var e = 0, n = r; e < n.length; e++)
                                for (var o = n[e], s = 0, a = o.mutations; s < a.length; s++) {
                                    var u = a[s],
                                        l = u.key,
                                        h = i.get(l),
                                        c = Ns(u, h, h, o.dn);
                                    i = c instanceof sa ? i.nt(l, c) : i.remove(l)
                                }
                        }))
                    })).next((function() {
                        return i.forEach((function(t, n) {
                            ka(e, n) || (i = i.remove(t))
                        })), i
                    }))
                }, lu.prototype.hs = function(t, e, n) {
                    for (var i = Vr(), r = 0, o = e; r < o.length; r++)
                        for (var s = 0, a = o[r].mutations; s < a.length; s++) {
                            var u = a[s];
                            u instanceof Ms && null === n.get(u.key) && (i = i.add(u.key))
                        }
                    var l = n;
                    return this.Qn.getEntries(t, i).next((function(t) {
                        return t.forEach((function(t, e) {
                            null !== e && e instanceof sa && (l = l.nt(t, e))
                        })), l
                    }))
                }, lu),
                ou = (uu.cs = function(t, e) {
                    for (var n = Vr(), i = Vr(), r = 0, o = e.docChanges; r < o.length; r++) {
                        var s = o[r];
                        switch (s.type) {
                            case 0:
                                n = n.add(s.doc.key);
                                break;
                            case 1:
                                i = i.add(s.doc.key)
                        }
                    }
                    return new uu(t, e.fromCache, n, i)
                }, uu),
                su = (au.prototype._s = function(t) {
                    return this.previousValue = Math.max(t, this.previousValue), this.previousValue
                }, au.prototype.next = function() {
                    var t = ++this.previousValue;
                    return this.fs && this.fs(t), t
                }, au);

            function au(t, e) {
                var n = this;
                this.previousValue = t, e && (e.ls = function(t) {
                    return n._s(t)
                }, this.fs = function(t) {
                    return e.ds(t)
                })
            }

            function uu(t, e, n, i) {
                this.targetId = t, this.fromCache = e, this.as = n, this.us = i
            }

            function lu(t, e, n) {
                this.Qn = t, this.jn = e, this.Kn = n
            }

            function hu() {
                this.Bn = []
            }

            function cu() {
                this.Cn = new Bi((function(t) {
                    return t.toString()
                }), (function(t, e) {
                    return t.isEqual(e)
                })), this.Fn = !1
            }

            function du(t) {
                var e = this;
                this.Rn = null, this.Pn = null, this.result = void 0, this.error = void 0, this.gn = !1, this.Vn = !1, t((function(t) {
                    e.gn = !0, e.result = t, e.Rn && e.Rn(t)
                }), (function(t) {
                    e.gn = !0, e.error = t, e.Pn && e.Pn(t)
                }))
            }

            function pu(t, e, n, i) {
                this.batch = t, this.mn = e, this.Tn = n, this.An = i
            }

            function fu(t, e, n, i) {
                this.batchId = t, this.dn = e, this.baseMutations = n, this.mutations = i
            }

            function gu() {
                var t = this;
                this.promise = new Promise((function(e, n) {
                    t.resolve = e, t.reject = n
                }))
            }
            su.ws = -1;
            var vu = (mu.prototype.reset = function() {
                this.Rs = 0
            }, mu.prototype.Vs = function() {
                this.Rs = this.As
            }, mu.prototype.ys = function(t) {
                var e = this;
                this.cancel();
                var n = Math.floor(this.Rs + this.ps()),
                    i = Math.max(0, Date.now() - this.gs),
                    r = Math.max(0, n - i);
                0 < r && Ti("ExponentialBackoff", "Backing off for " + r + " ms (base delay: " + this.Rs + " ms, delay with jitter: " + n + " ms, last attempt: " + i + " ms ago)"), this.Ps = this.Ts.bs(this.Es, r, (function() {
                    return e.gs = Date.now(), t()
                })), this.Rs *= this.ms, this.Rs < this.Is && (this.Rs = this.Is), this.Rs > this.As && (this.Rs = this.As)
            }, mu.prototype.vs = function() {
                null !== this.Ps && (this.Ps.Ss(), this.Ps = null)
            }, mu.prototype.cancel = function() {
                null !== this.Ps && (this.Ps.cancel(), this.Ps = null)
            }, mu.prototype.ps = function() {
                return (Math.random() - .5) * this.Rs
            }, mu);

            function mu(t, e, n, i, r) {
                void 0 === n && (n = 1e3), void 0 === i && (i = 1.5), void 0 === r && (r = 6e4), this.Ts = t, this.Es = e, this.Is = n, this.ms = i, this.As = r, this.Rs = 0, this.Ps = null, this.gs = Date.now(), this.reset()
            }

            function yu(t) {
                for (var e = "", n = 0; n < t.length; n++) 0 < e.length && (e = bu(e)), e = _u(t.get(n), e);
                return bu(e)
            }

            function _u(t, e) {
                for (var n = e, i = t.length, r = 0; r < i; r++) {
                    var o = t.charAt(r);
                    switch (o) {
                        case "\0":
                            n += "";
                            break;
                        case "":
                            n += "";
                            break;
                        default:
                            n += o
                    }
                }
                return n
            }

            function bu(t) {
                return t + ""
            }

            function wu(t) {
                var e = t.length;
                if (xi(2 <= e), 2 === e) return xi("" === t.charAt(0) && "" === t.charAt(1)), Qi.k();
                for (var n = e - 2, i = [], r = "", o = 0; o < e;) {
                    var s = t.indexOf("", o);
                    switch ((s < 0 || n < s) && Si(), t.charAt(s + 1)) {
                        case "":
                            var a = t.substring(o, s),
                                u = void 0;
                            0 === r.length ? u = a : (u = r += a, r = ""), i.push(u);
                            break;
                        case "":
                            r += t.substring(o, s), r += "\0";
                            break;
                        case "":
                            r += t.substring(o, s + 1);
                            break;
                        default:
                            Si()
                    }
                    o = s + 2
                }
                return new Qi(i)
            }
            var Eu = (Su.prototype.Cs = function(t, e) {
                    return this.Ds.add(e), tu.resolve()
                }, Su.prototype.rs = function(t, e) {
                    return tu.resolve(this.Ds.getEntries(e))
                }, Su),
                Iu = (ku.prototype.add = function(t) {
                    var e = t.S(),
                        n = t.p(),
                        i = this.index[e] || new Pr(Qi.P),
                        r = !i.has(n);
                    return this.index[e] = i.add(n), r
                }, ku.prototype.has = function(t) {
                    var e = t.S(),
                        n = t.p(),
                        i = this.index[e];
                    return i && i.has(n)
                }, ku.prototype.getEntries = function(t) {
                    return (this.index[t] || new Pr(Qi.P)).F()
                }, ku),
                Tu = (Cu.prototype.Cs = function(t, e) {
                    var n = this;
                    if (this.Fs.has(e)) return tu.resolve();
                    var i = e.S(),
                        r = e.p();
                    t.Un((function() {
                        n.Fs.add(e)
                    }));
                    var o = {
                        collectionId: i,
                        parent: yu(r)
                    };
                    return xu(t).put(o)
                }, Cu.prototype.rs = function(t, e) {
                    var n = [],
                        i = IDBKeyRange.bound([e, ""], [Ri(e), ""], !1, !0);
                    return xu(t).$s(i).next((function(t) {
                        for (var i = 0, r = t; i < r.length; i++) {
                            var o = r[i];
                            if (o.collectionId !== e) break;
                            n.push(wu(o.parent))
                        }
                        return n
                    }))
                }, Cu);

            function Cu() {
                this.Fs = new Iu
            }

            function ku() {
                this.index = {}
            }

            function Su() {
                this.Ds = new Iu
            }

            function xu(t) {
                return il.Ns(t, Ll.store)
            }

            function Du(t) {
                this.ks = t
            }

            function Nu(t, e) {
                if (e.document) return n = t.ks, i = e.document, r = !!e.hasCommittedMutations, o = Wo(n, i.name), s = Uo(i.updateTime), a = new Ys({
                    mapValue: {
                        fields: i.fields
                    }
                }), new sa(o, s, a, {
                    hasCommittedMutations: !!r
                });
                var n, i, r, o, s, a;
                if (e.noDocument) {
                    var u = Zi.j(e.noDocument.path),
                        l = Lu(e.noDocument.readTime);
                    return new aa(u, l, {
                        hasCommittedMutations: !!e.hasCommittedMutations
                    })
                }
                if (e.unknownDocument) {
                    var h = Zi.j(e.unknownDocument.path),
                        c = Lu(e.unknownDocument.version);
                    return new ua(h, c)
                }
                return Si()
            }

            function Au(t, e, n) {
                var i, r, o = Pu(n),
                    s = e.key.path.p().F();
                if (e instanceof sa) {
                    var a = {
                            name: qo(i = t.ks, (r = e).key),
                            fields: r.Ze().mapValue.fields,
                            updateTime: Mo(i, r.version.A())
                        },
                        u = e.hasCommittedMutations;
                    return new Nl(null, null, a, u, o, s)
                }
                if (e instanceof aa) {
                    var l = e.key.path.F(),
                        h = Ru(e.version),
                        c = e.hasCommittedMutations;
                    return new Nl(null, new xl(l, h), null, c, o, s)
                }
                if (e instanceof ua) {
                    var d = e.key.path.F(),
                        p = Ru(e.version);
                    return new Nl(new Dl(d, p), null, null, !0, o, s)
                }
                return Si()
            }

            function Pu(t) {
                var e = t.A();
                return [e.seconds, e.nanoseconds]
            }

            function Ou(t) {
                var e = new Ki(t[0], t[1]);
                return Gi.I(e)
            }

            function Ru(t) {
                var e = t.A();
                return new wl(e.seconds, e.nanoseconds)
            }

            function Lu(t) {
                var e = new Ki(t.seconds, t.nanoseconds);
                return Gi.I(e)
            }

            function Mu(t, e) {
                var n = (e.baseMutations || []).map((function(e) {
                        return Yo(t.ks, e)
                    })),
                    i = e.mutations.map((function(e) {
                        return Yo(t.ks, e)
                    })),
                    r = Ki.fromMillis(e.localWriteTimeMs);
                return new Ja(e.batchId, r, n, i)
            }

            function Fu(t) {
                var e, n, i = Lu(t.readTime),
                    r = void 0 !== t.lastLimboFreeSnapshotVersion ? Lu(t.lastLimboFreeSnapshotVersion) : Gi.min();
                return e = void 0 !== t.query.documents ? (xi(1 === (n = t.query).documents.length), _a(va(Bo(n.documents[0])))) : function(t) {
                    var e = Bo(t.parent),
                        n = t.structuredQuery,
                        i = n.from ? n.from.length : 0,
                        r = null;
                    if (0 < i) {
                        xi(1 === i);
                        var o = n.from[0];
                        o.allDescendants ? r = o.collectionId : e = e.child(o.collectionId)
                    }
                    var s = [];
                    n.where && (s = function t(e) {
                        return e ? void 0 !== e.unaryFilter ? [function(t) {
                            switch (t.unaryFilter.op) {
                                case "IS_NAN":
                                    var e = es(t.unaryFilter.field);
                                    return Da.create(e, "==", {
                                        doubleValue: NaN
                                    });
                                case "IS_NULL":
                                    var n = es(t.unaryFilter.field);
                                    return Da.create(n, "==", {
                                        nullValue: "NULL_VALUE"
                                    });
                                case "OPERATOR_UNSPECIFIED":
                                default:
                                    return Si()
                            }
                        }(e)] : void 0 !== e.fieldFilter ? [(n = e, Da.create(es(n.fieldFilter.field), function() {
                            switch (n.fieldFilter.op) {
                                case "EQUAL":
                                    return "==";
                                case "GREATER_THAN":
                                    return ">";
                                case "GREATER_THAN_OR_EQUAL":
                                    return ">=";
                                case "LESS_THAN":
                                    return "<";
                                case "LESS_THAN_OR_EQUAL":
                                    return "<=";
                                case "ARRAY_CONTAINS":
                                    return "array-contains";
                                case "IN":
                                    return "in";
                                case "ARRAY_CONTAINS_ANY":
                                    return "array-contains-any";
                                case "OPERATOR_UNSPECIFIED":
                                default:
                                    return Si()
                            }
                        }(), n.fieldFilter.value))] : void 0 !== e.compositeFilter ? e.compositeFilter.filters.map((function(e) {
                            return t(e)
                        })).reduce((function(t, e) {
                            return t.concat(e)
                        })) : Si() : [];
                        var n
                    }(n.where));
                    var a = [];
                    n.orderBy && (a = n.orderBy.map((function(t) {
                        return new Qa(es((e = t).field), function() {
                            switch (e.direction) {
                                case "ASCENDING":
                                    return "asc";
                                case "DESCENDING":
                                    return "desc";
                                default:
                                    return
                            }
                        }());
                        var e
                    })));
                    var u, l, h = null;
                    n.limit && (h = ur(l = "object" == typeof(u = n.limit) ? u.value : u) ? null : l);
                    var c = null;
                    n.startAt && (c = Zo(n.startAt));
                    var d = null;
                    return n.endAt && (d = Zo(n.endAt)), _a(ga(e, r, a, s, h, "F", c, d))
                }(t.query), new wr(e, t.targetId, 0, t.lastListenSequenceNumber, i, r, vr.fromBase64String(t.resumeToken))
            }

            function Uu(t, e) {
                var n, i = Ru(e.X),
                    r = Ru(e.lastLimboFreeSnapshotVersion);
                n = (gr(e.target) ? Qo : Xo)(t.ks, e.target);
                var o = e.resumeToken.toBase64();
                return new Pl(e.targetId, pr(e.target), i, o, e.sequenceNumber, r, n)
            }
            var ju, Hu = (qu.prototype.Nn = function(t, e, n) {
                return Vu(t).put(Bu(e), n)
            }, qu.prototype.xn = function(t, e) {
                var n = Vu(t),
                    i = Bu(e);
                return n.delete(i)
            }, qu.prototype.updateMetadata = function(t, e) {
                var n = this;
                return this.getMetadata(t).next((function(i) {
                    return i.byteSize += e, n.xs(t, i)
                }))
            }, qu.prototype.Mn = function(t, e) {
                var n = this;
                return Vu(t).get(Bu(e)).next((function(t) {
                    return n.Ms(t)
                }))
            }, qu.prototype.Os = function(t, e) {
                var n = this;
                return Vu(t).get(Bu(e)).next((function(t) {
                    var e = n.Ms(t);
                    return e ? {
                        Ls: e,
                        size: zu(t)
                    } : null
                }))
            }, qu.prototype.getEntries = function(t, e) {
                var n = this,
                    i = Ur();
                return this.qs(t, e, (function(t, e) {
                    var r = n.Ms(e);
                    i = i.nt(t, r)
                })).next((function() {
                    return i
                }))
            }, qu.prototype.Bs = function(t, e) {
                var n = this,
                    i = Ur(),
                    r = new Cr(Zi.P);
                return this.qs(t, e, (function(t, e) {
                    var o = n.Ms(e);
                    r = o ? (i = i.nt(t, o), r.nt(t, zu(e))) : (i = i.nt(t, null), r.nt(t, 0))
                })).next((function() {
                    return {
                        Us: i,
                        Ws: r
                    }
                }))
            }, qu.prototype.qs = function(t, e, n) {
                if (e._()) return tu.resolve();
                var i = IDBKeyRange.bound(e.first().path.F(), e.last().path.F()),
                    r = e.at(),
                    o = r.dt();
                return Vu(t).Qs({
                    range: i
                }, (function(t, e, i) {
                    for (var s = Zi.j(t); o && Zi.P(o, s) < 0;) n(o, null), o = r.dt();
                    o && o.isEqual(s) && (n(o, e), o = r.wt() ? r.dt() : null), o ? i.js(o.path.F()) : i.done()
                })).next((function() {
                    for (; o;) n(o, null), o = r.wt() ? r.dt() : null
                }))
            }, qu.prototype.ts = function(t, e, n) {
                var i = this,
                    r = Hr(),
                    o = e.path.length + 1,
                    s = {};
                if (n.isEqual(Gi.min())) {
                    var a = e.path.F();
                    s.range = IDBKeyRange.lowerBound(a)
                } else {
                    var u = e.path.F(),
                        l = Pu(n);
                    s.range = IDBKeyRange.lowerBound([u, l], !0), s.index = Nl.collectionReadTimeIndex
                }
                return Vu(t).Qs(s, (function(t, n, s) {
                    if (t.length === o) {
                        var a = Nu(i.serializer, n);
                        e.path.D(a.key.path) ? a instanceof sa && ka(e, a) && (r = r.nt(a.key, a)) : s.done()
                    }
                })).next((function() {
                    return r
                }))
            }, qu.prototype.Ks = function(t, e) {
                var n = this,
                    i = Fr(),
                    r = Pu(e),
                    o = Vu(t),
                    s = IDBKeyRange.lowerBound(r, !0);
                return o.Qs({
                    index: Nl.readTimeIndex,
                    range: s
                }, (function(t, e) {
                    var o = Nu(n.serializer, e);
                    i = i.nt(o.key, o), r = e.readTime
                })).next((function() {
                    return {
                        Gs: i,
                        readTime: Ou(r)
                    }
                }))
            }, qu.prototype.zs = function(t) {
                var e = Vu(t),
                    n = Gi.min();
                return e.Qs({
                    index: Nl.readTimeIndex,
                    reverse: !0
                }, (function(t, e, i) {
                    e.readTime && (n = Ou(e.readTime)), i.done()
                })).next((function() {
                    return n
                }))
            }, qu.prototype.Hs = function(t) {
                return new qu.Ys(this, !!t && t.Js)
            }, qu.prototype.Xs = function(t) {
                return this.getMetadata(t).next((function(t) {
                    return t.byteSize
                }))
            }, qu.prototype.getMetadata = function(t) {
                return Wu(t).get(Al.key).next((function(t) {
                    return xi(!!t), t
                }))
            }, qu.prototype.xs = function(t, e) {
                return Wu(t).put(Al.key, e)
            }, qu.prototype.Ms = function(t) {
                if (t) {
                    var e = Nu(this.serializer, t);
                    return e instanceof aa && e.version.isEqual(Gi.min()) ? null : e
                }
                return null
            }, qu);

            function qu(t, e) {
                this.serializer = t, this.Kn = e
            }

            function Wu(t) {
                return il.Ns(t, Al.store)
            }

            function Vu(t) {
                return il.Ns(t, Nl.store)
            }

            function Bu(t) {
                return t.path.F()
            }

            function zu(t) {
                var e;
                if (t.document) e = t.document;
                else if (t.unknownDocument) e = t.unknownDocument;
                else {
                    if (!t.noDocument) throw Si();
                    e = t.noDocument
                }
                return JSON.stringify(e).length
            }

            function $u(t, e) {
                var n = this;
                return (n = ju.call(this) || this).Zs = t, n.Js = e, n.ti = new Bi((function(t) {
                    return t.toString()
                }), (function(t, e) {
                    return t.isEqual(e)
                })), n
            }
            Hu.Ys = (o($u, ju = eu), $u.prototype.qn = function(t) {
                var e = this,
                    n = [],
                    i = 0,
                    r = new Pr((function(t, e) {
                        return Pi(t.$(), e.$())
                    }));
                return this.Cn.forEach((function(o, s) {
                    var a = e.ti.get(o);
                    if (s) {
                        var u = Au(e.Zs.serializer, s, e.readTime);
                        r = r.add(o.path.p());
                        var l = zu(u);
                        i += l - a, n.push(e.Zs.Nn(t, o, u))
                    } else if (i -= a, e.Js) {
                        var h = Au(e.Zs.serializer, new aa(o, Gi.min()), e.readTime);
                        n.push(e.Zs.Nn(t, o, h))
                    } else n.push(e.Zs.xn(t, o))
                })), r.forEach((function(i) {
                    n.push(e.Zs.Kn.Cs(t, i))
                })), n.push(this.Zs.updateMetadata(t, i)), tu.Sn(n)
            }, $u.prototype.On = function(t, e) {
                var n = this;
                return this.Zs.Os(t, e).next((function(t) {
                    return null === t ? (n.ti.set(e, 0), null) : (n.ti.set(e, t.size), t.Ls)
                }))
            }, $u.prototype.Ln = function(t, e) {
                var n = this;
                return this.Zs.Bs(t, e).next((function(t) {
                    var e = t.Us;
                    return t.Ws.forEach((function(t, e) {
                        n.ti.set(t, e)
                    })), e
                }))
            }, $u);
            var Ku = (Qu.prototype.next = function() {
                    return this.ei += 2, this.ei
                }, Qu.ni = function() {
                    return new Qu(0)
                }, Qu.si = function() {
                    return new Qu(-1)
                }, Qu),
                Gu = (Yu.prototype.ri = function(t) {
                    var e = this;
                    return this.oi(t).next((function(n) {
                        var i = new Ku(n.highestTargetId);
                        return n.highestTargetId = i.next(), e.hi(t, n).next((function() {
                            return n.highestTargetId
                        }))
                    }))
                }, Yu.prototype.ai = function(t) {
                    return this.oi(t).next((function(t) {
                        return Gi.I(new Ki(t.lastRemoteSnapshotVersion.seconds, t.lastRemoteSnapshotVersion.nanoseconds))
                    }))
                }, Yu.prototype.ui = function(t) {
                    return this.oi(t).next((function(t) {
                        return t.highestListenSequenceNumber
                    }))
                }, Yu.prototype.ci = function(t, e, n) {
                    var i = this;
                    return this.oi(t).next((function(r) {
                        return r.highestListenSequenceNumber = e, n && (r.lastRemoteSnapshotVersion = n.A()), e > r.highestListenSequenceNumber && (r.highestListenSequenceNumber = e), i.hi(t, r)
                    }))
                }, Yu.prototype.li = function(t, e) {
                    var n = this;
                    return this._i(t, e).next((function() {
                        return n.oi(t).next((function(i) {
                            return i.targetCount += 1, n.fi(e, i), n.hi(t, i)
                        }))
                    }))
                }, Yu.prototype.di = function(t, e) {
                    return this._i(t, e)
                }, Yu.prototype.wi = function(t, e) {
                    var n = this;
                    return this.Ti(t, e.targetId).next((function() {
                        return Xu(t).delete(e.targetId)
                    })).next((function() {
                        return n.oi(t)
                    })).next((function(e) {
                        return xi(0 < e.targetCount), --e.targetCount, n.hi(t, e)
                    }))
                }, Yu.prototype.Ei = function(t, e, n) {
                    var i = this,
                        r = 0,
                        o = [];
                    return Xu(t).Qs((function(s, a) {
                        var u = Fu(a);
                        u.sequenceNumber <= e && null === n.get(u.targetId) && (r++, o.push(i.wi(t, u)))
                    })).next((function() {
                        return tu.Sn(o)
                    })).next((function() {
                        return r
                    }))
                }, Yu.prototype.pe = function(t, e) {
                    return Xu(t).Qs((function(t, n) {
                        var i = Fu(n);
                        e(i)
                    }))
                }, Yu.prototype.oi = function(t) {
                    return Ju(t).get(Rl.key).next((function(t) {
                        return xi(null !== t), t
                    }))
                }, Yu.prototype.hi = function(t, e) {
                    return Ju(t).put(Rl.key, e)
                }, Yu.prototype._i = function(t, e) {
                    return Xu(t).put(Uu(this.serializer, e))
                }, Yu.prototype.fi = function(t, e) {
                    var n = !1;
                    return t.targetId > e.highestTargetId && (e.highestTargetId = t.targetId, n = !0), t.sequenceNumber > e.highestListenSequenceNumber && (e.highestListenSequenceNumber = t.sequenceNumber, n = !0), n
                }, Yu.prototype.Ii = function(t) {
                    return this.oi(t).next((function(t) {
                        return t.targetCount
                    }))
                }, Yu.prototype.mi = function(t, e) {
                    var n = pr(e),
                        i = IDBKeyRange.bound([n, Number.NEGATIVE_INFINITY], [n, Number.POSITIVE_INFINITY]),
                        r = null;
                    return Xu(t).Qs({
                        range: i,
                        index: Pl.queryTargetsIndexName
                    }, (function(t, n, i) {
                        var o = Fu(n);
                        fr(e, o.target) && (r = o, i.done())
                    })).next((function() {
                        return r
                    }))
                }, Yu.prototype.Ai = function(t, e, n) {
                    var i = this,
                        r = [],
                        o = Zu(t);
                    return e.forEach((function(e) {
                        var s = yu(e.path);
                        r.push(o.put(new Ol(n, s))), r.push(i.ii.Ri(t, n, e))
                    })), tu.Sn(r)
                }, Yu.prototype.Pi = function(t, e, n) {
                    var i = this,
                        r = Zu(t);
                    return tu.forEach(e, (function(e) {
                        var o = yu(e.path);
                        return tu.Sn([r.delete([n, o]), i.ii.gi(t, n, e)])
                    }))
                }, Yu.prototype.Ti = function(t, e) {
                    var n = Zu(t),
                        i = IDBKeyRange.bound([e], [e + 1], !1, !0);
                    return n.delete(i)
                }, Yu.prototype.Vi = function(t, e) {
                    var n = IDBKeyRange.bound([e], [e + 1], !1, !0),
                        i = Zu(t),
                        r = Vr();
                    return i.Qs({
                        range: n,
                        yi: !0
                    }, (function(t, e, n) {
                        var i = wu(t[1]),
                            o = new Zi(i);
                        r = r.add(o)
                    })).next((function() {
                        return r
                    }))
                }, Yu.prototype.pi = function(t, e) {
                    var n = yu(e.path),
                        i = IDBKeyRange.bound([n], [Ri(n)], !1, !0),
                        r = 0;
                    return Zu(t).Qs({
                        index: Ol.documentTargetsIndex,
                        yi: !0,
                        range: i
                    }, (function(t, e, n) {
                        var i = t[0];
                        t[1], 0 !== i && (r++, n.done())
                    })).next((function() {
                        return 0 < r
                    }))
                }, Yu.prototype.Me = function(t, e) {
                    return Xu(t).get(e).next((function(t) {
                        return t ? Fu(t) : null
                    }))
                }, Yu);

            function Yu(t, e) {
                this.ii = t, this.serializer = e
            }

            function Qu(t) {
                this.ei = t
            }

            function Xu(t) {
                return il.Ns(t, Pl.store)
            }

            function Ju(t) {
                return il.Ns(t, Rl.store)
            }

            function Zu(t) {
                return il.Ns(t, Ol.store)
            }
            var tl, el = "Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",
                nl = (o(ol, tl = iu), ol),
                il = (rl.Ns = function(t, e) {
                    if (t instanceof nl) return Hl.Ns(t.bi, e);
                    throw Si()
                }, rl.prototype.start = function() {
                    var t = this;
                    return Hl.Ui(this.Li, _l, new bl(this.serializer)).then((function(e) {
                        return t.Wi = e, t.Qi()
                    })).then((function() {
                        if (!t.isPrimary && !t.allowTabSynchronization) throw new $i(zi.FAILED_PRECONDITION, el);
                        return t.ji(), t.Ki(), t.Gi(), t.runTransaction("getHighestListenSequenceNumber", "readonly", (function(e) {
                            return t.qi.ui(e)
                        }))
                    })).then((function(e) {
                        t.Ci = new su(e, t.Si)
                    })).then((function() {
                        t.Fi = !0
                    })).catch((function(e) {
                        return t.Wi && t.Wi.close(), Promise.reject(e)
                    }))
                }, rl.prototype.zi = function(t) {
                    var e = this;
                    return this.Mi = function(n) {
                        return s(e, void 0, void 0, (function() {
                            return a(this, (function(e) {
                                return this.Hi ? [2, t(n)] : [2]
                            }))
                        }))
                    }, t(this.isPrimary)
                }, rl.prototype.Yi = function(t) {
                    var e = this;
                    this.Wi.Ji((function(n) {
                        return s(e, void 0, void 0, (function() {
                            return a(this, (function(e) {
                                switch (e.label) {
                                    case 0:
                                        return null === n.newVersion ? [4, t()] : [3, 2];
                                    case 1:
                                        e.sent(), e.label = 2;
                                    case 2:
                                        return [2]
                                }
                            }))
                        }))
                    }))
                }, rl.prototype.Xi = function(t) {
                    var e = this;
                    this.networkEnabled !== t && (this.networkEnabled = t, this.Ts.Zi((function() {
                        return s(e, void 0, void 0, (function() {
                            return a(this, (function(t) {
                                switch (t.label) {
                                    case 0:
                                        return this.Hi ? [4, this.Qi()] : [3, 2];
                                    case 1:
                                        t.sent(), t.label = 2;
                                    case 2:
                                        return [2]
                                }
                            }))
                        }))
                    })))
                }, rl.prototype.Qi = function() {
                    var t = this;
                    return this.runTransaction("updateClientMetadataAndTryBecomePrimary", "readwrite", (function(e) {
                        return al(e).put(new Fl(t.clientId, Date.now(), t.networkEnabled, t.inForeground)).next((function() {
                            if (t.isPrimary) return t.tr(e).next((function(e) {
                                e || (t.isPrimary = !1, t.Ts.er((function() {
                                    return t.Mi(!1)
                                })))
                            }))
                        })).next((function() {
                            return t.nr(e)
                        })).next((function(n) {
                            return t.isPrimary && !n ? t.sr(e).next((function() {
                                return !1
                            })) : !!n && t.ir(e).next((function() {
                                return !0
                            }))
                        }))
                    })).catch((function(e) {
                        if ($l(e)) return Ti("IndexedDbPersistence", "Failed to extend owner lease: ", e), t.isPrimary;
                        if (!t.allowTabSynchronization) throw e;
                        return Ti("IndexedDbPersistence", "Releasing owner lease after error during lease refresh", e), !1
                    })).then((function(e) {
                        t.isPrimary !== e && t.Ts.er((function() {
                            return t.Mi(e)
                        })), t.isPrimary = e
                    }))
                }, rl.prototype.tr = function(t) {
                    var e = this;
                    return sl(t).get(El.key).next((function(t) {
                        return tu.resolve(e.rr(t))
                    }))
                }, rl.prototype.or = function(t) {
                    return al(t).delete(this.clientId)
                }, rl.prototype.hr = function() {
                    return s(this, void 0, void 0, (function() {
                        var t, e, n, i, r = this;
                        return a(this, (function(o) {
                            switch (o.label) {
                                case 0:
                                    return !this.isPrimary || this.ar(this.xi, 18e5) ? [3, 2] : (this.xi = Date.now(), [4, this.runTransaction("maybeGarbageCollectMultiClientState", "readwrite-primary", (function(t) {
                                        var e = rl.Ns(t, Fl.store);
                                        return e.$s().next((function(t) {
                                            var n = r.ur(t, 18e5),
                                                i = t.filter((function(t) {
                                                    return -1 === n.indexOf(t)
                                                }));
                                            return tu.forEach(i, (function(t) {
                                                return e.delete(t.clientId)
                                            })).next((function() {
                                                return i
                                            }))
                                        }))
                                    })).catch((function() {
                                        return []
                                    }))]);
                                case 1:
                                    if (t = o.sent(), this.Bi)
                                        for (e = 0, n = t; e < n.length; e++) i = n[e], this.Bi.removeItem(this.cr(i.clientId));
                                    o.label = 2;
                                case 2:
                                    return [2]
                            }
                        }))
                    }))
                }, rl.prototype.Gi = function() {
                    var t = this;
                    this.ki = this.Ts.bs("client_metadata_refresh", 4e3, (function() {
                        return t.Qi().then((function() {
                            return t.hr()
                        })).then((function() {
                            return t.Gi()
                        }))
                    }))
                }, rl.prototype.rr = function(t) {
                    return !!t && t.ownerId === this.clientId
                }, rl.prototype.nr = function(t) {
                    var e = this;
                    return this.Di ? tu.resolve(!0) : sl(t).get(El.key).next((function(n) {
                        if (null !== n && e.ar(n.leaseTimestampMs, 5e3) && !e.lr(n.ownerId)) {
                            if (e.rr(n) && e.networkEnabled) return !0;
                            if (!e.rr(n)) {
                                if (!n.allowTabSynchronization) throw new $i(zi.FAILED_PRECONDITION, el);
                                return !1
                            }
                        }
                        return !(!e.networkEnabled || !e.inForeground) || al(t).$s().next((function(t) {
                            return void 0 === e.ur(t, 5e3).find((function(t) {
                                if (e.clientId !== t.clientId) {
                                    var n = !e.networkEnabled && t.networkEnabled,
                                        i = !e.inForeground && t.inForeground,
                                        r = e.networkEnabled === t.networkEnabled;
                                    if (n || i && r) return !0
                                }
                                return !1
                            }))
                        }))
                    })).next((function(t) {
                        return e.isPrimary !== t && Ti("IndexedDbPersistence", "Client " + (t ? "is" : "is not") + " eligible for a primary lease."), t
                    }))
                }, rl.prototype._r = function() {
                    return s(this, void 0, void 0, (function() {
                        var t = this;
                        return a(this, (function(e) {
                            switch (e.label) {
                                case 0:
                                    return this.Fi = !1, this.dr(), this.ki && (this.ki.cancel(), this.ki = null), this.wr(), this.Tr(), [4, this.runTransaction("shutdown", "readwrite", (function(e) {
                                        return t.sr(e).next((function() {
                                            return t.or(e)
                                        }))
                                    })).catch((function(t) {
                                        Ti("IndexedDbPersistence", "Proceeding with shutdown despite failure: ", t)
                                    }))];
                                case 1:
                                    return e.sent(), this.Wi.close(), this.Er(), [2]
                            }
                        }))
                    }))
                }, rl.prototype.ur = function(t, e) {
                    var n = this;
                    return t.filter((function(t) {
                        return n.ar(t.updateTimeMs, e) && !n.lr(t.clientId)
                    }))
                }, rl.prototype.Ir = function() {
                    var t = this;
                    return this.runTransaction("getActiveClients", "readonly", (function(e) {
                        return al(e).$s().next((function(e) {
                            return t.ur(e, 18e5).map((function(t) {
                                return t.clientId
                            }))
                        }))
                    }))
                }, Object.defineProperty(rl.prototype, "Hi", {
                    get: function() {
                        return this.Fi
                    },
                    enumerable: !1,
                    configurable: !0
                }), rl.prototype.mr = function(t) {
                    return dl.Ar(t, this.serializer, this.Kn, this.ii)
                }, rl.prototype.Rr = function() {
                    return this.qi
                }, rl.prototype.Pr = function() {
                    return this.Qn
                }, rl.prototype.gr = function() {
                    return this.Kn
                }, rl.prototype.runTransaction = function(t, e, n) {
                    var i = this;
                    Ti("IndexedDbPersistence", "Starting transaction:", t);
                    var r, o = "readonly" === e ? "readonly" : "readwrite";
                    return this.Wi.runTransaction(o, jl, (function(o) {
                        return r = new nl(o, i.Ci ? i.Ci.next() : su.ws), "readwrite-primary" === e ? i.tr(r).next((function(t) {
                            return !!t || i.nr(r)
                        })).next((function(e) {
                            if (!e) throw Ci("Failed to obtain primary lease for action '" + t + "'."), i.isPrimary = !1, i.Ts.er((function() {
                                return i.Mi(!1)
                            })), new $i(zi.FAILED_PRECONDITION, nu);
                            return n(r)
                        })).next((function(t) {
                            return i.ir(r).next((function() {
                                return t
                            }))
                        })) : i.Vr(r).next((function() {
                            return n(r)
                        }))
                    })).then((function(t) {
                        return r.Wn(), t
                    }))
                }, rl.prototype.Vr = function(t) {
                    var e = this;
                    return sl(t).get(El.key).next((function(t) {
                        if (null !== t && e.ar(t.leaseTimestampMs, 5e3) && !e.lr(t.ownerId) && !e.rr(t) && !(e.Di || e.allowTabSynchronization && t.allowTabSynchronization)) throw new $i(zi.FAILED_PRECONDITION, el)
                    }))
                }, rl.prototype.ir = function(t) {
                    var e = new El(this.clientId, this.allowTabSynchronization, Date.now());
                    return sl(t).put(El.key, e)
                }, rl.Oi = function() {
                    return Hl.Oi()
                }, rl.prototype.sr = function(t) {
                    var e = this,
                        n = sl(t);
                    return n.get(El.key).next((function(t) {
                        return e.rr(t) ? (Ti("IndexedDbPersistence", "Releasing primary lease."), n.delete(El.key)) : tu.resolve()
                    }))
                }, rl.prototype.ar = function(t, e) {
                    var n = Date.now();
                    return !(t < n - e || n < t && (Ci("Detected an update time that is in the future: " + t + " > " + n), 1))
                }, rl.prototype.ji = function() {
                    var t = this;
                    null !== this.document && "function" == typeof this.document.addEventListener && (this.Ni = function() {
                        t.Ts.Zi((function() {
                            return t.inForeground = "visible" === t.document.visibilityState, t.Qi()
                        }))
                    }, this.document.addEventListener("visibilitychange", this.Ni), this.inForeground = "visible" === this.document.visibilityState)
                }, rl.prototype.wr = function() {
                    this.Ni && (this.document.removeEventListener("visibilitychange", this.Ni), this.Ni = null)
                }, rl.prototype.Ki = function() {
                    var t, e = this;
                    "function" == typeof(null === (t = this.window) || void 0 === t ? void 0 : t.addEventListener) && (this.$i = function() {
                        e.dr(), e.Ts.Zi((function() {
                            return e._r()
                        }))
                    }, this.window.addEventListener("unload", this.$i))
                }, rl.prototype.Tr = function() {
                    this.$i && (this.window.removeEventListener("unload", this.$i), this.$i = null)
                }, rl.prototype.lr = function(t) {
                    var e;
                    try {
                        var n = null !== (null === (e = this.Bi) || void 0 === e ? void 0 : e.getItem(this.cr(t)));
                        return Ti("IndexedDbPersistence", "Client '" + t + "' " + (n ? "is" : "is not") + " zombied in LocalStorage"), n
                    } catch (t) {
                        return Ci("IndexedDbPersistence", "Failed to get zombied client id.", t), !1
                    }
                }, rl.prototype.dr = function() {
                    if (this.Bi) try {
                        this.Bi.setItem(this.cr(this.clientId), String(Date.now()))
                    } catch (t) {
                        Ci("Failed to set zombie client id.", t)
                    }
                }, rl.prototype.Er = function() {
                    if (this.Bi) try {
                        this.Bi.removeItem(this.cr(this.clientId))
                    } catch (t) {}
                }, rl.prototype.cr = function(t) {
                    return "firestore_zombie_" + this.persistenceKey + "_" + t
                }, rl);

            function rl(t, e, n, i, r, o, s, a, u, l) {
                if (this.allowTabSynchronization = t, this.persistenceKey = e, this.clientId = n, this.Ts = r, this.window = o, this.document = s, this.Si = u, this.Di = l, this.Ci = null, this.Fi = !1, this.isPrimary = !1, this.networkEnabled = !0, this.$i = null, this.inForeground = !1, this.Ni = null, this.ki = null, this.xi = Number.NEGATIVE_INFINITY, this.Mi = function(t) {
                        return Promise.resolve()
                    }, !rl.Oi()) throw new $i(zi.UNIMPLEMENTED, "This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");
                this.ii = new ul(this, i), this.Li = e + "main", this.serializer = new Du(a), this.qi = new Gu(this.ii, this.serializer), this.Kn = new Tu, this.Qn = new Hu(this.serializer, this.Kn), this.window && this.window.localStorage ? this.Bi = this.window.localStorage : (this.Bi = null, !1 === l && Ci("IndexedDbPersistence", "LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))
            }

            function ol(t, e) {
                var n = this;
                return (n = tl.call(this) || this).bi = t, n.vi = e, n
            }

            function sl(t) {
                return il.Ns(t, El.store)
            }

            function al(t) {
                return il.Ns(t, Fl.store)
            }
            var ul = (ll.prototype.pr = function(t) {
                var e = this.br(t);
                return this.db.Rr().Ii(t).next((function(t) {
                    return e.next((function(e) {
                        return t + e
                    }))
                }))
            }, ll.prototype.br = function(t) {
                var e = 0;
                return this.vr(t, (function(t) {
                    e++
                })).next((function() {
                    return e
                }))
            }, ll.prototype.pe = function(t, e) {
                return this.db.Rr().pe(t, e)
            }, ll.prototype.vr = function(t, e) {
                return this.Sr(t, (function(t, n) {
                    return e(n)
                }))
            }, ll.prototype.Ri = function(t, e, n) {
                return hl(t, n)
            }, ll.prototype.gi = function(t, e, n) {
                return hl(t, n)
            }, ll.prototype.Ei = function(t, e, n) {
                return this.db.Rr().Ei(t, e, n)
            }, ll.prototype.Dr = function(t, e) {
                return hl(t, e)
            }, ll.prototype.Cr = function(t, e) {
                return i = e, r = !1, yl(n = t).Fr((function(t) {
                    return fl(n, t, i).next((function(t) {
                        return t && (r = !0), tu.resolve(!t)
                    }))
                })).next((function() {
                    return r
                }));
                var n, i, r
            }, ll.prototype.$r = function(t, e) {
                var n = this,
                    i = this.db.Pr().Hs(),
                    r = [],
                    o = 0;
                return this.Sr(t, (function(s, a) {
                    if (a <= e) {
                        var u = n.Cr(t, s).next((function(e) {
                            if (!e) return o++, i.Mn(t, s).next((function() {
                                return i.xn(s), Zu(t).delete([0, yu(s.path)])
                            }))
                        }));
                        r.push(u)
                    }
                })).next((function() {
                    return tu.Sn(r)
                })).next((function() {
                    return i.apply(t)
                })).next((function() {
                    return o
                }))
            }, ll.prototype.removeTarget = function(t, e) {
                var n = e.Z(t.vi);
                return this.db.Rr().di(t, n)
            }, ll.prototype.Nr = function(t, e) {
                return hl(t, e)
            }, ll.prototype.Sr = function(t, e) {
                var n, i = Zu(t),
                    r = su.ws;
                return i.Qs({
                    index: Ol.documentTargetsIndex
                }, (function(t, i) {
                    var o = t[0],
                        s = (t[1], i.path),
                        a = i.sequenceNumber;
                    0 === o ? (r !== su.ws && e(new Zi(wu(n)), r), r = a, n = s) : r = su.ws
                })).next((function() {
                    r !== su.ws && e(new Zi(wu(n)), r)
                }))
            }, ll.prototype.kr = function(t) {
                return this.db.Pr().Xs(t)
            }, ll);

            function ll(t, e) {
                this.db = t, this.yr = new ph(this, e)
            }

            function hl(t, e) {
                return Zu(t).put((n = e, i = t.vi, new Ol(0, yu(n.path), i)));
                var n, i
            }

            function cl(t, e) {
                var n = t.projectId;
                return t.i || (n += "." + t.database), "firestore/" + e + "/" + n + "/"
            }
            var dl = (pl.Ar = function(t, e, n, i) {
                return xi("" !== t.uid), new pl(t.Mr() ? t.uid : "", e, n, i)
            }, pl.prototype.Or = function(t) {
                var e = !0,
                    n = IDBKeyRange.bound([this.userId, Number.NEGATIVE_INFINITY], [this.userId, Number.POSITIVE_INFINITY]);
                return vl(t).Qs({
                    index: Cl.userMutationsIndex,
                    range: n
                }, (function(t, n, i) {
                    e = !1, i.done()
                })).next((function() {
                    return e
                }))
            }, pl.prototype.Lr = function(t, e, n, i) {
                var r = this,
                    o = ml(t),
                    s = vl(t);
                return s.add({}).next((function(a) {
                    xi("number" == typeof a);
                    for (var u = new Ja(a, e, n, i), l = function(t, e, n) {
                            var i = n.baseMutations.map((function(e) {
                                    return Go(t.ks, e)
                                })),
                                r = n.mutations.map((function(e) {
                                    return Go(t.ks, e)
                                }));
                            return new Cl(e, n.batchId, n.dn.toMillis(), i, r)
                        }(r.serializer, r.userId, u), h = [], c = new Pr((function(t, e) {
                            return Pi(t.$(), e.$())
                        })), d = 0, p = i; d < p.length; d++) {
                        var f = p[d],
                            g = kl.key(r.userId, f.key.path, a);
                        c = c.add(f.key.path.p()), h.push(s.put(l)), h.push(o.put(g, kl.PLACEHOLDER))
                    }
                    return c.forEach((function(e) {
                        h.push(r.Kn.Cs(t, e))
                    })), t.Un((function() {
                        r.xr[a] = u.keys()
                    })), tu.Sn(h).next((function() {
                        return u
                    }))
                }))
            }, pl.prototype.qr = function(t, e) {
                var n = this;
                return vl(t).get(e).next((function(t) {
                    return t ? (xi(t.userId === n.userId), Mu(n.serializer, t)) : null
                }))
            }, pl.prototype.Br = function(t, e) {
                var n = this;
                return this.xr[e] ? tu.resolve(this.xr[e]) : this.qr(t, e).next((function(t) {
                    if (t) {
                        var i = t.keys();
                        return n.xr[e] = i
                    }
                    return null
                }))
            }, pl.prototype.Ur = function(t, e) {
                var n = this,
                    i = e + 1,
                    r = IDBKeyRange.lowerBound([this.userId, i]),
                    o = null;
                return vl(t).Qs({
                    index: Cl.userMutationsIndex,
                    range: r
                }, (function(t, e, r) {
                    e.userId === n.userId && (xi(e.batchId >= i), o = Mu(n.serializer, e)), r.done()
                })).next((function() {
                    return o
                }))
            }, pl.prototype.Wr = function(t) {
                var e = IDBKeyRange.upperBound([this.userId, Number.POSITIVE_INFINITY]),
                    n = -1;
                return vl(t).Qs({
                    index: Cl.userMutationsIndex,
                    range: e,
                    reverse: !0
                }, (function(t, e, i) {
                    n = e.batchId, i.done()
                })).next((function() {
                    return n
                }))
            }, pl.prototype.Qr = function(t) {
                var e = this,
                    n = IDBKeyRange.bound([this.userId, -1], [this.userId, Number.POSITIVE_INFINITY]);
                return vl(t).$s(Cl.userMutationsIndex, n).next((function(t) {
                    return t.map((function(t) {
                        return Mu(e.serializer, t)
                    }))
                }))
            }, pl.prototype.zn = function(t, e) {
                var n = this,
                    i = kl.prefixForPath(this.userId, e.path),
                    r = IDBKeyRange.lowerBound(i),
                    o = [];
                return ml(t).Qs({
                    range: r
                }, (function(i, r, s) {
                    var a = i[0],
                        u = i[1],
                        l = i[2],
                        h = wu(u);
                    if (a === n.userId && e.path.isEqual(h)) return vl(t).get(l).next((function(t) {
                        if (!t) throw Si();
                        xi(t.userId === n.userId), o.push(Mu(n.serializer, t))
                    }));
                    s.done()
                })).next((function() {
                    return o
                }))
            }, pl.prototype.Zn = function(t, e) {
                var n = this,
                    i = new Pr(Pi),
                    r = [];
                return e.forEach((function(e) {
                    var o = kl.prefixForPath(n.userId, e.path),
                        s = IDBKeyRange.lowerBound(o),
                        a = ml(t).Qs({
                            range: s
                        }, (function(t, r, o) {
                            var s = t[0],
                                a = t[1],
                                u = t[2],
                                l = wu(a);
                            s === n.userId && e.path.isEqual(l) ? i = i.add(u) : o.done()
                        }));
                    r.push(a)
                })), tu.Sn(r).next((function() {
                    return n.jr(t, i)
                }))
            }, pl.prototype.os = function(t, e) {
                var n = this,
                    i = e.path,
                    r = i.length + 1,
                    o = kl.prefixForPath(this.userId, i),
                    s = IDBKeyRange.lowerBound(o),
                    a = new Pr(Pi);
                return ml(t).Qs({
                    range: s
                }, (function(t, e, o) {
                    var s = t[0],
                        u = t[1],
                        l = t[2],
                        h = wu(u);
                    s === n.userId && i.D(h) ? h.length === r && (a = a.add(l)) : o.done()
                })).next((function() {
                    return n.jr(t, a)
                }))
            }, pl.prototype.jr = function(t, e) {
                var n = this,
                    i = [],
                    r = [];
                return e.forEach((function(e) {
                    r.push(vl(t).get(e).next((function(t) {
                        if (null === t) throw Si();
                        xi(t.userId === n.userId), i.push(Mu(n.serializer, t))
                    })))
                })), tu.Sn(r).next((function() {
                    return i
                }))
            }, pl.prototype.Kr = function(t, e) {
                var n = this;
                return gl(t.bi, this.userId, e).next((function(i) {
                    return t.Un((function() {
                        n.Gr(e.batchId)
                    })), tu.forEach(i, (function(e) {
                        return n.ii.Dr(t, e)
                    }))
                }))
            }, pl.prototype.Gr = function(t) {
                delete this.xr[t]
            }, pl.prototype.zr = function(t) {
                var e = this;
                return this.Or(t).next((function(n) {
                    if (!n) return tu.resolve();
                    var i = IDBKeyRange.lowerBound(kl.prefixForUser(e.userId)),
                        r = [];
                    return ml(t).Qs({
                        range: i
                    }, (function(t, n, i) {
                        if (t[0] === e.userId) {
                            var o = wu(t[1]);
                            r.push(o)
                        } else i.done()
                    })).next((function() {
                        xi(0 === r.length)
                    }))
                }))
            }, pl.prototype.pi = function(t, e) {
                return fl(t, this.userId, e)
            }, pl.prototype.Hr = function(t) {
                var e = this;
                return yl(t).get(this.userId).next((function(t) {
                    return t || new Tl(e.userId, -1, "")
                }))
            }, pl);

            function pl(t, e, n, i) {
                this.userId = t, this.serializer = e, this.Kn = n, this.ii = i, this.xr = {}
            }

            function fl(t, e, n) {
                var i = kl.prefixForPath(e, n.path),
                    r = i[1],
                    o = IDBKeyRange.lowerBound(i),
                    s = !1;
                return ml(t).Qs({
                    range: o,
                    yi: !0
                }, (function(t, n, i) {
                    var o = t[0],
                        a = t[1];
                    t[2], o === e && a === r && (s = !0), i.done()
                })).next((function() {
                    return s
                }))
            }

            function gl(t, e, n) {
                var i = t.store(Cl.store),
                    r = t.store(kl.store),
                    o = [],
                    s = IDBKeyRange.only(n.batchId),
                    a = 0,
                    u = i.Qs({
                        range: s
                    }, (function(t, e, n) {
                        return a++, n.delete()
                    }));
                o.push(u.next((function() {
                    xi(1 === a)
                })));
                for (var l = [], h = 0, c = n.mutations; h < c.length; h++) {
                    var d = c[h],
                        p = kl.key(e, d.key.path, n.batchId);
                    o.push(r.delete(p)), l.push(d.key)
                }
                return tu.Sn(o).next((function() {
                    return l
                }))
            }

            function vl(t) {
                return il.Ns(t, Cl.store)
            }

            function ml(t) {
                return il.Ns(t, kl.store)
            }

            function yl(t) {
                return il.Ns(t, Tl.store)
            }
            var _l = 10,
                bl = (Il.prototype.createOrUpgrade = function(t, e, n, i) {
                    var r = this;
                    xi(n < i && 0 <= n && i <= _l);
                    var o, s = new Kl(e);
                    n < 1 && 1 <= i && (t.createObjectStore(El.store), (o = t).createObjectStore(Tl.store, {
                        keyPath: Tl.keyPath
                    }), o.createObjectStore(Cl.store, {
                        keyPath: Cl.keyPath,
                        autoIncrement: !0
                    }).createIndex(Cl.userMutationsIndex, Cl.userMutationsKeyPath, {
                        unique: !0
                    }), o.createObjectStore(kl.store), Ml(t), t.createObjectStore(Nl.store));
                    var a, u = tu.resolve();
                    return n < 3 && 3 <= i && (0 !== n && ((a = t).deleteObjectStore(Ol.store), a.deleteObjectStore(Pl.store), a.deleteObjectStore(Rl.store), Ml(t)), u = u.next((function() {
                        return t = s.store(Rl.store), e = new Rl(0, 0, Gi.min().A(), 0), t.put(Rl.key, e);
                        var t, e
                    }))), n < 4 && 4 <= i && (0 !== n && (u = u.next((function() {
                        return e = t, (n = s).store(Cl.store).$s().next((function(t) {
                            e.deleteObjectStore(Cl.store), e.createObjectStore(Cl.store, {
                                keyPath: Cl.keyPath,
                                autoIncrement: !0
                            }).createIndex(Cl.userMutationsIndex, Cl.userMutationsKeyPath, {
                                unique: !0
                            });
                            var i = n.store(Cl.store),
                                r = t.map((function(t) {
                                    return i.put(t)
                                }));
                            return tu.Sn(r)
                        }));
                        var e, n
                    }))), u = u.next((function() {
                        t.createObjectStore(Fl.store, {
                            keyPath: Fl.keyPath
                        })
                    }))), n < 5 && 5 <= i && (u = u.next((function() {
                        return r.removeAcknowledgedMutations(s)
                    }))), n < 6 && 6 <= i && (u = u.next((function() {
                        return t.createObjectStore(Al.store), r.addDocumentGlobal(s)
                    }))), n < 7 && 7 <= i && (u = u.next((function() {
                        return r.ensureSequenceNumbers(s)
                    }))), n < 8 && 8 <= i && (u = u.next((function() {
                        return r.createCollectionParentIndex(t, s)
                    }))), n < 9 && 9 <= i && (u = u.next((function() {
                        var n, i;
                        (i = t).objectStoreNames.contains("remoteDocumentChanges") && i.deleteObjectStore("remoteDocumentChanges"), (n = e.objectStore(Nl.store)).createIndex(Nl.readTimeIndex, Nl.readTimeIndexPath, {
                            unique: !1
                        }), n.createIndex(Nl.collectionReadTimeIndex, Nl.collectionReadTimeIndexPath, {
                            unique: !1
                        })
                    }))), n < 10 && 10 <= i && (u = u.next((function() {
                        return r.rewriteCanonicalIds(s)
                    }))), u
                }, Il.prototype.addDocumentGlobal = function(t) {
                    var e = 0;
                    return t.store(Nl.store).Qs((function(t, n) {
                        e += zu(n)
                    })).next((function() {
                        var n = new Al(e);
                        return t.store(Al.store).put(Al.key, n)
                    }))
                }, Il.prototype.removeAcknowledgedMutations = function(t) {
                    var e = this,
                        n = t.store(Tl.store),
                        i = t.store(Cl.store);
                    return n.$s().next((function(n) {
                        return tu.forEach(n, (function(n) {
                            var r = IDBKeyRange.bound([n.userId, -1], [n.userId, n.lastAcknowledgedBatchId]);
                            return i.$s(Cl.userMutationsIndex, r).next((function(i) {
                                return tu.forEach(i, (function(i) {
                                    xi(i.userId === n.userId);
                                    var r = Mu(e.serializer, i);
                                    return gl(t, n.userId, r).next((function() {}))
                                }))
                            }))
                        }))
                    }))
                }, Il.prototype.ensureSequenceNumbers = function(t) {
                    var e = t.store(Ol.store),
                        n = t.store(Nl.store);
                    return t.store(Rl.store).get(Rl.key).next((function(t) {
                        var i = [];
                        return n.Qs((function(n, r) {
                            var o = new Qi(n),
                                s = [0, yu(o)];
                            i.push(e.get(s).next((function(n) {
                                return n ? tu.resolve() : (i = o, e.put(new Ol(0, yu(i), t.highestListenSequenceNumber)));
                                var i
                            })))
                        })).next((function() {
                            return tu.Sn(i)
                        }))
                    }))
                }, Il.prototype.createCollectionParentIndex = function(t, e) {
                    function n(t) {
                        if (r.add(t)) {
                            var e = t.S(),
                                n = t.p();
                            return i.put({
                                collectionId: e,
                                parent: yu(n)
                            })
                        }
                    }
                    t.createObjectStore(Ll.store, {
                        keyPath: Ll.keyPath
                    });
                    var i = e.store(Ll.store),
                        r = new Iu;
                    return e.store(Nl.store).Qs({
                        yi: !0
                    }, (function(t, e) {
                        return n(new Qi(t).p())
                    })).next((function() {
                        return e.store(kl.store).Qs({
                            yi: !0
                        }, (function(t, e) {
                            t[0];
                            var i = t[1];
                            return n((t[2], wu(i)).p())
                        }))
                    }))
                }, Il.prototype.rewriteCanonicalIds = function(t) {
                    var e = this,
                        n = t.store(Pl.store);
                    return n.Qs((function(t, i) {
                        var r = Fu(i),
                            o = Uu(e.serializer, r);
                        return n.put(o)
                    }))
                }, Il),
                wl = function(t, e) {
                    this.seconds = t, this.nanoseconds = e
                },
                El = function(t, e, n) {
                    this.ownerId = t, this.allowTabSynchronization = e, this.leaseTimestampMs = n
                };

            function Il(t) {
                this.serializer = t
            }
            El.store = "owner", El.key = "owner";
            var Tl = function(t, e, n) {
                this.userId = t, this.lastAcknowledgedBatchId = e, this.lastStreamToken = n
            };
            Tl.store = "mutationQueues", Tl.keyPath = "userId";
            var Cl = function(t, e, n, i, r) {
                this.userId = t, this.batchId = e, this.localWriteTimeMs = n, this.baseMutations = i, this.mutations = r
            };
            Cl.store = "mutations", Cl.keyPath = "batchId", Cl.userMutationsIndex = "userMutationsIndex", Cl.userMutationsKeyPath = ["userId", "batchId"];
            var kl = (Sl.prefixForUser = function(t) {
                return [t]
            }, Sl.prefixForPath = function(t, e) {
                return [t, yu(e)]
            }, Sl.key = function(t, e, n) {
                return [t, yu(e), n]
            }, Sl);

            function Sl() {}
            kl.store = "documentMutations", kl.PLACEHOLDER = new kl;
            var xl = function(t, e) {
                    this.path = t, this.readTime = e
                },
                Dl = function(t, e) {
                    this.path = t, this.version = e
                },
                Nl = function(t, e, n, i, r, o) {
                    this.unknownDocument = t, this.noDocument = e, this.document = n, this.hasCommittedMutations = i, this.readTime = r, this.parentPath = o
                };
            Nl.store = "remoteDocuments", Nl.readTimeIndex = "readTimeIndex", Nl.readTimeIndexPath = "readTime", Nl.collectionReadTimeIndex = "collectionReadTimeIndex", Nl.collectionReadTimeIndexPath = ["parentPath", "readTime"];
            var Al = function(t) {
                this.byteSize = t
            };
            Al.store = "remoteDocumentGlobal", Al.key = "remoteDocumentGlobalKey";
            var Pl = function(t, e, n, i, r, o, s) {
                this.targetId = t, this.canonicalId = e, this.readTime = n, this.resumeToken = i, this.lastListenSequenceNumber = r, this.lastLimboFreeSnapshotVersion = o, this.query = s
            };
            Pl.store = "targets", Pl.keyPath = "targetId", Pl.queryTargetsIndexName = "queryTargetsIndex", Pl.queryTargetsKeyPath = ["canonicalId", "targetId"];
            var Ol = function(t, e, n) {
                this.targetId = t, this.path = e, this.sequenceNumber = n
            };
            Ol.store = "targetDocuments", Ol.keyPath = ["targetId", "path"], Ol.documentTargetsIndex = "documentTargetsIndex", Ol.documentTargetsKeyPath = ["path", "targetId"];
            var Rl = function(t, e, n, i) {
                this.highestTargetId = t, this.highestListenSequenceNumber = e, this.lastRemoteSnapshotVersion = n, this.targetCount = i
            };
            Rl.key = "targetGlobalKey", Rl.store = "targetGlobal";
            var Ll = function(t, e) {
                this.collectionId = t, this.parent = e
            };

            function Ml(t) {
                t.createObjectStore(Ol.store, {
                    keyPath: Ol.keyPath
                }).createIndex(Ol.documentTargetsIndex, Ol.documentTargetsKeyPath, {
                    unique: !0
                }), t.createObjectStore(Pl.store, {
                    keyPath: Pl.keyPath
                }).createIndex(Pl.queryTargetsIndexName, Pl.queryTargetsKeyPath, {
                    unique: !0
                }), t.createObjectStore(Rl.store)
            }
            Ll.store = "collectionParents", Ll.keyPath = ["collectionId", "parent"];
            var Fl = function(t, e, n, i) {
                this.clientId = t, this.updateTimeMs = e, this.networkEnabled = n, this.inForeground = i
            };
            Fl.store = "clientMetadata", Fl.keyPath = "clientId";
            var Ul, jl = u(u(u([Tl.store, Cl.store, kl.store, Nl.store, Pl.store, El.store, Rl.store, Ol.store], [Fl.store]), [Al.store]), [Ll.store]),
                Hl = (zl.Ui = function(t, e, n) {
                    return Ti("SimpleDb", "Opening database:", t), new tu((function(i, r) {
                        var o = indexedDB.open(t, e);
                        o.onsuccess = function(t) {
                            var e = t.target.result;
                            i(new zl(e))
                        }, o.onblocked = function() {
                            r(new $i(zi.FAILED_PRECONDITION, "Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))
                        }, o.onerror = function(t) {
                            var e = t.target.error;
                            "VersionError" === e.name ? r(new $i(zi.FAILED_PRECONDITION, "A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")) : r(e)
                        }, o.onupgradeneeded = function(e) {
                            Ti("SimpleDb", 'Database "' + t + '" requires upgrade from version:', e.oldVersion);
                            var i = e.target.result;
                            n.createOrUpgrade(i, o.transaction, e.oldVersion, _l).next((function() {
                                Ti("SimpleDb", "Database upgrade to version " + _l + " complete")
                            }))
                        }
                    })).bn()
                }, zl.delete = function(t) {
                    return Ti("SimpleDb", "Removing database:", t), Xl(window.indexedDB.deleteDatabase(t)).bn()
                }, zl.Oi = function() {
                    if ("undefined" == typeof indexedDB) return !1;
                    if (zl.Jr()) return !0;
                    var t = v(),
                        e = zl.Yr(t),
                        n = 0 < e && e < 10,
                        i = zl.Xr(t),
                        r = 0 < i && i < 4.5;
                    return !(0 < t.indexOf("MSIE ") || 0 < t.indexOf("Trident/") || 0 < t.indexOf("Edge/") || n || r)
                }, zl.Jr = function() {
                    var t;
                    return "undefined" != typeof process && "YES" === (null === (t = process.env) || void 0 === t ? void 0 : t.Zr)
                }, zl.Ns = function(t, e) {
                    return t.store(e)
                }, zl.Yr = function(t) {
                    var e = t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),
                        n = e ? e[1].split("_").slice(0, 2).join(".") : "-1";
                    return Number(n)
                }, zl.Xr = function(t) {
                    var e = t.match(/Android ([\d.]+)/i),
                        n = e ? e[1].split(".").slice(0, 2).join(".") : "-1";
                    return Number(n)
                }, zl.prototype.Ji = function(t) {
                    this.db.onversionchange = function(e) {
                        return t(e)
                    }
                }, zl.prototype.runTransaction = function(t, e, n) {
                    return s(this, void 0, void 0, (function() {
                        var i, r, o, s, u;
                        return a(this, (function(l) {
                            switch (l.label) {
                                case 0:
                                    i = "readonly" === t, r = 0, o = function() {
                                        var t, o, u, l, h;
                                        return a(this, (function(a) {
                                            switch (a.label) {
                                                case 0:
                                                    ++r, t = Kl.open(s.db, i ? "readonly" : "readwrite", e), a.label = 1;
                                                case 1:
                                                    return a.trys.push([1, 3, , 4]), o = n(t).catch((function(e) {
                                                        return t.abort(e), tu.reject(e)
                                                    })).bn(), u = {}, o.catch((function() {})), [4, t.to];
                                                case 2:
                                                    return [2, (u.value = (a.sent(), o), u)];
                                                case 3:
                                                    return l = a.sent(), h = "FirebaseError" !== l.name && r < 3, Ti("SimpleDb", "Transaction failed with error: %s. Retrying: %s.", l.message, h), h ? [3, 4] : [2, {
                                                        value: Promise.reject(l)
                                                    }];
                                                case 4:
                                                    return [2]
                                            }
                                        }))
                                    }, s = this, l.label = 1;
                                case 1:
                                    return [5, o()];
                                case 2:
                                    if ("object" == typeof(u = l.sent())) return [2, u.value];
                                    l.label = 3;
                                case 3:
                                    return [3, 1];
                                case 4:
                                    return [2]
                            }
                        }))
                    }))
                }, zl.prototype.close = function() {
                    this.db.close()
                }, zl),
                ql = (Object.defineProperty(Bl.prototype, "gn", {
                    get: function() {
                        return this.no
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(Bl.prototype, "io", {
                    get: function() {
                        return this.so
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(Bl.prototype, "cursor", {
                    set: function(t) {
                        this.eo = t
                    },
                    enumerable: !1,
                    configurable: !0
                }), Bl.prototype.done = function() {
                    this.no = !0
                }, Bl.prototype.js = function(t) {
                    this.so = t
                }, Bl.prototype.delete = function() {
                    return Xl(this.eo.delete())
                }, Bl),
                Wl = (o(Vl, Ul = $i), Vl);

            function Vl(t) {
                var e = this;
                return (e = Ul.call(this, zi.UNAVAILABLE, "IndexedDB transaction failed: " + t) || this).name = "IndexedDbTransactionError", e
            }

            function Bl(t) {
                this.eo = t, this.no = !1, this.so = null
            }

            function zl(t) {
                this.db = t, 12.2 === zl.Yr(v()) && Ci("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")
            }

            function $l(t) {
                return "IndexedDbTransactionError" === t.name
            }
            var Kl = (Ql.open = function(t, e, n) {
                    return new Ql(t.transaction(n, e))
                }, Object.defineProperty(Ql.prototype, "to", {
                    get: function() {
                        return this.ro.promise
                    },
                    enumerable: !1,
                    configurable: !0
                }), Ql.prototype.abort = function(t) {
                    t && this.ro.reject(t), this.aborted || (Ti("SimpleDb", "Aborting transaction:", t ? t.message : "Client-initiated abort"), this.aborted = !0, this.transaction.abort())
                }, Ql.prototype.store = function(t) {
                    var e = this.transaction.objectStore(t);
                    return new Gl(e)
                }, Ql),
                Gl = (Yl.prototype.put = function(t, e) {
                    return Xl(void 0 !== e ? (Ti("SimpleDb", "PUT", this.store.name, t, e), this.store.put(e, t)) : (Ti("SimpleDb", "PUT", this.store.name, "<auto-key>", t), this.store.put(t)))
                }, Yl.prototype.add = function(t) {
                    return Ti("SimpleDb", "ADD", this.store.name, t, t), Xl(this.store.add(t))
                }, Yl.prototype.get = function(t) {
                    var e = this;
                    return Xl(this.store.get(t)).next((function(n) {
                        return void 0 === n && (n = null), Ti("SimpleDb", "GET", e.store.name, t, n), n
                    }))
                }, Yl.prototype.delete = function(t) {
                    return Ti("SimpleDb", "DELETE", this.store.name, t), Xl(this.store.delete(t))
                }, Yl.prototype.count = function() {
                    return Ti("SimpleDb", "COUNT", this.store.name), Xl(this.store.count())
                }, Yl.prototype.$s = function(t, e) {
                    var n = this.cursor(this.options(t, e)),
                        i = [];
                    return this.oo(n, (function(t, e) {
                        i.push(e)
                    })).next((function() {
                        return i
                    }))
                }, Yl.prototype.ho = function(t, e) {
                    Ti("SimpleDb", "DELETE ALL", this.store.name);
                    var n = this.options(t, e);
                    n.yi = !1;
                    var i = this.cursor(n);
                    return this.oo(i, (function(t, e, n) {
                        return n.delete()
                    }))
                }, Yl.prototype.Qs = function(t, e) {
                    var n;
                    e ? n = t : (n = {}, e = t);
                    var i = this.cursor(n);
                    return this.oo(i, e)
                }, Yl.prototype.Fr = function(t) {
                    var e = this.cursor({});
                    return new tu((function(n, i) {
                        e.onerror = function(t) {
                            var e = Zl(t.target.error);
                            i(e)
                        }, e.onsuccess = function(e) {
                            var i = e.target.result;
                            i ? t(i.primaryKey, i.value).next((function(t) {
                                t ? i.continue() : n()
                            })) : n()
                        }
                    }))
                }, Yl.prototype.oo = function(t, e) {
                    var n = [];
                    return new tu((function(i, r) {
                        t.onerror = function(t) {
                            r(t.target.error)
                        }, t.onsuccess = function(t) {
                            var r = t.target.result;
                            if (r) {
                                var o = new ql(r),
                                    s = e(r.primaryKey, r.value, o);
                                if (s instanceof tu) {
                                    var a = s.catch((function(t) {
                                        return o.done(), tu.reject(t)
                                    }));
                                    n.push(a)
                                }
                                o.gn ? i() : null === o.io ? r.continue() : r.continue(o.io)
                            } else i()
                        }
                    })).next((function() {
                        return tu.Sn(n)
                    }))
                }, Yl.prototype.options = function(t, e) {
                    var n = void 0;
                    return void 0 !== t && ("string" == typeof t ? n = t : e = t), {
                        index: n,
                        range: e
                    }
                }, Yl.prototype.cursor = function(t) {
                    var e = "next";
                    if (t.reverse && (e = "prev"), t.index) {
                        var n = this.store.index(t.index);
                        return t.yi ? n.openKeyCursor(t.range, e) : n.openCursor(t.range, e)
                    }
                    return this.store.openCursor(t.range, e)
                }, Yl);

            function Yl(t) {
                this.store = t
            }

            function Ql(t) {
                var e = this;
                this.transaction = t, this.aborted = !1, this.ro = new gu, this.transaction.oncomplete = function() {
                    e.ro.resolve()
                }, this.transaction.onabort = function() {
                    t.error ? e.ro.reject(new Wl(t.error)) : e.ro.resolve()
                }, this.transaction.onerror = function(t) {
                    var n = Zl(t.target.error);
                    e.ro.reject(new Wl(n))
                }
            }

            function Xl(t) {
                return new tu((function(e, n) {
                    t.onsuccess = function(t) {
                        var n = t.target.result;
                        e(n)
                    }, t.onerror = function(t) {
                        var e = Zl(t.target.error);
                        n(e)
                    }
                }))
            }
            var Jl = !1;

            function Zl(t) {
                var e = Hl.Yr(v());
                if (12.2 <= e && e < 13) {
                    var n = "An internal error was encountered in the Indexed Database server";
                    if (0 <= t.message.indexOf(n)) {
                        var i = new $i("internal", "IOS_INDEXEDDB_BUG1: IndexedDb has thrown '" + n + "'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");
                        return Jl || (Jl = !0, setTimeout((function() {
                            throw i
                        }), 0)), i
                    }
                }
                return t
            }

            function th() {
                return "undefined" != typeof window ? window : null
            }
            var eh = (rh._o = function(t, e, n, i, r) {
                    var o = new rh(t, e, Date.now() + n, i, r);
                    return o.start(n), o
                }, rh.prototype.start = function(t) {
                    var e = this;
                    this.fo = setTimeout((function() {
                        return e.do()
                    }), t)
                }, rh.prototype.Ss = function() {
                    return this.do()
                }, rh.prototype.cancel = function(t) {
                    null !== this.fo && (this.clearTimeout(), this.lo.reject(new $i(zi.CANCELLED, "Operation cancelled" + (t ? ": " + t : ""))))
                }, rh.prototype.do = function() {
                    var t = this;
                    this.ao.Zi((function() {
                        return null !== t.fo ? (t.clearTimeout(), t.op().then((function(e) {
                            return t.lo.resolve(e)
                        }))) : Promise.resolve()
                    }))
                }, rh.prototype.clearTimeout = function() {
                    null !== this.fo && (this.co(this), clearTimeout(this.fo), this.fo = null)
                }, rh),
                nh = (Object.defineProperty(ih.prototype, "yo", {
                    get: function() {
                        return this.Eo
                    },
                    enumerable: !1,
                    configurable: !0
                }), ih.prototype.Zi = function(t) {
                    this.enqueue(t)
                }, ih.prototype.po = function(t) {
                    this.bo(), this.vo(t)
                }, ih.prototype.So = function(t) {
                    return this.bo(), this.vo(t)
                }, ih.prototype.Do = function(t) {
                    return s(this, void 0, void 0, (function() {
                        var e;
                        return a(this, (function(n) {
                            switch (n.label) {
                                case 0:
                                    return this.bo(), this.Eo ? [3, 2] : (this.Eo = !0, (e = th()) && e.removeEventListener("visibilitychange", this.Vo), [4, this.So(t)]);
                                case 1:
                                    n.sent(), n.label = 2;
                                case 2:
                                    return [2]
                            }
                        }))
                    }))
                }, ih.prototype.enqueue = function(t) {
                    return this.bo(), this.Eo ? new Promise((function(t) {})) : this.vo(t)
                }, ih.prototype.er = function(t) {
                    var e = this;
                    this.To.push(t), this.Zi((function() {
                        return e.Co()
                    }))
                }, ih.prototype.Co = function() {
                    return s(this, void 0, void 0, (function() {
                        var t, e = this;
                        return a(this, (function(n) {
                            switch (n.label) {
                                case 0:
                                    if (0 === this.To.length) return [3, 5];
                                    n.label = 1;
                                case 1:
                                    return n.trys.push([1, 3, , 4]), [4, this.To[0]()];
                                case 2:
                                    return n.sent(), this.To.shift(), this.Po.reset(), [3, 4];
                                case 3:
                                    if (!$l(t = n.sent())) throw t;
                                    return Ti("AsyncQueue", "Operation failed with retryable error: " + t), [3, 4];
                                case 4:
                                    0 < this.To.length && this.Po.ys((function() {
                                        return e.Co()
                                    })), n.label = 5;
                                case 5:
                                    return [2]
                            }
                        }))
                    }))
                }, ih.prototype.vo = function(t) {
                    var e = this,
                        n = this.wo.then((function() {
                            return e.Ao = !0, t().catch((function(t) {
                                throw e.mo = t, e.Ao = !1, Ci("INTERNAL UNHANDLED ERROR: ", (i = (n = t).message || "", n.stack && (i = n.stack.includes(n.message) ? n.stack : n.message + "\n" + n.stack), i)), t;
                                var n, i
                            })).then((function(t) {
                                return e.Ao = !1, t
                            }))
                        }));
                    return this.wo = n
                }, ih.prototype.bs = function(t, e, n) {
                    var i = this;
                    this.bo(), -1 < this.Ro.indexOf(t) && (e = 0);
                    var r = eh._o(this, t, e, n, (function(t) {
                        return i.Fo(t)
                    }));
                    return this.Io.push(r), r
                }, ih.prototype.bo = function() {
                    this.mo && Si()
                }, ih.prototype.$o = function() {}, ih.prototype.No = function() {
                    return s(this, void 0, void 0, (function() {
                        var t;
                        return a(this, (function(e) {
                            switch (e.label) {
                                case 0:
                                    return [4, t = this.wo];
                                case 1:
                                    e.sent(), e.label = 2;
                                case 2:
                                    if (t !== this.wo) return [3, 0];
                                    e.label = 3;
                                case 3:
                                    return [2]
                            }
                        }))
                    }))
                }, ih.prototype.ko = function(t) {
                    for (var e = 0, n = this.Io; e < n.length; e++)
                        if (n[e].Es === t) return !0;
                    return !1
                }, ih.prototype.xo = function(t) {
                    var e = this;
                    return this.No().then((function() {
                        e.Io.sort((function(t, e) {
                            return t.uo - e.uo
                        }));
                        for (var n = 0, i = e.Io; n < i.length; n++) {
                            var r = i[n];
                            if (r.Ss(), "all" !== t && r.Es === t) break
                        }
                        return e.No()
                    }))
                }, ih.prototype.Mo = function(t) {
                    this.Ro.push(t)
                }, ih.prototype.Fo = function(t) {
                    var e = this.Io.indexOf(t);
                    this.Io.splice(e, 1)
                }, ih);

            function ih() {
                var t = this;
                this.wo = Promise.resolve(), this.To = [], this.Eo = !1, this.Io = [], this.mo = null, this.Ao = !1, this.Ro = [], this.Po = new vu(this, "async_queue_retry"), this.Vo = function() {
                    return t.Po.vs()
                };
                var e = th();
                e && "function" == typeof e.addEventListener && e.addEventListener("visibilitychange", this.Vo)
            }

            function rh(t, e, n, i, r) {
                this.ao = t, this.Es = e, this.uo = n, this.op = i, this.co = r, this.lo = new gu, this.then = this.lo.promise.then.bind(this.lo.promise), this.lo.promise.catch((function(t) {}))
            }

            function oh(t, e) {
                if (Ci("AsyncQueue", e + ": " + t), $l(t)) return new $i(zi.UNAVAILABLE, e + ": " + t);
                throw t
            }

            function sh(t, e) {
                var n = t[0],
                    i = t[1],
                    r = e[0],
                    o = e[1],
                    s = Pi(n, r);
                return 0 === s ? Pi(i, o) : s
            }
            var ah = (ch.prototype.qo = function() {
                    return ++this.Lo
                }, ch.prototype.Bo = function(t) {
                    var e = [t, this.qo()];
                    if (this.buffer.size < this.Oo) this.buffer = this.buffer.add(e);
                    else {
                        var n = this.buffer.last();
                        sh(e, n) < 0 && (this.buffer = this.buffer.delete(n).add(e))
                    }
                }, Object.defineProperty(ch.prototype, "maxValue", {
                    get: function() {
                        return this.buffer.last()[0]
                    },
                    enumerable: !1,
                    configurable: !0
                }), ch),
                uh = {
                    Uo: !1,
                    Wo: 0,
                    Qo: 0,
                    jo: 0
                },
                lh = (hh.Ho = function(t) {
                    return new hh(t, hh.Yo, hh.Jo)
                }, hh);

            function hh(t, e, n) {
                this.Ko = t, this.Go = e, this.zo = n
            }

            function ch(t) {
                this.Oo = t, this.buffer = new Pr(sh), this.Lo = 0
            }
            lh.Xo = -1, lh.Zo = 1048576, lh.th = 41943040, lh.Yo = 10, lh.Jo = 1e3, lh.eh = new lh(lh.th, lh.Yo, lh.Jo), lh.nh = new lh(lh.Xo, 0, 0);
            var dh = (mh.prototype.start = function(t) {
                    this.yr.params.Ko !== lh.Xo && this.rh(t)
                }, mh.prototype.stop = function() {
                    this.ih && (this.ih.cancel(), this.ih = null)
                }, Object.defineProperty(mh.prototype, "Hi", {
                    get: function() {
                        return null !== this.ih
                    },
                    enumerable: !1,
                    configurable: !0
                }), mh.prototype.rh = function(t) {
                    var e = this,
                        n = this.sh ? 3e5 : 6e4;
                    Ti("LruGarbageCollector", "Garbage collection scheduled in " + n + "ms"), this.ih = this.ao.bs("lru_garbage_collection", n, (function() {
                        return s(e, void 0, void 0, (function() {
                            var e;
                            return a(this, (function(n) {
                                switch (n.label) {
                                    case 0:
                                        this.ih = null, this.sh = !0, n.label = 1;
                                    case 1:
                                        return n.trys.push([1, 3, , 7]), [4, t.oh(this.yr)];
                                    case 2:
                                        return n.sent(), [3, 7];
                                    case 3:
                                        return $l(e = n.sent()) ? (Ti("LruGarbageCollector", "Ignoring IndexedDB error during garbage collection: ", e), [3, 6]) : [3, 4];
                                    case 4:
                                        return [4, bh(e)];
                                    case 5:
                                        n.sent(), n.label = 6;
                                    case 6:
                                        return [3, 7];
                                    case 7:
                                        return [4, this.rh(t)];
                                    case 8:
                                        return n.sent(), [2]
                                }
                            }))
                        }))
                    }))
                }, mh),
                ph = (vh.prototype.ah = function(t, e) {
                    return this.hh.pr(t).next((function(t) {
                        return Math.floor(e / 100 * t)
                    }))
                }, vh.prototype.uh = function(t, e) {
                    var n = this;
                    if (0 === e) return tu.resolve(su.ws);
                    var i = new ah(e);
                    return this.hh.pe(t, (function(t) {
                        return i.Bo(t.sequenceNumber)
                    })).next((function() {
                        return n.hh.vr(t, (function(t) {
                            return i.Bo(t)
                        }))
                    })).next((function() {
                        return i.maxValue
                    }))
                }, vh.prototype.Ei = function(t, e, n) {
                    return this.hh.Ei(t, e, n)
                }, vh.prototype.$r = function(t, e) {
                    return this.hh.$r(t, e)
                }, vh.prototype.lh = function(t, e) {
                    var n = this;
                    return this.params.Ko === lh.Xo ? (Ti("LruGarbageCollector", "Garbage collection skipped; disabled"), tu.resolve(uh)) : this.kr(t).next((function(i) {
                        return i < n.params.Ko ? (Ti("LruGarbageCollector", "Garbage collection skipped; Cache size " + i + " is lower than threshold " + n.params.Ko), uh) : n._h(t, e)
                    }))
                }, vh.prototype.kr = function(t) {
                    return this.hh.kr(t)
                }, vh.prototype._h = function(t, e) {
                    var i, r, o, s, a, u, l, h = this,
                        c = Date.now();
                    return this.ah(t, this.params.Go).next((function(e) {
                        return r = e > h.params.zo ? (Ti("LruGarbageCollector", "Capping sequence numbers to collect down to the maximum of " + h.params.zo + " from " + e), h.params.zo) : e, s = Date.now(), h.uh(t, r)
                    })).next((function(n) {
                        return i = n, a = Date.now(), h.Ei(t, i, e)
                    })).next((function(e) {
                        return o = e, u = Date.now(), h.$r(t, i)
                    })).next((function(t) {
                        return l = Date.now(), Ii() <= n.DEBUG && Ti("LruGarbageCollector", "LRU Garbage Collection\n\tCounted targets in " + (s - c) + "ms\n\tDetermined least recently used " + r + " in " + (a - s) + "ms\n\tRemoved " + o + " targets in " + (u - a) + "ms\n\tRemoved " + t + " documents in " + (l - u) + "ms\nTotal Duration: " + (l - c) + "ms"), tu.resolve({
                            Uo: !0,
                            Wo: r,
                            Qo: o,
                            jo: t
                        })
                    }))
                }, vh),
                fh = (gh.prototype.Ah = function(t) {
                    return s(this, void 0, void 0, (function() {
                        var e, n, i, r = this;
                        return a(this, (function(o) {
                            switch (o.label) {
                                case 0:
                                    return e = this.jn, n = this.Ih, [4, this.persistence.runTransaction("Handle user change", "readonly", (function(i) {
                                        var o;
                                        return r.jn.Qr(i).next((function(s) {
                                            return o = s, e = r.persistence.mr(t), n = new ru(r.Eh, e, r.persistence.gr()), e.Qr(i)
                                        })).next((function(t) {
                                            for (var e = [], r = [], s = Vr(), a = 0, u = o; a < u.length; a++) {
                                                var l = u[a];
                                                e.push(l.batchId);
                                                for (var h = 0, c = l.mutations; h < c.length; h++) {
                                                    var d = c[h];
                                                    s = s.add(d.key)
                                                }
                                            }
                                            for (var p = 0, f = t; p < f.length; p++) {
                                                var g = f[p];
                                                r.push(g.batchId);
                                                for (var v = 0, m = g.mutations; v < m.length; v++) {
                                                    var y = m[v];
                                                    s = s.add(y.key)
                                                }
                                            }
                                            return n.Jn(i, s).next((function(t) {
                                                return {
                                                    Rh: t,
                                                    Ph: e,
                                                    gh: r
                                                }
                                            }))
                                        }))
                                    }))];
                                case 1:
                                    return i = o.sent(), [2, (this.jn = e, this.Ih = n, this.fh.mh(this.Ih), i)]
                            }
                        }))
                    }))
                }, gh.prototype.Vh = function(t) {
                    var e, n = this,
                        i = Ki.now(),
                        r = t.reduce((function(t, e) {
                            return t.add(e.key)
                        }), Vr());
                    return this.persistence.runTransaction("Locally write mutations", "readwrite", (function(o) {
                        return n.Ih.Jn(o, r).next((function(r) {
                            e = r;
                            for (var s = [], a = 0, u = t; a < u.length; a++) {
                                var l = u[a],
                                    h = (c = l, d = e.get(l.key), c instanceof qs ? function(t) {
                                        for (var e = null, n = 0, i = c.fieldTransforms; n < i.length; n++) {
                                            var r = i[n],
                                                o = t instanceof sa ? t.field(r.field) : void 0,
                                                s = rs(r.transform, o || null);
                                            null != s && (e = null == e ? (new Qs).set(r.field, s) : e.set(r.field, s))
                                        }
                                        return e ? e.Ge() : null
                                    }(d) : null);
                                null != h && s.push(new Ms(l.key, h, ea(h.proto.mapValue), Cs.exists(!0)))
                            }
                            var c, d;
                            return n.jn.Lr(o, i, s, t)
                        }))
                    })).then((function(t) {
                        var n = t.In(e);
                        return {
                            batchId: t.batchId,
                            Cn: n
                        }
                    }))
                }, gh.prototype.yh = function(t) {
                    var e = this;
                    return this.persistence.runTransaction("Acknowledge batch", "readwrite-primary", (function(n) {
                        var i = t.batch.keys(),
                            r = e.Eh.Hs({
                                Js: !0
                            });
                        return e.ph(n, t, r).next((function() {
                            return r.apply(n)
                        })).next((function() {
                            return e.jn.zr(n)
                        })).next((function() {
                            return e.Ih.Jn(n, i)
                        }))
                    }))
                }, gh.prototype.bh = function(t) {
                    var e = this;
                    return this.persistence.runTransaction("Reject batch", "readwrite-primary", (function(n) {
                        var i;
                        return e.jn.qr(n, t).next((function(t) {
                            return xi(null !== t), i = t.keys(), e.jn.Kr(n, t)
                        })).next((function() {
                            return e.jn.zr(n)
                        })).next((function() {
                            return e.Ih.Jn(n, i)
                        }))
                    }))
                }, gh.prototype.Wr = function() {
                    var t = this;
                    return this.persistence.runTransaction("Get highest unacknowledged batch id", "readonly", (function(e) {
                        return t.jn.Wr(e)
                    }))
                }, gh.prototype.ai = function() {
                    var t = this;
                    return this.persistence.runTransaction("Get last remote snapshot version", "readonly", (function(e) {
                        return t.qi.ai(e)
                    }))
                }, gh.prototype.vh = function(t) {
                    var e = this,
                        n = t.X,
                        i = this.dh;
                    return this.persistence.runTransaction("Apply remote event", "readwrite-primary", (function(r) {
                        var o = e.Eh.Hs({
                            Js: !0
                        });
                        i = e.dh;
                        var s = [];
                        t.Wt.forEach((function(t, o) {
                            var a = i.get(o);
                            if (a) {
                                s.push(e.qi.Pi(r, t.Xt, o).next((function() {
                                    return e.qi.Ai(r, t.Yt, o)
                                })));
                                var u = t.resumeToken;
                                if (0 < u.H()) {
                                    var l = a.tt(u, n).Z(r.vi);
                                    i = i.nt(o, l), gh.Sh(a, l, t) && s.push(e.qi.di(r, l))
                                }
                            }
                        }));
                        var a = Fr(),
                            u = Vr();
                        if (t.jt.forEach((function(t, e) {
                                u = u.add(t)
                            })), s.push(o.getEntries(r, u).next((function(i) {
                                t.jt.forEach((function(u, l) {
                                    var h = i.get(u);
                                    l instanceof aa && l.version.isEqual(Gi.min()) ? (o.xn(u, n), a = a.nt(u, l)) : null == h || 0 < l.version.o(h.version) || 0 === l.version.o(h.version) && h.hasPendingWrites ? (o.Nn(l, n), a = a.nt(u, l)) : Ti("LocalStore", "Ignoring outdated watch update for ", u, ". Current version:", h.version, " Watch version:", l.version), t.Kt.has(u) && s.push(e.persistence.ii.Nr(r, u))
                                }))
                            }))), !n.isEqual(Gi.min())) {
                            var l = e.qi.ai(r).next((function(t) {
                                return e.qi.ci(r, r.vi, n)
                            }));
                            s.push(l)
                        }
                        return tu.Sn(s).next((function() {
                            return o.apply(r)
                        })).next((function() {
                            return e.Ih.Xn(r, a)
                        }))
                    })).then((function(t) {
                        return e.dh = i, t
                    }))
                }, gh.Sh = function(t, e, n) {
                    return xi(0 < e.resumeToken.H()), 0 === t.resumeToken.H() || e.X.m() - t.X.m() >= this.Dh || 0 < n.Yt.size + n.Jt.size + n.Xt.size
                }, gh.prototype.Ch = function(t) {
                    return s(this, void 0, void 0, (function() {
                        var e, n, i, r, o, s, u, l, h = this;
                        return a(this, (function(a) {
                            switch (a.label) {
                                case 0:
                                    return a.trys.push([0, 2, , 3]), [4, this.persistence.runTransaction("notifyLocalViewChanges", "readwrite", (function(e) {
                                        return tu.forEach(t, (function(t) {
                                            return tu.forEach(t.as, (function(n) {
                                                return h.persistence.ii.Ri(e, t.targetId, n)
                                            })).next((function() {
                                                return tu.forEach(t.us, (function(n) {
                                                    return h.persistence.ii.gi(e, t.targetId, n)
                                                }))
                                            }))
                                        }))
                                    }))];
                                case 1:
                                    return a.sent(), [3, 3];
                                case 2:
                                    if (!$l(e = a.sent())) throw e;
                                    return Ti("LocalStore", "Failed to update sequence numbers: " + e), [3, 3];
                                case 3:
                                    for (n = 0, i = t; n < i.length; n++) r = i[n], o = r.targetId, r.fromCache || (s = this.dh.get(o), u = s.X, l = s.et(u), this.dh = this.dh.nt(o, l));
                                    return [2]
                            }
                        }))
                    }))
                }, gh.prototype.Fh = function(t) {
                    var e = this;
                    return this.persistence.runTransaction("Get next mutation batch", "readonly", (function(n) {
                        return void 0 === t && (t = -1), e.jn.Ur(n, t)
                    }))
                }, gh.prototype.$h = function(t) {
                    var e = this;
                    return this.persistence.runTransaction("read document", "readonly", (function(n) {
                        return e.Ih.Gn(n, t)
                    }))
                }, gh.prototype.Nh = function(t) {
                    var e = this;
                    return this.persistence.runTransaction("Allocate target", "readwrite", (function(n) {
                        var i;
                        return e.qi.mi(n, t).next((function(r) {
                            return r ? (i = r, tu.resolve(i)) : e.qi.ri(n).next((function(r) {
                                return i = new wr(t, r, 0, n.vi), e.qi.li(n, i).next((function() {
                                    return i
                                }))
                            }))
                        }))
                    })).then((function(n) {
                        var i = e.dh.get(n.targetId);
                        return (null === i || 0 < n.X.o(i.X)) && (e.dh = e.dh.nt(n.targetId, n), e.wh.set(t, n.targetId)), n
                    }))
                }, gh.prototype.mi = function(t, e) {
                    var n = this.wh.get(e);
                    return void 0 !== n ? tu.resolve(this.dh.get(n)) : this.qi.mi(t, e)
                }, gh.prototype.kh = function(t, e) {
                    return s(this, void 0, void 0, (function() {
                        var n, i, r, o = this;
                        return a(this, (function(s) {
                            switch (s.label) {
                                case 0:
                                    n = this.dh.get(t), i = e ? "readwrite" : "readwrite-primary", s.label = 1;
                                case 1:
                                    return s.trys.push([1, 4, , 5]), e ? [3, 3] : [4, this.persistence.runTransaction("Release target", i, (function(t) {
                                        return o.persistence.ii.removeTarget(t, n)
                                    }))];
                                case 2:
                                    s.sent(), s.label = 3;
                                case 3:
                                    return [3, 5];
                                case 4:
                                    if (!$l(r = s.sent())) throw r;
                                    return Ti("LocalStore", "Failed to update sequence numbers for target " + t + ": " + r), [3, 5];
                                case 5:
                                    return this.dh = this.dh.remove(t), this.wh.delete(n.target), [2]
                            }
                        }))
                    }))
                }, gh.prototype.xh = function(t, e) {
                    var n = this,
                        i = Gi.min(),
                        r = Vr();
                    return this.persistence.runTransaction("Execute query", "readonly", (function(o) {
                        return n.mi(o, _a(t)).next((function(t) {
                            if (t) return i = t.lastLimboFreeSnapshotVersion, n.qi.Vi(o, t.targetId).next((function(t) {
                                r = t
                            }))
                        })).next((function() {
                            return n.fh.ts(o, t, e ? i : Gi.min(), e ? r : Vr())
                        })).next((function(t) {
                            return {
                                documents: t,
                                Mh: r
                            }
                        }))
                    }))
                }, gh.prototype.ph = function(t, e, n) {
                    var i = this,
                        r = e.batch,
                        o = r.keys(),
                        s = tu.resolve();
                    return o.forEach((function(i) {
                        s = s.next((function() {
                            return n.Mn(t, i)
                        })).next((function(t) {
                            var o = t,
                                s = e.An.get(i);
                            xi(null !== s), (!o || o.version.o(s) < 0) && (o = r.wn(i, o, e)) && n.Nn(o, e.mn)
                        }))
                    })), s.next((function() {
                        return i.jn.Kr(t, r)
                    }))
                }, gh.prototype.oh = function(t) {
                    var e = this;
                    return this.persistence.runTransaction("Collect garbage", "readwrite-primary", (function(n) {
                        return t.lh(n, e.dh)
                    }))
                }, gh);

            function gh(t, e, n) {
                this.persistence = t, this.fh = e, this.dh = new Cr(Pi), this.wh = new Bi((function(t) {
                    return pr(t)
                }), fr), this.Th = Gi.min(), this.jn = t.mr(n), this.Eh = t.Pr(), this.qi = t.Rr(), this.Ih = new ru(this.Eh, this.jn, this.persistence.gr()), this.fh.mh(this.Ih)
            }

            function vh(t, e) {
                this.hh = t, this.params = e
            }

            function mh(t, e) {
                this.yr = t, this.ao = e, this.sh = !1, this.ih = null
            }

            function yh(t, e, n) {
                return new fh(t, e, n)
            }

            function _h(t, e) {
                var n = t,
                    i = n.qi,
                    r = n.dh.get(e);
                return r ? Promise.resolve(r.target) : n.persistence.runTransaction("Get target data", "readonly", (function(t) {
                    return i.Me(t, e).next((function(t) {
                        return t ? t.target : null
                    }))
                }))
            }

            function bh(t) {
                return s(this, void 0, void 0, (function() {
                    return a(this, (function(e) {
                        if (t.code !== zi.FAILED_PRECONDITION || t.message !== nu) throw t;
                        return Ti("LocalStore", "Unexpectedly lost primary lease"), [2]
                    }))
                }))
            }
            fh.Dh = 3e8;
            var wh = (Th.prototype._ = function() {
                    return this.Oh._()
                }, Th.prototype.Ri = function(t, e) {
                    var n = new Eh(t, e);
                    this.Oh = this.Oh.add(n), this.qh = this.qh.add(n)
                }, Th.prototype.Uh = function(t, e) {
                    var n = this;
                    t.forEach((function(t) {
                        return n.Ri(t, e)
                    }))
                }, Th.prototype.gi = function(t, e) {
                    this.Wh(new Eh(t, e))
                }, Th.prototype.Qh = function(t, e) {
                    var n = this;
                    t.forEach((function(t) {
                        return n.gi(t, e)
                    }))
                }, Th.prototype.jh = function(t) {
                    var e = this,
                        n = new Zi(new Qi([])),
                        i = new Eh(n, t),
                        r = new Eh(n, t + 1),
                        o = [];
                    return this.qh.vt([i, r], (function(t) {
                        e.Wh(t), o.push(t.key)
                    })), o
                }, Th.prototype.Kh = function() {
                    var t = this;
                    this.Oh.forEach((function(e) {
                        return t.Wh(e)
                    }))
                }, Th.prototype.Wh = function(t) {
                    this.Oh = this.Oh.delete(t), this.qh = this.qh.delete(t)
                }, Th.prototype.Gh = function(t) {
                    var e = new Zi(new Qi([])),
                        n = new Eh(e, t),
                        i = new Eh(e, t + 1),
                        r = Vr();
                    return this.qh.vt([n, i], (function(t) {
                        r = r.add(t.key)
                    })), r
                }, Th.prototype.pi = function(t) {
                    var e = new Eh(t, 0),
                        n = this.Oh.Dt(e);
                    return null !== n && t.isEqual(n.key)
                }, Th),
                Eh = (Ih.Lh = function(t, e) {
                    return Zi.P(t.key, e.key) || Pi(t.zh, e.zh)
                }, Ih.Bh = function(t, e) {
                    return Pi(t.zh, e.zh) || Zi.P(t.key, e.key)
                }, Ih);

            function Ih(t, e) {
                this.key = t, this.zh = e
            }

            function Th() {
                this.Oh = new Pr(Eh.Lh), this.qh = new Pr(Eh.Bh)
            }

            function Ch(t, e) {
                if (0 !== e.length) throw new $i(zi.INVALID_ARGUMENT, "Function " + t + "() does not support arguments, but was called with " + Vh(e.length, "argument") + ".")
            }

            function kh(t, e, n) {
                if (e.length !== n) throw new $i(zi.INVALID_ARGUMENT, "Function " + t + "() requires " + Vh(n, "argument") + ", but was called with " + Vh(e.length, "argument") + ".")
            }

            function Sh(t, e, n) {
                if (e.length < n) throw new $i(zi.INVALID_ARGUMENT, "Function " + t + "() requires at least " + Vh(n, "argument") + ", but was called with " + Vh(e.length, "argument") + ".")
            }

            function xh(t, e, n, i) {
                if (e.length < n || e.length > i) throw new $i(zi.INVALID_ARGUMENT, "Function " + t + "() requires between " + n + " and " + i + " arguments, but was called with " + Vh(e.length, "argument") + ".")
            }

            function Dh(t, e, n, i) {
                Lh(t, e, Wh(n) + " argument", i)
            }

            function Nh(t, e, n, i) {
                void 0 !== i && Dh(t, e, n, i)
            }

            function Ah(t, e, n, i) {
                Lh(t, e, n + " option", i)
            }

            function Ph(t, e, n, i) {
                void 0 !== i && Ah(t, e, n, i)
            }

            function Oh(t, e, n, i, r) {
                void 0 !== i && function(t, e, n) {
                    for (var i = [], o = 0, s = r; o < s.length; o++) {
                        var a = s[o];
                        if (a === n) return;
                        i.push(Fh(a))
                    }
                    var u = Fh(n);
                    throw new $i(zi.INVALID_ARGUMENT, "Invalid value " + u + " provided to function " + t + '() for option "' + e + '". Acceptable values: ' + i.join(", "))
                }(t, n, i)
            }

            function Rh(t, e, n, i) {
                if (!e.some((function(t) {
                        return t === i
                    }))) throw new $i(zi.INVALID_ARGUMENT, "Invalid value " + Fh(i) + " provided to function " + t + "() for its " + Wh(n) + " argument. Acceptable values: " + e.join(", "));
                return i
            }

            function Lh(t, e, n, i) {
                if (!("object" === e ? Mh(i) : "non-empty string" === e ? "string" == typeof i && "" !== i : typeof i === e)) {
                    var r = Fh(i);
                    throw new $i(zi.INVALID_ARGUMENT, "Function " + t + "() requires its " + n + " to be of type " + e + ", but it was: " + r)
                }
            }

            function Mh(t) {
                return "object" == typeof t && null !== t && (Object.getPrototypeOf(t) === Object.prototype || null === Object.getPrototypeOf(t))
            }

            function Fh(t) {
                if (void 0 === t) return "undefined";
                if (null === t) return "null";
                if ("string" == typeof t) return 20 < t.length && (t = t.substring(0, 20) + "..."), JSON.stringify(t);
                if ("number" == typeof t || "boolean" == typeof t) return "" + t;
                if ("object" != typeof t) return "function" == typeof t ? "a function" : Si();
                if (t instanceof Array) return "an array";
                var e = function() {
                    if (t.constructor) {
                        var e = /function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());
                        if (e && 1 < e.length) return e[1]
                    }
                    return null
                }();
                return e ? "a custom " + e + " object" : "an object"
            }

            function Uh(t, e, n) {
                if (void 0 === n) throw new $i(zi.INVALID_ARGUMENT, "Function " + t + "() requires a valid " + Wh(e) + " argument, but it was undefined.")
            }

            function jh(t, e, n) {
                ji(e, (function(e, i) {
                    if (n.indexOf(e) < 0) throw new $i(zi.INVALID_ARGUMENT, "Unknown option '" + e + "' passed to function " + t + "(). Available options: " + n.join(", "))
                }))
            }

            function Hh(t, e, n, i) {
                var r = Fh(i);
                return new $i(zi.INVALID_ARGUMENT, "Function " + t + "() requires its " + Wh(n) + " argument to be a " + e + ", but it was: " + r)
            }

            function qh(t, e, n) {
                if (n <= 0) throw new $i(zi.INVALID_ARGUMENT, "Function " + t + "() requires its " + Wh(e) + " argument to be a positive number, but it was: " + n + ".")
            }

            function Wh(t) {
                switch (t) {
                    case 1:
                        return "first";
                    case 2:
                        return "second";
                    case 3:
                        return "third";
                    default:
                        return t + "th"
                }
            }

            function Vh(t, e) {
                return t + " " + e + (1 === t ? "" : "s")
            }

            function Bh() {
                if ("undefined" == typeof Uint8Array) throw new $i(zi.UNIMPLEMENTED, "Uint8Arrays are not available in this environment.")
            }

            function zh() {
                if ("undefined" == typeof atob) throw new $i(zi.UNIMPLEMENTED, "Blobs are unavailable in Firestore in this environment.")
            }
            var $h, Kh, Gh = (nc.fromBase64String = function(t) {
                    kh("Blob.fromBase64String", arguments, 1), Dh("Blob.fromBase64String", "string", 1, t), zh();
                    try {
                        return new nc(vr.fromBase64String(t))
                    } catch (t) {
                        throw new $i(zi.INVALID_ARGUMENT, "Failed to construct Blob from Base64 string: " + t)
                    }
                }, nc.fromUint8Array = function(t) {
                    if (kh("Blob.fromUint8Array", arguments, 1), Bh(), !(t instanceof Uint8Array)) throw Hh("Blob.fromUint8Array", "Uint8Array", 1, t);
                    return new nc(vr.fromUint8Array(t))
                }, nc.prototype.toBase64 = function() {
                    return kh("Blob.toBase64", arguments, 0), zh(), this.Hh.toBase64()
                }, nc.prototype.toUint8Array = function() {
                    return kh("Blob.toUint8Array", arguments, 0), Bh(), this.Hh.toUint8Array()
                }, nc.prototype.toString = function() {
                    return "Blob(base64: " + this.toBase64() + ")"
                }, nc.prototype.isEqual = function(t) {
                    return this.Hh.isEqual(t.Hh)
                }, nc),
                Yh = function(t) {
                    ! function() {
                        if (!(t instanceof Array) || t.length < 1) throw new $i(zi.INVALID_ARGUMENT, "Function FieldPath() requires its fieldNames argument to be an array with at least 1 element.")
                    }();
                    for (var e = 0; e < t.length; ++e)
                        if (Dh("FieldPath", "string", e, t[e]), 0 === t[e].length) throw new $i(zi.INVALID_ARGUMENT, "Invalid field name at argument $(i + 1). Field names must not be empty.");
                    this.Yh = new Ji(t)
                },
                Qh = (o(ec, Kh = Yh), ec.documentId = function() {
                    return new ec(Ji.L().$())
                }, ec.prototype.isEqual = function(t) {
                    if (!(t instanceof ec)) throw Hh("isEqual", "FieldPath", 1, t);
                    return this.Yh.isEqual(t.Yh)
                }, ec),
                Xh = new RegExp("[~\\*/\\[\\]]"),
                Jh = function() {
                    this.Jh = this
                },
                Zh = (o(tc, $h = Jh), tc.prototype.Zh = function(t) {
                    if (2 !== t.ta) throw 1 === t.ta ? t.ea(this.Xh + "() can only appear at the top level of your update data") : t.ea(this.Xh + "() cannot be used with set() unless you pass {merge:true}");
                    return t.Le.push(t.path), null
                }, tc.prototype.isEqual = function(t) {
                    return t instanceof tc
                }, tc);

            function tc(t) {
                var e = this;
                return (e = $h.call(this) || this).Xh = t, e
            }

            function ec() {
                for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                return Kh.call(this, t) || this
            }

            function nc(t) {
                zh(), this.Hh = t
            }

            function ic(t, e, n) {
                return new Pc({
                    ta: 3,
                    na: e.settings.na,
                    methodName: t.Xh,
                    sa: n
                }, e.s, e.serializer, e.ignoreUndefinedProperties)
            }
            var rc, oc, sc, ac, uc, lc, hc = (o(Ic, lc = Jh), Ic.prototype.Zh = function(t) {
                    return new Es(t.path, new as)
                }, Ic.prototype.isEqual = function(t) {
                    return t instanceof Ic
                }, Ic),
                cc = (o(Ec, uc = Jh), Ec.prototype.Zh = function(t) {
                    var e = ic(this, t, !0),
                        n = this.ia.map((function(t) {
                            return Hc(t, e)
                        })),
                        i = new us(n);
                    return new Es(t.path, i)
                }, Ec.prototype.isEqual = function(t) {
                    return this === t
                }, Ec),
                dc = (o(wc, ac = Jh), wc.prototype.Zh = function(t) {
                    var e = ic(this, t, !0),
                        n = this.ia.map((function(t) {
                            return Hc(t, e)
                        })),
                        i = new ps(n);
                    return new Es(t.path, i)
                }, wc.prototype.isEqual = function(t) {
                    return this === t
                }, wc),
                pc = (o(bc, sc = Jh), bc.prototype.Zh = function(t) {
                    var e = new ms(t.serializer, Lo(t.serializer, this.ra));
                    return new Es(t.path, e)
                }, bc.prototype.isEqual = function(t) {
                    return this === t
                }, bc),
                fc = (o(_c, oc = Jh), _c.delete = function() {
                    return Ch("FieldValue.delete", arguments), new gc(new Zh("FieldValue.delete"))
                }, _c.serverTimestamp = function() {
                    return Ch("FieldValue.serverTimestamp", arguments), new gc(new hc("FieldValue.serverTimestamp"))
                }, _c.arrayUnion = function() {
                    for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                    return Sh("FieldValue.arrayUnion", arguments, 1), new gc(new cc("FieldValue.arrayUnion", t))
                }, _c.arrayRemove = function() {
                    for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                    return Sh("FieldValue.arrayRemove", arguments, 1), new gc(new dc("FieldValue.arrayRemove", t))
                }, _c.increment = function(t) {
                    return Dh("FieldValue.increment", "number", 1, t), kh("FieldValue.increment", arguments, 1), new gc(new pc("FieldValue.increment", t))
                }, _c),
                gc = (o(yc, rc = fc), yc.prototype.Zh = function(t) {
                    return this.Jh.Zh(t)
                }, yc.prototype.isEqual = function(t) {
                    return t instanceof yc && this.Jh.isEqual(t.Jh)
                }, yc),
                vc = (Object.defineProperty(mc.prototype, "latitude", {
                    get: function() {
                        return this.oa
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(mc.prototype, "longitude", {
                    get: function() {
                        return this.ha
                    },
                    enumerable: !1,
                    configurable: !0
                }), mc.prototype.isEqual = function(t) {
                    return this.oa === t.oa && this.ha === t.ha
                }, mc.prototype.T = function(t) {
                    return Pi(this.oa, t.oa) || Pi(this.ha, t.ha)
                }, mc);

            function mc(t, e) {
                if (kh("GeoPoint", arguments, 2), Dh("GeoPoint", "number", 1, t), Dh("GeoPoint", "number", 2, e), !isFinite(t) || t < -90 || 90 < t) throw new $i(zi.INVALID_ARGUMENT, "Latitude must be a number between -90 and 90, but was: " + t);
                if (!isFinite(e) || e < -180 || 180 < e) throw new $i(zi.INVALID_ARGUMENT, "Longitude must be a number between -180 and 180, but was: " + e);
                this.oa = t, this.ha = e
            }

            function yc(t) {
                var e = this;
                return (e = rc.call(this) || this).Jh = t, e.Xh = t.Xh, e
            }

            function _c() {
                return oc.call(this) || this
            }

            function bc(t, e) {
                var n = this;
                return (n = sc.call(this) || this).Xh = t, n.ra = e, n
            }

            function wc(t, e) {
                var n = this;
                return (n = ac.call(this) || this).Xh = t, n.ia = e, n
            }

            function Ec(t, e) {
                var n = this;
                return (n = uc.call(this) || this).Xh = t, n.ia = e, n
            }

            function Ic(t) {
                var e = this;
                return (e = lc.call(this) || this).Xh = t, e
            }

            function Tc(t) {
                return new Po(t, !0)
            }
            var Cc = /^__.*__$/,
                kc = function(t, e, n) {
                    this.aa = t, this.ua = e, this.ca = n
                },
                Sc = (Nc.prototype.la = function(t, e) {
                    var n = [];
                    return null !== this.Le ? n.push(new Ms(t, this.data, this.Le, e)) : n.push(new Ls(t, this.data, e)), 0 < this.fieldTransforms.length && n.push(new qs(t, this.fieldTransforms)), n
                }, Nc),
                xc = (Dc.prototype.la = function(t, e) {
                    var n = [new Ms(t, this.data, this.Le, e)];
                    return 0 < this.fieldTransforms.length && n.push(new qs(t, this.fieldTransforms)), n
                }, Dc);

            function Dc(t, e, n) {
                this.data = t, this.Le = e, this.fieldTransforms = n
            }

            function Nc(t, e, n) {
                this.data = t, this.Le = e, this.fieldTransforms = n
            }

            function Ac(t) {
                switch (t) {
                    case 0:
                    case 2:
                    case 1:
                        return 1;
                    case 3:
                    case 4:
                        return;
                    default:
                        throw Si()
                }
            }
            var Pc = (Object.defineProperty(Lc.prototype, "path", {
                    get: function() {
                        return this.settings.path
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(Lc.prototype, "ta", {
                    get: function() {
                        return this.settings.ta
                    },
                    enumerable: !1,
                    configurable: !0
                }), Lc.prototype.fa = function(t) {
                    return new Lc(Object.assign(Object.assign({}, this.settings), t), this.s, this.serializer, this.ignoreUndefinedProperties, this.fieldTransforms, this.Le)
                }, Lc.prototype.da = function(t) {
                    var e, n = null === (e = this.path) || void 0 === e ? void 0 : e.child(t),
                        i = this.fa({
                            path: n,
                            sa: !1
                        });
                    return i.wa(t), i
                }, Lc.prototype.Ta = function(t) {
                    var e, n = null === (e = this.path) || void 0 === e ? void 0 : e.child(t),
                        i = this.fa({
                            path: n,
                            sa: !1
                        });
                    return i._a(), i
                }, Lc.prototype.Ea = function(t) {
                    return this.fa({
                        path: void 0,
                        sa: !0
                    })
                }, Lc.prototype.ea = function(t) {
                    return $c(t, this.settings.methodName, this.settings.Ia || !1, this.path, this.settings.na)
                }, Lc.prototype.contains = function(t) {
                    return void 0 !== this.Le.find((function(e) {
                        return t.D(e)
                    })) || void 0 !== this.fieldTransforms.find((function(e) {
                        return t.D(e.field)
                    }))
                }, Lc.prototype._a = function() {
                    if (this.path)
                        for (var t = 0; t < this.path.length; t++) this.wa(this.path.get(t))
                }, Lc.prototype.wa = function(t) {
                    if (0 === t.length) throw this.ea("Document fields must not be empty");
                    if (Ac(this.ta) && Cc.test(t)) throw this.ea('Document fields cannot begin and end with "__"')
                }, Lc),
                Oc = (Rc.prototype.ma = function(t, e, n, i) {
                    return void 0 === i && (i = !1), new Pc({
                        ta: t,
                        methodName: e,
                        na: n,
                        path: Ji.k(),
                        sa: !1,
                        Ia: i
                    }, this.s, this.serializer, this.ignoreUndefinedProperties)
                }, Rc);

            function Rc(t, e, n) {
                this.s = t, this.ignoreUndefinedProperties = e, this.serializer = n || Tc(t)
            }

            function Lc(t, e, n, i, r, o) {
                this.settings = t, this.s = e, this.serializer = n, this.ignoreUndefinedProperties = i, void 0 === r && this._a(), this.fieldTransforms = r || [], this.Le = o || []
            }

            function Mc(t, e, n, i, r, o) {
                void 0 === o && (o = {});
                var s = t.ma(o.merge || o.mergeFields ? 2 : 0, e, n, r);
                Vc("Data must be an object, but it was:", s, i);
                var a, u, l = qc(i, s);
                if (o.merge) a = new ws(s.Le), u = s.fieldTransforms;
                else if (o.mergeFields) {
                    for (var h = [], c = 0, d = o.mergeFields; c < d.length; c++) {
                        var p = d[c],
                            f = void 0;
                        if (p instanceof Yh) f = p.Yh;
                        else {
                            if ("string" != typeof p) throw Si();
                            f = zc(e, p, n)
                        }
                        if (!s.contains(f)) throw new $i(zi.INVALID_ARGUMENT, "Field '" + f + "' is specified in your field mask but missing from your input data.");
                        Kc(h, f) || h.push(f)
                    }
                    a = new ws(h), u = s.fieldTransforms.filter((function(t) {
                        return a.je(t.field)
                    }))
                } else a = null, u = s.fieldTransforms;
                return new Sc(new Ys(l), a, u)
            }

            function Fc(t, e, n, i) {
                var r = t.ma(1, e, n);
                Vc("Data must be an object, but it was:", r, i);
                var o = [],
                    s = new Qs;
                ji(i, (function(t, i) {
                    var a = zc(e, t, n),
                        u = r.Ta(a);
                    if (i instanceof Jh && i.Jh instanceof Zh) o.push(a);
                    else {
                        var l = Hc(i, u);
                        null != l && (o.push(a), s.set(a, l))
                    }
                }));
                var a = new ws(o);
                return new xc(s.Ge(), a, r.fieldTransforms)
            }

            function Uc(t, e, n, i, r, o) {
                var s = t.ma(1, e, n),
                    a = [Bc(e, i, n)],
                    u = [r];
                if (o.length % 2 != 0) throw new $i(zi.INVALID_ARGUMENT, "Function " + e + "() needs to be called with an even number of arguments that alternate between field names and values.");
                for (var l = 0; l < o.length; l += 2) a.push(Bc(e, o[l])), u.push(o[l + 1]);
                for (var h = [], c = new Qs, d = a.length - 1; 0 <= d; --d)
                    if (!Kc(h, a[d])) {
                        var p = a[d],
                            f = u[d],
                            g = s.Ta(p);
                        if (f instanceof Jh && f.Jh instanceof Zh) h.push(p);
                        else {
                            var v = Hc(f, g);
                            null != v && (h.push(p), c.set(p, v))
                        }
                    } var m = new ws(h);
                return new xc(c.Ge(), m, s.fieldTransforms)
            }

            function jc(t, e, n, i) {
                return void 0 === i && (i = !1), Hc(n, t.ma(i ? 4 : 3, e))
            }

            function Hc(t, e) {
                if (Wc(t)) return Vc("Unsupported field value:", e, t), qc(t, e);
                if (t instanceof Jh) return function(t, e) {
                    if (!Ac(e.ta)) throw e.ea(t.Xh + "() can only be used with update() and set()");
                    if (!e.path) throw e.ea(t.Xh + "() is not currently supported inside arrays");
                    var n = t.Zh(e);
                    n && e.fieldTransforms.push(n)
                }(t, e), null;
                if (e.path && e.Le.push(e.path), t instanceof Array) {
                    if (e.settings.sa && 4 !== e.ta) throw e.ea("Nested arrays are not supported");
                    return function(e) {
                        for (var n = [], i = 0, r = 0, o = t; r < o.length; r++) {
                            var s = Hc(o[r], e.Ea(i));
                            null == s && (s = {
                                nullValue: "NULL_VALUE"
                            }), n.push(s), i++
                        }
                        return {
                            arrayValue: {
                                values: n
                            }
                        }
                    }(e)
                }
                return function(t, e) {
                    if (null === t) return {
                        nullValue: "NULL_VALUE"
                    };
                    if ("number" == typeof t) return Lo(e.serializer, t);
                    if ("boolean" == typeof t) return {
                        booleanValue: t
                    };
                    if ("string" == typeof t) return {
                        stringValue: t
                    };
                    if (t instanceof Date) {
                        var n = Ki.fromDate(t);
                        return {
                            timestampValue: Mo(e.serializer, n)
                        }
                    }
                    if (t instanceof Ki) {
                        var i = new Ki(t.seconds, 1e3 * Math.floor(t.nanoseconds / 1e3));
                        return {
                            timestampValue: Mo(e.serializer, i)
                        }
                    }
                    if (t instanceof vc) return {
                        geoPointValue: {
                            latitude: t.latitude,
                            longitude: t.longitude
                        }
                    };
                    if (t instanceof Gh) return {
                        bytesValue: Fo(e.serializer, t)
                    };
                    if (t instanceof kc) {
                        var r = e.s,
                            o = t.aa;
                        if (!o.isEqual(r)) throw e.ea("Document reference is for database " + o.projectId + "/" + o.database + " but should be for database " + r.projectId + "/" + r.database);
                        return {
                            referenceValue: jo(t.aa || e.s, t.ua.path)
                        }
                    }
                    if (void 0 === t && e.ignoreUndefinedProperties) return null;
                    throw e.ea("Unsupported field value: " + Fh(t))
                }(t, e)
            }

            function qc(t, e) {
                var n = {};
                return Hi(t) ? e.path && 0 < e.path.length && e.Le.push(e.path) : ji(t, (function(t, i) {
                    var r = Hc(i, e.da(t));
                    null != r && (n[t] = r)
                })), {
                    mapValue: {
                        fields: n
                    }
                }
            }

            function Wc(t) {
                return !("object" != typeof t || null === t || t instanceof Array || t instanceof Date || t instanceof Ki || t instanceof vc || t instanceof Gh || t instanceof kc || t instanceof Jh)
            }

            function Vc(t, e, n) {
                if (!Wc(n) || !Mh(n)) {
                    var i = Fh(n);
                    throw "an object" === i ? e.ea(t + " a custom object") : e.ea(t + " " + i)
                }
            }

            function Bc(t, e, n) {
                if (e instanceof Yh) return e.Yh;
                if ("string" == typeof e) return zc(t, e);
                throw $c("Field path arguments must be of type string or FieldPath.", t, !1, void 0, n)
            }

            function zc(t, e, n) {
                try {
                    return function(t) {
                        if (0 <= t.search(Xh)) throw new $i(zi.INVALID_ARGUMENT, "Invalid field path (" + t + "). Paths must not contain '~', '*', '/', '[', or ']'");
                        try {
                            return new(Qh.bind.apply(Qh, u([void 0], t.split("."))))
                        } catch (e) {
                            throw new $i(zi.INVALID_ARGUMENT, "Invalid field path (" + t + "). Paths must not be empty, begin with '.', end with '.', or contain '..'")
                        }
                    }(e).Yh
                } catch (e) {
                    throw $c(e instanceof Error ? e.message : e.toString(), t, !1, void 0, n)
                }
            }

            function $c(t, e, n, i, r) {
                var o = i && !i._(),
                    s = void 0 !== r,
                    a = "Function " + e + "() called with invalid data";
                n && (a += " (via `toFirestore()`)");
                var u = "";
                return (o || s) && (u += " (found", o && (u += " in field " + i), s && (u += " in document " + r), u += ")"), new $i(zi.INVALID_ARGUMENT, (a += ". ") + t + u)
            }

            function Kc(t, e) {
                return t.some((function(t) {
                    return t.isEqual(e)
                }))
            }
            var Gc = (Yc.prototype.Mr = function() {
                return null != this.uid
            }, Yc.prototype.Aa = function() {
                return this.Mr() ? "uid:" + this.uid : "anonymous-user"
            }, Yc.prototype.isEqual = function(t) {
                return t.uid === this.uid
            }, Yc);

            function Yc(t) {
                this.uid = t
            }

            function Qc(t, e) {
                this.user = e, this.type = "OAuth", this.ga = {}, this.ga.Authorization = "Bearer " + t
            }
            Gc.UNAUTHENTICATED = new Gc(null), Gc.Ra = new Gc("google-credentials-uid"), Gc.Pa = new Gc("first-party-uid");
            var Xc, Jc, Zc, td = (wd.prototype.getToken = function() {
                    return Promise.resolve(null)
                }, wd.prototype.ya = function() {}, wd.prototype.pa = function(t) {
                    (this.Va = t)(Gc.UNAUTHENTICATED)
                }, wd.prototype.ba = function() {
                    this.Va = null
                }, wd),
                ed = (bd.prototype.getToken = function() {
                    var t = this,
                        e = this.Da,
                        n = this.forceRefresh;
                    return this.forceRefresh = !1, this.auth ? this.auth.getToken(n).then((function(n) {
                        return t.Da !== e ? (Ti("FirebaseCredentialsProvider", "getToken aborted due to token change."), t.getToken()) : n ? (xi("string" == typeof n.accessToken), new Qc(n.accessToken, t.currentUser)) : null
                    })) : Promise.resolve(null)
                }, bd.prototype.ya = function() {
                    this.forceRefresh = !0
                }, bd.prototype.pa = function(t) {
                    this.Va = t, this.Sa && t(this.currentUser)
                }, bd.prototype.ba = function() {
                    this.auth && this.auth.removeAuthTokenListener(this.va), this.va = null, this.Va = null
                }, bd.prototype.Ca = function() {
                    var t = this.auth && this.auth.getUid();
                    return xi(null === t || "string" == typeof t), new Gc(t)
                }, bd),
                nd = (Object.defineProperty(_d.prototype, "ga", {
                    get: function() {
                        var t = {
                                "X-Goog-AuthUser": this.$a
                            },
                            e = this.Fa.auth.Na([]);
                        return e && (t.Authorization = e), t
                    },
                    enumerable: !1,
                    configurable: !0
                }), _d),
                id = (yd.prototype.getToken = function() {
                    return Promise.resolve(new nd(this.Fa, this.$a))
                }, yd.prototype.pa = function(t) {
                    t(Gc.Pa)
                }, yd.prototype.ba = function() {}, yd.prototype.ya = function() {}, yd),
                rd = (md.prototype.qa = function() {
                    return 1 === this.state || 2 === this.state || 4 === this.state
                }, md.prototype.Ba = function() {
                    return 2 === this.state
                }, md.prototype.start = function() {
                    3 !== this.state ? this.auth() : this.Ua()
                }, md.prototype.stop = function() {
                    return s(this, void 0, void 0, (function() {
                        return a(this, (function(t) {
                            switch (t.label) {
                                case 0:
                                    return this.qa() ? [4, this.close(0)] : [3, 2];
                                case 1:
                                    t.sent(), t.label = 2;
                                case 2:
                                    return [2]
                            }
                        }))
                    }))
                }, md.prototype.Wa = function() {
                    this.state = 0, this.Po.reset()
                }, md.prototype.Qa = function() {
                    var t = this;
                    this.Ba() && null === this.La && (this.La = this.Ts.bs(this.ka, 6e4, (function() {
                        return t.ja()
                    })))
                }, md.prototype.Ka = function(t) {
                    this.Ga(), this.stream.send(t)
                }, md.prototype.ja = function() {
                    return s(this, void 0, void 0, (function() {
                        return a(this, (function(t) {
                            return this.Ba() ? [2, this.close(0)] : [2]
                        }))
                    }))
                }, md.prototype.Ga = function() {
                    this.La && (this.La.cancel(), this.La = null)
                }, md.prototype.close = function(t, e) {
                    return s(this, void 0, void 0, (function() {
                        return a(this, (function(n) {
                            switch (n.label) {
                                case 0:
                                    return this.Ga(), this.Po.cancel(), this.Oa++, 3 !== t ? this.Po.reset() : e && e.code === zi.RESOURCE_EXHAUSTED ? (Ci(e.toString()), Ci("Using maximum backoff delay to prevent overloading the backend."), this.Po.Vs()) : e && e.code === zi.UNAUTHENTICATED && this.Ma.ya(), null !== this.stream && (this.za(), this.stream.close(), this.stream = null), this.state = t, [4, this.listener.Ha(e)];
                                case 1:
                                    return n.sent(), [2]
                            }
                        }))
                    }))
                }, md.prototype.za = function() {}, md.prototype.auth = function() {
                    var t = this;
                    this.state = 1;
                    var e = this.Ya(this.Oa),
                        n = this.Oa;
                    this.Ma.getToken().then((function(e) {
                        t.Oa === n && t.Ja(e)
                    }), (function(n) {
                        e((function() {
                            var e = new $i(zi.UNKNOWN, "Fetching auth token failed: " + n.message);
                            return t.Xa(e)
                        }))
                    }))
                }, md.prototype.Ja = function(t) {
                    var e = this,
                        n = this.Ya(this.Oa);
                    this.stream = this.Za(t), this.stream.tu((function() {
                        n((function() {
                            return e.state = 2, e.listener.tu()
                        }))
                    })), this.stream.Ha((function(t) {
                        n((function() {
                            return e.Xa(t)
                        }))
                    })), this.stream.onMessage((function(t) {
                        n((function() {
                            return e.onMessage(t)
                        }))
                    }))
                }, md.prototype.Ua = function() {
                    var t = this;
                    this.state = 4, this.Po.ys((function() {
                        return s(t, void 0, void 0, (function() {
                            return a(this, (function(t) {
                                return this.state = 0, this.start(), [2]
                            }))
                        }))
                    }))
                }, md.prototype.Xa = function(t) {
                    return Ti("PersistentStream", "close with error: " + t), this.stream = null, this.close(3, t)
                }, md.prototype.Ya = function(t) {
                    var e = this;
                    return function(n) {
                        e.Ts.Zi((function() {
                            return e.Oa === t ? n() : (Ti("PersistentStream", "stream callback skipped by getCloseGuardedDispatcher."), Promise.resolve())
                        }))
                    }
                }, md),
                od = (o(vd, Zc = rd), vd.prototype.Za = function(t) {
                    return this.xa.eu("Listen", t)
                }, vd.prototype.onMessage = function(t) {
                    this.Po.reset();
                    var e = function(t, e) {
                            var n, i, r, o, s, a;
                            if ("targetChange" in e) {
                                e.targetChange;
                                var u = "NO_CHANGE" === (a = e.targetChange.targetChangeType || "NO_CHANGE") ? 0 : "ADD" === a ? 1 : "REMOVE" === a ? 2 : "CURRENT" === a ? 3 : "RESET" === a ? 4 : Si(),
                                    l = e.targetChange.targetIds || [],
                                    h = (o = t, s = e.targetChange.resumeToken, o.Oe ? (xi(void 0 === s || "string" == typeof s), vr.fromBase64String(s || "")) : (xi(void 0 === s || s instanceof Uint8Array), vr.fromUint8Array(s || new Uint8Array))),
                                    c = e.targetChange.cause;
                                n = new Gr(u, l, h, c && (r = void 0 === (i = c).code ? zi.UNKNOWN : Tr(i.code), new $i(r, i.message || "")) || null)
                            } else if ("documentChange" in e) {
                                e.documentChange;
                                var d = e.documentChange;
                                d.document, d.document.name, d.document.updateTime;
                                var p = Wo(t, d.document.name),
                                    f = Uo(d.document.updateTime),
                                    g = new Ys({
                                        mapValue: {
                                            fields: d.document.fields
                                        }
                                    }),
                                    v = new sa(p, f, g, {});
                                n = new $r(d.targetIds || [], d.removedTargetIds || [], v.key, v)
                            } else if ("documentDelete" in e) {
                                e.documentDelete;
                                var m = e.documentDelete;
                                m.document;
                                var y = Wo(t, m.document),
                                    _ = m.readTime ? Uo(m.readTime) : Gi.min(),
                                    b = new aa(y, _);
                                n = new $r([], m.removedTargetIds || [], b.key, b)
                            } else if ("documentRemove" in e) {
                                e.documentRemove;
                                var w = e.documentRemove;
                                w.document;
                                var E = Wo(t, w.document);
                                n = new $r([], w.removedTargetIds || [], E, null)
                            } else {
                                if (!("filter" in e)) return Si();
                                e.filter;
                                var I = e.filter;
                                I.targetId;
                                var T = new yr(I.count || 0);
                                n = new Kr(I.targetId, T)
                            }
                            return n
                        }(this.serializer, t),
                        n = function(t) {
                            if (!("targetChange" in t)) return Gi.min();
                            var e = t.targetChange;
                            return e.targetIds && e.targetIds.length || !e.readTime ? Gi.min() : Uo(e.readTime)
                        }(t);
                    return this.listener.nu(e, n)
                }, vd.prototype.su = function(t) {
                    var e, n, i, r, o = {};
                    o.database = zo(this.serializer), o.addTarget = (e = this.serializer, (i = gr(r = (n = t).target) ? {
                        documents: Qo(e, r)
                    } : {
                        query: Xo(e, r)
                    }).targetId = n.targetId, 0 < n.resumeToken.H() && (i.resumeToken = Fo(e, n.resumeToken)), i);
                    var s, a, u = (this.serializer, s = t, null == (a = function() {
                        switch (s.J) {
                            case 0:
                                return null;
                            case 1:
                                return "existence-filter-mismatch";
                            case 2:
                                return "limbo-document";
                            default:
                                return Si()
                        }
                    }()) ? null : {
                        "goog-listen-tags": a
                    });
                    u && (o.labels = u), this.Ka(o)
                }, vd.prototype.iu = function(t) {
                    var e = {};
                    e.database = zo(this.serializer), e.removeTarget = t, this.Ka(e)
                }, vd),
                sd = (o(gd, Jc = rd), Object.defineProperty(gd.prototype, "ou", {
                    get: function() {
                        return this.ru
                    },
                    enumerable: !1,
                    configurable: !0
                }), gd.prototype.start = function() {
                    this.ru = !1, this.lastStreamToken = void 0, Jc.prototype.start.call(this)
                }, gd.prototype.za = function() {
                    this.ru && this.hu([])
                }, gd.prototype.Za = function(t) {
                    return this.xa.eu("Write", t)
                }, gd.prototype.onMessage = function(t) {
                    if (xi(!!t.streamToken), this.lastStreamToken = t.streamToken, this.ru) {
                        this.Po.reset();
                        var e = (i = t.writeResults, r = t.commitTime, i && 0 < i.length ? (xi(void 0 !== r), i.map((function(t) {
                                return function(t, e) {
                                    var n = t.updateTime ? Uo(t.updateTime) : Uo(e);
                                    n.isEqual(Gi.min()) && (n = Uo(e));
                                    var i = null;
                                    return t.transformResults && 0 < t.transformResults.length && (i = t.transformResults), new Ts(n, i)
                                }(t, r)
                            }))) : []),
                            n = Uo(t.commitTime);
                        return this.listener.au(n, e)
                    }
                    var i, r;
                    return xi(!t.writeResults || 0 === t.writeResults.length), this.ru = !0, this.listener.uu()
                }, gd.prototype.cu = function() {
                    var t = {};
                    t.database = zo(this.serializer), this.Ka(t)
                }, gd.prototype.hu = function(t) {
                    var e = this,
                        n = {
                            streamToken: this.lastStreamToken,
                            writes: t.map((function(t) {
                                return Go(e.serializer, t)
                            }))
                        };
                    this.Ka(n)
                }, gd),
                ad = (o(fd, Xc = function() {}), fd.prototype._u = function() {
                    if (this.lu) throw new $i(zi.FAILED_PRECONDITION, "The client has already been terminated.")
                }, fd.prototype.start = function(t) {
                    this.xa = t
                }, fd.prototype.fu = function(t, e) {
                    var n = this;
                    return this._u(), this.credentials.getToken().then((function(i) {
                        return n.xa.fu(t, e, i)
                    })).catch((function(t) {
                        throw t.code === zi.UNAUTHENTICATED && n.credentials.ya(), t
                    }))
                }, fd.prototype.du = function(t, e) {
                    var n = this;
                    return this._u(), this.credentials.getToken().then((function(i) {
                        return n.xa.du(t, e, i)
                    })).catch((function(t) {
                        throw t.code === zi.UNAUTHENTICATED && n.credentials.ya(), t
                    }))
                }, fd),
                ud = (pd.prototype.Au = function(t) {
                    return s(this, void 0, void 0, (function() {
                        var e, n = this;
                        return a(this, (function(i) {
                            switch (i.label) {
                                case 0:
                                    if (this.Ru(), 0 < this.mutations.length) throw new $i(zi.INVALID_ARGUMENT, "Firestore transactions require all reads to be executed before all writes.");
                                    return [4, function(t, e) {
                                        return s(this, void 0, void 0, (function() {
                                            var n, i, r, o, s;
                                            return a(this, (function(a) {
                                                switch (a.label) {
                                                    case 0:
                                                        return i = {
                                                            database: zo((n = t).serializer),
                                                            documents: e.map((function(t) {
                                                                return qo(n.serializer, t)
                                                            }))
                                                        }, [4, n.du("BatchGetDocuments", i)];
                                                    case 1:
                                                        return r = a.sent(), o = new Map, r.forEach((function(t) {
                                                            var e, i, r = (e = n.serializer, "found" in (i = t) ? function(t, e) {
                                                                xi(!!e.found), e.found.name, e.found.updateTime;
                                                                var n = Wo(t, e.found.name),
                                                                    i = Uo(e.found.updateTime),
                                                                    r = new Ys({
                                                                        mapValue: {
                                                                            fields: e.found.fields
                                                                        }
                                                                    });
                                                                return new sa(n, i, r, {})
                                                            }(e, i) : "missing" in i ? function(t, e) {
                                                                xi(!!e.missing), xi(!!e.readTime);
                                                                var n = Wo(t, e.missing),
                                                                    i = Uo(e.readTime);
                                                                return new aa(n, i)
                                                            }(e, i) : Si());
                                                            o.set(r.key.toString(), r)
                                                        })), s = [], [2, (e.forEach((function(t) {
                                                            var e = o.get(t.toString());
                                                            xi(!!e), s.push(e)
                                                        })), s)]
                                                }
                                            }))
                                        }))
                                    }(this.wu, t)];
                                case 1:
                                    return [2, ((e = i.sent()).forEach((function(t) {
                                        t instanceof aa || t instanceof sa ? n.Pu(t) : Si()
                                    })), e)]
                            }
                        }))
                    }))
                }, pd.prototype.set = function(t, e) {
                    this.write(e.la(t, this.Ue(t))), this.mu.add(t)
                }, pd.prototype.update = function(t, e) {
                    try {
                        this.write(e.la(t, this.gu(t)))
                    } catch (t) {
                        this.Iu = t
                    }
                    this.mu.add(t)
                }, pd.prototype.delete = function(t) {
                    this.write([new Ks(t, this.Ue(t))]), this.mu.add(t)
                }, pd.prototype.commit = function() {
                    return s(this, void 0, void 0, (function() {
                        var t, e = this;
                        return a(this, (function(n) {
                            switch (n.label) {
                                case 0:
                                    if (this.Ru(), this.Iu) throw this.Iu;
                                    return t = this.Tu, this.mutations.forEach((function(e) {
                                        t.delete(e.key.toString())
                                    })), t.forEach((function(t, n) {
                                        var i = new Zi(Qi.N(n));
                                        e.mutations.push(new Gs(i, e.Ue(i)))
                                    })), [4, function(t, e) {
                                        return s(this, void 0, void 0, (function() {
                                            var n, i;
                                            return a(this, (function(r) {
                                                switch (r.label) {
                                                    case 0:
                                                        return i = {
                                                            database: zo((n = t).serializer),
                                                            writes: e.map((function(t) {
                                                                return Go(n.serializer, t)
                                                            }))
                                                        }, [4, n.fu("Commit", i)];
                                                    case 1:
                                                        return r.sent(), [2]
                                                }
                                            }))
                                        }))
                                    }(this.wu, this.mutations)];
                                case 1:
                                    return n.sent(), this.Eu = !0, [2]
                            }
                        }))
                    }))
                }, pd.prototype.Pu = function(t) {
                    var e;
                    if (t instanceof sa) e = t.version;
                    else {
                        if (!(t instanceof aa)) throw Si();
                        e = Gi.min()
                    }
                    var n = this.Tu.get(t.key.toString());
                    if (n) {
                        if (!e.isEqual(n)) throw new $i(zi.ABORTED, "Document version changed between two reads.")
                    } else this.Tu.set(t.key.toString(), e)
                }, pd.prototype.Ue = function(t) {
                    var e = this.Tu.get(t.toString());
                    return !this.mu.has(t) && e ? Cs.updateTime(e) : Cs.We()
                }, pd.prototype.gu = function(t) {
                    var e = this.Tu.get(t.toString());
                    if (this.mu.has(t) || !e) return Cs.exists(!0);
                    if (e.isEqual(Gi.min())) throw new $i(zi.INVALID_ARGUMENT, "Can't update a document that doesn't exist.");
                    return Cs.updateTime(e)
                }, pd.prototype.write = function(t) {
                    this.Ru(), this.mutations = this.mutations.concat(t)
                }, pd.prototype.Ru = function() {}, pd),
                ld = (dd.prototype.vu = function() {
                    var t = this;
                    0 === this.yu && (this.Su("Unknown"), this.pu = this.ao.bs("online_state_timeout", 1e4, (function() {
                        return t.pu = null, t.Du("Backend didn't respond within 10 seconds."), t.Su("Offline"), Promise.resolve()
                    })))
                }, dd.prototype.Cu = function(t) {
                    "Online" === this.state ? this.Su("Unknown") : (this.yu++, 1 <= this.yu && (this.Fu(), this.Du("Connection failed 1 times. Most recent error: " + t.toString()), this.Su("Offline")))
                }, dd.prototype.set = function(t) {
                    this.Fu(), this.yu = 0, "Online" === t && (this.bu = !1), this.Su(t)
                }, dd.prototype.Su = function(t) {
                    t !== this.state && (this.state = t, this.Vu(t))
                }, dd.prototype.Du = function(t) {
                    var e = "Could not reach Cloud Firestore backend. " + t + "\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";
                    this.bu ? (Ci(e), this.bu = !1) : Ti("OnlineStateTracker", e)
                }, dd.prototype.Fu = function() {
                    null !== this.pu && (this.pu.cancel(), this.pu = null)
                }, dd),
                hd = (cd.prototype.start = function() {
                    return this.enableNetwork()
                }, cd.prototype.enableNetwork = function() {
                    return this.Mu.delete(0), this.Ju()
                }, cd.prototype.Ju = function() {
                    return s(this, void 0, void 0, (function() {
                        return a(this, (function(t) {
                            switch (t.label) {
                                case 0:
                                    return this.qu() ? (this.Xu() ? this.Zu() : this.Uu.set("Unknown"), [4, this.tc()]) : [3, 2];
                                case 1:
                                    t.sent(), t.label = 2;
                                case 2:
                                    return [2]
                            }
                        }))
                    }))
                }, cd.prototype.disableNetwork = function() {
                    return s(this, void 0, void 0, (function() {
                        return a(this, (function(t) {
                            switch (t.label) {
                                case 0:
                                    return this.Mu.add(0), [4, this.ec()];
                                case 1:
                                    return t.sent(), this.Uu.set("Offline"), [2]
                            }
                        }))
                    }))
                }, cd.prototype.ec = function() {
                    return s(this, void 0, void 0, (function() {
                        return a(this, (function(t) {
                            switch (t.label) {
                                case 0:
                                    return [4, this.Gu.stop()];
                                case 1:
                                    return t.sent(), [4, this.Wu.stop()];
                                case 2:
                                    return t.sent(), 0 < this.Nu.length && (Ti("RemoteStore", "Stopping write stream with " + this.Nu.length + " pending writes"), this.Nu = []), this.nc(), [2]
                            }
                        }))
                    }))
                }, cd.prototype._r = function() {
                    return s(this, void 0, void 0, (function() {
                        return a(this, (function(t) {
                            switch (t.label) {
                                case 0:
                                    return Ti("RemoteStore", "RemoteStore shutting down."), this.Mu.add(5), [4, this.ec()];
                                case 1:
                                    return t.sent(), this.Ou._r(), this.Uu.set("Unknown"), [2]
                            }
                        }))
                    }))
                }, cd.prototype.listen = function(t) {
                    this.ku.has(t.targetId) || (this.ku.set(t.targetId, t), this.Xu() ? this.Zu() : this.Wu.Ba() && this.sc(t))
                }, cd.prototype.ic = function(t) {
                    this.ku.delete(t), this.Wu.Ba() && this.rc(t), 0 === this.ku.size && (this.Wu.Ba() ? this.Wu.Qa() : this.qu() && this.Uu.set("Unknown"))
                }, cd.prototype.Me = function(t) {
                    return this.ku.get(t) || null
                }, cd.prototype.xe = function(t) {
                    return this.oc.xe(t)
                }, cd.prototype.sc = function(t) {
                    this.xu.de(t.targetId), this.Wu.su(t)
                }, cd.prototype.rc = function(t) {
                    this.xu.de(t), this.Wu.iu(t)
                }, cd.prototype.Zu = function() {
                    this.xu = new eo(this), this.Wu.start(), this.Uu.vu()
                }, cd.prototype.Xu = function() {
                    return this.qu() && !this.Wu.qa() && 0 < this.ku.size
                }, cd.prototype.qu = function() {
                    return 0 === this.Mu.size
                }, cd.prototype.nc = function() {
                    this.xu = null
                }, cd.prototype.Qu = function() {
                    return s(this, void 0, void 0, (function() {
                        var t = this;
                        return a(this, (function(e) {
                            return this.ku.forEach((function(e, n) {
                                t.sc(e)
                            })), [2]
                        }))
                    }))
                }, cd.prototype.ju = function(t) {
                    return s(this, void 0, void 0, (function() {
                        return a(this, (function(e) {
                            return this.nc(), this.Xu() ? (this.Uu.Cu(t), this.Zu()) : this.Uu.set("Unknown"), [2]
                        }))
                    }))
                }, cd.prototype.Ku = function(t, e) {
                    return s(this, void 0, void 0, (function() {
                        var n, i, r;
                        return a(this, (function(o) {
                            switch (o.label) {
                                case 0:
                                    if (this.Uu.set("Online"), !(t instanceof Gr && 2 === t.state && t.cause)) return [3, 6];
                                    o.label = 1;
                                case 1:
                                    return o.trys.push([1, 3, , 5]), [4, this.hc(t)];
                                case 2:
                                    return o.sent(), [3, 5];
                                case 3:
                                    return n = o.sent(), Ti("RemoteStore", "Failed to remove targets %s: %s ", t.targetIds.join(","), n), [4, this.ac(n)];
                                case 4:
                                    return o.sent(), [3, 5];
                                case 5:
                                    return [3, 13];
                                case 6:
                                    if (t instanceof $r ? this.xu.Pe(t) : t instanceof Kr ? this.xu.De(t) : this.xu.ye(t), e.isEqual(Gi.min())) return [3, 13];
                                    o.label = 7;
                                case 7:
                                    return o.trys.push([7, 11, , 13]), [4, this.$u.ai()];
                                case 8:
                                    return i = o.sent(), 0 <= e.o(i) ? [4, this.uc(e)] : [3, 10];
                                case 9:
                                    o.sent(), o.label = 10;
                                case 10:
                                    return [3, 13];
                                case 11:
                                    return Ti("RemoteStore", "Failed to raise snapshot:", r = o.sent()), [4, this.ac(r)];
                                case 12:
                                    return o.sent(), [3, 13];
                                case 13:
                                    return [2]
                            }
                        }))
                    }))
                }, cd.prototype.ac = function(t, e) {
                    return s(this, void 0, void 0, (function() {
                        var n = this;
                        return a(this, (function(i) {
                            switch (i.label) {
                                case 0:
                                    if (!$l(t)) throw t;
                                    return this.Mu.add(1), [4, this.ec()];
                                case 1:
                                    return i.sent(), this.Uu.set("Offline"), e = e || function() {
                                        return n.$u.ai()
                                    }, this.ao.er((function() {
                                        return s(n, void 0, void 0, (function() {
                                            return a(this, (function(t) {
                                                switch (t.label) {
                                                    case 0:
                                                        return Ti("RemoteStore", "Retrying IndexedDB access"), [4, e()];
                                                    case 1:
                                                        return t.sent(), this.Mu.delete(1), [4, this.Ju()];
                                                    case 2:
                                                        return t.sent(), [2]
                                                }
                                            }))
                                        }))
                                    })), [2]
                            }
                        }))
                    }))
                }, cd.prototype.cc = function(t) {
                    var e = this;
                    return t().catch((function(n) {
                        return e.ac(n, t)
                    }))
                }, cd.prototype.uc = function(t) {
                    var e = this,
                        n = this.xu.$e(t);
                    return n.Wt.forEach((function(n, i) {
                        if (0 < n.resumeToken.H()) {
                            var r = e.ku.get(i);
                            r && e.ku.set(i, r.tt(n.resumeToken, t))
                        }
                    })), n.Qt.forEach((function(t) {
                        var n = e.ku.get(t);
                        if (n) {
                            e.ku.set(t, n.tt(vr.Y, n.X)), e.rc(t);
                            var i = new wr(n.target, t, 1, n.sequenceNumber);
                            e.sc(i)
                        }
                    })), this.oc.vh(n)
                }, cd.prototype.hc = function(t) {
                    return s(this, void 0, void 0, (function() {
                        var e, n, i, r;
                        return a(this, (function(o) {
                            switch (o.label) {
                                case 0:
                                    e = t.cause, n = 0, i = t.targetIds, o.label = 1;
                                case 1:
                                    return n < i.length ? (r = i[n], this.ku.has(r) ? [4, this.oc.lc(r, e)] : [3, 3]) : [3, 5];
                                case 2:
                                    o.sent(), this.ku.delete(r), this.xu.removeTarget(r), o.label = 3;
                                case 3:
                                    o.label = 4;
                                case 4:
                                    return n++, [3, 1];
                                case 5:
                                    return [2]
                            }
                        }))
                    }))
                }, cd.prototype.tc = function() {
                    return s(this, void 0, void 0, (function() {
                        var t, e, n;
                        return a(this, (function(i) {
                            switch (i.label) {
                                case 0:
                                    t = 0 < this.Nu.length ? this.Nu[this.Nu.length - 1].batchId : -1, i.label = 1;
                                case 1:
                                    if (!this._c()) return [3, 7];
                                    i.label = 2;
                                case 2:
                                    return i.trys.push([2, 4, , 6]), [4, this.$u.Fh(t)];
                                case 3:
                                    return null === (e = i.sent()) ? (0 === this.Nu.length && this.Gu.Qa(), [3, 7]) : (t = e.batchId, this.fc(e), [3, 6]);
                                case 4:
                                    return n = i.sent(), [4, this.ac(n)];
                                case 5:
                                    return i.sent(), [3, 6];
                                case 6:
                                    return [3, 1];
                                case 7:
                                    return this.dc() && this.wc(), [2]
                            }
                        }))
                    }))
                }, cd.prototype._c = function() {
                    return this.qu() && this.Nu.length < 10
                }, cd.prototype.Tc = function() {
                    return this.Nu.length
                }, cd.prototype.fc = function(t) {
                    this.Nu.push(t), this.Gu.Ba() && this.Gu.ou && this.Gu.hu(t.mutations)
                }, cd.prototype.dc = function() {
                    return this.qu() && !this.Gu.qa() && 0 < this.Nu.length
                }, cd.prototype.wc = function() {
                    this.Gu.start()
                }, cd.prototype.zu = function() {
                    return s(this, void 0, void 0, (function() {
                        return a(this, (function(t) {
                            return this.Gu.cu(), [2]
                        }))
                    }))
                }, cd.prototype.Yu = function() {
                    return s(this, void 0, void 0, (function() {
                        var t, e, n;
                        return a(this, (function(i) {
                            for (t = 0, e = this.Nu; t < e.length; t++) n = e[t], this.Gu.hu(n.mutations);
                            return [2]
                        }))
                    }))
                }, cd.prototype.au = function(t, e) {
                    return s(this, void 0, void 0, (function() {
                        var n, i, r = this;
                        return a(this, (function(o) {
                            switch (o.label) {
                                case 0:
                                    return n = this.Nu.shift(), i = Za.from(n, t, e), [4, this.cc((function() {
                                        return r.oc.Ec(i)
                                    }))];
                                case 1:
                                    return o.sent(), [4, this.tc()];
                                case 2:
                                    return o.sent(), [2]
                            }
                        }))
                    }))
                }, cd.prototype.Hu = function(t) {
                    return s(this, void 0, void 0, (function() {
                        return a(this, (function(e) {
                            switch (e.label) {
                                case 0:
                                    return t && this.Gu.ou ? [4, this.Ic(t)] : [3, 2];
                                case 1:
                                    e.sent(), e.label = 2;
                                case 2:
                                    return this.dc() && this.wc(), [2]
                            }
                        }))
                    }))
                }, cd.prototype.Ic = function(t) {
                    return s(this, void 0, void 0, (function() {
                        var e, n, i = this;
                        return a(this, (function(r) {
                            switch (r.label) {
                                case 0:
                                    return Ir(n = t.code) && n !== zi.ABORTED ? (e = this.Nu.shift(), this.Gu.Wa(), [4, this.cc((function() {
                                        return i.oc.mc(e.batchId, t)
                                    }))]) : [3, 3];
                                case 1:
                                    return r.sent(), [4, this.tc()];
                                case 2:
                                    r.sent(), r.label = 3;
                                case 3:
                                    return [2]
                            }
                        }))
                    }))
                }, cd.prototype.Ac = function() {
                    return new ud(this.wu)
                }, cd.prototype.Bu = function() {
                    return s(this, void 0, void 0, (function() {
                        return a(this, (function(t) {
                            switch (t.label) {
                                case 0:
                                    return this.Mu.add(4), [4, this.ec()];
                                case 1:
                                    return t.sent(), this.Uu.set("Unknown"), this.Gu.Wa(), this.Wu.Wa(), this.Mu.delete(4), [4, this.Ju()];
                                case 2:
                                    return t.sent(), [2]
                            }
                        }))
                    }))
                }, cd.prototype.Rc = function(t) {
                    return s(this, void 0, void 0, (function() {
                        return a(this, (function(e) {
                            switch (e.label) {
                                case 0:
                                    return this.ao.$o(), Ti("RemoteStore", "RemoteStore received new credentials"), this.Mu.add(3), [4, this.ec()];
                                case 1:
                                    return e.sent(), this.Uu.set("Unknown"), [4, this.oc.Rc(t)];
                                case 2:
                                    return e.sent(), this.Mu.delete(3), [4, this.Ju()];
                                case 3:
                                    return e.sent(), [2]
                            }
                        }))
                    }))
                }, cd.prototype.Pc = function(t) {
                    return s(this, void 0, void 0, (function() {
                        return a(this, (function(e) {
                            switch (e.label) {
                                case 0:
                                    return t ? (this.Mu.delete(2), [4, this.Ju()]) : [3, 2];
                                case 1:
                                    return e.sent(), [3, 5];
                                case 2:
                                    return t ? [3, 4] : (this.Mu.add(2), [4, this.ec()]);
                                case 3:
                                    e.sent(), this.Uu.set("Unknown"), e.label = 4;
                                case 4:
                                    e.label = 5;
                                case 5:
                                    return [2]
                            }
                        }))
                    }))
                }, cd);

            function cd(t, e, n, i, r) {
                var o, u, l, h, c, d, p, f, g = this;
                this.$u = t, this.wu = e, this.ao = n, this.Nu = [], this.ku = new Map, this.xu = null, this.Mu = new Set, this.Ou = r, this.Ou.Lu((function(t) {
                    n.Zi((function() {
                        return s(g, void 0, void 0, (function() {
                            return a(this, (function(t) {
                                switch (t.label) {
                                    case 0:
                                        return this.qu() ? (Ti("RemoteStore", "Restarting streams for network reachability change."), [4, this.Bu()]) : [3, 2];
                                    case 1:
                                        t.sent(), t.label = 2;
                                    case 2:
                                        return [2]
                                }
                            }))
                        }))
                    }))
                })), this.Uu = new ld(n, i), this.Wu = (c = this.wu, d = n, p = {
                    tu: this.Qu.bind(this),
                    Ha: this.ju.bind(this),
                    nu: this.Ku.bind(this)
                }, (f = c)._u(), new od(d, f.xa, f.credentials, f.serializer, p)), this.Gu = (o = this.wu, u = n, l = {
                    tu: this.zu.bind(this),
                    Ha: this.Hu.bind(this),
                    uu: this.Yu.bind(this),
                    au: this.au.bind(this)
                }, (h = o)._u(), new sd(u, h.xa, h.credentials, h.serializer, l))
            }

            function dd(t, e) {
                this.ao = t, this.Vu = e, this.state = "Unknown", this.yu = 0, this.pu = null, this.bu = !0
            }

            function pd(t) {
                this.wu = t, this.Tu = new Map, this.mutations = [], this.Eu = !1, this.Iu = null, this.mu = new Set
            }

            function fd(t, e) {
                var n = this;
                return (n = Xc.call(this) || this).credentials = t, n.serializer = e, n.lu = !1, n
            }

            function gd(t, e, n, i, r) {
                var o = this;
                return (o = Jc.call(this, t, "write_stream_connection_backoff", "write_stream_idle", e, n, r) || this).serializer = i, o.ru = !1, o
            }

            function vd(t, e, n, i, r) {
                var o = this;
                return (o = Zc.call(this, t, "listen_stream_connection_backoff", "listen_stream_idle", e, n, r) || this).serializer = i, o
            }

            function md(t, e, n, i, r, o) {
                this.Ts = t, this.ka = n, this.xa = i, this.Ma = r, this.listener = o, this.state = 0, this.Oa = 0, this.La = null, this.stream = null, this.Po = new vu(t, e)
            }

            function yd(t, e) {
                this.Fa = t, this.$a = e
            }

            function _d(t, e) {
                this.Fa = t, this.$a = e, this.type = "FirstParty", this.user = Gc.Pa
            }

            function bd(t) {
                var e = this;
                this.va = null, this.currentUser = Gc.UNAUTHENTICATED, this.Sa = !1, this.Da = 0, this.Va = null, this.forceRefresh = !1, this.va = function() {
                    e.Da++, e.currentUser = e.Ca(), e.Sa = !0, e.Va && e.Va(e.currentUser)
                }, this.Da = 0, this.auth = t.getImmediate({
                    optional: !0
                }), this.auth ? this.auth.addAuthTokenListener(this.va) : (this.va(null), t.get().then((function(t) {
                    e.auth = t, e.va && e.auth.addAuthTokenListener(e.va)
                }), (function() {})))
            }

            function wd() {
                this.Va = null
            }

            function Ed(t, e) {
                return "firestore_clients_" + t + "_" + e
            }

            function Id(t, e, n) {
                var i = "firestore_mutations_" + t + "_" + n;
                return e.Mr() && (i += "_" + e.uid), i
            }

            function Td(t, e) {
                return "firestore_targets_" + t + "_" + e
            }

            function Cd(t) {
                this.key = t
            }

            function kd(t) {
                this.key = t
            }

            function Sd(t, e, n) {
                this.query = t, this.targetId = e, this.view = n
            }

            function xd(t) {
                this.key = t, this.Ml = !1
            }
            var Dd = (Gd.gc = function(t, e, n) {
                    var i = JSON.parse(n),
                        r = "object" == typeof i && -1 !== ["pending", "acknowledged", "rejected"].indexOf(i.state) && (void 0 === i.error || "object" == typeof i.error),
                        o = void 0;
                    return r && i.error && (r = "string" == typeof i.error.message && "string" == typeof i.error.code) && (o = new $i(i.error.code, i.error.message)), r ? new Gd(t, e, i.state, o) : (Ci("SharedClientState", "Failed to parse mutation state for ID '" + e + "': " + n), null)
                }, Gd.prototype.Vc = function() {
                    var t = {
                        state: this.state,
                        updateTimeMs: Date.now()
                    };
                    return this.error && (t.error = {
                        code: this.error.code,
                        message: this.error.message
                    }), JSON.stringify(t)
                }, Gd),
                Nd = (Kd.gc = function(t, e) {
                    var n = JSON.parse(e),
                        i = "object" == typeof n && -1 !== ["not-current", "current", "rejected"].indexOf(n.state) && (void 0 === n.error || "object" == typeof n.error),
                        r = void 0;
                    return i && n.error && (i = "string" == typeof n.error.message && "string" == typeof n.error.code) && (r = new $i(n.error.code, n.error.message)), i ? new Kd(t, n.state, r) : (Ci("SharedClientState", "Failed to parse target state for ID '" + t + "': " + e), null)
                }, Kd.prototype.Vc = function() {
                    var t = {
                        state: this.state,
                        updateTimeMs: Date.now()
                    };
                    return this.error && (t.error = {
                        code: this.error.code,
                        message: this.error.message
                    }), JSON.stringify(t)
                }, Kd),
                Ad = ($d.gc = function(t, e) {
                    for (var n = JSON.parse(e), i = "object" == typeof n && n.activeTargetIds instanceof Array, r = zr(), o = 0; i && o < n.activeTargetIds.length; ++o) i = hr(n.activeTargetIds[o]), r = r.add(n.activeTargetIds[o]);
                    return i ? new $d(t, r) : (Ci("SharedClientState", "Failed to parse client data for instance '" + t + "': " + e), null)
                }, $d),
                Pd = (zd.gc = function(t) {
                    var e = JSON.parse(t);
                    return "object" == typeof e && -1 !== ["Unknown", "Online", "Offline"].indexOf(e.onlineState) && "string" == typeof e.clientId ? new zd(e.clientId, e.onlineState) : (Ci("SharedClientState", "Failed to parse online state: " + t), null)
                }, zd),
                Od = (Bd.prototype.yc = function(t) {
                    this.activeTargetIds = this.activeTargetIds.add(t)
                }, Bd.prototype.pc = function(t) {
                    this.activeTargetIds = this.activeTargetIds.delete(t)
                }, Bd.prototype.Vc = function() {
                    var t = {
                        activeTargetIds: this.activeTargetIds.F(),
                        updateTimeMs: Date.now()
                    };
                    return JSON.stringify(t)
                }, Bd),
                Rd = (Vd.Oi = function(t) {
                    return !(!t || !t.localStorage)
                }, Vd.prototype.start = function() {
                    return s(this, void 0, void 0, (function() {
                        var t, e, n, i, r, o, s, u, l, h, c, d = this;
                        return a(this, (function(a) {
                            switch (a.label) {
                                case 0:
                                    return [4, this.oc.Ir()];
                                case 1:
                                    for (t = a.sent(), e = 0, n = t; e < n.length; e++)(i = n[e]) !== this.bc && (r = this.getItem(Ed(this.persistenceKey, i))) && (o = Ad.gc(i, r)) && (this.Dc = this.Dc.nt(o.clientId, o));
                                    for (this.Oc(), (s = this.storage.getItem(this.Mc)) && (u = this.Lc(s)) && this.qc(u), l = 0, h = this.Cc; l < h.length; l++) c = h[l], this.Sc(c);
                                    return this.Cc = [], this.window.addEventListener("unload", (function() {
                                        return d._r()
                                    })), this.Hi = !0, [2]
                            }
                        }))
                    }))
                }, Vd.prototype.ds = function(t) {
                    this.setItem(this.$c, JSON.stringify(t))
                }, Vd.prototype.Bc = function() {
                    return this.Uc(this.Dc)
                }, Vd.prototype.Wc = function(t) {
                    var e = !1;
                    return this.Dc.forEach((function(n, i) {
                        i.activeTargetIds.has(t) && (e = !0)
                    })), e
                }, Vd.prototype.Qc = function(t) {
                    this.jc(t, "pending")
                }, Vd.prototype.Kc = function(t, e, n) {
                    this.jc(t, e, n), this.Gc(t)
                }, Vd.prototype.zc = function(t) {
                    var e = "not-current";
                    if (this.Wc(t)) {
                        var n = this.storage.getItem(Td(this.persistenceKey, t));
                        if (n) {
                            var i = Nd.gc(t, n);
                            i && (e = i.state)
                        }
                    }
                    return this.Hc.yc(t), this.Oc(), e
                }, Vd.prototype.Yc = function(t) {
                    this.Hc.pc(t), this.Oc()
                }, Vd.prototype.Jc = function(t) {
                    return this.Hc.activeTargetIds.has(t)
                }, Vd.prototype.Xc = function(t) {
                    this.removeItem(Td(this.persistenceKey, t))
                }, Vd.prototype.Zc = function(t, e, n) {
                    this.tl(t, e, n)
                }, Vd.prototype.Ah = function(t, e, n) {
                    var i = this;
                    e.forEach((function(t) {
                        i.Gc(t)
                    })), this.currentUser = t, n.forEach((function(t) {
                        i.Qc(t)
                    }))
                }, Vd.prototype.el = function(t) {
                    this.nl(t)
                }, Vd.prototype._r = function() {
                    this.Hi && (this.window.removeEventListener("storage", this.vc), this.removeItem(this.Fc), this.Hi = !1)
                }, Vd.prototype.getItem = function(t) {
                    var e = this.storage.getItem(t);
                    return Ti("SharedClientState", "READ", t, e), e
                }, Vd.prototype.setItem = function(t, e) {
                    Ti("SharedClientState", "SET", t, e), this.storage.setItem(t, e)
                }, Vd.prototype.removeItem = function(t) {
                    Ti("SharedClientState", "REMOVE", t), this.storage.removeItem(t)
                }, Vd.prototype.Sc = function(t) {
                    var e = this,
                        n = t;
                    if (n.storageArea === this.storage) {
                        if (Ti("SharedClientState", "EVENT", n.key, n.newValue), n.key === this.Fc) return void Ci("Received WebStorage notification for local change. Another client might have garbage-collected our state");
                        this.Ts.er((function() {
                            return s(e, void 0, void 0, (function() {
                                var t, e, i, r, o, s;
                                return a(this, (function(a) {
                                    if (this.Hi) {
                                        if (null !== n.key)
                                            if (this.Nc.test(n.key)) {
                                                if (null == n.newValue) return t = this.sl(n.key), [2, this.il(t, null)];
                                                if (e = this.rl(n.key, n.newValue)) return [2, this.il(e.clientId, e)]
                                            } else if (this.kc.test(n.key)) {
                                            if (null !== n.newValue && (i = this.ol(n.key, n.newValue))) return [2, this.hl(i)]
                                        } else if (this.xc.test(n.key)) {
                                            if (null !== n.newValue && (r = this.al(n.key, n.newValue))) return [2, this.ul(r)]
                                        } else if (n.key === this.Mc) {
                                            if (null !== n.newValue && (o = this.Lc(n.newValue))) return [2, this.qc(o)]
                                        } else n.key === this.$c && (s = function(t) {
                                            var e = su.ws;
                                            if (null != t) try {
                                                var n = JSON.parse(t);
                                                xi("number" == typeof n), e = n
                                            } catch (t) {
                                                Ci("SharedClientState", "Failed to read sequence number from WebStorage", t)
                                            }
                                            return e
                                        }(n.newValue)) !== su.ws && this.ls(s)
                                    } else this.Cc.push(n);
                                    return [2]
                                }))
                            }))
                        }))
                    }
                }, Object.defineProperty(Vd.prototype, "Hc", {
                    get: function() {
                        return this.Dc.get(this.bc)
                    },
                    enumerable: !1,
                    configurable: !0
                }), Vd.prototype.Oc = function() {
                    this.setItem(this.Fc, this.Hc.Vc())
                }, Vd.prototype.jc = function(t, e, n) {
                    var i = new Dd(this.currentUser, t, e, n),
                        r = Id(this.persistenceKey, this.currentUser, t);
                    this.setItem(r, i.Vc())
                }, Vd.prototype.Gc = function(t) {
                    var e = Id(this.persistenceKey, this.currentUser, t);
                    this.removeItem(e)
                }, Vd.prototype.nl = function(t) {
                    var e = {
                        clientId: this.bc,
                        onlineState: t
                    };
                    this.storage.setItem(this.Mc, JSON.stringify(e))
                }, Vd.prototype.tl = function(t, e, n) {
                    var i = Td(this.persistenceKey, t),
                        r = new Nd(t, e, n);
                    this.setItem(i, r.Vc())
                }, Vd.prototype.sl = function(t) {
                    var e = this.Nc.exec(t);
                    return e ? e[1] : null
                }, Vd.prototype.rl = function(t, e) {
                    var n = this.sl(t);
                    return Ad.gc(n, e)
                }, Vd.prototype.ol = function(t, e) {
                    var n = this.kc.exec(t),
                        i = Number(n[1]),
                        r = void 0 !== n[2] ? n[2] : null;
                    return Dd.gc(new Gc(r), i, e)
                }, Vd.prototype.al = function(t, e) {
                    var n = this.xc.exec(t),
                        i = Number(n[1]);
                    return Nd.gc(i, e)
                }, Vd.prototype.Lc = function(t) {
                    return Pd.gc(t)
                }, Vd.prototype.hl = function(t) {
                    return s(this, void 0, void 0, (function() {
                        return a(this, (function(e) {
                            return t.user.uid === this.currentUser.uid ? [2, this.oc.cl(t.batchId, t.state, t.error)] : (Ti("SharedClientState", "Ignoring mutation for non-active user " + t.user.uid), [2])
                        }))
                    }))
                }, Vd.prototype.ul = function(t) {
                    return this.oc.ll(t.targetId, t.state, t.error)
                }, Vd.prototype.il = function(t, e) {
                    var n = this,
                        i = e ? this.Dc.nt(t, e) : this.Dc.remove(t),
                        r = this.Uc(this.Dc),
                        o = this.Uc(i),
                        s = [],
                        a = [];
                    return o.forEach((function(t) {
                        r.has(t) || s.push(t)
                    })), r.forEach((function(t) {
                        o.has(t) || a.push(t)
                    })), this.oc._l(s, a).then((function() {
                        n.Dc = i
                    }))
                }, Vd.prototype.qc = function(t) {
                    this.Dc.get(t.clientId) && this.Vu(t.onlineState)
                }, Vd.prototype.Uc = function(t) {
                    var e = zr();
                    return t.forEach((function(t, n) {
                        e = e.Ct(n.activeTargetIds)
                    })), e
                }, Vd),
                Ld = (Wd.prototype.Qc = function(t) {}, Wd.prototype.Kc = function(t, e, n) {}, Wd.prototype.zc = function(t) {
                    return this.fl.yc(t), this.dl[t] || "not-current"
                }, Wd.prototype.Zc = function(t, e, n) {
                    this.dl[t] = e
                }, Wd.prototype.Yc = function(t) {
                    this.fl.pc(t)
                }, Wd.prototype.Jc = function(t) {
                    return this.fl.activeTargetIds.has(t)
                }, Wd.prototype.Xc = function(t) {
                    delete this.dl[t]
                }, Wd.prototype.Bc = function() {
                    return this.fl.activeTargetIds
                }, Wd.prototype.Wc = function(t) {
                    return this.fl.activeTargetIds.has(t)
                }, Wd.prototype.start = function() {
                    return this.fl = new Od, Promise.resolve()
                }, Wd.prototype.Ah = function(t, e, n) {}, Wd.prototype.el = function(t) {}, Wd.prototype._r = function() {}, Wd.prototype.ds = function(t) {}, Wd),
                Md = (Object.defineProperty(qd.prototype, "Al", {
                    get: function() {
                        return this.wl
                    },
                    enumerable: !1,
                    configurable: !0
                }), qd.prototype.Rl = function(t, e) {
                    var n = this,
                        i = e ? e.Pl : new Qr,
                        r = e ? e.ml : this.ml,
                        o = e ? e.Lt : this.Lt,
                        s = r,
                        a = !1,
                        u = this.query.hn() && r.size === this.query.limit ? r.last() : null,
                        l = this.query.an() && r.size === this.query.limit ? r.first() : null;
                    if (t.ot((function(t, e) {
                            var h = r.get(t),
                                c = e instanceof sa ? e : null;
                            c = c && (ka(n.query, c) ? c : null);
                            var d = !!h && n.Lt.has(h.key),
                                p = !!c && (c.Ke || n.Lt.has(c.key) && c.hasCommittedMutations),
                                f = !1;
                            h && c ? h.data().isEqual(c.data()) ? d !== p && (i.track({
                                type: 3,
                                doc: c
                            }), f = !0) : n.gl(h, c) || (i.track({
                                type: 2,
                                doc: c
                            }), f = !0, (u && 0 < n.Il(c, u) || l && n.Il(c, l) < 0) && (a = !0)) : !h && c ? (i.track({
                                type: 0,
                                doc: c
                            }), f = !0) : h && !c && (i.track({
                                type: 1,
                                doc: h
                            }), f = !0, (u || l) && (a = !0)), f && (o = c ? (s = s.add(c), p ? o.add(t) : o.delete(t)) : (s = s.delete(t), o.delete(t)))
                        })), this.query.hn() || this.query.an())
                        for (; s.size > this.query.limit;) {
                            var h = this.query.hn() ? s.last() : s.first();
                            s = s.delete(h.key), o = o.delete(h.key), i.track({
                                type: 1,
                                doc: h
                            })
                        }
                    return {
                        ml: s,
                        Pl: i,
                        Vl: a,
                        Lt: o
                    }
                }, qd.prototype.gl = function(t, e) {
                    return t.Ke && e.hasCommittedMutations && !e.Ke
                }, qd.prototype.qn = function(t, e, n) {
                    var i = this,
                        r = this.ml;
                    this.ml = t.ml, this.Lt = t.Lt;
                    var o = t.Pl.Mt();
                    o.sort((function(t, e) {
                        return r = t.type, o = e.type, n(r) - n(o) || i.Il(t.doc, e.doc);

                        function n(t) {
                            switch (t) {
                                case 0:
                                    return 1;
                                case 2:
                                case 3:
                                    return 2;
                                case 1:
                                    return 0;
                                default:
                                    return Si()
                            }
                        }
                        var r, o
                    })), this.yl(n);
                    var s = e ? this.pl() : [],
                        a = 0 === this.El.size && this.Ht ? 1 : 0,
                        u = a !== this.Tl;
                    return this.Tl = a, 0 !== o.length || u ? {
                        snapshot: new Xr(this.query, t.ml, r, o, t.Lt, 0 == a, u, !1),
                        bl: s
                    } : {
                        bl: s
                    }
                }, qd.prototype.vl = function(t) {
                    return this.Ht && "Offline" === t ? (this.Ht = !1, this.qn({
                        ml: this.ml,
                        Pl: new Qr,
                        Lt: this.Lt,
                        Vl: !1
                    }, !1)) : {
                        bl: []
                    }
                }, qd.prototype.Sl = function(t) {
                    return !this.wl.has(t) && !!this.ml.has(t) && !this.ml.get(t).Ke
                }, qd.prototype.yl = function(t) {
                    var e = this;
                    t && (t.Yt.forEach((function(t) {
                        return e.wl = e.wl.add(t)
                    })), t.Jt.forEach((function(t) {})), t.Xt.forEach((function(t) {
                        return e.wl = e.wl.delete(t)
                    })), this.Ht = t.Ht)
                }, qd.prototype.pl = function() {
                    var t = this;
                    if (!this.Ht) return [];
                    var e = this.El;
                    this.El = Vr(), this.ml.forEach((function(e) {
                        t.Sl(e.key) && (t.El = t.El.add(e.key))
                    }));
                    var n = [];
                    return e.forEach((function(e) {
                        t.El.has(e) || n.push(new kd(e))
                    })), this.El.forEach((function(t) {
                        e.has(t) || n.push(new Cd(t))
                    })), n
                }, qd.prototype.Dl = function(t) {
                    this.wl = t.Mh, this.El = Vr();
                    var e = this.Rl(t.documents);
                    return this.qn(e, !0)
                }, qd.prototype.Cl = function() {
                    return Xr.Ut(this.query, this.ml, this.Lt, 0 === this.Tl)
                }, qd),
                Fd = (Hd.prototype.run = function() {
                    this.$l()
                }, Hd.prototype.$l = function() {
                    var t = this;
                    this.Po.ys((function() {
                        return s(t, void 0, void 0, (function() {
                            var t, e, n = this;
                            return a(this, (function(i) {
                                return t = new ud(this.wu), (e = this.Nl(t)) && e.then((function(e) {
                                    n.ao.Zi((function() {
                                        return t.commit().then((function() {
                                            n.lo.resolve(e)
                                        })).catch((function(t) {
                                            n.kl(t)
                                        }))
                                    }))
                                })).catch((function(t) {
                                    n.kl(t)
                                })), [2]
                            }))
                        }))
                    }))
                }, Hd.prototype.Nl = function(t) {
                    try {
                        var e = this.updateFunction(t);
                        return !ur(e) && e.catch && e.then ? e : (this.lo.reject(Error("Transaction callback must return a Promise")), null)
                    } catch (t) {
                        return this.lo.reject(t), null
                    }
                }, Hd.prototype.kl = function(t) {
                    var e = this;
                    0 < this.Fl && this.xl(t) ? (--this.Fl, this.ao.Zi((function() {
                        return e.$l(), Promise.resolve()
                    }))) : this.lo.reject(t)
                }, Hd.prototype.xl = function(t) {
                    if ("FirebaseError" !== t.name) return !1;
                    var e = t.code;
                    return "aborted" === e || "failed-precondition" === e || !Ir(e)
                }, Hd),
                Ud = (Object.defineProperty(jd.prototype, "Xl", {
                    get: function() {
                        return !0 === this.Jl
                    },
                    enumerable: !1,
                    configurable: !0
                }), jd.prototype.subscribe = function(t) {
                    this.Bl = t
                }, jd.prototype.listen = function(t) {
                    return s(this, void 0, void 0, (function() {
                        var e, n, i, r, o;
                        return a(this, (function(s) {
                            switch (s.label) {
                                case 0:
                                    return this.Zl("listen()"), (i = this.Ul.get(t)) ? (e = i.targetId, this.Ll.zc(e), n = i.view.Cl(), [3, 4]) : [3, 1];
                                case 1:
                                    return [4, this.$u.Nh(_a(t))];
                                case 2:
                                    return r = s.sent(), o = this.Ll.zc(r.targetId), e = r.targetId, [4, this.t_(t, e, "current" === o)];
                                case 3:
                                    n = s.sent(), this.Xl && this.Ol.listen(r), s.label = 4;
                                case 4:
                                    return [2, n]
                            }
                        }))
                    }))
                }, jd.prototype.t_ = function(t, e, n) {
                    return s(this, void 0, void 0, (function() {
                        var i, r, o, s, u, l;
                        return a(this, (function(a) {
                            switch (a.label) {
                                case 0:
                                    return [4, this.$u.xh(t, !0)];
                                case 1:
                                    return i = a.sent(), r = new Md(t, i.Mh), o = r.Rl(i.documents), s = Zr.zt(e, n && "Offline" !== this.onlineState), u = r.qn(o, this.Xl, s), this.e_(e, u.bl), l = new Sd(t, e, r), [2, (this.Ul.set(t, l), this.Wl.has(e) ? this.Wl.get(e).push(t) : this.Wl.set(e, [t]), u.snapshot)]
                            }
                        }))
                    }))
                }, jd.prototype.ic = function(t) {
                    return s(this, void 0, void 0, (function() {
                        var e, n, i = this;
                        return a(this, (function(r) {
                            switch (r.label) {
                                case 0:
                                    return this.Zl("unlisten()"), e = this.Ul.get(t), 1 < (n = this.Wl.get(e.targetId)).length ? [2, (this.Wl.set(e.targetId, n.filter((function(e) {
                                        return !Ia(e, t)
                                    }))), void this.Ul.delete(t))] : this.Xl ? (this.Ll.Yc(e.targetId), this.Ll.Wc(e.targetId) ? [3, 2] : [4, this.$u.kh(e.targetId, !1).then((function() {
                                        i.Ll.Xc(e.targetId), i.Ol.ic(e.targetId), i.n_(e.targetId)
                                    })).catch(bh)]) : [3, 3];
                                case 1:
                                    r.sent(), r.label = 2;
                                case 2:
                                    return [3, 5];
                                case 3:
                                    return this.n_(e.targetId), [4, this.$u.kh(e.targetId, !0)];
                                case 4:
                                    r.sent(), r.label = 5;
                                case 5:
                                    return [2]
                            }
                        }))
                    }))
                }, jd.prototype.write = function(t, e) {
                    return s(this, void 0, void 0, (function() {
                        var n, i, r;
                        return a(this, (function(o) {
                            switch (o.label) {
                                case 0:
                                    this.Zl("write()"), o.label = 1;
                                case 1:
                                    return o.trys.push([1, 5, , 6]), [4, this.$u.Vh(t)];
                                case 2:
                                    return n = o.sent(), this.Ll.Qc(n.batchId), this.s_(n.batchId, e), [4, this.i_(n.Cn)];
                                case 3:
                                    return o.sent(), [4, this.Ol.tc()];
                                case 4:
                                    return o.sent(), [3, 6];
                                case 5:
                                    return i = o.sent(), r = oh(i, "Failed to persist write"), e.reject(r), [3, 6];
                                case 6:
                                    return [2]
                            }
                        }))
                    }))
                }, jd.prototype.runTransaction = function(t, e, n) {
                    new Fd(t, this.wu, e, n).run()
                }, jd.prototype.vh = function(t) {
                    return s(this, void 0, void 0, (function() {
                        var e, n = this;
                        return a(this, (function(i) {
                            switch (i.label) {
                                case 0:
                                    this.Zl("applyRemoteEvent()"), i.label = 1;
                                case 1:
                                    return i.trys.push([1, 4, , 6]), [4, this.$u.vh(t)];
                                case 2:
                                    return e = i.sent(), t.Wt.forEach((function(t, e) {
                                        var i = n.Kl.get(e);
                                        i && (xi(t.Yt.size + t.Jt.size + t.Xt.size <= 1), 0 < t.Yt.size ? i.Ml = !0 : 0 < t.Jt.size ? xi(i.Ml) : 0 < t.Xt.size && (xi(i.Ml), i.Ml = !1))
                                    })), [4, this.i_(e, t)];
                                case 3:
                                    return i.sent(), [3, 6];
                                case 4:
                                    return [4, bh(i.sent())];
                                case 5:
                                    return i.sent(), [3, 6];
                                case 6:
                                    return [2]
                            }
                        }))
                    }))
                }, jd.prototype.vl = function(t, e) {
                    if (this.Xl && 0 === e || !this.Xl && 1 === e) {
                        this.Zl("applyOnlineStateChange()");
                        var n = [];
                        this.Ul.forEach((function(e, i) {
                            var r = i.view.vl(t);
                            r.snapshot && n.push(r.snapshot)
                        })), this.Bl.r_(t), this.Bl.nu(n), this.onlineState = t, this.Xl && this.Ll.el(t)
                    }
                }, jd.prototype.lc = function(t, e) {
                    return s(this, void 0, void 0, (function() {
                        var n, i, r, o, s, u = this;
                        return a(this, (function(a) {
                            switch (a.label) {
                                case 0:
                                    return this.Zl("rejectListens()"), this.Ll.Zc(t, "rejected", e), n = this.Kl.get(t), (i = n && n.key) ? (r = (r = new Cr(Zi.P)).nt(i, new aa(i, Gi.min())), o = Vr().add(i), s = new Jr(Gi.min(), new Map, new Pr(Pi), r, o), [4, this.vh(s)]) : [3, 2];
                                case 1:
                                    return a.sent(), this.jl = this.jl.remove(i), this.Kl.delete(t), this.o_(), [3, 4];
                                case 2:
                                    return [4, this.$u.kh(t, !1).then((function() {
                                        return u.n_(t, e)
                                    })).catch(bh)];
                                case 3:
                                    a.sent(), a.label = 4;
                                case 4:
                                    return [2]
                            }
                        }))
                    }))
                }, jd.prototype.Ec = function(t) {
                    return s(this, void 0, void 0, (function() {
                        var e, n;
                        return a(this, (function(i) {
                            switch (i.label) {
                                case 0:
                                    this.Zl("applySuccessfulWrite()"), e = t.batch.batchId, i.label = 1;
                                case 1:
                                    return i.trys.push([1, 4, , 6]), [4, this.$u.yh(t)];
                                case 2:
                                    return n = i.sent(), this.h_(e, null), this.a_(e), this.Ll.Kc(e, "acknowledged"), [4, this.i_(n)];
                                case 3:
                                    return i.sent(), [3, 6];
                                case 4:
                                    return [4, bh(i.sent())];
                                case 5:
                                    return i.sent(), [3, 6];
                                case 6:
                                    return [2]
                            }
                        }))
                    }))
                }, jd.prototype.mc = function(t, e) {
                    return s(this, void 0, void 0, (function() {
                        var n;
                        return a(this, (function(i) {
                            switch (i.label) {
                                case 0:
                                    this.Zl("rejectFailedWrite()"), i.label = 1;
                                case 1:
                                    return i.trys.push([1, 4, , 6]), [4, this.$u.bh(t)];
                                case 2:
                                    return n = i.sent(), this.h_(t, e), this.a_(t), this.Ll.Kc(t, "rejected", e), [4, this.i_(n)];
                                case 3:
                                    return i.sent(), [3, 6];
                                case 4:
                                    return [4, bh(i.sent())];
                                case 5:
                                    return i.sent(), [3, 6];
                                case 6:
                                    return [2]
                            }
                        }))
                    }))
                }, jd.prototype.u_ = function(t) {
                    return s(this, void 0, void 0, (function() {
                        var e, n, i, r;
                        return a(this, (function(o) {
                            switch (o.label) {
                                case 0:
                                    this.Ol.qu() || Ti("SyncEngine", "The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."), o.label = 1;
                                case 1:
                                    return o.trys.push([1, 3, , 4]), [4, this.$u.Wr()];
                                case 2:
                                    return -1 === (e = o.sent()) ? [2, void t.resolve()] : ((n = this.Hl.get(e) || []).push(t), this.Hl.set(e, n), [3, 4]);
                                case 3:
                                    return i = o.sent(), r = oh(i, "Initialization of waitForPendingWrites() operation failed"), t.reject(r), [3, 4];
                                case 4:
                                    return [2]
                            }
                        }))
                    }))
                }, jd.prototype.a_ = function(t) {
                    (this.Hl.get(t) || []).forEach((function(t) {
                        t.resolve()
                    })), this.Hl.delete(t)
                }, jd.prototype.c_ = function(t) {
                    this.Hl.forEach((function(e) {
                        e.forEach((function(e) {
                            e.reject(new $i(zi.CANCELLED, t))
                        }))
                    })), this.Hl.clear()
                }, jd.prototype.s_ = function(t, e) {
                    var n = this.zl[this.currentUser.Aa()];
                    n = (n = n || new Cr(Pi)).nt(t, e), this.zl[this.currentUser.Aa()] = n
                }, jd.prototype.h_ = function(t, e) {
                    var n = this.zl[this.currentUser.Aa()];
                    if (n) {
                        var i = n.get(t);
                        i && (e ? i.reject(e) : i.resolve(), n = n.remove(t)), this.zl[this.currentUser.Aa()] = n
                    }
                }, jd.prototype.n_ = function(t, e) {
                    var n = this;
                    void 0 === e && (e = null), this.Ll.Yc(t);
                    for (var i = 0, r = this.Wl.get(t); i < r.length; i++) {
                        var o = r[i];
                        this.Ul.delete(o), e && this.Bl.l_(o, e)
                    }
                    this.Wl.delete(t), this.Xl && this.Gl.jh(t).forEach((function(t) {
                        n.Gl.pi(t) || n.__(t)
                    }))
                }, jd.prototype.__ = function(t) {
                    var e = this.jl.get(t);
                    null !== e && (this.Ol.ic(e), this.jl = this.jl.remove(t), this.Kl.delete(e), this.o_())
                }, jd.prototype.e_ = function(t, e) {
                    for (var n = 0, i = e; n < i.length; n++) {
                        var r = i[n];
                        r instanceof Cd ? (this.Gl.Ri(r.key, t), this.f_(r)) : r instanceof kd ? (Ti("SyncEngine", "Document no longer in limbo: " + r.key), this.Gl.gi(r.key, t), this.Gl.pi(r.key) || this.__(r.key)) : Si()
                    }
                }, jd.prototype.f_ = function(t) {
                    var e = t.key;
                    this.jl.get(e) || (Ti("SyncEngine", "New document in limbo: " + e), this.Ql.push(e), this.o_())
                }, jd.prototype.o_ = function() {
                    for (; 0 < this.Ql.length && this.jl.size < this.ql;) {
                        var t = this.Ql.shift(),
                            e = this.Yl.next();
                        this.Kl.set(e, new xd(t)), this.jl = this.jl.nt(t, e), this.Ol.listen(new wr(_a(va(t.path)), e, 2, su.ws))
                    }
                }, jd.prototype.d_ = function() {
                    return this.jl
                }, jd.prototype.w_ = function() {
                    return this.Ql
                }, jd.prototype.i_ = function(t, e) {
                    return s(this, void 0, void 0, (function() {
                        var n, i, r, o = this;
                        return a(this, (function(s) {
                            switch (s.label) {
                                case 0:
                                    return n = [], i = [], r = [], this.Ul.forEach((function(s, a) {
                                        r.push(Promise.resolve().then((function() {
                                            var e = a.view.Rl(t);
                                            return e.Vl ? o.$u.xh(a.query, !1).then((function(t) {
                                                var n = t.documents;
                                                return a.view.Rl(n, e)
                                            })) : e
                                        })).then((function(t) {
                                            var r = e && e.Wt.get(a.targetId),
                                                s = a.view.qn(t, o.Xl, r);
                                            if (o.e_(a.targetId, s.bl), s.snapshot) {
                                                o.Xl && o.Ll.Zc(a.targetId, s.snapshot.fromCache ? "not-current" : "current"), n.push(s.snapshot);
                                                var u = ou.cs(a.targetId, s.snapshot);
                                                i.push(u)
                                            }
                                        })))
                                    })), [4, Promise.all(r)];
                                case 1:
                                    return s.sent(), this.Bl.nu(n), [4, this.$u.Ch(i)];
                                case 2:
                                    return s.sent(), [2]
                            }
                        }))
                    }))
                }, jd.prototype.Zl = function(t) {}, jd.prototype.Rc = function(t) {
                    return s(this, void 0, void 0, (function() {
                        var e;
                        return a(this, (function(n) {
                            switch (n.label) {
                                case 0:
                                    return this.currentUser.isEqual(t) ? [3, 3] : (Ti("SyncEngine", "User change. New user:", t.Aa()), [4, this.$u.Ah(t)]);
                                case 1:
                                    return e = n.sent(), this.currentUser = t, this.c_("'waitForPendingWrites' promise is rejected due to a user change."), this.Ll.Ah(t, e.Ph, e.gh), [4, this.i_(e.Rh)];
                                case 2:
                                    n.sent(), n.label = 3;
                                case 3:
                                    return [2]
                            }
                        }))
                    }))
                }, jd.prototype.xe = function(t) {
                    var e = this.Kl.get(t);
                    if (e && e.Ml) return Vr().add(e.key);
                    var n = Vr(),
                        i = this.Wl.get(t);
                    if (!i) return n;
                    for (var r = 0, o = i; r < o.length; r++) {
                        var s = o[r],
                            a = this.Ul.get(s);
                        n = n.Ct(a.view.Al)
                    }
                    return n
                }, jd);

            function jd(t, e, n, i, r, o) {
                this.$u = t, this.Ol = e, this.wu = n, this.Ll = i, this.currentUser = r, this.ql = o, this.Bl = null, this.Ul = new Bi((function(t) {
                    return Ta(t)
                }), Ia), this.Wl = new Map, this.Ql = [], this.jl = new Cr(Zi.P), this.Kl = new Map, this.Gl = new wh, this.zl = {}, this.Hl = new Map, this.Yl = Ku.si(), this.onlineState = "Unknown", this.Jl = void 0
            }

            function Hd(t, e, n, i) {
                this.ao = t, this.wu = e, this.updateFunction = n, this.lo = i, this.Fl = 5, this.Po = new vu(this.ao, "transaction_retry")
            }

            function qd(t, e) {
                this.query = t, this.wl = e, this.Tl = null, this.Ht = !1, this.El = Vr(), this.Lt = Vr(), this.Il = Sa(t), this.ml = new Yr(this.Il)
            }

            function Wd() {
                this.fl = new Od, this.dl = {}, this.Vu = null, this.ls = null
            }

            function Vd(t, e, n, i, r) {
                this.window = t, this.Ts = e, this.persistenceKey = n, this.bc = i, this.oc = null, this.Vu = null, this.ls = null, this.vc = this.Sc.bind(this), this.Dc = new Cr(Pi), this.Hi = !1, this.Cc = [];
                var o = n.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
                this.storage = this.window.localStorage, this.currentUser = r, this.Fc = Ed(this.persistenceKey, this.bc), this.$c = "firestore_sequence_number_" + this.persistenceKey, this.Dc = this.Dc.nt(this.bc, new Od), this.Nc = new RegExp("^firestore_clients_" + o + "_([^_]*)$"), this.kc = new RegExp("^firestore_mutations_" + o + "_(\\d+)(?:_(.*))?$"), this.xc = new RegExp("^firestore_targets_" + o + "_(\\d+)$"), this.Mc = "firestore_online_state_" + this.persistenceKey, this.window.addEventListener("storage", this.vc)
            }

            function Bd() {
                this.activeTargetIds = zr()
            }

            function zd(t, e) {
                this.clientId = t, this.onlineState = e
            }

            function $d(t, e) {
                this.clientId = t, this.activeTargetIds = e
            }

            function Kd(t, e, n) {
                this.targetId = t, this.state = e, this.error = n
            }

            function Gd(t, e, n, i) {
                this.user = t, this.batchId = e, this.state = n, this.error = i
            }

            function Yd(t, e, n, i, r, o, s) {
                var a = new Ud(t, e, n, i, r, o);
                return s && (a.Jl = !0), a
            }

            function Qd(t, e, n, i) {
                return s(this, void 0, void 0, (function() {
                    var r, o;
                    return a(this, (function(s) {
                        switch (s.label) {
                            case 0:
                                return (r = t).Zl("applyBatchState()"), [4, (l = r.$u, h = e, c = l, d = c.jn, c.persistence.runTransaction("Lookup mutation documents", "readonly", (function(t) {
                                    return d.Br(t, h).next((function(e) {
                                        return e ? c.Ih.Jn(t, e) : tu.resolve(null)
                                    }))
                                })))];
                            case 1:
                                return null === (o = s.sent()) ? [3, 6] : "pending" !== n ? [3, 3] : [4, r.Ol.tc()];
                            case 2:
                                return s.sent(), [3, 4];
                            case 3:
                                "acknowledged" === n || "rejected" === n ? (r.h_(e, i || null), a = r.$u, u = e, a.jn.Gr(u)) : Si(), s.label = 4;
                            case 4:
                                return [4, r.i_(o)];
                            case 5:
                                return s.sent(), [3, 7];
                            case 6:
                                Ti("SyncEngine", "Cannot apply mutation batch with id: " + e), s.label = 7;
                            case 7:
                                return [2]
                        }
                        var a, u, l, h, c, d
                    }))
                }))
            }

            function Xd(t, e) {
                return s(this, void 0, void 0, (function() {
                    var n, i, r, o, s, u, l, h;
                    return a(this, (function(a) {
                        switch (a.label) {
                            case 0:
                                return n = t, !0 !== e || !0 === n.Jl ? [3, 3] : (i = n.Ll.Bc(), [4, Jd(n, i.F())]);
                            case 1:
                                return r = a.sent(), n.Jl = !0, [4, n.Ol.Pc(!0)];
                            case 2:
                                for (a.sent(), o = 0, s = r; o < s.length; o++) u = s[o], n.Ol.listen(u);
                                return [3, 7];
                            case 3:
                                return !1 !== e || !1 === n.Jl ? [3, 7] : (l = [], h = Promise.resolve(), n.Wl.forEach((function(t, e) {
                                    n.Ll.Jc(e) ? l.push(e) : h = h.then((function() {
                                        return n.n_(e), n.$u.kh(e, !0)
                                    })), n.Ol.ic(e)
                                })), [4, h]);
                            case 4:
                                return a.sent(), [4, Jd(n, l)];
                            case 5:
                                return a.sent(), (c = n).Kl.forEach((function(t, e) {
                                    c.Ol.ic(e)
                                })), c.Gl.Kh(), c.Kl = new Map, c.jl = new Cr(Zi.P), n.Jl = !1, [4, n.Ol.Pc(!1)];
                            case 6:
                                a.sent(), a.label = 7;
                            case 7:
                                return [2]
                        }
                        var c
                    }))
                }))
            }

            function Jd(t, e) {
                return s(this, void 0, void 0, (function() {
                    var n, i, r, o, u, l, h, c, d, p, f, g, v, m;
                    return a(this, (function(y) {
                        switch (y.label) {
                            case 0:
                                n = t, i = [], r = [], o = 0, u = e, y.label = 1;
                            case 1:
                                return o < u.length ? (l = u[o], h = void 0, (c = n.Wl.get(l)) && 0 !== c.length ? [4, n.$u.Nh(_a(c[0]))] : [3, 7]) : [3, 13];
                            case 2:
                                h = y.sent(), d = 0, p = c, y.label = 3;
                            case 3:
                                return d < p.length ? (f = p[d], g = n.Ul.get(f), [4, function(t, e) {
                                    return s(this, void 0, void 0, (function() {
                                        var n, i, r;
                                        return a(this, (function(o) {
                                            switch (o.label) {
                                                case 0:
                                                    return [4, (n = t).$u.xh(e.query, !0)];
                                                case 1:
                                                    return i = o.sent(), r = e.view.Dl(i), [2, (n.Xl && n.e_(e.targetId, r.bl), r)]
                                            }
                                        }))
                                    }))
                                }(n, g)]) : [3, 6];
                            case 4:
                                (v = y.sent()).snapshot && r.push(v.snapshot), y.label = 5;
                            case 5:
                                return d++, [3, 3];
                            case 6:
                                return [3, 11];
                            case 7:
                                return [4, _h(n.$u, l)];
                            case 8:
                                return m = y.sent(), [4, n.$u.Nh(m)];
                            case 9:
                                return h = y.sent(), [4, n.t_(Zd(m), l, !1)];
                            case 10:
                                y.sent(), y.label = 11;
                            case 11:
                                i.push(h), y.label = 12;
                            case 12:
                                return o++, [3, 1];
                            case 13:
                                return [2, (n.Bl.nu(r), i)]
                        }
                    }))
                }))
            }

            function Zd(t) {
                return ga(t.path, t.collectionGroup, t.orderBy, t.filters, t.limit, "F", t.startAt, t.endAt)
            }

            function tp(t, e, n, i) {
                return s(this, void 0, void 0, (function() {
                    var r, o, s;
                    return a(this, (function(a) {
                        switch (a.label) {
                            case 0:
                                return (r = t).Jl ? (Ti("SyncEngine", "Ignoring unexpected query state notification."), [3, 8]) : [3, 1];
                            case 1:
                                if (!r.Wl.has(e)) return [3, 8];
                                switch (n) {
                                    case "current":
                                    case "not-current":
                                        return [3, 2];
                                    case "rejected":
                                        return [3, 5]
                                }
                                return [3, 7];
                            case 2:
                                return [4, (u = r.$u, l = u.Eh, u.persistence.runTransaction("Get new document changes", "readonly", (function(t) {
                                    return l.Ks(t, u.Th)
                                })).then((function(t) {
                                    var e = t.Gs,
                                        n = t.readTime;
                                    return u.Th = n, e
                                })))];
                            case 3:
                                return o = a.sent(), s = Jr.Gt(e, "current" === n), [4, r.i_(o, s)];
                            case 4:
                                return a.sent(), [3, 8];
                            case 5:
                                return [4, r.$u.kh(e, !0)];
                            case 6:
                                return a.sent(), r.n_(e, i), [3, 8];
                            case 7:
                                Si(), a.label = 8;
                            case 8:
                                return [2]
                        }
                        var u, l
                    }))
                }))
            }

            function ep() {
                this.T_ = void 0, this.listeners = []
            }
            var np, ip = (dp.prototype.listen = function(t) {
                    return s(this, void 0, void 0, (function() {
                        var e, n, i, r, o, s;
                        return a(this, (function(a) {
                            switch (a.label) {
                                case 0:
                                    if (e = t.query, n = !1, (i = this.E_.get(e)) || (n = !0, i = new ep), !n) return [3, 4];
                                    a.label = 1;
                                case 1:
                                    return a.trys.push([1, 3, , 4]), r = i, [4, this.oc.listen(e)];
                                case 2:
                                    return r.T_ = a.sent(), [3, 4];
                                case 3:
                                    return o = a.sent(), s = oh(o, "Initialization of query '" + Ca(t.query) + "' failed"), [2, void t.onError(s)];
                                case 4:
                                    return this.E_.set(e, i), i.listeners.push(t), t.vl(this.onlineState), i.T_ && t.m_(i.T_) && this.A_(), [2]
                            }
                        }))
                    }))
                }, dp.prototype.ic = function(t) {
                    return s(this, void 0, void 0, (function() {
                        var e, n, i, r;
                        return a(this, (function(o) {
                            return e = t.query, n = !1, (i = this.E_.get(e)) && 0 <= (r = i.listeners.indexOf(t)) && (i.listeners.splice(r, 1), n = 0 === i.listeners.length), n ? [2, (this.E_.delete(e), this.oc.ic(e))] : [2]
                        }))
                    }))
                }, dp.prototype.nu = function(t) {
                    for (var e = !1, n = 0, i = t; n < i.length; n++) {
                        var r = i[n],
                            o = r.query,
                            s = this.E_.get(o);
                        if (s) {
                            for (var a = 0, u = s.listeners; a < u.length; a++) u[a].m_(r) && (e = !0);
                            s.T_ = r
                        }
                    }
                    e && this.A_()
                }, dp.prototype.l_ = function(t, e) {
                    var n = this.E_.get(t);
                    if (n)
                        for (var i = 0, r = n.listeners; i < r.length; i++) r[i].onError(e);
                    this.E_.delete(t)
                }, dp.prototype.r_ = function(t) {
                    this.onlineState = t;
                    var e = !1;
                    this.E_.forEach((function(n, i) {
                        for (var r = 0, o = i.listeners; r < o.length; r++) o[r].vl(t) && (e = !0)
                    })), e && this.A_()
                }, dp.prototype.R_ = function(t) {
                    this.I_.add(t), t.next()
                }, dp.prototype.P_ = function(t) {
                    this.I_.delete(t)
                }, dp.prototype.A_ = function() {
                    this.I_.forEach((function(t) {
                        t.next()
                    }))
                }, dp),
                rp = (cp.prototype.m_ = function(t) {
                    if (!this.options.includeMetadataChanges) {
                        for (var e = [], n = 0, i = t.docChanges; n < i.length; n++) {
                            var r = i[n];
                            3 !== r.type && e.push(r)
                        }
                        t = new Xr(t.query, t.docs, t.Ot, e, t.Lt, t.fromCache, t.qt, !0)
                    }
                    var o = !1;
                    return this.V_ ? this.p_(t) && (this.g_.next(t), o = !0) : this.b_(t, this.onlineState) && (this.v_(t), o = !0), this.y_ = t, o
                }, cp.prototype.onError = function(t) {
                    this.g_.error(t)
                }, cp.prototype.vl = function(t) {
                    this.onlineState = t;
                    var e = !1;
                    return this.y_ && !this.V_ && this.b_(this.y_, t) && (this.v_(this.y_), e = !0), e
                }, cp.prototype.b_ = function(t, e) {
                    if (!t.fromCache) return !0;
                    var n = "Offline" !== e;
                    return !(this.options.S_ && n || t.docs._() && "Offline" !== e)
                }, cp.prototype.p_ = function(t) {
                    if (0 < t.docChanges.length) return !0;
                    var e = this.y_ && this.y_.hasPendingWrites !== t.hasPendingWrites;
                    return !(!t.qt && !e) && !0 === this.options.includeMetadataChanges
                }, cp.prototype.v_ = function(t) {
                    t = Xr.Ut(t.query, t.docs, t.Lt, t.fromCache), this.V_ = !0, this.g_.next(t)
                }, cp),
                op = (hp.prototype.mh = function(t) {
                    this.D_ = t
                }, hp.prototype.ts = function(t, e, i, r) {
                    var o = this;
                    return e.on() || i.isEqual(Gi.min()) ? this.C_(t, e) : this.D_.Jn(t, r).next((function(s) {
                        var a = o.F_(e, s);
                        return (e.hn() || e.an()) && o.Vl(e.en, a, r, i) ? o.C_(t, e) : (Ii() <= n.DEBUG && Ti("IndexFreeQueryEngine", "Re-using previous result from %s to execute query: %s", i.toString(), Ca(e)), o.D_.ts(t, e, i).next((function(t) {
                            return a.forEach((function(e) {
                                t = t.nt(e.key, e)
                            })), t
                        })))
                    }))
                }, hp.prototype.F_ = function(t, e) {
                    var n = new Pr(Sa(t));
                    return e.forEach((function(e, i) {
                        i instanceof sa && ka(t, i) && (n = n.add(i))
                    })), n
                }, hp.prototype.Vl = function(t, e, n, i) {
                    if (n.size !== e.size) return !0;
                    var r = "F" === t ? e.last() : e.first();
                    return !!r && (r.hasPendingWrites || 0 < r.version.o(i))
                }, hp.prototype.C_ = function(t, e) {
                    return Ii() <= n.DEBUG && Ti("IndexFreeQueryEngine", "Using full collection scan to execute query:", Ca(e)), this.D_.ts(t, e, Gi.min())
                }, hp),
                sp = (lp.prototype.Or = function(t) {
                    return tu.resolve(0 === this.jn.length)
                }, lp.prototype.Lr = function(t, e, n, i) {
                    var r = this.N_;
                    this.N_++, 0 < this.jn.length && this.jn[this.jn.length - 1];
                    var o = new Ja(r, e, n, i);
                    this.jn.push(o);
                    for (var s = 0, a = i; s < a.length; s++) {
                        var u = a[s];
                        this.k_ = this.k_.add(new Eh(u.key, r)), this.Kn.Cs(t, u.key.path.p())
                    }
                    return tu.resolve(o)
                }, lp.prototype.qr = function(t, e) {
                    return tu.resolve(this.x_(e))
                }, lp.prototype.Ur = function(t, e) {
                    var n = e + 1,
                        i = this.M_(n),
                        r = i < 0 ? 0 : i;
                    return tu.resolve(this.jn.length > r ? this.jn[r] : null)
                }, lp.prototype.Wr = function() {
                    return tu.resolve(0 === this.jn.length ? -1 : this.N_ - 1)
                }, lp.prototype.Qr = function(t) {
                    return tu.resolve(this.jn.slice())
                }, lp.prototype.zn = function(t, e) {
                    var n = this,
                        i = new Eh(e, 0),
                        r = new Eh(e, Number.POSITIVE_INFINITY),
                        o = [];
                    return this.k_.vt([i, r], (function(t) {
                        var e = n.x_(t.zh);
                        o.push(e)
                    })), tu.resolve(o)
                }, lp.prototype.Zn = function(t, e) {
                    var n = this,
                        i = new Pr(Pi);
                    return e.forEach((function(t) {
                        var e = new Eh(t, 0),
                            r = new Eh(t, Number.POSITIVE_INFINITY);
                        n.k_.vt([e, r], (function(t) {
                            i = i.add(t.zh)
                        }))
                    })), tu.resolve(this.O_(i))
                }, lp.prototype.os = function(t, e) {
                    var n = e.path,
                        i = n.length + 1,
                        r = n;
                    Zi.W(r) || (r = r.child(""));
                    var o = new Eh(new Zi(r), 0),
                        s = new Pr(Pi);
                    return this.k_.St((function(t) {
                        var e = t.key.path;
                        return !!n.D(e) && (e.length === i && (s = s.add(t.zh)), !0)
                    }), o), tu.resolve(this.O_(s))
                }, lp.prototype.O_ = function(t) {
                    var e = this,
                        n = [];
                    return t.forEach((function(t) {
                        var i = e.x_(t);
                        null !== i && n.push(i)
                    })), n
                }, lp.prototype.Kr = function(t, e) {
                    var n = this;
                    xi(0 === this.L_(e.batchId, "removed")), this.jn.shift();
                    var i = this.k_;
                    return tu.forEach(e.mutations, (function(r) {
                        var o = new Eh(r.key, e.batchId);
                        return i = i.delete(o), n.ii.Dr(t, r.key)
                    })).next((function() {
                        n.k_ = i
                    }))
                }, lp.prototype.Gr = function(t) {}, lp.prototype.pi = function(t, e) {
                    var n = new Eh(e, 0),
                        i = this.k_.Dt(n);
                    return tu.resolve(e.isEqual(i && i.key))
                }, lp.prototype.zr = function(t) {
                    return this.jn.length, tu.resolve()
                }, lp.prototype.L_ = function(t, e) {
                    return this.M_(t)
                }, lp.prototype.M_ = function(t) {
                    return 0 === this.jn.length ? 0 : t - this.jn[0].batchId
                }, lp.prototype.x_ = function(t) {
                    var e = this.M_(t);
                    return e < 0 || e >= this.jn.length ? null : this.jn[e]
                }, lp),
                ap = (up.prototype.Nn = function(t, e, n) {
                    var i = e.key,
                        r = this.docs.get(i),
                        o = r ? r.size : 0,
                        s = this.q_(e);
                    return this.docs = this.docs.nt(i, {
                        Ls: e,
                        size: s,
                        readTime: n
                    }), this.size += s - o, this.Kn.Cs(t, i.path.p())
                }, up.prototype.xn = function(t) {
                    var e = this.docs.get(t);
                    e && (this.docs = this.docs.remove(t), this.size -= e.size)
                }, up.prototype.Mn = function(t, e) {
                    var n = this.docs.get(e);
                    return tu.resolve(n ? n.Ls : null)
                }, up.prototype.getEntries = function(t, e) {
                    var n = this,
                        i = Ur();
                    return e.forEach((function(t) {
                        var e = n.docs.get(t);
                        i = i.nt(t, e ? e.Ls : null)
                    })), tu.resolve(i)
                }, up.prototype.ts = function(t, e, n) {
                    for (var i = Hr(), r = new Zi(e.path.child("")), o = this.docs.ut(r); o.wt();) {
                        var s = o.dt(),
                            a = s.key,
                            u = s.value,
                            l = u.Ls,
                            h = u.readTime;
                        if (!e.path.D(a.path)) break;
                        h.o(n) <= 0 || l instanceof sa && ka(e, l) && (i = i.nt(l.key, l))
                    }
                    return tu.resolve(i)
                }, up.prototype.B_ = function(t, e) {
                    return tu.forEach(this.docs, (function(t) {
                        return e(t)
                    }))
                }, up.prototype.Hs = function(t) {
                    return new up.Ys(this)
                }, up.prototype.Xs = function(t) {
                    return tu.resolve(this.size)
                }, up);

            function up(t, e) {
                this.Kn = t, this.q_ = e, this.docs = new Cr(Zi.P), this.size = 0
            }

            function lp(t, e) {
                this.Kn = t, this.ii = e, this.jn = [], this.N_ = 1, this.k_ = new Pr(Eh.Lh)
            }

            function hp() {}

            function cp(t, e, n) {
                this.query = t, this.g_ = e, this.V_ = !1, this.y_ = null, this.onlineState = "Unknown", this.options = n || {}
            }

            function dp(t) {
                this.oc = t, this.E_ = new Bi((function(t) {
                    return Ta(t)
                }), Ia), this.onlineState = "Unknown", this.I_ = new Set, this.oc.subscribe(this)
            }

            function pp(t) {
                var e = this;
                return (e = np.call(this) || this).Zs = t, e
            }
            ap.Ys = (o(pp, np = eu), pp.prototype.qn = function(t) {
                var e = this,
                    n = [];
                return this.Cn.forEach((function(i, r) {
                    r ? n.push(e.Zs.Nn(t, r, e.readTime)) : e.Zs.xn(i)
                })), tu.Sn(n)
            }, pp.prototype.On = function(t, e) {
                return this.Zs.Mn(t, e)
            }, pp.prototype.Ln = function(t, e) {
                return this.Zs.getEntries(t, e)
            }, pp);
            var fp, gp, vp, mp = (Vp.prototype.pe = function(t, e) {
                    return this.U_.forEach((function(t, n) {
                        return e(n)
                    })), tu.resolve()
                }, Vp.prototype.ai = function(t) {
                    return tu.resolve(this.lastRemoteSnapshotVersion)
                }, Vp.prototype.ui = function(t) {
                    return tu.resolve(this.W_)
                }, Vp.prototype.ri = function(t) {
                    return this.highestTargetId = this.j_.next(), tu.resolve(this.highestTargetId)
                }, Vp.prototype.ci = function(t, e, n) {
                    return n && (this.lastRemoteSnapshotVersion = n), e > this.W_ && (this.W_ = e), tu.resolve()
                }, Vp.prototype._i = function(t) {
                    this.U_.set(t.target, t);
                    var e = t.targetId;
                    e > this.highestTargetId && (this.j_ = new Ku(e), this.highestTargetId = e), t.sequenceNumber > this.W_ && (this.W_ = t.sequenceNumber)
                }, Vp.prototype.li = function(t, e) {
                    return this._i(e), this.targetCount += 1, tu.resolve()
                }, Vp.prototype.di = function(t, e) {
                    return this._i(e), tu.resolve()
                }, Vp.prototype.wi = function(t, e) {
                    return this.U_.delete(e.target), this.Q_.jh(e.targetId), --this.targetCount, tu.resolve()
                }, Vp.prototype.Ei = function(t, e, n) {
                    var i = this,
                        r = 0,
                        o = [];
                    return this.U_.forEach((function(s, a) {
                        a.sequenceNumber <= e && null === n.get(a.targetId) && (i.U_.delete(s), o.push(i.Ti(t, a.targetId)), r++)
                    })), tu.Sn(o).next((function() {
                        return r
                    }))
                }, Vp.prototype.Ii = function(t) {
                    return tu.resolve(this.targetCount)
                }, Vp.prototype.mi = function(t, e) {
                    var n = this.U_.get(e) || null;
                    return tu.resolve(n)
                }, Vp.prototype.Ai = function(t, e, n) {
                    return this.Q_.Uh(e, n), tu.resolve()
                }, Vp.prototype.Pi = function(t, e, n) {
                    this.Q_.Qh(e, n);
                    var i = this.persistence.ii,
                        r = [];
                    return i && e.forEach((function(e) {
                        r.push(i.Dr(t, e))
                    })), tu.Sn(r)
                }, Vp.prototype.Ti = function(t, e) {
                    return this.Q_.jh(e), tu.resolve()
                }, Vp.prototype.Vi = function(t, e) {
                    var n = this.Q_.Gh(e);
                    return tu.resolve(n)
                }, Vp.prototype.pi = function(t, e) {
                    return tu.resolve(this.Q_.pi(e))
                }, Vp),
                yp = (Wp.prototype.start = function() {
                    return Promise.resolve()
                }, Wp.prototype._r = function() {
                    return this.Fi = !1, Promise.resolve()
                }, Object.defineProperty(Wp.prototype, "Hi", {
                    get: function() {
                        return this.Fi
                    },
                    enumerable: !1,
                    configurable: !0
                }), Wp.prototype.Yi = function() {}, Wp.prototype.Xi = function() {}, Wp.prototype.gr = function() {
                    return this.Kn
                }, Wp.prototype.mr = function(t) {
                    var e = this.K_[t.Aa()];
                    return e || (e = new sp(this.Kn, this.ii), this.K_[t.Aa()] = e), e
                }, Wp.prototype.Rr = function() {
                    return this.qi
                }, Wp.prototype.Pr = function() {
                    return this.Qn
                }, Wp.prototype.runTransaction = function(t, e, n) {
                    var i = this;
                    Ti("MemoryPersistence", "Starting transaction:", t);
                    var r = new _p(this.Ci.next());
                    return this.ii.z_(), n(r).next((function(t) {
                        return i.ii.H_(r).next((function() {
                            return t
                        }))
                    })).bn().then((function(t) {
                        return r.Wn(), t
                    }))
                }, Wp.prototype.Y_ = function(t, e) {
                    return tu.Dn(Object.values(this.K_).map((function(n) {
                        return function() {
                            return n.pi(t, e)
                        }
                    })))
                }, Wp),
                _p = (o(qp, vp = iu), qp),
                bp = (Hp.Z_ = function(t) {
                    return new Hp(t)
                }, Object.defineProperty(Hp.prototype, "tf", {
                    get: function() {
                        if (this.X_) return this.X_;
                        throw Si()
                    },
                    enumerable: !1,
                    configurable: !0
                }), Hp.prototype.Ri = function(t, e, n) {
                    return this.J_.Ri(n, e), this.tf.delete(n), tu.resolve()
                }, Hp.prototype.gi = function(t, e, n) {
                    return this.J_.gi(n, e), this.tf.add(n), tu.resolve()
                }, Hp.prototype.Dr = function(t, e) {
                    return this.tf.add(e), tu.resolve()
                }, Hp.prototype.removeTarget = function(t, e) {
                    var n = this;
                    this.J_.jh(e.targetId).forEach((function(t) {
                        return n.tf.add(t)
                    }));
                    var i = this.persistence.Rr();
                    return i.Vi(t, e.targetId).next((function(t) {
                        t.forEach((function(t) {
                            return n.tf.add(t)
                        }))
                    })).next((function() {
                        return i.wi(t, e)
                    }))
                }, Hp.prototype.z_ = function() {
                    this.X_ = new Set
                }, Hp.prototype.H_ = function(t) {
                    var e = this,
                        n = this.persistence.Pr().Hs();
                    return tu.forEach(this.tf, (function(i) {
                        return e.ef(t, i).next((function(t) {
                            t || n.xn(i)
                        }))
                    })).next((function() {
                        return e.X_ = null, n.apply(t)
                    }))
                }, Hp.prototype.Nr = function(t, e) {
                    var n = this;
                    return this.ef(t, e).next((function(t) {
                        t ? n.tf.delete(e) : n.tf.add(e)
                    }))
                }, Hp.prototype.G_ = function(t) {
                    return 0
                }, Hp.prototype.ef = function(t, e) {
                    var n = this;
                    return tu.Dn([function() {
                        return tu.resolve(n.J_.pi(e))
                    }, function() {
                        return n.persistence.Rr().pi(t, e)
                    }, function() {
                        return n.persistence.Y_(t, e)
                    }])
                }, Hp),
                wp = (jp.prototype.tu = function(t) {
                    this.if = t
                }, jp.prototype.Ha = function(t) {
                    this.rf = t
                }, jp.prototype.onMessage = function(t) {
                    this.hf = t
                }, jp.prototype.close = function() {
                    this.sf()
                }, jp.prototype.send = function(t) {
                    this.nf(t)
                }, jp.prototype.af = function() {
                    this.if()
                }, jp.prototype.uf = function(t) {
                    this.rf(t)
                }, jp.prototype.cf = function(t) {
                    this.hf(t)
                }, jp),
                Ep = {
                    BatchGetDocuments: "batchGet",
                    Commit: "commit",
                    RunQuery: "runQuery"
                },
                Ip = (Up.prototype._f = function(t, e) {
                    if (e)
                        for (var n in e.ga) e.ga.hasOwnProperty(n) && (t[n] = e.ga[n]);
                    t["X-Goog-Api-Client"] = "gl-js/ fire/7.17.1"
                }, Up.prototype.fu = function(t, e, n) {
                    var i = this,
                        r = this.ff(t);
                    return new Promise((function(o, s) {
                        var a = new _i;
                        a.listenOnce(mi.COMPLETE, (function() {
                            try {
                                switch (a.getLastErrorCode()) {
                                    case vi.NO_ERROR:
                                        var e = a.getResponseJson();
                                        Ti("Connection", "XHR received:", JSON.stringify(e)), o(e);
                                        break;
                                    case vi.TIMEOUT:
                                        Ti("Connection", 'RPC "' + t + '" timed out'), s(new $i(zi.DEADLINE_EXCEEDED, "Request time out"));
                                        break;
                                    case vi.HTTP_ERROR:
                                        var n = a.getStatus();
                                        if (Ti("Connection", 'RPC "' + t + '" failed with status:', n, "response text:", a.getResponseText()), 0 < n) {
                                            var i = a.getResponseJson().error;
                                            if (i && i.status && i.message) {
                                                var r = (u = i.status.toLowerCase().replace("_", "-"), 0 <= Object.values(zi).indexOf(u) ? u : zi.UNKNOWN);
                                                s(new $i(r, i.message))
                                            } else s(new $i(zi.UNKNOWN, "Server responded with status " + a.getStatus()))
                                        } else Ti("Connection", 'RPC "' + t + '" failed'), s(new $i(zi.UNAVAILABLE, "Connection failed."));
                                        break;
                                    default:
                                        Si()
                                }
                            } finally {
                                Ti("Connection", 'RPC "' + t + '" completed.')
                            }
                            var u
                        }));
                        var u = Object.assign({}, e);
                        delete u.database;
                        var l = JSON.stringify(u);
                        Ti("Connection", "XHR sending: ", r + " " + l);
                        var h = {
                            "Content-Type": "text/plain"
                        };
                        i._f(h, n), a.send(r, "POST", l, h, 15)
                    }))
                }, Up.prototype.du = function(t, e, n) {
                    return this.fu(t, e, n)
                }, Up.prototype.eu = function(t, e) {
                    var i, r, o = [this.lf, "/", "google.firestore.v1.Firestore", "/", t, "/channel"],
                        s = gi(),
                        a = {
                            httpSessionIdParam: "gsessionid",
                            initMessageHeaders: {},
                            messageUrlParams: {
                                database: "projects/" + this.s.projectId + "/databases/" + this.s.database
                            },
                            sendRawJson: !0,
                            supportsCrossDomainXhr: !0,
                            internalChannelParams: {
                                forwardChannelRequestTimeoutMs: 6e5
                            },
                            forceLongPolling: this.forceLongPolling
                        };
                    this._f(a.initMessageHeaders, e), "undefined" != typeof window && (window.cordova || window.phonegap || window.PhoneGap) && /ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(v()) || "object" == typeof navigator && "ReactNative" === navigator.product || 0 <= v().indexOf("Electron/") || 0 <= (r = v()).indexOf("MSIE ") || 0 <= r.indexOf("Trident/") || 0 <= v().indexOf("MSAppHost/") || "object" == typeof(i = "object" == typeof chrome ? chrome.runtime : "object" == typeof browser ? browser.runtime : void 0) && void 0 !== i.id || (a.httpHeadersOverwriteParam = "$httpHeaders");
                    var l = o.join("");

                    function h(t, e) {
                        c.listen(t, (function(t) {
                            try {
                                e(t)
                            } catch (t) {
                                setTimeout((function() {
                                    throw t
                                }), 0)
                            }
                        }))
                    }
                    Ti("Connection", "Creating WebChannel: " + l + " " + a);
                    var c = s.createWebChannel(l, a),
                        d = !1,
                        p = !1,
                        f = new wp({
                            nf: function(t) {
                                p ? Ti("Connection", "Not sending because WebChannel is closed:", t) : (d || (Ti("Connection", "Opening WebChannel transport."), c.open(), d = !0), Ti("Connection", "WebChannel sending:", t), c.send(t))
                            },
                            sf: function() {
                                return c.close()
                            }
                        });
                    return h(yi.EventType.OPEN, (function() {
                        p || Ti("Connection", "WebChannel transport opened.")
                    })), h(yi.EventType.CLOSE, (function() {
                        p || (p = !0, Ti("Connection", "WebChannel transport closed"), f.uf())
                    })), h(yi.EventType.ERROR, (function(t) {
                        p || (p = !0, function(t) {
                            for (var e = [], i = 1; i < arguments.length; i++) e[i - 1] = arguments[i];
                            if (Ei.logLevel <= n.WARN) {
                                var r = e.map(ki);
                                Ei.warn.apply(Ei, u(["Firestore (7.17.1): Connection"], r))
                            }
                        }("Connection", "WebChannel transport errored:", t), f.uf(new $i(zi.UNAVAILABLE, "The operation could not be completed")))
                    })), h(yi.EventType.MESSAGE, (function(t) {
                        var e;
                        if (!p) {
                            var n = t.data[0];
                            xi(!!n);
                            var i = n.error || (null === (e = n[0]) || void 0 === e ? void 0 : e.error);
                            if (i) {
                                Ti("Connection", "WebChannel received error:", i);
                                var r = i.status,
                                    o = function() {
                                        var t = _r[r];
                                        if (void 0 !== t) return Tr(t)
                                    }(),
                                    s = i.message;
                                void 0 === o && (o = zi.INTERNAL, s = "Unknown error status: " + r + " with message " + i.message), p = !0, f.uf(new $i(o, s)), c.close()
                            } else Ti("Connection", "WebChannel received:", n), f.cf(n)
                        }
                    })), setTimeout((function() {
                        f.af()
                    }), 0), f
                }, Up.prototype.ff = function(t) {
                    var e = Ep[t];
                    return this.lf + "/v1/projects/" + this.s.projectId + "/databases/" + this.s.database + "/documents:" + e
                }, Up),
                Tp = (Fp.prototype.Lu = function(t) {
                    this.If.push(t)
                }, Fp.prototype._r = function() {
                    window.removeEventListener("online", this.df), window.removeEventListener("offline", this.Tf)
                }, Fp.prototype.mf = function() {
                    window.addEventListener("online", this.df), window.addEventListener("offline", this.Tf)
                }, Fp.prototype.wf = function() {
                    Ti("ConnectivityMonitor", "Network connectivity changed: AVAILABLE");
                    for (var t = 0, e = this.If; t < e.length; t++)(0, e[t])(0)
                }, Fp.prototype.Ef = function() {
                    Ti("ConnectivityMonitor", "Network connectivity changed: UNAVAILABLE");
                    for (var t = 0, e = this.If; t < e.length; t++)(0, e[t])(1)
                }, Fp.Oi = function() {
                    return "undefined" != typeof window && void 0 !== window.addEventListener && void 0 !== window.removeEventListener
                }, Fp),
                Cp = (Mp.prototype.Lu = function(t) {}, Mp.prototype._r = function() {}, Mp),
                kp = "You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",
                Sp = (Lp.prototype.initialize = function(t) {
                    return s(this, void 0, void 0, (function() {
                        var e, n = this;
                        return a(this, (function(i) {
                            switch (i.label) {
                                case 0:
                                    return this.Ll = this.Af(t), this.persistence = this.Rf(t), [4, this.persistence.start()];
                                case 1:
                                    return i.sent(), this.Pf = this.gf(t), this.$u = this.Vf(t), this.wu = this.yf(t), [4, this.pf(t)];
                                case 2:
                                    return e = i.sent(), this.wu.start(e), this.Ol = this.bf(t), this.oc = this.vf(t), this.Sf = this.Df(t), this.Ll.Vu = function(t) {
                                        return n.oc.vl(t, 1)
                                    }, this.Ol.oc = this.oc, [4, this.Ll.start()];
                                case 3:
                                    return i.sent(), [4, this.Ol.start()];
                                case 4:
                                    return i.sent(), [4, this.Ol.Pc(this.oc.Xl)];
                                case 5:
                                    return i.sent(), [2]
                            }
                        }))
                    }))
                }, Lp.prototype.pf = function(t) {
                    return e = t.Cf, Promise.resolve(new Ip(e));
                    var e
                }, Lp.prototype.Df = function(t) {
                    return new ip(this.oc)
                }, Lp.prototype.gf = function(t) {
                    return null
                }, Lp.prototype.Vf = function(t) {
                    return yh(this.persistence, new op, t.Ff)
                }, Lp.prototype.Rf = function(t) {
                    if (t.Nf.$f) throw new $i(zi.FAILED_PRECONDITION, kp);
                    return new yp(bp.Z_)
                }, Lp.prototype.yf = function(t) {
                    var e, n = Tc(t.Cf.s);
                    return e = t.credentials, new ad(e, n)
                }, Lp.prototype.bf = function(t) {
                    var e = this;
                    return new hd(this.$u, this.wu, t.ao, (function(t) {
                        return e.oc.vl(t, 0)
                    }), new(Tp.Oi() ? Tp : Cp))
                }, Lp.prototype.Af = function(t) {
                    return new Ld
                }, Lp.prototype.vf = function(t) {
                    return Yd(this.$u, this.Ol, this.wu, this.Ll, t.Ff, t.ql, !0)
                }, Lp.prototype.clearPersistence = function(t, e) {
                    throw new $i(zi.FAILED_PRECONDITION, kp)
                }, Lp),
                xp = (o(Rp, gp = Sp), Rp.prototype.Vf = function(t) {
                    return yh(this.persistence, new op, t.Ff)
                }, Rp.prototype.gf = function(t) {
                    var e = this.persistence.ii.yr;
                    return new dh(e, t.ao)
                }, Rp.prototype.Rf = function(t) {
                    var e = cl(t.Cf.s, t.Cf.persistenceKey),
                        n = Tc(t.Cf.s);
                    return new il(t.Nf.synchronizeTabs, e, t.clientId, lh.Ho(t.Nf.cacheSizeBytes), t.ao, th(), "undefined" != typeof document ? document : null, n, this.Ll, t.Nf.Di)
                }, Rp.prototype.Af = function(t) {
                    return new Ld
                }, Rp.prototype.clearPersistence = function(t, e) {
                    return function(t) {
                        return s(this, void 0, void 0, (function() {
                            var e;
                            return a(this, (function(n) {
                                switch (n.label) {
                                    case 0:
                                        return Hl.Oi() ? (e = t + "main", [4, Hl.delete(e)]) : [2, Promise.resolve()];
                                    case 1:
                                        return n.sent(), [2]
                                }
                            }))
                        }))
                    }(cl(t, e))
                }, o(Op, fp = Rp), Op.prototype.initialize = function(t) {
                    return s(this, void 0, void 0, (function() {
                        var e = this;
                        return a(this, (function(n) {
                            switch (n.label) {
                                case 0:
                                    return [4, fp.prototype.initialize.call(this, t)];
                                case 1:
                                    return n.sent(), [4, this.persistence.zi((function(t) {
                                        return s(e, void 0, void 0, (function() {
                                            return a(this, (function(e) {
                                                switch (e.label) {
                                                    case 0:
                                                        return [4, Xd(this.oc, t)];
                                                    case 1:
                                                        return e.sent(), this.Pf && (t && !this.Pf.Hi ? this.Pf.start(this.$u) : t || this.Pf.stop()), [2]
                                                }
                                            }))
                                        }))
                                    }))];
                                case 2:
                                    return n.sent(), [4, function(t) {
                                        return s(this, void 0, void 0, (function() {
                                            var e, n;
                                            return a(this, (function(i) {
                                                return n = (e = t).Eh, [2, e.persistence.runTransaction("Synchronize last document change read time", "readonly", (function(t) {
                                                    return n.zs(t)
                                                })).then((function(t) {
                                                    e.Th = t
                                                }))]
                                            }))
                                        }))
                                    }(this.$u)];
                                case 3:
                                    return n.sent(), [2]
                            }
                        }))
                    }))
                }, Op.prototype.vf = function(t) {
                    var e = !t.Nf.$f || !t.Nf.synchronizeTabs,
                        n = Yd(this.$u, this.Ol, this.wu, this.Ll, t.Ff, t.ql, e);
                    return this.Ll instanceof Rd && (this.Ll.oc = {
                        cl: Qd.bind(null, n),
                        ll: tp.bind(null, n),
                        _l: function(t, e, n) {
                            return s(this, void 0, void 0, (function() {
                                var i, r, o, s, u, l, h, c, d, p;
                                return a(this, (function(f) {
                                    switch (f.label) {
                                        case 0:
                                            if (!(i = t).Jl) return [3, 10];
                                            r = 0, o = e, f.label = 1;
                                        case 1:
                                            return r < o.length ? (s = o[r], i.Wl.has(s) ? (Ti("SyncEngine", "Adding an already active target " + s), [3, 5]) : [4, _h(i.$u, s)]) : [3, 6];
                                        case 2:
                                            return u = f.sent(), [4, i.$u.Nh(u)];
                                        case 3:
                                            return l = f.sent(), [4, i.t_(Zd(u), l.targetId, !1)];
                                        case 4:
                                            f.sent(), i.Ol.listen(l), f.label = 5;
                                        case 5:
                                            return r++, [3, 1];
                                        case 6:
                                            h = function(t) {
                                                return a(this, (function(e) {
                                                    switch (e.label) {
                                                        case 0:
                                                            return i.Wl.has(t) ? [4, i.$u.kh(t, !1).then((function() {
                                                                i.Ol.ic(t), i.n_(t)
                                                            })).catch(bh)] : [3, 2];
                                                        case 1:
                                                            e.sent(), e.label = 2;
                                                        case 2:
                                                            return [2]
                                                    }
                                                }))
                                            }, c = 0, d = n, f.label = 7;
                                        case 7:
                                            return c < d.length ? (p = d[c], [5, h(p)]) : [3, 10];
                                        case 8:
                                            f.sent(), f.label = 9;
                                        case 9:
                                            return c++, [3, 7];
                                        case 10:
                                            return [2]
                                    }
                                }))
                            }))
                        }.bind(null, n),
                        Ir: function(t) {
                            return t.$u.persistence.Ir()
                        }.bind(null, n)
                    }), n
                }, Op.prototype.Af = function(t) {
                    if (t.Nf.$f && t.Nf.synchronizeTabs) {
                        var e = th();
                        if (!Rd.Oi(e)) throw new $i(zi.UNIMPLEMENTED, "IndexedDB persistence is only available on platforms that support LocalStorage.");
                        var n = cl(t.Cf.s, t.Cf.persistenceKey);
                        return new Rd(e, t.ao, n, t.clientId, t.Ff)
                    }
                    return new Ld
                }, Op),
                Dp = (Pp.prototype.start = function(t, e, n) {
                    var i = this;
                    this.kf(), this.Cf = t;
                    var r = new gu,
                        o = new gu,
                        s = !1;
                    return this.credentials.pa((function(t) {
                        if (!s) return s = !0, Ti("FirestoreClient", "Initializing. user=", t.uid), i.xf(e, n, t, o).then(r.resolve, r.reject);
                        i.ao.er((function() {
                            return i.Ol.Rc(t)
                        }))
                    })), this.ao.Zi((function() {
                        return r.promise
                    })), o.promise
                }, Pp.prototype.enableNetwork = function() {
                    var t = this;
                    return this.kf(), this.ao.enqueue((function() {
                        return t.persistence.Xi(!0), t.Ol.enableNetwork()
                    }))
                }, Pp.prototype.xf = function(t, e, n, i) {
                    return s(this, void 0, void 0, (function() {
                        var r, o = this;
                        return a(this, (function(u) {
                            switch (u.label) {
                                case 0:
                                    return u.trys.push([0, 2, , 3]), [4, t.initialize({
                                        ao: this.ao,
                                        Cf: this.Cf,
                                        clientId: this.clientId,
                                        credentials: this.credentials,
                                        Ff: n,
                                        ql: 100,
                                        Nf: e
                                    })];
                                case 1:
                                    return u.sent(), this.persistence = t.persistence, this.Ll = t.Ll, this.$u = t.$u, this.Ol = t.Ol, this.oc = t.oc, this.Pf = t.Pf, this.Mf = t.Sf, this.persistence.Yi((function() {
                                        return s(o, void 0, void 0, (function() {
                                            return a(this, (function(t) {
                                                switch (t.label) {
                                                    case 0:
                                                        return [4, this.terminate()];
                                                    case 1:
                                                        return t.sent(), [2]
                                                }
                                            }))
                                        }))
                                    })), i.resolve(), [3, 3];
                                case 2:
                                    if (r = u.sent(), i.reject(r), !this.Of(r)) throw r;
                                    return [2, (console.warn("Error enabling offline persistence. Falling back to persistence disabled: " + r), this.xf(new Sp, {
                                        $f: !1
                                    }, n, i))];
                                case 3:
                                    return [2]
                            }
                        }))
                    }))
                }, Pp.prototype.Of = function(t) {
                    return "FirebaseError" === t.name ? t.code === zi.FAILED_PRECONDITION || t.code === zi.UNIMPLEMENTED : !("undefined" != typeof DOMException && t instanceof DOMException) || 22 === t.code || 20 === t.code || 11 === t.code
                }, Pp.prototype.kf = function() {
                    if (this.ao.yo) throw new $i(zi.FAILED_PRECONDITION, "The client has already been terminated.")
                }, Pp.prototype.disableNetwork = function() {
                    var t = this;
                    return this.kf(), this.ao.enqueue((function() {
                        return t.persistence.Xi(!1), t.Ol.disableNetwork()
                    }))
                }, Pp.prototype.terminate = function() {
                    var t = this;
                    return this.ao.Do((function() {
                        return s(t, void 0, void 0, (function() {
                            return a(this, (function(t) {
                                switch (t.label) {
                                    case 0:
                                        return this.Pf && this.Pf.stop(), [4, this.Ol._r()];
                                    case 1:
                                        return t.sent(), [4, this.Ll._r()];
                                    case 2:
                                        return t.sent(), [4, this.persistence._r()];
                                    case 3:
                                        return t.sent(), this.credentials.ba(), [2]
                                }
                            }))
                        }))
                    }))
                }, Pp.prototype.waitForPendingWrites = function() {
                    var t = this;
                    this.kf();
                    var e = new gu;
                    return this.ao.Zi((function() {
                        return t.oc.u_(e)
                    })), e.promise
                }, Pp.prototype.listen = function(t, e, n) {
                    var i = this;
                    this.kf();
                    var r = new rp(t, e, n);
                    return this.ao.Zi((function() {
                        return i.Mf.listen(r)
                    })), r
                }, Pp.prototype.ic = function(t) {
                    var e = this;
                    this.Lf || this.ao.Zi((function() {
                        return e.Mf.ic(t)
                    }))
                }, Pp.prototype.qf = function(t) {
                    return s(this, void 0, void 0, (function() {
                        var e, n = this;
                        return a(this, (function(i) {
                            switch (i.label) {
                                case 0:
                                    return this.kf(), e = new gu, [4, this.ao.enqueue((function() {
                                        return s(n, void 0, void 0, (function() {
                                            var n, i, r;
                                            return a(this, (function(o) {
                                                switch (o.label) {
                                                    case 0:
                                                        return o.trys.push([0, 2, , 3]), [4, this.$u.$h(t)];
                                                    case 1:
                                                        return (n = o.sent()) instanceof sa ? e.resolve(n) : n instanceof aa ? e.resolve(null) : e.reject(new $i(zi.UNAVAILABLE, "Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")), [3, 3];
                                                    case 2:
                                                        return i = o.sent(), r = oh(i, "Failed to get document '" + t + " from cache"), e.reject(r), [3, 3];
                                                    case 3:
                                                        return [2]
                                                }
                                            }))
                                        }))
                                    }))];
                                case 1:
                                    return [2, (i.sent(), e.promise)]
                            }
                        }))
                    }))
                }, Pp.prototype.Bf = function(t) {
                    return s(this, void 0, void 0, (function() {
                        var e, n = this;
                        return a(this, (function(i) {
                            switch (i.label) {
                                case 0:
                                    return this.kf(), e = new gu, [4, this.ao.enqueue((function() {
                                        return s(n, void 0, void 0, (function() {
                                            var n, i, r, o, s, u;
                                            return a(this, (function(a) {
                                                switch (a.label) {
                                                    case 0:
                                                        return a.trys.push([0, 2, , 3]), [4, this.$u.xh(t, !0)];
                                                    case 1:
                                                        return n = a.sent(), i = new Md(t, n.Mh), r = i.Rl(n.documents), o = i.qn(r, !1), e.resolve(o.snapshot), [3, 3];
                                                    case 2:
                                                        return s = a.sent(), u = oh(s, "Failed to execute query '" + t + " against cache"), e.reject(u), [3, 3];
                                                    case 3:
                                                        return [2]
                                                }
                                            }))
                                        }))
                                    }))];
                                case 1:
                                    return [2, (i.sent(), e.promise)]
                            }
                        }))
                    }))
                }, Pp.prototype.write = function(t) {
                    var e = this;
                    this.kf();
                    var n = new gu;
                    return this.ao.Zi((function() {
                        return e.oc.write(t, n)
                    })), n.promise
                }, Pp.prototype.s = function() {
                    return this.Cf.s
                }, Pp.prototype.R_ = function(t) {
                    var e = this;
                    this.kf(), this.ao.Zi((function() {
                        return e.Mf.R_(t), Promise.resolve()
                    }))
                }, Pp.prototype.P_ = function(t) {
                    var e = this;
                    this.Lf || this.ao.Zi((function() {
                        return e.Mf.P_(t), Promise.resolve()
                    }))
                }, Object.defineProperty(Pp.prototype, "Lf", {
                    get: function() {
                        return this.ao.yo
                    },
                    enumerable: !1,
                    configurable: !0
                }), Pp.prototype.transaction = function(t) {
                    var e = this;
                    this.kf();
                    var n = new gu;
                    return this.ao.Zi((function() {
                        return e.oc.runTransaction(e.ao, t, n), Promise.resolve()
                    })), n.promise
                }, Pp),
                Np = (Ap.prototype.next = function(t) {
                    this.Uf(this.observer.next, t)
                }, Ap.prototype.error = function(t) {
                    this.Uf(this.observer.error, t)
                }, Ap.prototype.Wf = function() {
                    this.muted = !0
                }, Ap.prototype.Uf = function(t, e) {
                    var n = this;
                    this.muted || setTimeout((function() {
                        n.muted || t(e)
                    }), 0)
                }, Ap);

            function Ap(t) {
                this.observer = t, this.muted = !1
            }

            function Pp(t, e) {
                this.credentials = t, this.ao = e, this.clientId = Ni.t()
            }

            function Op() {
                return null !== fp && fp.apply(this, arguments) || this
            }

            function Rp() {
                return null !== gp && gp.apply(this, arguments) || this
            }

            function Lp() {}

            function Mp() {}

            function Fp() {
                var t = this;
                this.df = function() {
                    return t.wf()
                }, this.Tf = function() {
                    return t.Ef()
                }, this.If = [], this.mf()
            }

            function Up(t) {
                this.s = t.s;
                var e = t.ssl ? "https" : "http";
                this.lf = e + "://" + t.host, this.forceLongPolling = t.forceLongPolling
            }

            function jp(t) {
                this.nf = t.nf, this.sf = t.sf
            }

            function Hp(t) {
                this.persistence = t, this.J_ = new wh, this.X_ = null
            }

            function qp(t) {
                var e = this;
                return (e = vp.call(this) || this).vi = t, e
            }

            function Wp(t) {
                var e = this;
                this.K_ = {}, this.Ci = new su(0), this.Fi = !1, this.Fi = !0, this.ii = t(this), this.qi = new mp(this), this.Kn = new Eu, this.Qn = new ap(this.Kn, (function(t) {
                    return e.ii.G_(t)
                }))
            }

            function Vp(t) {
                this.persistence = t, this.U_ = new Bi((function(t) {
                    return pr(t)
                }), fr), this.lastRemoteSnapshotVersion = Gi.min(), this.highestTargetId = 0, this.W_ = 0, this.Q_ = new wh, this.targetCount = 0, this.j_ = Ku.ni()
            }

            function Bp(t) {
                return function() {
                    if ("object" == typeof t && null !== t)
                        for (var e = t, n = 0, i = ["next", "error", "complete"]; n < i.length; n++) {
                            var r = i[n];
                            if (r in e && "function" == typeof e[r]) return 1
                        }
                }()
            }
            var zp = (Xp.prototype.Kf = function(t) {
                    switch (go(t)) {
                        case 0:
                            return null;
                        case 1:
                            return t.booleanValue;
                        case 2:
                            return Eo(t.integerValue || t.doubleValue);
                        case 3:
                            return this.Gf(t.timestampValue);
                        case 4:
                            return this.zf(t);
                        case 5:
                            return t.stringValue;
                        case 6:
                            return new Gh(Io(t.bytesValue));
                        case 7:
                            return this.Hf(t.referenceValue);
                        case 8:
                            return this.Yf(t.geoPointValue);
                        case 9:
                            return this.Jf(t.arrayValue);
                        case 10:
                            return this.Xf(t.mapValue);
                        default:
                            throw Si()
                    }
                }, Xp.prototype.Xf = function(t) {
                    var e = this,
                        n = {};
                    return ji(t.fields || {}, (function(t, i) {
                        n[t] = e.Kf(i)
                    })), n
                }, Xp.prototype.Yf = function(t) {
                    return new vc(Eo(t.latitude), Eo(t.longitude))
                }, Xp.prototype.Jf = function(t) {
                    var e = this;
                    return (t.values || []).map((function(t) {
                        return e.Kf(t)
                    }))
                }, Xp.prototype.zf = function(t) {
                    switch (this.Qf) {
                        case "previous":
                            var e = function t(e) {
                                var n = e.mapValue.fields.__previous_value__;
                                return co(n) ? t(n) : n
                            }(t);
                            return null == e ? null : this.Kf(e);
                        case "estimate":
                            return this.Gf(po(t));
                        default:
                            return null
                    }
                }, Xp.prototype.Gf = function(t) {
                    var e = wo(t),
                        n = new Ki(e.seconds, e.nanos);
                    return this.timestampsInSnapshots ? n : n.toDate()
                }, Xp.prototype.Hf = function(t) {
                    var e = Qi.N(t);
                    xi(ns(e));
                    var n = new Mi(e.get(1), e.get(3)),
                        i = new Zi(e.V(5));
                    return n.isEqual(this.s) || Ci("Document " + i + " contains a document reference within a different database (" + n.projectId + "/" + n.database + ") which is not supported. It will be treated as a reference in the current database (" + this.s.projectId + "/" + this.s.database + ") instead."), this.jf(i)
                }, Xp),
                $p = lh.Xo,
                Kp = (Qp.prototype.isEqual = function(t) {
                    return this.host === t.host && this.ssl === t.ssl && this.timestampsInSnapshots === t.timestampsInSnapshots && this.credentials === t.credentials && this.cacheSizeBytes === t.cacheSizeBytes && this.forceLongPolling === t.forceLongPolling && this.ignoreUndefinedProperties === t.ignoreUndefinedProperties
                }, Qp),
                Gp = (Object.defineProperty(Yp.prototype, "ud", {
                    get: function() {
                        return this.ld || (this.ld = new Oc(this.aa, this.ad.ignoreUndefinedProperties)), this.ld
                    },
                    enumerable: !1,
                    configurable: !0
                }), Yp.prototype.settings = function(t) {
                    kh("Firestore.settings", arguments, 1), Dh("Firestore.settings", "object", 1, t);
                    var e = new Kp(t);
                    if (this.nd && !this.ad.isEqual(e)) throw new $i(zi.FAILED_PRECONDITION, "Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");
                    void 0 !== (this.ad = e).credentials && (this.od = function(t) {
                        if (!t) return new td;
                        switch (t.type) {
                            case "gapi":
                                var e = t._d;
                                return xi(!("object" != typeof e || null === e || !e.auth || !e.auth.getAuthHeaderValueForFirstParty)), new id(e, t.$a || "0");
                            case "provider":
                                return t._d;
                            default:
                                throw new $i(zi.INVALID_ARGUMENT, "makeCredentialsProvider failed due to invalid credential type")
                        }
                    }(e.credentials))
                }, Yp.prototype.enableNetwork = function() {
                    return this.ed(), this.nd.enableNetwork()
                }, Yp.prototype.disableNetwork = function() {
                    return this.ed(), this.nd.disableNetwork()
                }, Yp.prototype.enablePersistence = function(t) {
                    var e, n;
                    if (this.nd) throw new $i(zi.FAILED_PRECONDITION, "Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");
                    var i = !1,
                        r = !1;
                    if (t && (void 0 !== t.experimentalTabSynchronization && Ci("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."), i = null !== (n = null !== (e = t.synchronizeTabs) && void 0 !== e ? e : t.experimentalTabSynchronization) && void 0 !== n && n, r = !!t.experimentalForceOwningTab && t.experimentalForceOwningTab, i && r)) throw new $i(zi.INVALID_ARGUMENT, "The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");
                    return this.fd(this.hd, {
                        $f: !0,
                        cacheSizeBytes: this.ad.cacheSizeBytes,
                        synchronizeTabs: i,
                        Di: r
                    })
                }, Yp.prototype.clearPersistence = function() {
                    return s(this, void 0, void 0, (function() {
                        var t, e = this;
                        return a(this, (function(n) {
                            if (void 0 !== this.nd && !this.nd.Lf) throw new $i(zi.FAILED_PRECONDITION, "Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");
                            return t = new gu, [2, (this.td.po((function() {
                                return s(e, void 0, void 0, (function() {
                                    var e;
                                    return a(this, (function(n) {
                                        switch (n.label) {
                                            case 0:
                                                return n.trys.push([0, 2, , 3]), [4, this.hd.clearPersistence(this.aa, this.rd)];
                                            case 1:
                                                return n.sent(), t.resolve(), [3, 3];
                                            case 2:
                                                return e = n.sent(), t.reject(e), [3, 3];
                                            case 3:
                                                return [2]
                                        }
                                    }))
                                }))
                            })), t.promise)]
                        }))
                    }))
                }, Yp.prototype.terminate = function() {
                    return this.app._removeServiceInstance("firestore"), this.INTERNAL.delete()
                }, Object.defineProperty(Yp.prototype, "dd", {
                    get: function() {
                        return this.ed(), this.nd.Lf
                    },
                    enumerable: !1,
                    configurable: !0
                }), Yp.prototype.waitForPendingWrites = function() {
                    return this.ed(), this.nd.waitForPendingWrites()
                }, Yp.prototype.onSnapshotsInSync = function(t) {
                    if (this.ed(), Bp(t)) return Jp(this.nd, t);
                    Dh("Firestore.onSnapshotsInSync", "function", 1, t);
                    var e = {
                        next: t
                    };
                    return Jp(this.nd, e)
                }, Yp.prototype.ed = function() {
                    return this.nd || this.fd(new Sp, {
                        $f: !1
                    }), this.nd
                }, Yp.prototype.wd = function() {
                    return new Li(this.aa, this.rd, this.ad.host, this.ad.ssl, this.ad.forceLongPolling)
                }, Yp.prototype.fd = function(t, e) {
                    var n = this.wd();
                    return this.nd = new Dp(this.od, this.td), this.nd.start(n, t, e)
                }, Yp.sd = function(t) {
                    if (e = t.options, !Object.prototype.hasOwnProperty.call(e, "projectId")) throw new $i(zi.INVALID_ARGUMENT, '"projectId" not provided in firebase.initializeApp.');
                    var e, n = t.options.projectId;
                    if (!n || "string" != typeof n) throw new $i(zi.INVALID_ARGUMENT, "projectId must be a string in FirebaseApp.options");
                    return new Mi(n)
                }, Object.defineProperty(Yp.prototype, "app", {
                    get: function() {
                        if (!this.Zf) throw new $i(zi.FAILED_PRECONDITION, "Firestore was not initialized using the Firebase SDK. 'app' is not available");
                        return this.Zf
                    },
                    enumerable: !1,
                    configurable: !0
                }), Yp.prototype.collection = function(t) {
                    return kh("Firestore.collection", arguments, 1), Dh("Firestore.collection", "non-empty string", 1, t), this.ed(), new Tf(Qi.N(t), this, null)
                }, Yp.prototype.doc = function(t) {
                    return kh("Firestore.doc", arguments, 1), Dh("Firestore.doc", "non-empty string", 1, t), this.ed(), nf.Td(Qi.N(t), this, null)
                }, Yp.prototype.collectionGroup = function(t) {
                    if (kh("Firestore.collectionGroup", arguments, 1), Dh("Firestore.collectionGroup", "non-empty string", 1, t), 0 <= t.indexOf("/")) throw new $i(zi.INVALID_ARGUMENT, "Invalid collection ID '" + t + "' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");
                    return this.ed(), new _f((e = t, new pa(Qi.k(), e)), this, null);
                    var e
                }, Yp.prototype.runTransaction = function(t) {
                    var e = this;
                    return kh("Firestore.runTransaction", arguments, 1), Dh("Firestore.runTransaction", "function", 1, t), this.ed().transaction((function(n) {
                        return t(new tf(e, n))
                    }))
                }, Yp.prototype.batch = function() {
                    return this.ed(), new ef(this)
                }, Object.defineProperty(Yp, "logLevel", {
                    get: function() {
                        switch (Ii()) {
                            case n.DEBUG:
                                return "debug";
                            case n.ERROR:
                                return "error";
                            case n.SILENT:
                                return "silent";
                            case n.WARN:
                                return "warn";
                            case n.INFO:
                                return "info";
                            case n.VERBOSE:
                                return "verbose";
                            default:
                                return "error"
                        }
                    },
                    enumerable: !1,
                    configurable: !0
                }), Yp.setLogLevel = function(t) {
                    kh("Firestore.setLogLevel", arguments, 1), Rh("setLogLevel", ["debug", "error", "silent", "warn", "info", "verbose"], 1, t), Ei.setLogLevel(t)
                }, Yp.prototype.Ed = function() {
                    return this.ad.timestampsInSnapshots
                }, Yp);

            function Yp(t, e, n) {
                var i = this;
                if (void 0 === n && (n = new Sp), this.Zf = null, this.td = new nh, this.INTERNAL = {
                        delete: function() {
                            return s(i, void 0, void 0, (function() {
                                return a(this, (function(t) {
                                    switch (t.label) {
                                        case 0:
                                            return this.ed(), [4, this.nd.terminate()];
                                        case 1:
                                            return t.sent(), [2]
                                    }
                                }))
                            }))
                        }
                    }, "object" == typeof t.options) {
                    var r = t;
                    this.Zf = r, this.aa = Yp.sd(r), this.rd = r.name, this.od = new ed(e)
                } else {
                    var o = t;
                    if (!o.projectId) throw new $i(zi.INVALID_ARGUMENT, "Must provide projectId");
                    this.aa = new Mi(o.projectId, o.database), this.rd = "[DEFAULT]", this.od = new td
                }
                this.hd = n, this.ad = new Kp({})
            }

            function Qp(t) {
                var e, n, i, r;
                if (void 0 === t.host) {
                    if (void 0 !== t.ssl) throw new $i(zi.INVALID_ARGUMENT, "Can't provide ssl option if host option is not set");
                    this.host = "firestore.googleapis.com", this.ssl = !0
                } else Ah("settings", "non-empty string", "host", t.host), this.host = t.host, Ph("settings", "boolean", "ssl", t.ssl), this.ssl = null === (e = t.ssl) || void 0 === e || e;
                if (jh("settings", t, ["host", "ssl", "credentials", "timestampsInSnapshots", "cacheSizeBytes", "experimentalForceLongPolling", "ignoreUndefinedProperties"]), Ph("settings", "object", "credentials", t.credentials), this.credentials = t.credentials, Ph("settings", "boolean", "timestampsInSnapshots", t.timestampsInSnapshots), Ph("settings", "boolean", "ignoreUndefinedProperties", t.ignoreUndefinedProperties), !0 === t.timestampsInSnapshots ? Ci("The setting 'timestampsInSnapshots: true' is no longer required and should be removed.") : !1 === t.timestampsInSnapshots && Ci("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."), this.timestampsInSnapshots = null === (n = t.timestampsInSnapshots) || void 0 === n || n, this.ignoreUndefinedProperties = null !== (i = t.ignoreUndefinedProperties) && void 0 !== i && i, Ph("settings", "number", "cacheSizeBytes", t.cacheSizeBytes), void 0 === t.cacheSizeBytes) this.cacheSizeBytes = lh.th;
                else {
                    if (t.cacheSizeBytes !== $p && t.cacheSizeBytes < lh.Zo) throw new $i(zi.INVALID_ARGUMENT, "cacheSizeBytes must be at least " + lh.Zo);
                    this.cacheSizeBytes = t.cacheSizeBytes
                }
                Ph("settings", "boolean", "experimentalForceLongPolling", t.experimentalForceLongPolling), this.forceLongPolling = null !== (r = t.experimentalForceLongPolling) && void 0 !== r && r
            }

            function Xp(t, e, n, i) {
                this.s = t, this.timestampsInSnapshots = e, this.Qf = n, this.jf = i
            }

            function Jp(t, e) {
                var n = new Np({
                    next: function() {
                        e.next && e.next()
                    },
                    error: function(t) {
                        throw Si()
                    }
                });
                return t.R_(n),
                    function() {
                        n.Wf(), t.P_(n)
                    }
            }
            var Zp, tf = (sf.prototype.get = function(t) {
                    var e = this;
                    kh("Transaction.get", arguments, 1);
                    var n = Nf("Transaction.get", t, this.Id);
                    return this.md.Au([n.ua]).then((function(t) {
                        if (!t || 1 !== t.length) return Si();
                        var i = t[0];
                        if (i instanceof aa) return new hf(e.Id, n.ua, null, !1, !1, n.ca);
                        if (i instanceof sa) return new hf(e.Id, n.ua, i, !1, !1, n.ca);
                        throw Si()
                    }))
                }, sf.prototype.set = function(t, e, n) {
                    xh("Transaction.set", arguments, 2, 3);
                    var i = Nf("Transaction.set", t, this.Id);
                    n = Sf("Transaction.set", n);
                    var r = Af(i.ca, e, n),
                        o = Mc(this.Id.ud, "Transaction.set", i.ua, r, null !== i.ca, n);
                    return this.md.set(i.ua, o), this
                }, sf.prototype.update = function(t, e, n) {
                    for (var i, r, o = [], s = 3; s < arguments.length; s++) o[s - 3] = arguments[s];
                    return r = "string" == typeof e || e instanceof Qh ? (Sh("Transaction.update", arguments, 3), i = Nf("Transaction.update", t, this.Id), Uc(this.Id.ud, "Transaction.update", i.ua, e, n, o)) : (kh("Transaction.update", arguments, 2), i = Nf("Transaction.update", t, this.Id), Fc(this.Id.ud, "Transaction.update", i.ua, e)), this.md.update(i.ua, r), this
                }, sf.prototype.delete = function(t) {
                    kh("Transaction.delete", arguments, 1);
                    var e = Nf("Transaction.delete", t, this.Id);
                    return this.md.delete(e.ua), this
                }, sf),
                ef = ( of .prototype.set = function(t, e, n) {
                    xh("WriteBatch.set", arguments, 2, 3), this.Pd();
                    var i = Nf("WriteBatch.set", t, this.Id);
                    n = Sf("WriteBatch.set", n);
                    var r = Af(i.ca, e, n),
                        o = Mc(this.Id.ud, "WriteBatch.set", i.ua, r, null !== i.ca, n);
                    return this.Ad = this.Ad.concat(o.la(i.ua, Cs.We())), this
                }, of .prototype.update = function(t, e, n) {
                    for (var i, r, o = [], s = 3; s < arguments.length; s++) o[s - 3] = arguments[s];
                    return this.Pd(), r = "string" == typeof e || e instanceof Qh ? (Sh("WriteBatch.update", arguments, 3), i = Nf("WriteBatch.update", t, this.Id), Uc(this.Id.ud, "WriteBatch.update", i.ua, e, n, o)) : (kh("WriteBatch.update", arguments, 2), i = Nf("WriteBatch.update", t, this.Id), Fc(this.Id.ud, "WriteBatch.update", i.ua, e)), this.Ad = this.Ad.concat(r.la(i.ua, Cs.exists(!0))), this
                }, of .prototype.delete = function(t) {
                    kh("WriteBatch.delete", arguments, 1), this.Pd();
                    var e = Nf("WriteBatch.delete", t, this.Id);
                    return this.Ad = this.Ad.concat(new Ks(e.ua, Cs.We())), this
                }, of .prototype.commit = function() {
                    return this.Pd(), this.Rd = !0, 0 < this.Ad.length ? this.Id.ed().write(this.Ad) : Promise.resolve()
                }, of .prototype.Pd = function() {
                    if (this.Rd) throw new $i(zi.FAILED_PRECONDITION, "A write batch can no longer be used after commit() has been called.")
                }, of ),
                nf = (o(rf, Zp = kc), rf.Td = function(t, e, n) {
                    if (t.length % 2 != 0) throw new $i(zi.INVALID_ARGUMENT, "Invalid document reference. Document references must have an even number of segments, but " + t.$() + " has " + t.length);
                    return new rf(new Zi(t), e, n)
                }, Object.defineProperty(rf.prototype, "id", {
                    get: function() {
                        return this.ua.path.S()
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(rf.prototype, "parent", {
                    get: function() {
                        return new Tf(this.ua.path.p(), this.firestore, this.ca)
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(rf.prototype, "path", {
                    get: function() {
                        return this.ua.path.$()
                    },
                    enumerable: !1,
                    configurable: !0
                }), rf.prototype.collection = function(t) {
                    if (kh("DocumentReference.collection", arguments, 1), Dh("DocumentReference.collection", "non-empty string", 1, t), !t) throw new $i(zi.INVALID_ARGUMENT, "Must provide a non-empty collection name to collection()");
                    var e = Qi.N(t);
                    return new Tf(this.ua.path.child(e), this.firestore, null)
                }, rf.prototype.isEqual = function(t) {
                    if (!(t instanceof rf)) throw Hh("isEqual", "DocumentReference", 1, t);
                    return this.firestore === t.firestore && this.ua.isEqual(t.ua) && this.ca === t.ca
                }, rf.prototype.set = function(t, e) {
                    xh("DocumentReference.set", arguments, 1, 2), e = Sf("DocumentReference.set", e);
                    var n = Af(this.ca, t, e),
                        i = Mc(this.firestore.ud, "DocumentReference.set", this.ua, n, null !== this.ca, e);
                    return this.nd.write(i.la(this.ua, Cs.We()))
                }, rf.prototype.update = function(t, e) {
                    for (var n, i = [], r = 2; r < arguments.length; r++) i[r - 2] = arguments[r];
                    return n = "string" == typeof t || t instanceof Qh ? (Sh("DocumentReference.update", arguments, 2), Uc(this.firestore.ud, "DocumentReference.update", this.ua, t, e, i)) : (kh("DocumentReference.update", arguments, 1), Fc(this.firestore.ud, "DocumentReference.update", this.ua, t)), this.nd.write(n.la(this.ua, Cs.exists(!0)))
                }, rf.prototype.delete = function() {
                    return kh("DocumentReference.delete", arguments, 0), this.nd.write([new Ks(this.ua, Cs.We())])
                }, rf.prototype.onSnapshot = function() {
                    for (var t, e, n, i = this, r = [], o = 0; o < arguments.length; o++) r[o] = arguments[o];
                    xh("DocumentReference.onSnapshot", arguments, 1, 4);
                    var s = {
                            includeMetadataChanges: !1
                        },
                        a = 0;
                    "object" != typeof r[a] || Bp(r[a]) || (jh("DocumentReference.onSnapshot", s = r[a], ["includeMetadataChanges"]), Ph("DocumentReference.onSnapshot", "boolean", "includeMetadataChanges", s.includeMetadataChanges), a++);
                    var u = {
                        includeMetadataChanges: s.includeMetadataChanges
                    };
                    if (Bp(r[a])) {
                        var l = r[a];
                        r[a] = null === (t = l.next) || void 0 === t ? void 0 : t.bind(l), r[a + 1] = null === (e = l.error) || void 0 === e ? void 0 : e.bind(l), r[a + 2] = null === (n = l.complete) || void 0 === n ? void 0 : n.bind(l)
                    } else Dh("DocumentReference.onSnapshot", "function", a, r[a]), Nh("DocumentReference.onSnapshot", "function", a + 1, r[a + 1]), Nh("DocumentReference.onSnapshot", "function", a + 2, r[a + 2]);
                    var h = {
                        next: function(t) {
                            r[a] && r[a](i.gd(t))
                        },
                        error: r[a + 1],
                        complete: r[a + 2]
                    };
                    return af(this.nd, this.ua, u, h)
                }, rf.prototype.get = function(t) {
                    var e, n, i, r, o, s = this;
                    return xh("DocumentReference.get", arguments, 0, 1), Df("DocumentReference.get", t), t && "cache" === t.source ? this.firestore.ed().qf(this.ua).then((function(t) {
                        return new hf(s.firestore, s.ua, t, !0, t instanceof sa && t.Ke, s.ca)
                    })) : (e = this.nd, n = this.ua, i = t, r = new gu, o = af(e, n, {
                        includeMetadataChanges: !0,
                        S_: !0
                    }, {
                        next: function(t) {
                            o();
                            var e = t.docs.has(n);
                            !e && t.fromCache ? r.reject(new $i(zi.UNAVAILABLE, "Failed to get document because the client is offline.")) : e && t.fromCache && i && "server" === i.source ? r.reject(new $i(zi.UNAVAILABLE, 'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')) : r.resolve(t)
                        },
                        error: function(t) {
                            return r.reject(t)
                        }
                    }), r.promise.then((function(t) {
                        return s.gd(t)
                    })))
                }, rf.prototype.withConverter = function(t) {
                    return new rf(this.ua, this.firestore, t)
                }, rf.prototype.gd = function(t) {
                    var e = t.docs.get(this.ua);
                    return new hf(this.firestore, this.ua, e, t.fromCache, t.hasPendingWrites, this.ca)
                }, rf);

            function rf(t, e, n) {
                var i = this;
                return (i = Zp.call(this, e.aa, t, n) || this).ua = t, i.firestore = e, i.ca = n, i.nd = i.firestore.ed(), i
            }

            function of (t) {
                this.Id = t, this.Ad = [], this.Rd = !1
            }

            function sf(t, e) {
                this.Id = t, this.md = e
            }

            function af(t, e, n, i) {
                var r = function(t) {
                    console.error("Uncaught Error in onSnapshot:", t)
                };
                i.error && (r = i.error.bind(i));
                var o = new Np({
                        next: function(t) {
                            i.next && i.next(t)
                        },
                        error: r
                    }),
                    s = t.listen(va(e.path), o, n);
                return function() {
                    o.Wf(), t.ic(s)
                }
            }
            var uf, lf = (ff.prototype.isEqual = function(t) {
                    return this.hasPendingWrites === t.hasPendingWrites && this.fromCache === t.fromCache
                }, ff),
                hf = (pf.prototype.data = function(t) {
                    var e = this;
                    if (xh("DocumentSnapshot.data", arguments, 0, 1), t = xf("DocumentSnapshot.data", t), this.Vd) {
                        if (this.ca) {
                            var n = new cf(this.Id, this.ua, this.Vd, this.yd, this.pd, null);
                            return this.ca.fromFirestore(n, t)
                        }
                        return new zp(this.Id.aa, this.Id.Ed(), t.serverTimestamps || "none", (function(t) {
                            return new nf(t, e.Id, null)
                        })).Kf(this.Vd.Ze())
                    }
                }, pf.prototype.get = function(t, e) {
                    var n = this;
                    if (xh("DocumentSnapshot.get", arguments, 1, 2), e = xf("DocumentSnapshot.get", e), this.Vd) {
                        var i = this.Vd.data().field(Bc("DocumentSnapshot.get", t, this.ua));
                        if (null !== i) return new zp(this.Id.aa, this.Id.Ed(), e.serverTimestamps || "none", (function(t) {
                            return new nf(t, n.Id, n.ca)
                        })).Kf(i)
                    }
                }, Object.defineProperty(pf.prototype, "id", {
                    get: function() {
                        return this.ua.path.S()
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(pf.prototype, "ref", {
                    get: function() {
                        return new nf(this.ua, this.Id, this.ca)
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(pf.prototype, "exists", {
                    get: function() {
                        return null !== this.Vd
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(pf.prototype, "metadata", {
                    get: function() {
                        return new lf(this.pd, this.yd)
                    },
                    enumerable: !1,
                    configurable: !0
                }), pf.prototype.isEqual = function(t) {
                    if (!(t instanceof pf)) throw Hh("isEqual", "DocumentSnapshot", 1, t);
                    return this.Id === t.Id && this.yd === t.yd && this.ua.isEqual(t.ua) && (null === this.Vd ? null === t.Vd : this.Vd.isEqual(t.Vd)) && this.ca === t.ca
                }, pf),
                cf = (o(df, uf = hf), df.prototype.data = function(t) {
                    return uf.prototype.data.call(this, t)
                }, df);

            function df() {
                return null !== uf && uf.apply(this, arguments) || this
            }

            function pf(t, e, n, i, r, o) {
                this.Id = t, this.ua = e, this.Vd = n, this.yd = i, this.pd = r, this.ca = o
            }

            function ff(t, e) {
                this.hasPendingWrites = t, this.fromCache = e
            }

            function gf(t, e, n) {
                if ("string" == typeof n) {
                    if ("" === n) throw new $i(zi.INVALID_ARGUMENT, "Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");
                    if (!ma(e) && -1 !== n.indexOf("/")) throw new $i(zi.INVALID_ARGUMENT, "Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '" + n + "' contains a '/' character.");
                    var i = e.path.child(Qi.N(n));
                    if (!Zi.W(i)) throw new $i(zi.INVALID_ARGUMENT, "Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '" + i + "' is not because it has an odd number of segments (" + i.length + ").");
                    return To(t, new Zi(i))
                }
                if (n instanceof kc) return To(t, n.ua);
                throw new $i(zi.INVALID_ARGUMENT, "Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: " + Fh(n) + ".")
            }

            function vf(t, e) {
                if (!Array.isArray(t) || 0 === t.length) throw new $i(zi.INVALID_ARGUMENT, "Invalid Query. A non-empty array is required for '" + e.toString() + "' filters.");
                if (10 < t.length) throw new $i(zi.INVALID_ARGUMENT, "Invalid Query. '" + e.toString() + "' filters support a maximum of 10 elements in the value array.");
                if (0 <= t.indexOf(null)) throw new $i(zi.INVALID_ARGUMENT, "Invalid Query. '" + e.toString() + "' filters cannot contain 'null' in the value array.");
                if (0 < t.filter((function(t) {
                        return Number.isNaN(t)
                    })).length) throw new $i(zi.INVALID_ARGUMENT, "Invalid Query. '" + e.toString() + "' filters cannot contain 'NaN' in the value array.")
            }

            function mf(t, e, n) {
                if (!n.isEqual(e)) throw new $i(zi.INVALID_ARGUMENT, "Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '" + e.toString() + "' and so you must also use '" + e.toString() + "' as your first orderBy(), but your first orderBy() is on field '" + n.toString() + "' instead.")
            }

            function yf(t) {
                if (t.an() && 0 === t.tn.length) throw new $i(zi.UNIMPLEMENTED, "limitToLast() queries require specifying at least one orderBy() clause")
            }
            var _f = (bf.prototype.where = function(t, e, n) {
                kh("Query.where", arguments, 3), Uh("Query.where", 3, n);
                var i, r, o, s = Rh("Query.where", ["<", "<=", "==", ">=", ">", "array-contains", "in", "array-contains-any"], 2, e),
                    a = Bc("Query.where", t),
                    u = function(t, e, n, i, r, o, s) {
                        var a;
                        if (r.O()) {
                            if ("array-contains" === o || "array-contains-any" === o) throw new $i(zi.INVALID_ARGUMENT, "Invalid Query. You can't perform '" + o + "' queries on FieldPath.documentId().");
                            if ("in" === o) {
                                vf(s, o);
                                for (var u = [], l = 0, h = s; l < h.length; l++) {
                                    var c = h[l];
                                    u.push(gf(i, t, c))
                                }
                                a = {
                                    arrayValue: {
                                        values: u
                                    }
                                }
                            } else a = gf(i, t, s)
                        } else "in" !== o && "array-contains-any" !== o || vf(s, o), a = jc(n, "Query.where", s, "in" === o);
                        var d = Da.create(r, o, a);
                        return function(t, e) {
                            if (e instanceof Da) {
                                var n = ["array-contains", "array-contains-any"],
                                    i = ["in", "array-contains-any"],
                                    r = 0 <= n.indexOf(e.op),
                                    o = 0 <= i.indexOf(e.op);
                                if (e.ln()) {
                                    var s = t.cn();
                                    if (null !== s && !s.isEqual(e.field)) throw new $i(zi.INVALID_ARGUMENT, "Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '" + s.toString() + "' and '" + e.field.toString() + "'");
                                    var a = t.un();
                                    null !== a && mf(0, e.field, a)
                                } else if (o || r) {
                                    var u = null;
                                    if (o && (u = t._n(i)), null === u && r && (u = t._n(n)), null !== u) throw u === e.op ? new $i(zi.INVALID_ARGUMENT, "Invalid query. You cannot use more than one '" + e.op.toString() + "' filter.") : new $i(zi.INVALID_ARGUMENT, "Invalid query. You cannot use '" + e.op.toString() + "' filters with '" + u.toString() + "' filters.")
                                }
                            }
                        }(t, d), d
                    }(this.bd, 0, this.firestore.ud, this.firestore.aa, a, s, n);
                return new bf((r = u, o = (i = this.bd).filters.concat([r]), new pa(i.path, i.collectionGroup, i.tn.slice(), o, i.limit, i.en, i.startAt, i.endAt)), this.firestore, this.ca)
            }, bf.prototype.orderBy = function(t, e) {
                var n;
                if (xh("Query.orderBy", arguments, 1, 2), Nh("Query.orderBy", "non-empty string", 2, e), void 0 === e || "asc" === e) n = "asc";
                else {
                    if ("desc" !== e) throw new $i(zi.INVALID_ARGUMENT, "Function Query.orderBy() has unknown direction '" + e + "', expected 'asc' or 'desc'.");
                    n = "desc"
                }
                var i, r, o, s = Bc("Query.orderBy", t),
                    a = function(t, e, n) {
                        if (null !== t.startAt) throw new $i(zi.INVALID_ARGUMENT, "Invalid query. You must not call startAt() or startAfter() before calling orderBy().");
                        if (null !== t.endAt) throw new $i(zi.INVALID_ARGUMENT, "Invalid query. You must not call endAt() or endBefore() before calling orderBy().");
                        var i = new Qa(e, n);
                        return function(t, e) {
                            if (null === t.un()) {
                                var n = t.cn();
                                null !== n && mf(0, n, e.field)
                            }
                        }(t, i), i
                    }(this.bd, s, n);
                return new bf((r = a, o = (i = this.bd).tn.concat([r]), new pa(i.path, i.collectionGroup, o, i.filters.slice(), i.limit, i.en, i.startAt, i.endAt)), this.firestore, this.ca)
            }, bf.prototype.limit = function(t) {
                return kh("Query.limit", arguments, 1), Dh("Query.limit", "number", 1, t), qh("Query.limit", 1, t), new bf(ba(this.bd, t, "F"), this.firestore, this.ca)
            }, bf.prototype.limitToLast = function(t) {
                return kh("Query.limitToLast", arguments, 1), Dh("Query.limitToLast", "number", 1, t), qh("Query.limitToLast", 1, t), new bf(ba(this.bd, t, "L"), this.firestore, this.ca)
            }, bf.prototype.startAt = function(t) {
                for (var e = [], n = 1; n < arguments.length; n++) e[n - 1] = arguments[n];
                Sh("Query.startAt", arguments, 1);
                var i = this.vd("Query.startAt", t, e, !0);
                return new bf(wa(this.bd, i), this.firestore, this.ca)
            }, bf.prototype.startAfter = function(t) {
                for (var e = [], n = 1; n < arguments.length; n++) e[n - 1] = arguments[n];
                Sh("Query.startAfter", arguments, 1);
                var i = this.vd("Query.startAfter", t, e, !1);
                return new bf(wa(this.bd, i), this.firestore, this.ca)
            }, bf.prototype.endBefore = function(t) {
                for (var e = [], n = 1; n < arguments.length; n++) e[n - 1] = arguments[n];
                Sh("Query.endBefore", arguments, 1);
                var i = this.vd("Query.endBefore", t, e, !0);
                return new bf(Ea(this.bd, i), this.firestore, this.ca)
            }, bf.prototype.endAt = function(t) {
                for (var e = [], n = 1; n < arguments.length; n++) e[n - 1] = arguments[n];
                Sh("Query.endAt", arguments, 1);
                var i = this.vd("Query.endAt", t, e, !1);
                return new bf(Ea(this.bd, i), this.firestore, this.ca)
            }, bf.prototype.isEqual = function(t) {
                if (!(t instanceof bf)) throw Hh("isEqual", "Query", 1, t);
                return this.firestore === t.firestore && Ia(this.bd, t.bd) && this.ca === t.ca
            }, bf.prototype.withConverter = function(t) {
                return new bf(this.bd, this.firestore, t)
            }, bf.prototype.vd = function(t, e, n, i) {
                if (Uh(t, 1, e), e instanceof hf) return kh(t, u([e], n), 1),
                    function(t, e, n, i, r) {
                        if (!i) throw new $i(zi.NOT_FOUND, "Can't use a DocumentSnapshot that doesn't exist for " + n + "().");
                        for (var o = [], s = 0, a = ya(t); s < a.length; s++) {
                            var u = a[s];
                            if (u.field.O()) o.push(To(e, i.key));
                            else {
                                var l = i.field(u.field);
                                if (co(l)) throw new $i(zi.INVALID_ARGUMENT, 'Invalid query. You are trying to start or end a query using a document for which the field "' + u.field + '" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');
                                if (null === l) {
                                    var h = u.field.$();
                                    throw new $i(zi.INVALID_ARGUMENT, "Invalid query. You are trying to start or end a query using a document for which the field '" + h + "' (used as the orderBy) does not exist.")
                                }
                                o.push(l)
                            }
                        }
                        return new qa(o, r)
                    }(this.bd, this.firestore.aa, t, e.Vd, i);
                var r = [e].concat(n);
                return function(t, e, n, i, r, o) {
                    var s = t.tn;
                    if (r.length > s.length) throw new $i(zi.INVALID_ARGUMENT, "Too many arguments provided to " + i + "(). The number of arguments must be less than or equal to the number of orderBy() clauses");
                    for (var a = [], u = 0; u < r.length; u++) {
                        var l = r[u];
                        if (s[u].field.O()) {
                            if ("string" != typeof l) throw new $i(zi.INVALID_ARGUMENT, "Invalid query. Expected a string for document ID in " + i + "(), but got a " + typeof l);
                            if (!ma(t) && -1 !== l.indexOf("/")) throw new $i(zi.INVALID_ARGUMENT, "Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to " + i + "() must be a plain document ID, but '" + l + "' contains a slash.");
                            var h = t.path.child(Qi.N(l));
                            if (!Zi.W(h)) throw new $i(zi.INVALID_ARGUMENT, "Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to " + i + "() must result in a valid document path, but '" + h + "' is not because it contains an odd number of segments.");
                            var c = new Zi(h);
                            a.push(To(e, c))
                        } else {
                            var d = jc(n, i, l);
                            a.push(d)
                        }
                    }
                    return new qa(a, o)
                }(this.bd, this.firestore.aa, this.firestore.ud, t, r, i)
            }, bf.prototype.onSnapshot = function() {
                for (var t, e, n, i = this, r = [], o = 0; o < arguments.length; o++) r[o] = arguments[o];
                xh("Query.onSnapshot", arguments, 1, 4);
                var s = {},
                    a = 0;
                if ("object" != typeof r[a] || Bp(r[a]) || (jh("Query.onSnapshot", s = r[a], ["includeMetadataChanges"]), Ph("Query.onSnapshot", "boolean", "includeMetadataChanges", s.includeMetadataChanges), a++), Bp(r[a])) {
                    var u = r[a];
                    r[a] = null === (t = u.next) || void 0 === t ? void 0 : t.bind(u), r[a + 1] = null === (e = u.error) || void 0 === e ? void 0 : e.bind(u), r[a + 2] = null === (n = u.complete) || void 0 === n ? void 0 : n.bind(u)
                } else Dh("Query.onSnapshot", "function", a, r[a]), Nh("Query.onSnapshot", "function", a + 1, r[a + 1]), Nh("Query.onSnapshot", "function", a + 2, r[a + 2]);
                var l = {
                    next: function(t) {
                        r[a] && r[a](new If(i.firestore, i.bd, t, i.ca))
                    },
                    error: r[a + 1],
                    complete: r[a + 2]
                };
                return yf(this.bd), wf(this.firestore.ed(), this.bd, s, l)
            }, bf.prototype.get = function(t) {
                var e = this;
                xh("Query.get", arguments, 0, 1), Df("Query.get", t), yf(this.bd);
                var n, i, r, o, s, a = this.firestore.ed();
                return (t && "cache" === t.source ? a.Bf(this.bd) : (n = a, i = this.bd, r = t, o = new gu, s = wf(n, i, {
                    includeMetadataChanges: !0,
                    S_: !0
                }, {
                    next: function(t) {
                        s(), t.fromCache && r && "server" === r.source ? o.reject(new $i(zi.UNAVAILABLE, 'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')) : o.resolve(t)
                    },
                    error: function(t) {
                        return o.reject(t)
                    }
                }), o.promise)).then((function(t) {
                    return new If(e.firestore, e.bd, t, e.ca)
                }))
            }, bf);

            function bf(t, e, n) {
                this.bd = t, this.firestore = e, this.ca = n
            }

            function wf(t, e, n, i) {
                var r = function(t) {
                    console.error("Uncaught Error in onSnapshot:", t)
                };
                i.error && (r = i.error.bind(i));
                var o = new Np({
                        next: function(t) {
                            i.next && i.next(t)
                        },
                        error: r
                    }),
                    s = t.listen(e, o, n);
                return function() {
                    o.Wf(), t.ic(s)
                }
            }
            var Ef, If = (Object.defineProperty(kf.prototype, "docs", {
                    get: function() {
                        var t = [];
                        return this.forEach((function(e) {
                            return t.push(e)
                        })), t
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(kf.prototype, "empty", {
                    get: function() {
                        return this.Dd.docs._()
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(kf.prototype, "size", {
                    get: function() {
                        return this.Dd.docs.size
                    },
                    enumerable: !1,
                    configurable: !0
                }), kf.prototype.forEach = function(t, e) {
                    var n = this;
                    xh("QuerySnapshot.forEach", arguments, 1, 2), Dh("QuerySnapshot.forEach", "function", 1, t), this.Dd.docs.forEach((function(i) {
                        t.call(e, n.$d(i, n.metadata.fromCache, n.Dd.Lt.has(i.key)))
                    }))
                }, Object.defineProperty(kf.prototype, "query", {
                    get: function() {
                        return new _f(this.Sd, this.Id, this.ca)
                    },
                    enumerable: !1,
                    configurable: !0
                }), kf.prototype.docChanges = function(t) {
                    t && (jh("QuerySnapshot.docChanges", t, ["includeMetadataChanges"]), Ph("QuerySnapshot.docChanges", "boolean", "includeMetadataChanges", t.includeMetadataChanges));
                    var e = !(!t || !t.includeMetadataChanges);
                    if (e && this.Dd.Bt) throw new $i(zi.INVALID_ARGUMENT, "To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");
                    return this.Cd && this.Fd === e || (this.Cd = function(t, e, n) {
                        if (t.Ot._()) {
                            var i = 0;
                            return t.docChanges.map((function(e) {
                                var r = n(e.doc, t.fromCache, t.Lt.has(e.doc.key));
                                return e.doc, {
                                    type: "added",
                                    doc: r,
                                    oldIndex: -1,
                                    newIndex: i++
                                }
                            }))
                        }
                        var r = t.Ot;
                        return t.docChanges.filter((function(t) {
                            return e || 3 !== t.type
                        })).map((function(e) {
                            var i = n(e.doc, t.fromCache, t.Lt.has(e.doc.key)),
                                o = -1,
                                s = -1;
                            return 0 !== e.type && (o = r.indexOf(e.doc.key), r = r.delete(e.doc.key)), 1 !== e.type && (s = (r = r.add(e.doc)).indexOf(e.doc.key)), {
                                type: function(t) {
                                    switch (t) {
                                        case 0:
                                            return "added";
                                        case 2:
                                        case 3:
                                            return "modified";
                                        case 1:
                                            return "removed";
                                        default:
                                            return Si()
                                    }
                                }(e.type),
                                doc: i,
                                oldIndex: o,
                                newIndex: s
                            }
                        }))
                    }(this.Dd, e, this.$d.bind(this)), this.Fd = e), this.Cd
                }, kf.prototype.isEqual = function(t) {
                    if (!(t instanceof kf)) throw Hh("isEqual", "QuerySnapshot", 1, t);
                    return this.Id === t.Id && Ia(this.Sd, t.Sd) && this.Dd.isEqual(t.Dd) && this.ca === t.ca
                }, kf.prototype.$d = function(t, e, n) {
                    return new cf(this.Id, t.key, t, e, n, this.ca)
                }, kf),
                Tf = (o(Cf, Ef = _f), Object.defineProperty(Cf.prototype, "id", {
                    get: function() {
                        return this.bd.path.S()
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(Cf.prototype, "parent", {
                    get: function() {
                        var t = this.bd.path.p();
                        return t._() ? null : new nf(new Zi(t), this.firestore, null)
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(Cf.prototype, "path", {
                    get: function() {
                        return this.bd.path.$()
                    },
                    enumerable: !1,
                    configurable: !0
                }), Cf.prototype.doc = function(t) {
                    xh("CollectionReference.doc", arguments, 0, 1), 0 === arguments.length && (t = Ni.t()), Dh("CollectionReference.doc", "non-empty string", 1, t);
                    var e = Qi.N(t);
                    return nf.Td(this.bd.path.child(e), this.firestore, this.ca)
                }, Cf.prototype.add = function(t) {
                    kh("CollectionReference.add", arguments, 1), Dh("CollectionReference.add", "object", 1, this.ca ? this.ca.toFirestore(t) : t);
                    var e = this.doc();
                    return e.set(t).then((function() {
                        return e
                    }))
                }, Cf.prototype.withConverter = function(t) {
                    return new Cf(this.Nd, this.firestore, t)
                }, Cf);

            function Cf(t, e, n) {
                var i = this;
                if (((i = Ef.call(this, va(t), e, n) || this).Nd = t).length % 2 != 1) throw new $i(zi.INVALID_ARGUMENT, "Invalid collection reference. Collection references must have an odd number of segments, but " + t.$() + " has " + t.length);
                return i
            }

            function kf(t, e, n, i) {
                this.Id = t, this.Sd = e, this.Dd = n, this.ca = i, this.Cd = null, this.Fd = null, this.metadata = new lf(n.hasPendingWrites, n.fromCache)
            }

            function Sf(t, e) {
                if (void 0 === e) return {
                    merge: !1
                };
                if (jh(t, e, ["merge", "mergeFields"]), Ph(t, "boolean", "merge", e.merge), n = t, void 0 !== (i = e.mergeFields) && function(t, e, n, i) {
                        if (!(n instanceof Array)) throw new $i(zi.INVALID_ARGUMENT, "Function " + t + "() requires its " + e + " option to be an array, but it was: " + Fh(n));
                        for (var r = 0; r < n.length; ++r)
                            if (!i(n[r])) throw new $i(zi.INVALID_ARGUMENT, "Function " + t + "() requires all " + e + " elements to be a string or a FieldPath, but the value at index " + r + " was: " + Fh(n[r]))
                    }(n, "mergeFields", i, (function(t) {
                        return "string" == typeof t || t instanceof Qh
                    })), void 0 !== e.mergeFields && void 0 !== e.merge) throw new $i(zi.INVALID_ARGUMENT, "Invalid options passed to function " + t + '(): You cannot specify both "merge" and "mergeFields".');
                var n, i;
                return e
            }

            function xf(t, e) {
                return void 0 === e ? {} : (jh(t, e, ["serverTimestamps"]), Oh(t, 0, "serverTimestamps", e.serverTimestamps, ["estimate", "previous", "none"]), e)
            }

            function Df(t, e) {
                Nh(t, "object", 1, e), e && (jh(t, e, ["source"]), Oh(t, 0, "source", e.source, ["default", "server", "cache"]))
            }

            function Nf(t, e, n) {
                if (e instanceof kc) {
                    if (e.firestore !== n) throw new $i(zi.INVALID_ARGUMENT, "Provided document reference is from a different Firestore instance.");
                    return e
                }
                throw Hh(t, "DocumentReference", 1, e)
            }

            function Af(t, e, n) {
                return t ? n && (n.merge || n.mergeFields) ? t.toFirestore(e, n) : t.toFirestore(e) : e
            }
            var Pf, Of = {
                Firestore: Gp,
                GeoPoint: vc,
                Timestamp: Ki,
                Blob: Gh,
                Transaction: tf,
                WriteBatch: ef,
                DocumentReference: nf,
                DocumentSnapshot: hf,
                Query: _f,
                QueryDocumentSnapshot: cf,
                QuerySnapshot: If,
                CollectionReference: Tf,
                FieldPath: Qh,
                FieldValue: fc,
                setLogLevel: Gp.setLogLevel,
                CACHE_SIZE_UNLIMITED: $p
            };
            (Pf = t).INTERNAL.registerComponent(new bi("firestore", (function(t) {
                return e = t.getProvider("app").getImmediate(), n = t.getProvider("auth-internal"), new Gp(e, n, new xp);
                var e, n
            }), "PUBLIC").setServiceProps(Object.assign({}, Of))), Pf.registerVersion("@firebase/firestore", "1.16.2")
        }).apply(this, arguments)
    } catch (t) {
        throw console.error(t), new Error("Cannot instantiate firebase-firestore.js - be sure to load firebase-app.js first.")
    }
})),
function(t, e) {
    "object" == typeof exports && "undefined" != typeof module ? e(require("@firebase/app")) : "function" == typeof define && define.amd ? define(["@firebase/app"], e) : e((t = t || self).firebase)
}(this, (function(t) {
    "use strict";
    try {
        (function() {
            t = t && Object.prototype.hasOwnProperty.call(t, "default") ? t.default : t;
            var e = function(t, n) {
                return (e = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    })(t, n)
            };

            function n(t, n) {
                function i() {
                    this.constructor = t
                }
                e(t, n), t.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype, new i)
            }
            var i = function() {
                return (i = Object.assign || function(t) {
                    for (var e, n = 1, i = arguments.length; n < i; n++)
                        for (var r in e = arguments[n]) Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r]);
                    return t
                }).apply(this, arguments)
            };

            function r(t) {
                var e = "function" == typeof Symbol && Symbol.iterator,
                    n = e && t[e],
                    i = 0;
                if (n) return n.call(t);
                if (t && "number" == typeof t.length) return {
                    next: function() {
                        return t && i >= t.length && (t = void 0), {
                            value: t && t[i++],
                            done: !t
                        }
                    }
                };
                throw new TypeError(e ? "Object is not iterable." : "Symbol.iterator is not defined.")
            }

            function o(t, e) {
                var n = "function" == typeof Symbol && t[Symbol.iterator];
                if (!n) return t;
                var i, r, o = n.call(t),
                    s = [];
                try {
                    for (;
                        (void 0 === e || 0 < e--) && !(i = o.next()).done;) s.push(i.value)
                } catch (t) {
                    r = {
                        error: t
                    }
                } finally {
                    try {
                        i && !i.done && (n = o.return) && n.call(o)
                    } finally {
                        if (r) throw r.error
                    }
                }
                return s
            }

            function s() {
                for (var t = [], e = 0; e < arguments.length; e++) t = t.concat(o(arguments[e]));
                return t
            }

            function a(t) {
                for (var e = [], n = 0, i = 0; i < t.length; i++) {
                    var r = t.charCodeAt(i);
                    r < 128 ? e[n++] = r : (r < 2048 ? e[n++] = r >> 6 | 192 : (55296 == (64512 & r) && i + 1 < t.length && 56320 == (64512 & t.charCodeAt(i + 1)) ? (r = 65536 + ((1023 & r) << 10) + (1023 & t.charCodeAt(++i)), e[n++] = r >> 18 | 240, e[n++] = r >> 12 & 63 | 128) : e[n++] = r >> 12 | 224, e[n++] = r >> 6 & 63 | 128), e[n++] = 63 & r | 128)
                }
                return e
            }

            function u(t) {
                try {
                    return p.decodeString(t, !0)
                } catch (t) {
                    console.error("base64Decode failed: ", t)
                }
                return null
            }
            var l = !1,
                h = "${JSCORE_VERSION}",
                c = function(t, e) {
                    if (!t) throw d(e)
                },
                d = function(t) {
                    return new Error("Firebase Database (" + h + ") INTERNAL ASSERT FAILED: " + t)
                },
                p = {
                    byteToCharMap_: null,
                    charToByteMap_: null,
                    byteToCharMapWebSafe_: null,
                    charToByteMapWebSafe_: null,
                    ENCODED_VALS_BASE: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",
                    get ENCODED_VALS() {
                        return this.ENCODED_VALS_BASE + "+/="
                    },
                    get ENCODED_VALS_WEBSAFE() {
                        return this.ENCODED_VALS_BASE + "-_."
                    },
                    HAS_NATIVE_SUPPORT: "function" == typeof atob,
                    encodeByteArray: function(t, e) {
                        if (!Array.isArray(t)) throw Error("encodeByteArray takes an array as a parameter");
                        this.init_();
                        for (var n = e ? this.byteToCharMapWebSafe_ : this.byteToCharMap_, i = [], r = 0; r < t.length; r += 3) {
                            var o = t[r],
                                s = r + 1 < t.length,
                                a = s ? t[r + 1] : 0,
                                u = r + 2 < t.length,
                                l = u ? t[r + 2] : 0,
                                h = o >> 2,
                                c = (3 & o) << 4 | a >> 4,
                                d = (15 & a) << 2 | l >> 6,
                                p = 63 & l;
                            u || (p = 64, s || (d = 64)), i.push(n[h], n[c], n[d], n[p])
                        }
                        return i.join("")
                    },
                    encodeString: function(t, e) {
                        return this.HAS_NATIVE_SUPPORT && !e ? btoa(t) : this.encodeByteArray(a(t), e)
                    },
                    decodeString: function(t, e) {
                        return this.HAS_NATIVE_SUPPORT && !e ? atob(t) : function(t) {
                            for (var e = [], n = 0, i = 0; n < t.length;) {
                                var r = t[n++];
                                if (r < 128) e[i++] = String.fromCharCode(r);
                                else if (191 < r && r < 224) {
                                    var o = t[n++];
                                    e[i++] = String.fromCharCode((31 & r) << 6 | 63 & o)
                                } else if (239 < r && r < 365) {
                                    var s = ((7 & r) << 18 | (63 & (o = t[n++])) << 12 | (63 & (a = t[n++])) << 6 | 63 & t[n++]) - 65536;
                                    e[i++] = String.fromCharCode(55296 + (s >> 10)), e[i++] = String.fromCharCode(56320 + (1023 & s))
                                } else {
                                    o = t[n++];
                                    var a = t[n++];
                                    e[i++] = String.fromCharCode((15 & r) << 12 | (63 & o) << 6 | 63 & a)
                                }
                            }
                            return e.join("")
                        }(this.decodeStringToByteArray(t, e))
                    },
                    decodeStringToByteArray: function(t, e) {
                        this.init_();
                        for (var n = e ? this.charToByteMapWebSafe_ : this.charToByteMap_, i = [], r = 0; r < t.length;) {
                            var o = n[t.charAt(r++)],
                                s = r < t.length ? n[t.charAt(r)] : 0,
                                a = ++r < t.length ? n[t.charAt(r)] : 64,
                                u = ++r < t.length ? n[t.charAt(r)] : 64;
                            if (++r, null == o || null == s || null == a || null == u) throw Error();
                            var l = o << 2 | s >> 4;
                            if (i.push(l), 64 !== a) {
                                var h = s << 4 & 240 | a >> 2;
                                if (i.push(h), 64 !== u) {
                                    var c = a << 6 & 192 | u;
                                    i.push(c)
                                }
                            }
                        }
                        return i
                    },
                    init_: function() {
                        if (!this.byteToCharMap_) {
                            this.byteToCharMap_ = {}, this.charToByteMap_ = {}, this.byteToCharMapWebSafe_ = {}, this.charToByteMapWebSafe_ = {};
                            for (var t = 0; t < this.ENCODED_VALS.length; t++) this.byteToCharMap_[t] = this.ENCODED_VALS.charAt(t), this.charToByteMap_[this.byteToCharMap_[t]] = t, this.byteToCharMapWebSafe_[t] = this.ENCODED_VALS_WEBSAFE.charAt(t), (this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]] = t) >= this.ENCODED_VALS_BASE.length && (this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)] = t, this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)] = t)
                        }
                    }
                };
            var f = (g.prototype.wrapCallback = function(t) {
                var e = this;
                return function(n, i) {
                    n ? e.reject(n) : e.resolve(i), "function" == typeof t && (e.promise.catch((function() {})), 1 === t.length ? t(n) : t(n, i))
                }
            }, g);

            function g() {
                var t = this;
                this.reject = function() {}, this.resolve = function() {}, this.promise = new Promise((function(e, n) {
                    t.resolve = e, t.reject = n
                }))
            }

            function v() {
                return "undefined" != typeof window && (window.cordova || window.phonegap || window.PhoneGap) && /ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test("undefined" != typeof navigator && "string" == typeof navigator.userAgent ? navigator.userAgent : "")
            }

            function m() {
                return !0 === l
            }
            var y, _ = (n(b, y = Error), b);

            function b(t, e) {
                var n = y.call(this, e) || this;
                return n.code = t, n.name = "FirebaseError", Object.setPrototypeOf(n, b.prototype), Error.captureStackTrace && Error.captureStackTrace(n, w.prototype.create), n
            }
            var w = (E.prototype.create = function(t) {
                for (var e = [], n = 1; n < arguments.length; n++) e[n - 1] = arguments[n];
                for (var i, r = e[0] || {}, o = this.service + "/" + t, s = this.errors[t], a = s ? (i = r, s.replace(I, (function(t, e) {
                        var n = i[e];
                        return null != n ? String(n) : "<" + e + "?>"
                    }))) : "Error", u = this.serviceName + ": " + a + " (" + o + ").", l = new _(o, u), h = 0, c = Object.keys(r); h < c.length; h++) {
                    var d = c[h];
                    "_" !== d.slice(-1) && (d in l && console.warn('Overwriting FirebaseError base field "' + d + '" can cause unexpected behavior.'), l[d] = r[d])
                }
                return l
            }, E);

            function E(t, e, n) {
                this.service = t, this.serviceName = e, this.errors = n
            }
            var I = /\{\$([^}]+)}/g;

            function T(t) {
                return JSON.parse(t)
            }

            function C(t) {
                return JSON.stringify(t)
            }

            function k(t) {
                var e = {},
                    n = {},
                    i = {},
                    r = "";
                try {
                    var o = t.split(".");
                    e = T(u(o[0]) || ""), n = T(u(o[1]) || ""), r = o[2], i = n.d || {}, delete n.d
                } catch (t) {}
                return {
                    header: e,
                    claims: n,
                    data: i,
                    signature: r
                }
            }

            function S(t, e) {
                return Object.prototype.hasOwnProperty.call(t, e)
            }

            function x(t, e) {
                return Object.prototype.hasOwnProperty.call(t, e) ? t[e] : void 0
            }

            function D(t) {
                for (var e in t)
                    if (Object.prototype.hasOwnProperty.call(t, e)) return !1;
                return !0
            }

            function N(t, e, n) {
                var i = {};
                for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (i[r] = e.call(n, t[r], r, t));
                return i
            }
            var A, P, O, R = (L.prototype.reset = function() {
                this.chain_[0] = 1732584193, this.chain_[1] = 4023233417, this.chain_[2] = 2562383102, this.chain_[3] = 271733878, this.chain_[4] = 3285377520, this.inbuf_ = 0, this.total_ = 0
            }, L.prototype.compress_ = function(t, e) {
                e = e || 0;
                var n = this.W_;
                if ("string" == typeof t)
                    for (var i = 0; i < 16; i++) n[i] = t.charCodeAt(e) << 24 | t.charCodeAt(e + 1) << 16 | t.charCodeAt(e + 2) << 8 | t.charCodeAt(e + 3), e += 4;
                else
                    for (i = 0; i < 16; i++) n[i] = t[e] << 24 | t[e + 1] << 16 | t[e + 2] << 8 | t[e + 3], e += 4;
                for (i = 16; i < 80; i++) {
                    var r = n[i - 3] ^ n[i - 8] ^ n[i - 14] ^ n[i - 16];
                    n[i] = 4294967295 & (r << 1 | r >>> 31)
                }
                var o, s, a = this.chain_[0],
                    u = this.chain_[1],
                    l = this.chain_[2],
                    h = this.chain_[3],
                    c = this.chain_[4];
                for (i = 0; i < 80; i++) s = i < 40 ? i < 20 ? (o = h ^ u & (l ^ h), 1518500249) : (o = u ^ l ^ h, 1859775393) : i < 60 ? (o = u & l | h & (u | l), 2400959708) : (o = u ^ l ^ h, 3395469782), r = (a << 5 | a >>> 27) + o + c + s + n[i] & 4294967295, c = h, h = l, l = 4294967295 & (u << 30 | u >>> 2), u = a, a = r;
                this.chain_[0] = this.chain_[0] + a & 4294967295, this.chain_[1] = this.chain_[1] + u & 4294967295, this.chain_[2] = this.chain_[2] + l & 4294967295, this.chain_[3] = this.chain_[3] + h & 4294967295, this.chain_[4] = this.chain_[4] + c & 4294967295
            }, L.prototype.update = function(t, e) {
                if (null != t) {
                    void 0 === e && (e = t.length);
                    for (var n = e - this.blockSize, i = 0, r = this.buf_, o = this.inbuf_; i < e;) {
                        if (0 === o)
                            for (; i <= n;) this.compress_(t, i), i += this.blockSize;
                        if ("string" == typeof t) {
                            for (; i < e;)
                                if (r[o] = t.charCodeAt(i), ++i, ++o === this.blockSize) {
                                    this.compress_(r), o = 0;
                                    break
                                }
                        } else
                            for (; i < e;)
                                if (r[o] = t[i], ++i, ++o === this.blockSize) {
                                    this.compress_(r), o = 0;
                                    break
                                }
                    }
                    this.inbuf_ = o, this.total_ += e
                }
            }, L.prototype.digest = function() {
                var t = [],
                    e = 8 * this.total_;
                this.inbuf_ < 56 ? this.update(this.pad_, 56 - this.inbuf_) : this.update(this.pad_, this.blockSize - (this.inbuf_ - 56));
                for (var n = this.blockSize - 1; 56 <= n; n--) this.buf_[n] = 255 & e, e /= 256;
                this.compress_(this.buf_);
                var i = 0;
                for (n = 0; n < 5; n++)
                    for (var r = 24; 0 <= r; r -= 8) t[i] = this.chain_[n] >> r & 255, ++i;
                return t
            }, L);

            function L() {
                this.chain_ = [], this.buf_ = [], this.W_ = [], this.pad_ = [], this.inbuf_ = 0, this.total_ = 0, this.blockSize = 64, this.pad_[0] = 128;
                for (var t = 1; t < this.blockSize; ++t) this.pad_[t] = 0;
                this.reset()
            }

            function M(t, e, n, i) {
                var r;
                if (i < e ? r = "at least " + e : n < i && (r = 0 === n ? "none" : "no more than " + n), r) throw new Error(t + " failed: Was called with " + i + (1 === i ? " argument." : " arguments.") + " Expects " + r + ".")
            }

            function F(t, e, n) {
                var i = "";
                switch (e) {
                    case 1:
                        i = n ? "first" : "First";
                        break;
                    case 2:
                        i = n ? "second" : "Second";
                        break;
                    case 3:
                        i = n ? "third" : "Third";
                        break;
                    case 4:
                        i = n ? "fourth" : "Fourth";
                        break;
                    default:
                        throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")
                }
                return t + " failed: " + (i + " argument ")
            }

            function U(t, e, n, i) {
                if ((!i || n) && "function" != typeof n) throw new Error(F(t, e, i) + "must be a valid function.")
            }

            function j(t, e, n, i) {
                if ((!i || n) && ("object" != typeof n || null === n)) throw new Error(F(t, e, i) + "must be a valid context object.")
            }

            function H(t) {
                for (var e = 0, n = 0; n < t.length; n++) {
                    var i = t.charCodeAt(n);
                    i < 128 ? e++ : i < 2048 ? e += 2 : 55296 <= i && i <= 56319 ? (e += 4, n++) : e += 3
                }
                return e
            }

            function q() {
                for (var t = 0, e = 0, n = arguments.length; e < n; e++) t += arguments[e].length;
                var i = Array(t),
                    r = 0;
                for (e = 0; e < n; e++)
                    for (var o = arguments[e], s = 0, a = o.length; s < a; s++, r++) i[r] = o[s];
                return i
            }

            function W(t, e) {
                for (var n = [], i = 2; i < arguments.length; i++) n[i - 2] = arguments[i];
                if (!(e < t.logLevel)) {
                    var r = (new Date).toISOString(),
                        o = z[e];
                    if (!o) throw new Error("Attempted to log a message with an invalid logType (value: " + e + ")");
                    console[o].apply(console, q(["[" + r + "]  " + t.name + ":"], n))
                }
            }(O = P = P || {})[O.DEBUG = 0] = "DEBUG", O[O.VERBOSE = 1] = "VERBOSE", O[O.INFO = 2] = "INFO", O[O.WARN = 3] = "WARN", O[O.ERROR = 4] = "ERROR", O[O.SILENT = 5] = "SILENT";
            var V = {
                    debug: P.DEBUG,
                    verbose: P.VERBOSE,
                    info: P.INFO,
                    warn: P.WARN,
                    error: P.ERROR,
                    silent: P.SILENT
                },
                B = P.INFO,
                z = ((A = {})[P.DEBUG] = "log", A[P.VERBOSE] = "log", A[P.INFO] = "info", A[P.WARN] = "warn", A[P.ERROR] = "error", A),
                $ = (Object.defineProperty(K.prototype, "logLevel", {
                    get: function() {
                        return this._logLevel
                    },
                    set: function(t) {
                        if (!(t in P)) throw new TypeError('Invalid value "' + t + '" assigned to `logLevel`');
                        this._logLevel = t
                    },
                    enumerable: !1,
                    configurable: !0
                }), K.prototype.setLogLevel = function(t) {
                    this._logLevel = "string" == typeof t ? V[t] : t
                }, Object.defineProperty(K.prototype, "logHandler", {
                    get: function() {
                        return this._logHandler
                    },
                    set: function(t) {
                        if ("function" != typeof t) throw new TypeError("Value assigned to `logHandler` must be a function");
                        this._logHandler = t
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(K.prototype, "userLogHandler", {
                    get: function() {
                        return this._userLogHandler
                    },
                    set: function(t) {
                        this._userLogHandler = t
                    },
                    enumerable: !1,
                    configurable: !0
                }), K.prototype.debug = function() {
                    for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                    this._userLogHandler && this._userLogHandler.apply(this, q([this, P.DEBUG], t)), this._logHandler.apply(this, q([this, P.DEBUG], t))
                }, K.prototype.log = function() {
                    for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                    this._userLogHandler && this._userLogHandler.apply(this, q([this, P.VERBOSE], t)), this._logHandler.apply(this, q([this, P.VERBOSE], t))
                }, K.prototype.info = function() {
                    for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                    this._userLogHandler && this._userLogHandler.apply(this, q([this, P.INFO], t)), this._logHandler.apply(this, q([this, P.INFO], t))
                }, K.prototype.warn = function() {
                    for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                    this._userLogHandler && this._userLogHandler.apply(this, q([this, P.WARN], t)), this._logHandler.apply(this, q([this, P.WARN], t))
                }, K.prototype.error = function() {
                    for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                    this._userLogHandler && this._userLogHandler.apply(this, q([this, P.ERROR], t)), this._logHandler.apply(this, q([this, P.ERROR], t))
                }, K);

            function K(t) {
                this.name = t, this._logLevel = B, this._logHandler = W, this._userLogHandler = null
            }
            var G = (Y.prototype.setInstantiationMode = function(t) {
                return this.instantiationMode = t, this
            }, Y.prototype.setMultipleInstances = function(t) {
                return this.multipleInstances = t, this
            }, Y.prototype.setServiceProps = function(t) {
                return this.serviceProps = t, this
            }, Y);

            function Y(t, e, n) {
                this.name = t, this.instanceFactory = e, this.type = n, this.multipleInstances = !1, this.serviceProps = {}, this.instantiationMode = "LAZY"
            }
            var Q = (X.prototype.set = function(t, e) {
                null == e ? this.domStorage_.removeItem(this.prefixedName_(t)) : this.domStorage_.setItem(this.prefixedName_(t), C(e))
            }, X.prototype.get = function(t) {
                var e = this.domStorage_.getItem(this.prefixedName_(t));
                return null == e ? null : T(e)
            }, X.prototype.remove = function(t) {
                this.domStorage_.removeItem(this.prefixedName_(t))
            }, X.prototype.prefixedName_ = function(t) {
                return this.prefix_ + t
            }, X.prototype.toString = function() {
                return this.domStorage_.toString()
            }, X);

            function X(t) {
                this.domStorage_ = t, this.prefix_ = "firebase:"
            }
            var J = (Z.prototype.set = function(t, e) {
                null == e ? delete this.cache_[t] : this.cache_[t] = e
            }, Z.prototype.get = function(t) {
                return S(this.cache_, t) ? this.cache_[t] : null
            }, Z.prototype.remove = function(t) {
                delete this.cache_[t]
            }, Z);

            function Z() {
                this.cache_ = {}, this.isInMemoryStorage = !0
            }

            function tt(t) {
                try {
                    if ("undefined" != typeof window && void 0 !== window[t]) {
                        var e = window[t];
                        return e.setItem("firebase:sentinel", "cache"), e.removeItem("firebase:sentinel"), new Q(e)
                    }
                } catch (t) {}
                return new J
            }

            function et(t) {
                var e = function(t) {
                        for (var e = [], n = 0, i = 0; i < t.length; i++) {
                            var r = t.charCodeAt(i);
                            if (55296 <= r && r <= 56319) {
                                var o = r - 55296;
                                c(++i < t.length, "Surrogate pair missing trail surrogate."), r = 65536 + (o << 10) + (t.charCodeAt(i) - 56320)
                            }
                            r < 128 ? e[n++] = r : (r < 2048 ? e[n++] = r >> 6 | 192 : (r < 65536 ? e[n++] = r >> 12 | 224 : (e[n++] = r >> 18 | 240, e[n++] = r >> 12 & 63 | 128), e[n++] = r >> 6 & 63 | 128), e[n++] = 63 & r | 128)
                        }
                        return e
                    }(t),
                    n = new R;
                n.update(e);
                var i = n.digest();
                return p.encodeByteArray(i)
            }

            function nt(t, e) {
                c(!e || !0 === t || !1 === t, "Can't turn on custom loggers persistently."), !0 === t ? (gt.logLevel = P.VERBOSE, yt = gt.log.bind(gt), e && ft.set("logging_enabled", !0)) : "function" == typeof t ? yt = t : (yt = null, ft.remove("logging_enabled"))
            }

            function it() {
                for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                if (!0 === _t && (_t = !1, null === yt && !0 === ft.get("logging_enabled") && nt(!0)), yt) {
                    var n = mt.apply(null, t);
                    yt(n)
                }
            }

            function rt(t) {
                return function() {
                    for (var e = [], n = 0; n < arguments.length; n++) e[n] = arguments[n];
                    it.apply(void 0, s([t], e))
                }
            }

            function ot() {
                for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                var n = "FIREBASE INTERNAL ERROR: " + mt.apply(void 0, s(t));
                gt.error(n)
            }

            function st() {
                for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                var n = "FIREBASE FATAL ERROR: " + mt.apply(void 0, s(t));
                throw gt.error(n), new Error(n)
            }

            function at() {
                for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                var n = "FIREBASE WARNING: " + mt.apply(void 0, s(t));
                gt.warn(n)
            }

            function ut(t) {
                return "number" == typeof t && (t != t || t === Number.POSITIVE_INFINITY || t === Number.NEGATIVE_INFINITY)
            }

            function lt(t, e) {
                return t === e ? 0 : t < e ? -1 : 1
            }

            function ht(t, e) {
                if (e && t in e) return e[t];
                throw new Error("Missing required key (" + t + ") in object: " + C(e))
            }

            function ct(t, e) {
                var n = t.length;
                if (n <= e) return [t];
                for (var i = [], r = 0; r < n; r += e) n < r + e ? i.push(t.substring(r, n)) : i.push(t.substring(r, r + e));
                return i
            }
            var dt, pt = tt("localStorage"),
                ft = tt("sessionStorage"),
                gt = new $("@firebase/database"),
                vt = (dt = 1, function() {
                    return dt++
                }),
                mt = function() {
                    for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                    for (var n = "", i = 0; i < t.length; i++) {
                        var r = t[i];
                        Array.isArray(r) || r && "object" == typeof r && "number" == typeof r.length ? n += mt.apply(null, r) : n += "object" == typeof r ? C(r) : r, n += " "
                    }
                    return n
                },
                yt = null,
                _t = !0,
                bt = "[MIN_NAME]",
                wt = "[MAX_NAME]",
                Et = function(t, e) {
                    if (t === e) return 0;
                    if (t === bt || e === wt) return -1;
                    if (e === bt || t === wt) return 1;
                    var n = Dt(t),
                        i = Dt(e);
                    return null !== n ? null !== i ? n - i == 0 ? t.length - e.length : n - i : -1 : null === i && t < e ? -1 : 1
                },
                It = function(t) {
                    if ("object" != typeof t || null === t) return C(t);
                    var e = [];
                    for (var n in t) e.push(n);
                    e.sort();
                    for (var i = "{", r = 0; r < e.length; r++) 0 !== r && (i += ","), i += C(e[r]), i += ":", i += It(t[e[r]]);
                    return i + "}"
                };

            function Tt(t, e) {
                for (var n in t) t.hasOwnProperty(n) && e(n, t[n])
            }

            function Ct(t) {
                var e, n, i, r, o;
                c(!ut(t), "Invalid JSON number"), 0 === t ? e = 1 / t == -1 / (i = n = 0) ? 1 : 0 : (e = t < 0, i = (t = Math.abs(t)) >= Math.pow(2, -1022) ? (n = (r = Math.min(Math.floor(Math.log(t) / Math.LN2), 1023)) + 1023, Math.round(t * Math.pow(2, 52 - r) - Math.pow(2, 52))) : (n = 0, Math.round(t / Math.pow(2, -1074))));
                var s = [];
                for (o = 52; o; --o) s.push(i % 2 ? 1 : 0), i = Math.floor(i / 2);
                for (o = 11; o; --o) s.push(n % 2 ? 1 : 0), n = Math.floor(n / 2);
                s.push(e ? 1 : 0), s.reverse();
                var a = s.join(""),
                    u = "";
                for (o = 0; o < 64; o += 8) {
                    var l = parseInt(a.substr(o, 8), 2).toString(16);
                    1 === l.length && (l = "0" + l), u += l
                }
                return u.toLowerCase()
            }

            function kt(t) {
                try {
                    t()
                } catch (t) {
                    setTimeout((function() {
                        throw at("Exception was thrown by user callback.", t.stack || ""), t
                    }), Math.floor(0))
                }
            }

            function St(t, e) {
                var n = setTimeout(t, e);
                return "object" == typeof n && n.unref && n.unref(), n
            }
            var xt = new RegExp("^-?(0*)\\d{1,10}$"),
                Dt = function(t) {
                    if (xt.test(t)) {
                        var e = Number(t);
                        if (-2147483648 <= e && e <= 2147483647) return e
                    }
                    return null
                },
                Nt = (Object.defineProperty(At, "Empty", {
                    get: function() {
                        return new At("")
                    },
                    enumerable: !1,
                    configurable: !0
                }), At.prototype.getFront = function() {
                    return this.pieceNum_ >= this.pieces_.length ? null : this.pieces_[this.pieceNum_]
                }, At.prototype.getLength = function() {
                    return this.pieces_.length - this.pieceNum_
                }, At.prototype.popFront = function() {
                    var t = this.pieceNum_;
                    return t < this.pieces_.length && t++, new At(this.pieces_, t)
                }, At.prototype.getBack = function() {
                    return this.pieceNum_ < this.pieces_.length ? this.pieces_[this.pieces_.length - 1] : null
                }, At.prototype.toString = function() {
                    for (var t = "", e = this.pieceNum_; e < this.pieces_.length; e++) "" !== this.pieces_[e] && (t += "/" + this.pieces_[e]);
                    return t || "/"
                }, At.prototype.toUrlEncodedString = function() {
                    for (var t = "", e = this.pieceNum_; e < this.pieces_.length; e++) "" !== this.pieces_[e] && (t += "/" + encodeURIComponent(String(this.pieces_[e])));
                    return t || "/"
                }, At.prototype.slice = function(t) {
                    return void 0 === t && (t = 0), this.pieces_.slice(this.pieceNum_ + t)
                }, At.prototype.parent = function() {
                    if (this.pieceNum_ >= this.pieces_.length) return null;
                    for (var t = [], e = this.pieceNum_; e < this.pieces_.length - 1; e++) t.push(this.pieces_[e]);
                    return new At(t, 0)
                }, At.prototype.child = function(t) {
                    for (var e = [], n = this.pieceNum_; n < this.pieces_.length; n++) e.push(this.pieces_[n]);
                    if (t instanceof At)
                        for (n = t.pieceNum_; n < t.pieces_.length; n++) e.push(t.pieces_[n]);
                    else {
                        var i = t.split("/");
                        for (n = 0; n < i.length; n++) 0 < i[n].length && e.push(i[n])
                    }
                    return new At(e, 0)
                }, At.prototype.isEmpty = function() {
                    return this.pieceNum_ >= this.pieces_.length
                }, At.relativePath = function(t, e) {
                    var n = t.getFront(),
                        i = e.getFront();
                    if (null === n) return e;
                    if (n === i) return At.relativePath(t.popFront(), e.popFront());
                    throw new Error("INTERNAL ERROR: innerPath (" + e + ") is not within outerPath (" + t + ")")
                }, At.comparePaths = function(t, e) {
                    for (var n = t.slice(), i = e.slice(), r = 0; r < n.length && r < i.length; r++) {
                        var o = Et(n[r], i[r]);
                        if (0 !== o) return o
                    }
                    return n.length === i.length ? 0 : n.length < i.length ? -1 : 1
                }, At.prototype.equals = function(t) {
                    if (this.getLength() !== t.getLength()) return !1;
                    for (var e = this.pieceNum_, n = t.pieceNum_; e <= this.pieces_.length; e++, n++)
                        if (this.pieces_[e] !== t.pieces_[n]) return !1;
                    return !0
                }, At.prototype.contains = function(t) {
                    var e = this.pieceNum_,
                        n = t.pieceNum_;
                    if (this.getLength() > t.getLength()) return !1;
                    for (; e < this.pieces_.length;) {
                        if (this.pieces_[e] !== t.pieces_[n]) return !1;
                        ++e, ++n
                    }
                    return !0
                }, At);

            function At(t, e) {
                if (void 0 === e) {
                    this.pieces_ = t.split("/");
                    for (var n = 0, i = 0; i < this.pieces_.length; i++) 0 < this.pieces_[i].length && (this.pieces_[n] = this.pieces_[i], n++);
                    this.pieces_.length = n, this.pieceNum_ = 0
                } else this.pieces_ = t, this.pieceNum_ = e
            }
            var Pt = (Object.defineProperty(Ot, "MAX_PATH_DEPTH", {
                get: function() {
                    return 32
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(Ot, "MAX_PATH_LENGTH_BYTES", {
                get: function() {
                    return 768
                },
                enumerable: !1,
                configurable: !0
            }), Ot.prototype.push = function(t) {
                0 < this.parts_.length && (this.byteLength_ += 1), this.parts_.push(t), this.byteLength_ += H(t), this.checkValid_()
            }, Ot.prototype.pop = function() {
                var t = this.parts_.pop();
                this.byteLength_ -= H(t), 0 < this.parts_.length && --this.byteLength_
            }, Ot.prototype.checkValid_ = function() {
                if (this.byteLength_ > Ot.MAX_PATH_LENGTH_BYTES) throw new Error(this.errorPrefix_ + "has a key path longer than " + Ot.MAX_PATH_LENGTH_BYTES + " bytes (" + this.byteLength_ + ").");
                if (this.parts_.length > Ot.MAX_PATH_DEPTH) throw new Error(this.errorPrefix_ + "path specified exceeds the maximum depth that can be written (" + Ot.MAX_PATH_DEPTH + ") or object contains a cycle " + this.toErrorString())
            }, Ot.prototype.toErrorString = function() {
                return 0 === this.parts_.length ? "" : "in property '" + this.parts_.join(".") + "'"
            }, Ot);

            function Ot(t, e) {
                this.errorPrefix_ = e, this.parts_ = t.slice(), this.byteLength_ = Math.max(1, this.parts_.length);
                for (var n = 0; n < this.parts_.length; n++) this.byteLength_ += H(this.parts_[n]);
                this.checkValid_()
            }
            var Rt = "firebaseio.com",
                Lt = "websocket",
                Mt = "long_polling",
                Ft = (Ut.prototype.needsQueryParam = function() {
                    return this.host !== this.internalHost || this.isCustomHost() || this.includeNamespaceInQueryParams
                }, Ut.prototype.isCacheableHost = function() {
                    return "s-" === this.internalHost.substr(0, 2)
                }, Ut.prototype.isDemoHost = function() {
                    return "firebaseio-demo.com" === this.domain
                }, Ut.prototype.isCustomHost = function() {
                    return "firebaseio.com" !== this.domain && "firebaseio-demo.com" !== this.domain
                }, Ut.prototype.updateHost = function(t) {
                    t !== this.internalHost && (this.internalHost = t, this.isCacheableHost() && pt.set("host:" + this.host, this.internalHost))
                }, Ut.prototype.connectionURL = function(t, e) {
                    var n;
                    if (c("string" == typeof t, "typeof type must == string"), c("object" == typeof e, "typeof params must == object"), t === Lt) n = (this.secure ? "wss://" : "ws://") + this.internalHost + "/.ws?";
                    else {
                        if (t !== Mt) throw new Error("Unknown connection type: " + t);
                        n = (this.secure ? "https://" : "http://") + this.internalHost + "/.lp?"
                    }
                    this.needsQueryParam() && (e.ns = this.namespace);
                    var i = [];
                    return Tt(e, (function(t, e) {
                        i.push(t + "=" + e)
                    })), n + i.join("&")
                }, Ut.prototype.toString = function() {
                    var t = this.toURLString();
                    return this.persistenceKey && (t += "<" + this.persistenceKey + ">"), t
                }, Ut.prototype.toURLString = function() {
                    return (this.secure ? "https://" : "http://") + this.host
                }, Ut);

            function Ut(t, e, n, i, r, o) {
                void 0 === r && (r = ""), void 0 === o && (o = !1), this.secure = e, this.namespace = n, this.webSocketOnly = i, this.persistenceKey = r, this.includeNamespaceInQueryParams = o, this.host = t.toLowerCase(), this.domain = this.host.substr(this.host.indexOf(".") + 1), this.internalHost = pt.get("host:" + t) || this.host
            }

            function jt(t) {
                var e = Xt(t),
                    n = e.namespace;
                "firebase.com" === e.domain && st(e.host + " is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"), n && "undefined" !== n || "localhost" === e.domain || st("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"), e.secure || "undefined" != typeof window && window.location && window.location.protocol && -1 !== window.location.protocol.indexOf("https:") && at("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");
                var i = "ws" === e.scheme || "wss" === e.scheme;
                return {
                    repoInfo: new Ft(e.host, e.secure, n, i, "", n !== e.subdomain),
                    path: new Nt(e.pathString)
                }
            }

            function Ht(t) {
                return "string" == typeof t && 0 !== t.length && !Jt.test(t)
            }

            function qt(t) {
                return "string" == typeof t && 0 !== t.length && !Zt.test(t)
            }

            function Wt(t) {
                return null === t || "string" == typeof t || "number" == typeof t && !ut(t) || t && "object" == typeof t && S(t, ".sv")
            }

            function Vt(t, e, n, i, r) {
                r && void 0 === n || ee(F(t, e, r), n, i)
            }

            function Bt(t, e, n, i, r) {
                if (!r || void 0 !== n) {
                    var o = F(t, e, r);
                    if (!n || "object" != typeof n || Array.isArray(n)) throw new Error(o + " must be an object containing the children to replace.");
                    var s = [];
                    Tt(n, (function(t, e) {
                            var n = new Nt(t);
                            if (ee(o, e, i.child(n)), ".priority" === n.getBack() && !Wt(e)) throw new Error(o + "contains an invalid value for '" + n.toString() + "', which must be a valid Firebase priority (a string, finite number, server value, or null).");
                            s.push(n)
                        })),
                        function(t, e) {
                            var n, i;
                            for (n = 0; n < e.length; n++)
                                for (var r = (i = e[n]).slice(), o = 0; o < r.length; o++)
                                    if ((".priority" !== r[o] || o !== r.length - 1) && !Ht(r[o])) throw new Error(t + "contains an invalid key (" + r[o] + ") in path " + i.toString() + '. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');
                            e.sort(Nt.comparePaths);
                            var s = null;
                            for (n = 0; n < e.length; n++) {
                                if (i = e[n], null !== s && s.contains(i)) throw new Error(t + "contains a path " + s.toString() + " that is ancestor of another path " + i.toString());
                                s = i
                            }
                        }(o, s)
                }
            }

            function zt(t, e, n, i) {
                if (!i || void 0 !== n) {
                    if (ut(n)) throw new Error(F(t, e, i) + "is " + n.toString() + ", but must be a valid Firebase priority (a string, finite number, server value, or null).");
                    if (!Wt(n)) throw new Error(F(t, e, i) + "must be a valid Firebase priority (a string, finite number, server value, or null).")
                }
            }

            function $t(t, e, n, i) {
                if (!i || void 0 !== n) switch (n) {
                    case "value":
                    case "child_added":
                    case "child_removed":
                    case "child_changed":
                    case "child_moved":
                        break;
                    default:
                        throw new Error(F(t, e, i) + 'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')
                }
            }

            function Kt(t, e, n, i) {
                if (!(i && void 0 === n || Ht(n))) throw new Error(F(t, e, i) + 'was an invalid key = "' + n + '".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')
            }

            function Gt(t, e, n, i) {
                if (!(i && void 0 === n || qt(n))) throw new Error(F(t, e, i) + 'was an invalid path = "' + n + '". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')
            }

            function Yt(t, e) {
                if (".info" === e.getFront()) throw new Error(t + " failed = Can't modify data under /.info/")
            }

            function Qt(t, e, n) {
                var i, r = n.path.toString();
                if ("string" != typeof n.repoInfo.host || 0 === n.repoInfo.host.length || !Ht(n.repoInfo.namespace) && "localhost" !== n.repoInfo.host.split(":")[0] || 0 !== r.length && !qt(i = (i = r) && i.replace(/^\/*\.info(\/|$)/, "/"))) throw new Error(F(t, e, !1) + 'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')
            }
            var Xt = function(t) {
                    var e = "",
                        n = "",
                        i = "",
                        o = "",
                        s = "",
                        a = !0,
                        u = "https",
                        l = 443;
                    if ("string" == typeof t) {
                        var h = t.indexOf("//");
                        0 <= h && (u = t.substring(0, h - 1), t = t.substring(h + 2));
                        var c = t.indexOf("/"); - 1 === c && (c = t.length);
                        var d = t.indexOf("?"); - 1 === d && (d = t.length), e = t.substring(0, Math.min(c, d)), c < d && (o = function(t) {
                            for (var e = "", n = t.split("/"), i = 0; i < n.length; i++)
                                if (0 < n[i].length) {
                                    var r = n[i];
                                    try {
                                        r = decodeURIComponent(r.replace(/\+/g, " "))
                                    } catch (t) {}
                                    e += "/" + r
                                } return e
                        }(t.substring(c, d)));
                        var p = function(t) {
                            var e, n, i = {};
                            "?" === t.charAt(0) && (t = t.substring(1));
                            try {
                                for (var o = r(t.split("&")), s = o.next(); !s.done; s = o.next()) {
                                    var a = s.value;
                                    if (0 !== a.length) {
                                        var u = a.split("=");
                                        2 === u.length ? i[decodeURIComponent(u[0])] = decodeURIComponent(u[1]) : at("Invalid query segment '" + a + "' in query '" + t + "'")
                                    }
                                }
                            } catch (t) {
                                e = {
                                    error: t
                                }
                            } finally {
                                try {
                                    s && !s.done && (n = o.return) && n.call(o)
                                } finally {
                                    if (e) throw e.error
                                }
                            }
                            return i
                        }(t.substring(Math.min(t.length, d)));
                        0 <= (h = e.indexOf(":")) ? (a = "https" === u || "wss" === u, l = parseInt(e.substring(h + 1), 10)) : h = e.length;
                        var f = e.slice(0, h);
                        if ("localhost" === f.toLowerCase()) n = "localhost";
                        else if (f.split(".").length <= 2) n = f;
                        else {
                            var g = e.indexOf(".");
                            i = e.substring(0, g).toLowerCase(), n = e.substring(g + 1), s = i
                        }
                        "ns" in p && (s = p.ns)
                    }
                    return {
                        host: e,
                        port: l,
                        domain: n,
                        subdomain: i,
                        secure: a,
                        scheme: u,
                        pathString: o,
                        namespace: s
                    }
                },
                Jt = /[\[\].#$\/\u0000-\u001F\u007F]/,
                Zt = /[\[\].#$\u0000-\u001F\u007F]/,
                te = 10485760,
                ee = function(t, e, n) {
                    var i = n instanceof Nt ? new Pt(n, t) : n;
                    if (void 0 === e) throw new Error(t + "contains undefined " + i.toErrorString());
                    if ("function" == typeof e) throw new Error(t + "contains a function " + i.toErrorString() + " with contents = " + e.toString());
                    if (ut(e)) throw new Error(t + "contains " + e.toString() + " " + i.toErrorString());
                    if ("string" == typeof e && e.length > te / 3 && H(e) > te) throw new Error(t + "contains a string greater than " + te + " utf8 bytes " + i.toErrorString() + " ('" + e.substring(0, 50) + "...')");
                    if (e && "object" == typeof e) {
                        var r = !1,
                            o = !1;
                        if (Tt(e, (function(e, n) {
                                if (".value" === e) r = !0;
                                else if (".priority" !== e && ".sv" !== e && (o = !0, !Ht(e))) throw new Error(t + " contains an invalid key (" + e + ") " + i.toErrorString() + '.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');
                                i.push(e), ee(t, n, i), i.pop()
                            })), r && o) throw new Error(t + ' contains ".value" child ' + i.toErrorString() + " in addition to actual children.")
                    }
                },
                ne = (ie.prototype.cancel = function(t) {
                    M("OnDisconnect.cancel", 0, 1, arguments.length), U("OnDisconnect.cancel", 1, t, !0);
                    var e = new f;
                    return this.repo_.onDisconnectCancel(this.path_, e.wrapCallback(t)), e.promise
                }, ie.prototype.remove = function(t) {
                    M("OnDisconnect.remove", 0, 1, arguments.length), Yt("OnDisconnect.remove", this.path_), U("OnDisconnect.remove", 1, t, !0);
                    var e = new f;
                    return this.repo_.onDisconnectSet(this.path_, null, e.wrapCallback(t)), e.promise
                }, ie.prototype.set = function(t, e) {
                    M("OnDisconnect.set", 1, 2, arguments.length), Yt("OnDisconnect.set", this.path_), Vt("OnDisconnect.set", 1, t, this.path_, !1), U("OnDisconnect.set", 2, e, !0);
                    var n = new f;
                    return this.repo_.onDisconnectSet(this.path_, t, n.wrapCallback(e)), n.promise
                }, ie.prototype.setWithPriority = function(t, e, n) {
                    M("OnDisconnect.setWithPriority", 2, 3, arguments.length), Yt("OnDisconnect.setWithPriority", this.path_), Vt("OnDisconnect.setWithPriority", 1, t, this.path_, !1), zt("OnDisconnect.setWithPriority", 2, e, !1), U("OnDisconnect.setWithPriority", 3, n, !0);
                    var i = new f;
                    return this.repo_.onDisconnectSetWithPriority(this.path_, t, e, i.wrapCallback(n)), i.promise
                }, ie.prototype.update = function(t, e) {
                    if (M("OnDisconnect.update", 1, 2, arguments.length), Yt("OnDisconnect.update", this.path_), Array.isArray(t)) {
                        for (var n = {}, i = 0; i < t.length; ++i) n["" + i] = t[i];
                        t = n, at("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")
                    }
                    Bt("OnDisconnect.update", 1, t, this.path_, !1), U("OnDisconnect.update", 2, e, !0);
                    var r = new f;
                    return this.repo_.onDisconnectUpdate(this.path_, t, r.wrapCallback(e)), r.promise
                }, ie);

            function ie(t, e) {
                this.repo_ = t, this.path_ = e
            }
            var re = (oe.prototype.toJSON = function() {
                return M("TransactionResult.toJSON", 0, 1, arguments.length), {
                    committed: this.committed,
                    snapshot: this.snapshot.toJSON()
                }
            }, oe);

            function oe(t, e) {
                this.committed = t, this.snapshot = e
            }
            var se, ae, ue, le = (se = "-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz", ae = 0, ue = [], function(t) {
                    var e, n = t === ae;
                    ae = t;
                    var i = new Array(8);
                    for (e = 7; 0 <= e; e--) i[e] = se.charAt(t % 64), t = Math.floor(t / 64);
                    c(0 === t, "Cannot push at time == 0");
                    var r = i.join("");
                    if (n) {
                        for (e = 11; 0 <= e && 63 === ue[e]; e--) ue[e] = 0;
                        ue[e]++
                    } else
                        for (e = 0; e < 12; e++) ue[e] = Math.floor(64 * Math.random());
                    for (e = 0; e < 12; e++) r += se.charAt(ue[e]);
                    return c(20 === r.length, "nextPushId: Length should be 20."), r
                }),
                he = (ce.Wrap = function(t, e) {
                    return new ce(t, e)
                }, ce);

            function ce(t, e) {
                this.name = t, this.node = e
            }
            var de, pe = (fe.prototype.getCompare = function() {
                return this.compare.bind(this)
            }, fe.prototype.indexedValueChanged = function(t, e) {
                var n = new he(bt, t),
                    i = new he(bt, e);
                return 0 !== this.compare(n, i)
            }, fe.prototype.minPost = function() {
                return he.MIN
            }, fe);

            function fe() {}
            var ge, ve = (n(me, ge = pe), Object.defineProperty(me, "__EMPTY_NODE", {
                get: function() {
                    return de
                },
                set: function(t) {
                    de = t
                },
                enumerable: !1,
                configurable: !0
            }), me.prototype.compare = function(t, e) {
                return Et(t.name, e.name)
            }, me.prototype.isDefinedOn = function(t) {
                throw d("KeyIndex.isDefinedOn not expected to be called.")
            }, me.prototype.indexedValueChanged = function(t, e) {
                return !1
            }, me.prototype.minPost = function() {
                return he.MIN
            }, me.prototype.maxPost = function() {
                return new he(wt, de)
            }, me.prototype.makePost = function(t, e) {
                return c("string" == typeof t, "KeyIndex indexValue must always be a string."), new he(t, de)
            }, me.prototype.toString = function() {
                return ".key"
            }, me);

            function me() {
                return null !== ge && ge.apply(this, arguments) || this
            }
            var ye, _e = new ve;

            function be(t) {
                return "number" == typeof t ? "number:" + Ct(t) : "string:" + t
            }

            function we(t) {
                if (t.isLeafNode()) {
                    var e = t.val();
                    c("string" == typeof e || "number" == typeof e || "object" == typeof e && S(e, ".sv"), "Priority must be a string or number.")
                } else c(t === ye || t.isEmpty(), "priority of unexpected type.");
                c(t === ye || t.getPriority().isEmpty(), "Priority nodes can't have a priority of their own.")
            }
            var Ee, Ie, Te, Ce, ke = (Object.defineProperty(Se, "__childrenNodeConstructor", {
                get: function() {
                    return Ee
                },
                set: function(t) {
                    Ee = t
                },
                enumerable: !1,
                configurable: !0
            }), Se.prototype.isLeafNode = function() {
                return !0
            }, Se.prototype.getPriority = function() {
                return this.priorityNode_
            }, Se.prototype.updatePriority = function(t) {
                return new Se(this.value_, t)
            }, Se.prototype.getImmediateChild = function(t) {
                return ".priority" === t ? this.priorityNode_ : Se.__childrenNodeConstructor.EMPTY_NODE
            }, Se.prototype.getChild = function(t) {
                return t.isEmpty() ? this : ".priority" === t.getFront() ? this.priorityNode_ : Se.__childrenNodeConstructor.EMPTY_NODE
            }, Se.prototype.hasChild = function() {
                return !1
            }, Se.prototype.getPredecessorChildName = function(t, e) {
                return null
            }, Se.prototype.updateImmediateChild = function(t, e) {
                return ".priority" === t ? this.updatePriority(e) : e.isEmpty() && ".priority" !== t ? this : Se.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t, e).updatePriority(this.priorityNode_)
            }, Se.prototype.updateChild = function(t, e) {
                var n = t.getFront();
                return null === n ? e : e.isEmpty() && ".priority" !== n ? this : (c(".priority" !== n || 1 === t.getLength(), ".priority must be the last token in a path"), this.updateImmediateChild(n, Se.__childrenNodeConstructor.EMPTY_NODE.updateChild(t.popFront(), e)))
            }, Se.prototype.isEmpty = function() {
                return !1
            }, Se.prototype.numChildren = function() {
                return 0
            }, Se.prototype.forEachChild = function(t, e) {
                return !1
            }, Se.prototype.val = function(t) {
                return t && !this.getPriority().isEmpty() ? {
                    ".value": this.getValue(),
                    ".priority": this.getPriority().val()
                } : this.getValue()
            }, Se.prototype.hash = function() {
                if (null === this.lazyHash_) {
                    var t = "";
                    this.priorityNode_.isEmpty() || (t += "priority:" + be(this.priorityNode_.val()) + ":");
                    var e = typeof this.value_;
                    t += e + ":", t += "number" == e ? Ct(this.value_) : this.value_, this.lazyHash_ = et(t)
                }
                return this.lazyHash_
            }, Se.prototype.getValue = function() {
                return this.value_
            }, Se.prototype.compareTo = function(t) {
                return t === Se.__childrenNodeConstructor.EMPTY_NODE ? 1 : t instanceof Se.__childrenNodeConstructor ? -1 : (c(t.isLeafNode(), "Unknown node type"), this.compareToLeafNode_(t))
            }, Se.prototype.compareToLeafNode_ = function(t) {
                var e = typeof t.value_,
                    n = typeof this.value_,
                    i = Se.VALUE_TYPE_ORDER.indexOf(e),
                    r = Se.VALUE_TYPE_ORDER.indexOf(n);
                return c(0 <= i, "Unknown leaf type: " + e), c(0 <= r, "Unknown leaf type: " + n), i === r ? "object" == n ? 0 : this.value_ < t.value_ ? -1 : this.value_ === t.value_ ? 0 : 1 : r - i
            }, Se.prototype.withIndex = function() {
                return this
            }, Se.prototype.isIndexed = function() {
                return !0
            }, Se.prototype.equals = function(t) {
                return t === this || !!t.isLeafNode() && this.value_ === t.value_ && this.priorityNode_.equals(t.priorityNode_)
            }, Se.VALUE_TYPE_ORDER = ["object", "boolean", "number", "string"], Se);

            function Se(t, e) {
                void 0 === e && (e = Se.__childrenNodeConstructor.EMPTY_NODE), this.value_ = t, this.priorityNode_ = e, this.lazyHash_ = null, c(void 0 !== this.value_ && null !== this.value_, "LeafNode shouldn't be created with null/undefined value."), we(this.priorityNode_)
            }

            function xe() {
                return null !== Ce && Ce.apply(this, arguments) || this
            }
            var De = new(n(xe, Ce = pe), xe.prototype.compare = function(t, e) {
                    var n = t.node.getPriority(),
                        i = e.node.getPriority(),
                        r = n.compareTo(i);
                    return 0 === r ? Et(t.name, e.name) : r
                }, xe.prototype.isDefinedOn = function(t) {
                    return !t.getPriority().isEmpty()
                }, xe.prototype.indexedValueChanged = function(t, e) {
                    return !t.getPriority().equals(e.getPriority())
                }, xe.prototype.minPost = function() {
                    return he.MIN
                }, xe.prototype.maxPost = function() {
                    return new he(wt, new ke("[PRIORITY-POST]", Te))
                }, xe.prototype.makePost = function(t, e) {
                    var n = Ie(t);
                    return new he(e, new ke("[PRIORITY-POST]", n))
                }, xe.prototype.toString = function() {
                    return ".priority"
                }, xe),
                Ne = (Ae.prototype.getNext = function() {
                    if (0 === this.nodeStack_.length) return null;
                    var t, e = this.nodeStack_.pop();
                    if (t = this.resultGenerator_ ? this.resultGenerator_(e.key, e.value) : {
                            key: e.key,
                            value: e.value
                        }, this.isReverse_)
                        for (e = e.left; !e.isEmpty();) this.nodeStack_.push(e), e = e.right;
                    else
                        for (e = e.right; !e.isEmpty();) this.nodeStack_.push(e), e = e.left;
                    return t
                }, Ae.prototype.hasNext = function() {
                    return 0 < this.nodeStack_.length
                }, Ae.prototype.peek = function() {
                    if (0 === this.nodeStack_.length) return null;
                    var t = this.nodeStack_[this.nodeStack_.length - 1];
                    return this.resultGenerator_ ? this.resultGenerator_(t.key, t.value) : {
                        key: t.key,
                        value: t.value
                    }
                }, Ae);

            function Ae(t, e, n, i, r) {
                void 0 === r && (r = null), this.isReverse_ = i, this.resultGenerator_ = r, this.nodeStack_ = [];
                for (var o = 1; !t.isEmpty();)
                    if (t = t, o = e ? n(t.key, e) : 1, i && (o *= -1), o < 0) t = this.isReverse_ ? t.left : t.right;
                    else {
                        if (0 === o) {
                            this.nodeStack_.push(t);
                            break
                        }
                        this.nodeStack_.push(t), t = this.isReverse_ ? t.right : t.left
                    }
            }
            var Pe = (Oe.prototype.copy = function(t, e, n, i, r) {
                return new Oe(null != t ? t : this.key, null != e ? e : this.value, null != n ? n : this.color, null != i ? i : this.left, null != r ? r : this.right)
            }, Oe.prototype.count = function() {
                return this.left.count() + 1 + this.right.count()
            }, Oe.prototype.isEmpty = function() {
                return !1
            }, Oe.prototype.inorderTraversal = function(t) {
                return this.left.inorderTraversal(t) || !!t(this.key, this.value) || this.right.inorderTraversal(t)
            }, Oe.prototype.reverseTraversal = function(t) {
                return this.right.reverseTraversal(t) || t(this.key, this.value) || this.left.reverseTraversal(t)
            }, Oe.prototype.min_ = function() {
                return this.left.isEmpty() ? this : this.left.min_()
            }, Oe.prototype.minKey = function() {
                return this.min_().key
            }, Oe.prototype.maxKey = function() {
                return this.right.isEmpty() ? this.key : this.right.maxKey()
            }, Oe.prototype.insert = function(t, e, n) {
                var i = this,
                    r = n(t, i.key);
                return (i = r < 0 ? i.copy(null, null, null, i.left.insert(t, e, n), null) : 0 === r ? i.copy(null, e, null, null, null) : i.copy(null, null, null, null, i.right.insert(t, e, n))).fixUp_()
            }, Oe.prototype.removeMin_ = function() {
                if (this.left.isEmpty()) return Me.EMPTY_NODE;
                var t = this;
                return t.left.isRed_() || t.left.left.isRed_() || (t = t.moveRedLeft_()), (t = t.copy(null, null, null, t.left.removeMin_(), null)).fixUp_()
            }, Oe.prototype.remove = function(t, e) {
                var n, i;
                if (e(t, (n = this).key) < 0) n.left.isEmpty() || n.left.isRed_() || n.left.left.isRed_() || (n = n.moveRedLeft_()), n = n.copy(null, null, null, n.left.remove(t, e), null);
                else {
                    if (n.left.isRed_() && (n = n.rotateRight_()), n.right.isEmpty() || n.right.isRed_() || n.right.left.isRed_() || (n = n.moveRedRight_()), 0 === e(t, n.key)) {
                        if (n.right.isEmpty()) return Me.EMPTY_NODE;
                        i = n.right.min_(), n = n.copy(i.key, i.value, null, null, n.right.removeMin_())
                    }
                    n = n.copy(null, null, null, null, n.right.remove(t, e))
                }
                return n.fixUp_()
            }, Oe.prototype.isRed_ = function() {
                return this.color
            }, Oe.prototype.fixUp_ = function() {
                var t = this;
                return t.right.isRed_() && !t.left.isRed_() && (t = t.rotateLeft_()), t.left.isRed_() && t.left.left.isRed_() && (t = t.rotateRight_()), t.left.isRed_() && t.right.isRed_() && (t = t.colorFlip_()), t
            }, Oe.prototype.moveRedLeft_ = function() {
                var t = this.colorFlip_();
                return t.right.left.isRed_() && (t = (t = (t = t.copy(null, null, null, null, t.right.rotateRight_())).rotateLeft_()).colorFlip_()), t
            }, Oe.prototype.moveRedRight_ = function() {
                var t = this.colorFlip_();
                return t.left.left.isRed_() && (t = (t = t.rotateRight_()).colorFlip_()), t
            }, Oe.prototype.rotateLeft_ = function() {
                var t = this.copy(null, null, Oe.RED, null, this.right.left);
                return this.right.copy(null, null, this.color, t, null)
            }, Oe.prototype.rotateRight_ = function() {
                var t = this.copy(null, null, Oe.RED, this.left.right, null);
                return this.left.copy(null, null, this.color, null, t)
            }, Oe.prototype.colorFlip_ = function() {
                var t = this.left.copy(null, null, !this.left.color, null, null),
                    e = this.right.copy(null, null, !this.right.color, null, null);
                return this.copy(null, null, !this.color, t, e)
            }, Oe.prototype.checkMaxDepth_ = function() {
                var t = this.check_();
                return Math.pow(2, t) <= this.count() + 1
            }, Oe.prototype.check_ = function() {
                if (this.isRed_() && this.left.isRed_()) throw new Error("Red node has red child(" + this.key + "," + this.value + ")");
                if (this.right.isRed_()) throw new Error("Right child of (" + this.key + "," + this.value + ") is red");
                var t = this.left.check_();
                if (t !== this.right.check_()) throw new Error("Black depths differ");
                return t + (this.isRed_() ? 0 : 1)
            }, Oe.RED = !0, Oe.BLACK = !1, Oe);

            function Oe(t, e, n, i, r) {
                this.key = t, this.value = e, this.color = null != n ? n : Oe.RED, this.left = null != i ? i : Me.EMPTY_NODE, this.right = null != r ? r : Me.EMPTY_NODE
            }
            var Re = (Le.prototype.copy = function(t, e, n, i, r) {
                return this
            }, Le.prototype.insert = function(t, e, n) {
                return new Pe(t, e, null)
            }, Le.prototype.remove = function(t, e) {
                return this
            }, Le.prototype.count = function() {
                return 0
            }, Le.prototype.isEmpty = function() {
                return !0
            }, Le.prototype.inorderTraversal = function(t) {
                return !1
            }, Le.prototype.reverseTraversal = function(t) {
                return !1
            }, Le.prototype.minKey = function() {
                return null
            }, Le.prototype.maxKey = function() {
                return null
            }, Le.prototype.check_ = function() {
                return 0
            }, Le.prototype.isRed_ = function() {
                return !1
            }, Le);

            function Le() {}
            var Me = (Fe.prototype.insert = function(t, e) {
                return new Fe(this.comparator_, this.root_.insert(t, e, this.comparator_).copy(null, null, Pe.BLACK, null, null))
            }, Fe.prototype.remove = function(t) {
                return new Fe(this.comparator_, this.root_.remove(t, this.comparator_).copy(null, null, Pe.BLACK, null, null))
            }, Fe.prototype.get = function(t) {
                for (var e, n = this.root_; !n.isEmpty();) {
                    if (0 === (e = this.comparator_(t, n.key))) return n.value;
                    e < 0 ? n = n.left : 0 < e && (n = n.right)
                }
                return null
            }, Fe.prototype.getPredecessorKey = function(t) {
                for (var e, n = this.root_, i = null; !n.isEmpty();) {
                    if (0 === (e = this.comparator_(t, n.key))) {
                        if (n.left.isEmpty()) return i ? i.key : null;
                        for (n = n.left; !n.right.isEmpty();) n = n.right;
                        return n.key
                    }
                    e < 0 ? n = n.left : 0 < e && (n = (i = n).right)
                }
                throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")
            }, Fe.prototype.isEmpty = function() {
                return this.root_.isEmpty()
            }, Fe.prototype.count = function() {
                return this.root_.count()
            }, Fe.prototype.minKey = function() {
                return this.root_.minKey()
            }, Fe.prototype.maxKey = function() {
                return this.root_.maxKey()
            }, Fe.prototype.inorderTraversal = function(t) {
                return this.root_.inorderTraversal(t)
            }, Fe.prototype.reverseTraversal = function(t) {
                return this.root_.reverseTraversal(t)
            }, Fe.prototype.getIterator = function(t) {
                return new Ne(this.root_, null, this.comparator_, !1, t)
            }, Fe.prototype.getIteratorFrom = function(t, e) {
                return new Ne(this.root_, t, this.comparator_, !1, e)
            }, Fe.prototype.getReverseIteratorFrom = function(t, e) {
                return new Ne(this.root_, t, this.comparator_, !0, e)
            }, Fe.prototype.getReverseIterator = function(t) {
                return new Ne(this.root_, null, this.comparator_, !0, t)
            }, Fe.EMPTY_NODE = new Re, Fe);

            function Fe(t, e) {
                void 0 === e && (e = Fe.EMPTY_NODE), this.comparator_ = t, this.root_ = e
            }
            var Ue = Math.log(2),
                je = (He.prototype.nextBitIsOne = function() {
                    var t = !(this.bits_ & 1 << this.current_);
                    return this.current_--, t
                }, He);

            function He(t) {
                var e;
                this.count = (e = t + 1, parseInt(Math.log(e) / Ue, 10)), this.current_ = this.count - 1;
                var n, i = (n = this.count, parseInt(Array(n + 1).join("1"), 2));
                this.bits_ = t + 1 & i
            }
            var qe, We, Ve = function(t, e, n, i) {
                    t.sort(e);
                    var r = function(e, i) {
                            var o, s, a = i - e;
                            if (0 == a) return null;
                            if (1 == a) return o = t[e], s = n ? n(o) : o, new Pe(s, o.node, Pe.BLACK, null, null);
                            var u = parseInt(a / 2, 10) + e,
                                l = r(e, u),
                                h = r(u + 1, i);
                            return o = t[u], s = n ? n(o) : o, new Pe(s, o.node, Pe.BLACK, l, h)
                        },
                        o = function(e) {
                            for (var i = null, o = null, s = t.length, a = function(e, i) {
                                    var o = s - e,
                                        a = s;
                                    s -= e;
                                    var l = r(1 + o, a),
                                        h = t[o],
                                        c = n ? n(h) : h;
                                    u(new Pe(c, h.node, i, null, l))
                                }, u = function(t) {
                                    i = i ? i.left = t : o = t
                                }, l = 0; l < e.count; ++l) {
                                var h = e.nextBitIsOne(),
                                    c = Math.pow(2, e.count - (l + 1));
                                h ? a(c, Pe.BLACK) : (a(c, Pe.BLACK), a(c, Pe.RED))
                            }
                            return o
                        }(new je(t.length));
                    return new Me(i || e, o)
                },
                Be = {},
                ze = (Object.defineProperty($e, "Default", {
                    get: function() {
                        return c(De, "ChildrenNode.ts has not been loaded"), qe = qe || new $e({
                            ".priority": Be
                        }, {
                            ".priority": De
                        })
                    },
                    enumerable: !1,
                    configurable: !0
                }), $e.prototype.get = function(t) {
                    var e = x(this.indexes_, t);
                    if (!e) throw new Error("No index defined for " + t);
                    return e instanceof Me ? e : null
                }, $e.prototype.hasIndex = function(t) {
                    return S(this.indexSet_, t.toString())
                }, $e.prototype.addIndex = function(t, e) {
                    c(t !== _e, "KeyIndex always exists and isn't meant to be added to the IndexMap.");
                    for (var n, r = [], o = !1, s = e.getIterator(he.Wrap), a = s.getNext(); a;) o = o || t.isDefinedOn(a.node), r.push(a), a = s.getNext();
                    n = o ? Ve(r, t.getCompare()) : Be;
                    var u = t.toString(),
                        l = i({}, this.indexSet_);
                    l[u] = t;
                    var h = i({}, this.indexes_);
                    return h[u] = n, new $e(h, l)
                }, $e.prototype.addToIndexes = function(t, e) {
                    var n = this;
                    return new $e(N(this.indexes_, (function(i, r) {
                        var o = x(n.indexSet_, r);
                        if (c(o, "Missing index implementation for " + r), i === Be) {
                            if (o.isDefinedOn(t.node)) {
                                for (var s = [], a = e.getIterator(he.Wrap), u = a.getNext(); u;) u.name !== t.name && s.push(u), u = a.getNext();
                                return s.push(t), Ve(s, o.getCompare())
                            }
                            return Be
                        }
                        var l = e.get(t.name),
                            h = i;
                        return l && (h = h.remove(new he(t.name, l))), h.insert(t, t.node)
                    })), this.indexSet_)
                }, $e.prototype.removeFromIndexes = function(t, e) {
                    return new $e(N(this.indexes_, (function(n) {
                        if (n === Be) return n;
                        var i = e.get(t.name);
                        return i ? n.remove(new he(t.name, i)) : n
                    })), this.indexSet_)
                }, $e);

            function $e(t, e) {
                this.indexes_ = t, this.indexSet_ = e
            }

            function Ke(t, e) {
                return Et(t.name, e.name)
            }

            function Ge(t, e) {
                return Et(t, e)
            }
            var Ye, Qe = (Object.defineProperty(Xe, "EMPTY_NODE", {
                get: function() {
                    return We = We || new Xe(new Me(Ge), null, ze.Default)
                },
                enumerable: !1,
                configurable: !0
            }), Xe.prototype.isLeafNode = function() {
                return !1
            }, Xe.prototype.getPriority = function() {
                return this.priorityNode_ || We
            }, Xe.prototype.updatePriority = function(t) {
                return this.children_.isEmpty() ? this : new Xe(this.children_, t, this.indexMap_)
            }, Xe.prototype.getImmediateChild = function(t) {
                if (".priority" === t) return this.getPriority();
                var e = this.children_.get(t);
                return null === e ? We : e
            }, Xe.prototype.getChild = function(t) {
                var e = t.getFront();
                return null === e ? this : this.getImmediateChild(e).getChild(t.popFront())
            }, Xe.prototype.hasChild = function(t) {
                return null !== this.children_.get(t)
            }, Xe.prototype.updateImmediateChild = function(t, e) {
                if (c(e, "We should always be passing snapshot nodes"), ".priority" === t) return this.updatePriority(e);
                var n, i = new he(t, e),
                    r = void 0;
                n = e.isEmpty() ? (r = this.children_.remove(t), this.indexMap_.removeFromIndexes(i, this.children_)) : (r = this.children_.insert(t, e), this.indexMap_.addToIndexes(i, this.children_));
                var o = r.isEmpty() ? We : this.priorityNode_;
                return new Xe(r, o, n)
            }, Xe.prototype.updateChild = function(t, e) {
                var n = t.getFront();
                if (null === n) return e;
                c(".priority" !== t.getFront() || 1 === t.getLength(), ".priority must be the last token in a path");
                var i = this.getImmediateChild(n).updateChild(t.popFront(), e);
                return this.updateImmediateChild(n, i)
            }, Xe.prototype.isEmpty = function() {
                return this.children_.isEmpty()
            }, Xe.prototype.numChildren = function() {
                return this.children_.count()
            }, Xe.prototype.val = function(t) {
                if (this.isEmpty()) return null;
                var e = {},
                    n = 0,
                    i = 0,
                    r = !0;
                if (this.forEachChild(De, (function(o, s) {
                        e[o] = s.val(t), n++, r && Xe.INTEGER_REGEXP_.test(o) ? i = Math.max(i, Number(o)) : r = !1
                    })), !t && r && i < 2 * n) {
                    var o = [];
                    for (var s in e) o[s] = e[s];
                    return o
                }
                return t && !this.getPriority().isEmpty() && (e[".priority"] = this.getPriority().val()), e
            }, Xe.prototype.hash = function() {
                if (null === this.lazyHash_) {
                    var t = "";
                    this.getPriority().isEmpty() || (t += "priority:" + be(this.getPriority().val()) + ":"), this.forEachChild(De, (function(e, n) {
                        var i = n.hash();
                        "" !== i && (t += ":" + e + ":" + i)
                    })), this.lazyHash_ = "" === t ? "" : et(t)
                }
                return this.lazyHash_
            }, Xe.prototype.getPredecessorChildName = function(t, e, n) {
                var i = this.resolveIndex_(n);
                if (i) {
                    var r = i.getPredecessorKey(new he(t, e));
                    return r ? r.name : null
                }
                return this.children_.getPredecessorKey(t)
            }, Xe.prototype.getFirstChildName = function(t) {
                var e = this.resolveIndex_(t);
                if (e) {
                    var n = e.minKey();
                    return n && n.name
                }
                return this.children_.minKey()
            }, Xe.prototype.getFirstChild = function(t) {
                var e = this.getFirstChildName(t);
                return e ? new he(e, this.children_.get(e)) : null
            }, Xe.prototype.getLastChildName = function(t) {
                var e = this.resolveIndex_(t);
                if (e) {
                    var n = e.maxKey();
                    return n && n.name
                }
                return this.children_.maxKey()
            }, Xe.prototype.getLastChild = function(t) {
                var e = this.getLastChildName(t);
                return e ? new he(e, this.children_.get(e)) : null
            }, Xe.prototype.forEachChild = function(t, e) {
                var n = this.resolveIndex_(t);
                return n ? n.inorderTraversal((function(t) {
                    return e(t.name, t.node)
                })) : this.children_.inorderTraversal(e)
            }, Xe.prototype.getIterator = function(t) {
                return this.getIteratorFrom(t.minPost(), t)
            }, Xe.prototype.getIteratorFrom = function(t, e) {
                var n = this.resolveIndex_(e);
                if (n) return n.getIteratorFrom(t, (function(t) {
                    return t
                }));
                for (var i = this.children_.getIteratorFrom(t.name, he.Wrap), r = i.peek(); null != r && e.compare(r, t) < 0;) i.getNext(), r = i.peek();
                return i
            }, Xe.prototype.getReverseIterator = function(t) {
                return this.getReverseIteratorFrom(t.maxPost(), t)
            }, Xe.prototype.getReverseIteratorFrom = function(t, e) {
                var n = this.resolveIndex_(e);
                if (n) return n.getReverseIteratorFrom(t, (function(t) {
                    return t
                }));
                for (var i = this.children_.getReverseIteratorFrom(t.name, he.Wrap), r = i.peek(); null != r && 0 < e.compare(r, t);) i.getNext(), r = i.peek();
                return i
            }, Xe.prototype.compareTo = function(t) {
                return this.isEmpty() ? t.isEmpty() ? 0 : -1 : t.isLeafNode() || t.isEmpty() ? 1 : t === Ze ? -1 : 0
            }, Xe.prototype.withIndex = function(t) {
                if (t === _e || this.indexMap_.hasIndex(t)) return this;
                var e = this.indexMap_.addIndex(t, this.children_);
                return new Xe(this.children_, this.priorityNode_, e)
            }, Xe.prototype.isIndexed = function(t) {
                return t === _e || this.indexMap_.hasIndex(t)
            }, Xe.prototype.equals = function(t) {
                if (t === this) return !0;
                if (t.isLeafNode()) return !1;
                var e = t;
                if (this.getPriority().equals(e.getPriority())) {
                    if (this.children_.count() !== e.children_.count()) return !1;
                    for (var n = this.getIterator(De), i = e.getIterator(De), r = n.getNext(), o = i.getNext(); r && o;) {
                        if (r.name !== o.name || !r.node.equals(o.node)) return !1;
                        r = n.getNext(), o = i.getNext()
                    }
                    return null === r && null === o
                }
                return !1
            }, Xe.prototype.resolveIndex_ = function(t) {
                return t === _e ? null : this.indexMap_.get(t.toString())
            }, Xe.INTEGER_REGEXP_ = /^(0|[1-9]\d*)$/, Xe);

            function Xe(t, e, n) {
                this.children_ = t, this.priorityNode_ = e, this.indexMap_ = n, this.lazyHash_ = null, this.priorityNode_ && we(this.priorityNode_), this.children_.isEmpty() && c(!this.priorityNode_ || this.priorityNode_.isEmpty(), "An empty node cannot have a priority")
            }

            function Je() {
                return Ye.call(this, new Me(Ge), Qe.EMPTY_NODE, ze.Default) || this
            }
            var Ze = new(n(Je, Ye = Qe), Je.prototype.compareTo = function(t) {
                return t === this ? 0 : 1
            }, Je.prototype.equals = function(t) {
                return t === this
            }, Je.prototype.getPriority = function() {
                return this
            }, Je.prototype.getImmediateChild = function(t) {
                return Qe.EMPTY_NODE
            }, Je.prototype.isEmpty = function() {
                return !1
            }, Je);
            Object.defineProperties(he, {
                MIN: {
                    value: new he(bt, Qe.EMPTY_NODE)
                },
                MAX: {
                    value: new he(wt, Ze)
                }
            }), ve.__EMPTY_NODE = Qe.EMPTY_NODE, ke.__childrenNodeConstructor = Qe, ye = Ze, Te = Ze;
            var tn;

            function en(t, e) {
                if (void 0 === e && (e = null), null === t) return Qe.EMPTY_NODE;
                if ("object" == typeof t && ".priority" in t && (e = t[".priority"]), c(null === e || "string" == typeof e || "number" == typeof e || "object" == typeof e && ".sv" in e, "Invalid priority type found: " + typeof e), "object" == typeof t && ".value" in t && null !== t[".value"] && (t = t[".value"]), "object" != typeof t || ".sv" in t) return new ke(t, en(e));
                if (t instanceof Array) {
                    var n = Qe.EMPTY_NODE;
                    return Tt(t, (function(e, i) {
                        if (S(t, e) && "." !== e.substring(0, 1)) {
                            var r = en(i);
                            !r.isLeafNode() && r.isEmpty() || (n = n.updateImmediateChild(e, r))
                        }
                    })), n.updatePriority(en(e))
                }
                var i = [],
                    r = !1;
                if (Tt(t, (function(t, e) {
                        if ("." !== t.substring(0, 1)) {
                            var n = en(e);
                            n.isEmpty() || (r = r || !n.getPriority().isEmpty(), i.push(new he(t, n)))
                        }
                    })), 0 === i.length) return Qe.EMPTY_NODE;
                var o = Ve(i, Ke, (function(t) {
                    return t.name
                }), Ge);
                if (r) {
                    var s = Ve(i, De.getCompare());
                    return new Qe(o, en(e), new ze({
                        ".priority": s
                    }, {
                        ".priority": De
                    }))
                }
                return new Qe(o, en(e), ze.Default)
            }

            function nn() {
                return null !== tn && tn.apply(this, arguments) || this
            }
            Ie = en;
            var rn, on = new(n(nn, tn = pe), nn.prototype.compare = function(t, e) {
                    var n = t.node.compareTo(e.node);
                    return 0 === n ? Et(t.name, e.name) : n
                }, nn.prototype.isDefinedOn = function(t) {
                    return !0
                }, nn.prototype.indexedValueChanged = function(t, e) {
                    return !t.equals(e)
                }, nn.prototype.minPost = function() {
                    return he.MIN
                }, nn.prototype.maxPost = function() {
                    return he.MAX
                }, nn.prototype.makePost = function(t, e) {
                    var n = en(t);
                    return new he(e, n)
                }, nn.prototype.toString = function() {
                    return ".value"
                }, nn),
                sn = (n(an, rn = pe), an.prototype.extractChild = function(t) {
                    return t.getChild(this.indexPath_)
                }, an.prototype.isDefinedOn = function(t) {
                    return !t.getChild(this.indexPath_).isEmpty()
                }, an.prototype.compare = function(t, e) {
                    var n = this.extractChild(t.node),
                        i = this.extractChild(e.node),
                        r = n.compareTo(i);
                    return 0 === r ? Et(t.name, e.name) : r
                }, an.prototype.makePost = function(t, e) {
                    var n = en(t),
                        i = Qe.EMPTY_NODE.updateChild(this.indexPath_, n);
                    return new he(e, i)
                }, an.prototype.maxPost = function() {
                    var t = Qe.EMPTY_NODE.updateChild(this.indexPath_, Ze);
                    return new he(wt, t)
                }, an.prototype.toString = function() {
                    return this.indexPath_.slice().join("/")
                }, an);

            function an(t) {
                var e = rn.call(this) || this;
                return e.indexPath_ = t, c(!t.isEmpty() && ".priority" !== t.getFront(), "Can't create PathIndex with empty path or .priority key"), e
            }
            var un = (ln.prototype.val = function() {
                return M("DataSnapshot.val", 0, 0, arguments.length), this.node_.val()
            }, ln.prototype.exportVal = function() {
                return M("DataSnapshot.exportVal", 0, 0, arguments.length), this.node_.val(!0)
            }, ln.prototype.toJSON = function() {
                return M("DataSnapshot.toJSON", 0, 1, arguments.length), this.exportVal()
            }, ln.prototype.exists = function() {
                return M("DataSnapshot.exists", 0, 0, arguments.length), !this.node_.isEmpty()
            }, ln.prototype.child = function(t) {
                M("DataSnapshot.child", 0, 1, arguments.length), Gt("DataSnapshot.child", 1, t = String(t), !1);
                var e = new Nt(t),
                    n = this.ref_.child(e);
                return new ln(this.node_.getChild(e), n, De)
            }, ln.prototype.hasChild = function(t) {
                M("DataSnapshot.hasChild", 1, 1, arguments.length), Gt("DataSnapshot.hasChild", 1, t, !1);
                var e = new Nt(t);
                return !this.node_.getChild(e).isEmpty()
            }, ln.prototype.getPriority = function() {
                return M("DataSnapshot.getPriority", 0, 0, arguments.length), this.node_.getPriority().val()
            }, ln.prototype.forEach = function(t) {
                var e = this;
                return M("DataSnapshot.forEach", 1, 1, arguments.length), U("DataSnapshot.forEach", 1, t, !1), !this.node_.isLeafNode() && !!this.node_.forEachChild(this.index_, (function(n, i) {
                    return t(new ln(i, e.ref_.child(n), De))
                }))
            }, ln.prototype.hasChildren = function() {
                return M("DataSnapshot.hasChildren", 0, 0, arguments.length), !this.node_.isLeafNode() && !this.node_.isEmpty()
            }, Object.defineProperty(ln.prototype, "key", {
                get: function() {
                    return this.ref_.getKey()
                },
                enumerable: !1,
                configurable: !0
            }), ln.prototype.numChildren = function() {
                return M("DataSnapshot.numChildren", 0, 0, arguments.length), this.node_.numChildren()
            }, ln.prototype.getRef = function() {
                return M("DataSnapshot.ref", 0, 0, arguments.length), this.ref_
            }, Object.defineProperty(ln.prototype, "ref", {
                get: function() {
                    return this.getRef()
                },
                enumerable: !1,
                configurable: !0
            }), ln);

            function ln(t, e, n) {
                this.node_ = t, this.ref_ = e, this.index_ = n
            }
            var hn = (cn.prototype.getPath = function() {
                var t = this.snapshot.getRef();
                return "value" === this.eventType ? t.path : t.getParent().path
            }, cn.prototype.getEventType = function() {
                return this.eventType
            }, cn.prototype.getEventRunner = function() {
                return this.eventRegistration.getEventRunner(this)
            }, cn.prototype.toString = function() {
                return this.getPath().toString() + ":" + this.eventType + ":" + C(this.snapshot.exportVal())
            }, cn);

            function cn(t, e, n, i) {
                this.eventType = t, this.eventRegistration = e, this.snapshot = n, this.prevName = i
            }
            var dn = (pn.prototype.getPath = function() {
                return this.path
            }, pn.prototype.getEventType = function() {
                return "cancel"
            }, pn.prototype.getEventRunner = function() {
                return this.eventRegistration.getEventRunner(this)
            }, pn.prototype.toString = function() {
                return this.path.toString() + ":cancel"
            }, pn);

            function pn(t, e, n) {
                this.eventRegistration = t, this.error = e, this.path = n
            }
            var fn = (gn.prototype.respondsTo = function(t) {
                return "value" === t
            }, gn.prototype.createEvent = function(t, e) {
                var n = e.getQueryParams().getIndex();
                return new hn("value", this, new un(t.snapshotNode, e.getRef(), n))
            }, gn.prototype.getEventRunner = function(t) {
                var e = this.context_;
                if ("cancel" === t.getEventType()) {
                    c(this.cancelCallback_, "Raising a cancel event on a listener with no cancel callback");
                    var n = this.cancelCallback_;
                    return function() {
                        n.call(e, t.error)
                    }
                }
                var i = this.callback_;
                return function() {
                    i.call(e, t.snapshot)
                }
            }, gn.prototype.createCancelEvent = function(t, e) {
                return this.cancelCallback_ ? new dn(this, t, e) : null
            }, gn.prototype.matches = function(t) {
                return t instanceof gn && (!t.callback_ || !this.callback_ || t.callback_ === this.callback_ && t.context_ === this.context_)
            }, gn.prototype.hasAnyCallback = function() {
                return null !== this.callback_
            }, gn);

            function gn(t, e, n) {
                this.callback_ = t, this.cancelCallback_ = e, this.context_ = n
            }
            var vn, mn = (yn.prototype.respondsTo = function(t) {
                var e = "children_added" === t ? "child_added" : t;
                return e = "children_removed" === e ? "child_removed" : e, S(this.callbacks_, e)
            }, yn.prototype.createCancelEvent = function(t, e) {
                return this.cancelCallback_ ? new dn(this, t, e) : null
            }, yn.prototype.createEvent = function(t, e) {
                c(null != t.childName, "Child events should have a childName.");
                var n = e.getRef().child(t.childName),
                    i = e.getQueryParams().getIndex();
                return new hn(t.type, this, new un(t.snapshotNode, n, i), t.prevName)
            }, yn.prototype.getEventRunner = function(t) {
                var e = this.context_;
                if ("cancel" === t.getEventType()) {
                    c(this.cancelCallback_, "Raising a cancel event on a listener with no cancel callback");
                    var n = this.cancelCallback_;
                    return function() {
                        n.call(e, t.error)
                    }
                }
                var i = this.callbacks_[t.eventType];
                return function() {
                    i.call(e, t.snapshot, t.prevName)
                }
            }, yn.prototype.matches = function(t) {
                var e = this;
                if (t instanceof yn) {
                    if (!this.callbacks_ || !t.callbacks_) return !0;
                    if (this.context_ === t.context_) {
                        var n = Object.keys(t.callbacks_),
                            i = Object.keys(this.callbacks_),
                            r = n.length;
                        if (r === i.length) {
                            if (1 !== r) return i.every((function(n) {
                                return t.callbacks_[n] === e.callbacks_[n]
                            }));
                            var o = n[0],
                                s = i[0];
                            return !(s !== o || t.callbacks_[o] && this.callbacks_[s] && t.callbacks_[o] !== this.callbacks_[s])
                        }
                    }
                }
                return !1
            }, yn.prototype.hasAnyCallback = function() {
                return null !== this.callbacks_
            }, yn);

            function yn(t, e, n) {
                this.callbacks_ = t, this.cancelCallback_ = e, this.context_ = n
            }
            var _n = (Object.defineProperty(bn, "__referenceConstructor", {
                get: function() {
                    return c(vn, "Reference.ts has not been loaded"), vn
                },
                set: function(t) {
                    vn = t
                },
                enumerable: !1,
                configurable: !0
            }), bn.validateQueryEndpoints_ = function(t) {
                var e = null,
                    n = null;
                if (t.hasStart() && (e = t.getIndexStartValue()), t.hasEnd() && (n = t.getIndexEndValue()), t.getIndex() === _e) {
                    var i = "Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",
                        r = "Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";
                    if (t.hasStart()) {
                        if (t.getIndexStartName() !== bt) throw new Error(i);
                        if ("string" != typeof e) throw new Error(r)
                    }
                    if (t.hasEnd()) {
                        if (t.getIndexEndName() !== wt) throw new Error(i);
                        if ("string" != typeof n) throw new Error(r)
                    }
                } else if (t.getIndex() === De) {
                    if (null != e && !Wt(e) || null != n && !Wt(n)) throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")
                } else if (c(t.getIndex() instanceof sn || t.getIndex() === on, "unknown index type."), null != e && "object" == typeof e || null != n && "object" == typeof n) throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")
            }, bn.validateLimit_ = function(t) {
                if (t.hasStart() && t.hasEnd() && t.hasLimit() && !t.hasAnchoredLimit()) throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")
            }, bn.prototype.validateNoPreviousOrderByCall_ = function(t) {
                if (!0 === this.orderByCalled_) throw new Error(t + ": You can't combine multiple orderBy calls.")
            }, bn.prototype.getQueryParams = function() {
                return this.queryParams_
            }, bn.prototype.getRef = function() {
                return M("Query.ref", 0, 0, arguments.length), new bn.__referenceConstructor(this.repo, this.path)
            }, bn.prototype.on = function(t, e, n, i) {
                M("Query.on", 2, 4, arguments.length), $t("Query.on", 1, t, !1), U("Query.on", 2, e, !1);
                var r = bn.getCancelAndContextArgs_("Query.on", n, i);
                if ("value" === t) this.onValueEvent(e, r.cancel, r.context);
                else {
                    var o = {};
                    o[t] = e, this.onChildEvent(o, r.cancel, r.context)
                }
                return e
            }, bn.prototype.onValueEvent = function(t, e, n) {
                var i = new fn(t, e || null, n || null);
                this.repo.addEventCallbackForQuery(this, i)
            }, bn.prototype.onChildEvent = function(t, e, n) {
                var i = new mn(t, e, n);
                this.repo.addEventCallbackForQuery(this, i)
            }, bn.prototype.off = function(t, e, n) {
                M("Query.off", 0, 3, arguments.length), $t("Query.off", 1, t, !0), U("Query.off", 2, e, !0), j("Query.off", 3, n, !0);
                var i = null,
                    r = null;
                "value" === t ? i = new fn(e || null, null, n || null) : t && (e && ((r = {})[t] = e), i = new mn(r, null, n || null)), this.repo.removeEventCallbackForQuery(this, i)
            }, bn.prototype.once = function(t, e, n, i) {
                var r = this;
                M("Query.once", 1, 4, arguments.length), $t("Query.once", 1, t, !1), U("Query.once", 2, e, !0);
                var o = bn.getCancelAndContextArgs_("Query.once", n, i),
                    s = !0,
                    a = new f;
                a.promise.catch((function() {}));
                var u = function(n) {
                    s && (s = !1, r.off(t, u), e && e.bind(o.context)(n), a.resolve(n))
                };
                return this.on(t, u, (function(e) {
                    r.off(t, u), o.cancel && o.cancel.bind(o.context)(e), a.reject(e)
                })), a.promise
            }, bn.prototype.limitToFirst = function(t) {
                if (M("Query.limitToFirst", 1, 1, arguments.length), "number" != typeof t || Math.floor(t) !== t || t <= 0) throw new Error("Query.limitToFirst: First argument must be a positive integer.");
                if (this.queryParams_.hasLimit()) throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");
                return new bn(this.repo, this.path, this.queryParams_.limitToFirst(t), this.orderByCalled_)
            }, bn.prototype.limitToLast = function(t) {
                if (M("Query.limitToLast", 1, 1, arguments.length), "number" != typeof t || Math.floor(t) !== t || t <= 0) throw new Error("Query.limitToLast: First argument must be a positive integer.");
                if (this.queryParams_.hasLimit()) throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");
                return new bn(this.repo, this.path, this.queryParams_.limitToLast(t), this.orderByCalled_)
            }, bn.prototype.orderByChild = function(t) {
                if (M("Query.orderByChild", 1, 1, arguments.length), "$key" === t) throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');
                if ("$priority" === t) throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');
                if ("$value" === t) throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');
                Gt("Query.orderByChild", 1, t, !1), this.validateNoPreviousOrderByCall_("Query.orderByChild");
                var e = new Nt(t);
                if (e.isEmpty()) throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");
                var n = new sn(e),
                    i = this.queryParams_.orderBy(n);
                return bn.validateQueryEndpoints_(i), new bn(this.repo, this.path, i, !0)
            }, bn.prototype.orderByKey = function() {
                M("Query.orderByKey", 0, 0, arguments.length), this.validateNoPreviousOrderByCall_("Query.orderByKey");
                var t = this.queryParams_.orderBy(_e);
                return bn.validateQueryEndpoints_(t), new bn(this.repo, this.path, t, !0)
            }, bn.prototype.orderByPriority = function() {
                M("Query.orderByPriority", 0, 0, arguments.length), this.validateNoPreviousOrderByCall_("Query.orderByPriority");
                var t = this.queryParams_.orderBy(De);
                return bn.validateQueryEndpoints_(t), new bn(this.repo, this.path, t, !0)
            }, bn.prototype.orderByValue = function() {
                M("Query.orderByValue", 0, 0, arguments.length), this.validateNoPreviousOrderByCall_("Query.orderByValue");
                var t = this.queryParams_.orderBy(on);
                return bn.validateQueryEndpoints_(t), new bn(this.repo, this.path, t, !0)
            }, bn.prototype.startAt = function(t, e) {
                void 0 === t && (t = null), M("Query.startAt", 0, 2, arguments.length), Vt("Query.startAt", 1, t, this.path, !0), Kt("Query.startAt", 2, e, !0);
                var n = this.queryParams_.startAt(t, e);
                if (bn.validateLimit_(n), bn.validateQueryEndpoints_(n), this.queryParams_.hasStart()) throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");
                return void 0 === t && (e = t = null), new bn(this.repo, this.path, n, this.orderByCalled_)
            }, bn.prototype.endAt = function(t, e) {
                void 0 === t && (t = null), M("Query.endAt", 0, 2, arguments.length), Vt("Query.endAt", 1, t, this.path, !0), Kt("Query.endAt", 2, e, !0);
                var n = this.queryParams_.endAt(t, e);
                if (bn.validateLimit_(n), bn.validateQueryEndpoints_(n), this.queryParams_.hasEnd()) throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");
                return new bn(this.repo, this.path, n, this.orderByCalled_)
            }, bn.prototype.equalTo = function(t, e) {
                if (M("Query.equalTo", 1, 2, arguments.length), Vt("Query.equalTo", 1, t, this.path, !1), Kt("Query.equalTo", 2, e, !0), this.queryParams_.hasStart()) throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");
                if (this.queryParams_.hasEnd()) throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");
                return this.startAt(t, e).endAt(t, e)
            }, bn.prototype.toString = function() {
                return M("Query.toString", 0, 0, arguments.length), this.repo.toString() + this.path.toUrlEncodedString()
            }, bn.prototype.toJSON = function() {
                return M("Query.toJSON", 0, 1, arguments.length), this.toString()
            }, bn.prototype.queryObject = function() {
                return this.queryParams_.getQueryObject()
            }, bn.prototype.queryIdentifier = function() {
                var t = this.queryObject(),
                    e = It(t);
                return "{}" === e ? "default" : e
            }, bn.prototype.isEqual = function(t) {
                if (M("Query.isEqual", 1, 1, arguments.length), !(t instanceof bn)) throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");
                var e = this.repo === t.repo,
                    n = this.path.equals(t.path),
                    i = this.queryIdentifier() === t.queryIdentifier();
                return e && n && i
            }, bn.getCancelAndContextArgs_ = function(t, e, n) {
                var i = {
                    cancel: null,
                    context: null
                };
                if (e && n) i.cancel = e, U(t, 3, i.cancel, !0), i.context = n, j(t, 4, i.context, !0);
                else if (e)
                    if ("object" == typeof e && null !== e) i.context = e;
                    else {
                        if ("function" != typeof e) throw new Error(F(t, 3, !0) + " must either be a cancel callback or a context object.");
                        i.cancel = e
                    } return i
            }, Object.defineProperty(bn.prototype, "ref", {
                get: function() {
                    return this.getRef()
                },
                enumerable: !1,
                configurable: !0
            }), bn);

            function bn(t, e, n, i) {
                this.repo = t, this.path = e, this.queryParams_ = n, this.orderByCalled_ = i
            }
            var wn = (En.prototype.getImmediateChild = function(t) {
                return new En(this.node_.getImmediateChild(t))
            }, En.prototype.node = function() {
                return this.node_
            }, En);

            function En(t) {
                this.node_ = t
            }
            var In = (Tn.prototype.getImmediateChild = function(t) {
                var e = this.path_.child(t);
                return new Tn(this.syncTree_, e)
            }, Tn.prototype.node = function() {
                return this.syncTree_.calcCompleteEventCache(this.path_)
            }, Tn);

            function Tn(t, e) {
                this.syncTree_ = t, this.path_ = e
            }

            function Cn(t, e, n, i) {
                return Nn(e, new In(n, t), i)
            }

            function kn(t, e, n) {
                return Nn(t, new wn(e), n)
            }
            var Sn = function(t, e, n) {
                    return t && "object" == typeof t ? (c(".sv" in t, "Unexpected leaf node or priority contents"), "string" == typeof t[".sv"] ? xn(t[".sv"], e, n) : "object" == typeof t[".sv"] ? Dn(t[".sv"], e) : void c(!1, "Unexpected server value: " + JSON.stringify(t, null, 2))) : t
                },
                xn = function(t, e, n) {
                    switch (t) {
                        case "timestamp":
                            return n.timestamp;
                        default:
                            c(!1, "Unexpected server value: " + t)
                    }
                },
                Dn = function(t, e, n) {
                    t.hasOwnProperty("increment") || c(!1, "Unexpected server value: " + JSON.stringify(t, null, 2));
                    var i = t.increment;
                    "number" != typeof i && c(!1, "Unexpected increment value: " + i);
                    var r = e.node();
                    if (c(null != r, "Expected ChildrenNode.EMPTY_NODE for nulls"), !r.isLeafNode()) return i;
                    var o = r.getValue();
                    return "number" != typeof o ? i : o + i
                };

            function Nn(t, e, n) {
                var i, r = t.getPriority().val(),
                    o = Sn(r, e.getImmediateChild(".priority"), n);
                if (t.isLeafNode()) {
                    var s = t,
                        a = Sn(s.getValue(), e, n);
                    return a !== s.getValue() || o !== s.getPriority().val() ? new ke(a, en(o)) : t
                }
                var u = t;
                return o !== (i = u).getPriority().val() && (i = i.updatePriority(new ke(o))), u.forEachChild(De, (function(t, r) {
                    var o = Nn(r, e.getImmediateChild(t), n);
                    o !== r && (i = i.updateImmediateChild(t, o))
                })), i
            }
            var An, Pn, On = (Rn.prototype.find = function(t) {
                if (null != this.value) return this.value.getChild(t);
                if (!t.isEmpty() && 0 < this.children.size) {
                    var e = t.getFront();
                    return t = t.popFront(), this.children.has(e) ? this.children.get(e).find(t) : null
                }
                return null
            }, Rn.prototype.remember = function(t, e) {
                if (t.isEmpty()) this.value = e, this.children.clear();
                else if (null !== this.value) this.value = this.value.updateChild(t, e);
                else {
                    var n = t.getFront();
                    this.children.has(n) || this.children.set(n, new Rn);
                    var i = this.children.get(n);
                    t = t.popFront(), i.remember(t, e)
                }
            }, Rn.prototype.forget = function(t) {
                if (t.isEmpty()) return this.value = null, this.children.clear(), !0;
                if (null !== this.value) {
                    if (this.value.isLeafNode()) return !1;
                    var e = this.value;
                    this.value = null;
                    var n = this;
                    return e.forEachChild(De, (function(t, e) {
                        n.remember(new Nt(t), e)
                    })), this.forget(t)
                }
                if (0 < this.children.size) {
                    var i = t.getFront();
                    return t = t.popFront(), !this.children.has(i) || this.children.get(i).forget(t) && this.children.delete(i), 0 === this.children.size
                }
                return !0
            }, Rn.prototype.forEachTree = function(t, e) {
                null !== this.value ? e(t, this.value) : this.forEachChild((function(n, i) {
                    var r = new Nt(t.toString() + "/" + n);
                    i.forEachTree(r, e)
                }))
            }, Rn.prototype.forEachChild = function(t) {
                this.children.forEach((function(e, n) {
                    t(n, e)
                }))
            }, Rn);

            function Rn() {
                this.value = null, this.children = new Map
            }(Pn = An = An || {})[Pn.OVERWRITE = 0] = "OVERWRITE", Pn[Pn.MERGE = 1] = "MERGE", Pn[Pn.ACK_USER_WRITE = 2] = "ACK_USER_WRITE", Pn[Pn.LISTEN_COMPLETE = 3] = "LISTEN_COMPLETE";
            var Ln = (Mn.User = new Mn(!0, !1, null, !1), Mn.Server = new Mn(!1, !0, null, !1), Mn.forServerTaggedQuery = function(t) {
                return new Mn(!1, !0, t, !0)
            }, Mn);

            function Mn(t, e, n, i) {
                this.fromUser = t, this.fromServer = e, this.queryId = n, this.tagged = i, c(!i || e, "Tagged queries must be from server.")
            }
            var Fn, Un = (jn.prototype.operationForChild = function(t) {
                if (this.path.isEmpty()) {
                    if (null != this.affectedTree.value) return c(this.affectedTree.children.isEmpty(), "affectedTree should not have overlapping affected paths."), this;
                    var e = this.affectedTree.subtree(new Nt(t));
                    return new jn(Nt.Empty, e, this.revert)
                }
                return c(this.path.getFront() === t, "operationForChild called for unrelated child."), new jn(this.path.popFront(), this.affectedTree, this.revert)
            }, jn);

            function jn(t, e, n) {
                this.path = t, this.affectedTree = e, this.revert = n, this.type = An.ACK_USER_WRITE, this.source = Ln.User
            }
            var Hn = (qn.fromObject = function(t) {
                var e = qn.Empty;
                return Tt(t, (function(t, n) {
                    e = e.set(new Nt(t), n)
                })), e
            }, qn.prototype.isEmpty = function() {
                return null === this.value && this.children.isEmpty()
            }, qn.prototype.findRootMostMatchingPathAndValue = function(t, e) {
                if (null != this.value && e(this.value)) return {
                    path: Nt.Empty,
                    value: this.value
                };
                if (t.isEmpty()) return null;
                var n = t.getFront(),
                    i = this.children.get(n);
                if (null === i) return null;
                var r = i.findRootMostMatchingPathAndValue(t.popFront(), e);
                return null == r ? null : {
                    path: new Nt(n).child(r.path),
                    value: r.value
                }
            }, qn.prototype.findRootMostValueAndPath = function(t) {
                return this.findRootMostMatchingPathAndValue(t, (function() {
                    return !0
                }))
            }, qn.prototype.subtree = function(t) {
                if (t.isEmpty()) return this;
                var e = t.getFront(),
                    n = this.children.get(e);
                return null !== n ? n.subtree(t.popFront()) : qn.Empty
            }, qn.prototype.set = function(t, e) {
                if (t.isEmpty()) return new qn(e, this.children);
                var n = t.getFront(),
                    i = (this.children.get(n) || qn.Empty).set(t.popFront(), e),
                    r = this.children.insert(n, i);
                return new qn(this.value, r)
            }, qn.prototype.remove = function(t) {
                if (t.isEmpty()) return this.children.isEmpty() ? qn.Empty : new qn(null, this.children);
                var e = t.getFront(),
                    n = this.children.get(e);
                if (n) {
                    var i = n.remove(t.popFront()),
                        r = void 0;
                    return r = i.isEmpty() ? this.children.remove(e) : this.children.insert(e, i), null === this.value && r.isEmpty() ? qn.Empty : new qn(this.value, r)
                }
                return this
            }, qn.prototype.get = function(t) {
                if (t.isEmpty()) return this.value;
                var e = t.getFront(),
                    n = this.children.get(e);
                return n ? n.get(t.popFront()) : null
            }, qn.prototype.setTree = function(t, e) {
                if (t.isEmpty()) return e;
                var n, i = t.getFront(),
                    r = (this.children.get(i) || qn.Empty).setTree(t.popFront(), e);
                return n = r.isEmpty() ? this.children.remove(i) : this.children.insert(i, r), new qn(this.value, n)
            }, qn.prototype.fold = function(t) {
                return this.fold_(Nt.Empty, t)
            }, qn.prototype.fold_ = function(t, e) {
                var n = {};
                return this.children.inorderTraversal((function(i, r) {
                    n[i] = r.fold_(t.child(i), e)
                })), e(t, this.value, n)
            }, qn.prototype.findOnPath = function(t, e) {
                return this.findOnPath_(t, Nt.Empty, e)
            }, qn.prototype.findOnPath_ = function(t, e, n) {
                var i = !!this.value && n(e, this.value);
                if (i) return i;
                if (t.isEmpty()) return null;
                var r = t.getFront(),
                    o = this.children.get(r);
                return o ? o.findOnPath_(t.popFront(), e.child(r), n) : null
            }, qn.prototype.foreachOnPath = function(t, e) {
                return this.foreachOnPath_(t, Nt.Empty, e)
            }, qn.prototype.foreachOnPath_ = function(t, e, n) {
                if (t.isEmpty()) return this;
                this.value && n(e, this.value);
                var i = t.getFront(),
                    r = this.children.get(i);
                return r ? r.foreachOnPath_(t.popFront(), e.child(i), n) : qn.Empty
            }, qn.prototype.foreach = function(t) {
                this.foreach_(Nt.Empty, t)
            }, qn.prototype.foreach_ = function(t, e) {
                this.children.inorderTraversal((function(n, i) {
                    i.foreach_(t.child(n), e)
                })), this.value && e(t, this.value)
            }, qn.prototype.foreachChild = function(t) {
                this.children.inorderTraversal((function(e, n) {
                    n.value && t(e, n.value)
                }))
            }, qn.Empty = new qn(null), qn);

            function qn(t, e) {
                void 0 === e && (e = Fn = Fn || new Me(lt)), this.value = t, this.children = e
            }
            var Wn = (Vn.prototype.operationForChild = function(t) {
                return this.path.isEmpty() ? new Vn(this.source, Nt.Empty) : new Vn(this.source, this.path.popFront())
            }, Vn);

            function Vn(t, e) {
                this.source = t, this.path = e, this.type = An.LISTEN_COMPLETE
            }
            var Bn = (zn.prototype.operationForChild = function(t) {
                return this.path.isEmpty() ? new zn(this.source, Nt.Empty, this.snap.getImmediateChild(t)) : new zn(this.source, this.path.popFront(), this.snap)
            }, zn);

            function zn(t, e, n) {
                this.source = t, this.path = e, this.snap = n, this.type = An.OVERWRITE
            }
            var $n = (Kn.prototype.operationForChild = function(t) {
                if (this.path.isEmpty()) {
                    var e = this.children.subtree(new Nt(t));
                    return e.isEmpty() ? null : e.value ? new Bn(this.source, Nt.Empty, e.value) : new Kn(this.source, Nt.Empty, e)
                }
                return c(this.path.getFront() === t, "Can't get a merge for a child not on the path of the operation"), new Kn(this.source, this.path.popFront(), this.children)
            }, Kn.prototype.toString = function() {
                return "Operation(" + this.path + ": " + this.source.toString() + " merge: " + this.children.toString() + ")"
            }, Kn);

            function Kn(t, e, n) {
                this.source = t, this.path = e, this.children = n, this.type = An.MERGE
            }
            var Gn = (Yn.prototype.isFullyInitialized = function() {
                return this.fullyInitialized_
            }, Yn.prototype.isFiltered = function() {
                return this.filtered_
            }, Yn.prototype.isCompleteForPath = function(t) {
                if (t.isEmpty()) return this.isFullyInitialized() && !this.filtered_;
                var e = t.getFront();
                return this.isCompleteForChild(e)
            }, Yn.prototype.isCompleteForChild = function(t) {
                return this.isFullyInitialized() && !this.filtered_ || this.node_.hasChild(t)
            }, Yn.prototype.getNode = function() {
                return this.node_
            }, Yn);

            function Yn(t, e, n) {
                this.node_ = t, this.fullyInitialized_ = e, this.filtered_ = n
            }
            var Qn = (Xn.prototype.updateEventSnap = function(t, e, n) {
                return new Xn(new Gn(t, e, n), this.serverCache_)
            }, Xn.prototype.updateServerSnap = function(t, e, n) {
                return new Xn(this.eventCache_, new Gn(t, e, n))
            }, Xn.prototype.getEventCache = function() {
                return this.eventCache_
            }, Xn.prototype.getCompleteEventSnap = function() {
                return this.eventCache_.isFullyInitialized() ? this.eventCache_.getNode() : null
            }, Xn.prototype.getServerCache = function() {
                return this.serverCache_
            }, Xn.prototype.getCompleteServerSnap = function() {
                return this.serverCache_.isFullyInitialized() ? this.serverCache_.getNode() : null
            }, Xn.Empty = new Xn(new Gn(Qe.EMPTY_NODE, !1, !1), new Gn(Qe.EMPTY_NODE, !1, !1)), Xn);

            function Xn(t, e) {
                this.eventCache_ = t, this.serverCache_ = e
            }
            var Jn = (Zn.valueChange = function(t) {
                return new Zn(Zn.VALUE, t)
            }, Zn.childAddedChange = function(t, e) {
                return new Zn(Zn.CHILD_ADDED, e, t)
            }, Zn.childRemovedChange = function(t, e) {
                return new Zn(Zn.CHILD_REMOVED, e, t)
            }, Zn.childChangedChange = function(t, e, n) {
                return new Zn(Zn.CHILD_CHANGED, e, t, n)
            }, Zn.childMovedChange = function(t, e) {
                return new Zn(Zn.CHILD_MOVED, e, t)
            }, Zn.CHILD_ADDED = "child_added", Zn.CHILD_REMOVED = "child_removed", Zn.CHILD_CHANGED = "child_changed", Zn.CHILD_MOVED = "child_moved", Zn.VALUE = "value", Zn);

            function Zn(t, e, n, i, r) {
                this.type = t, this.snapshotNode = e, this.childName = n, this.oldSnap = i, this.prevName = r
            }
            var ti = (ei.prototype.updateChild = function(t, e, n, i, r, o) {
                c(t.isIndexed(this.index_), "A node must be indexed if only a child is updated");
                var s = t.getImmediateChild(e);
                return s.getChild(i).equals(n.getChild(i)) && s.isEmpty() === n.isEmpty() ? t : (null != o && (n.isEmpty() ? t.hasChild(e) ? o.trackChildChange(Jn.childRemovedChange(e, s)) : c(t.isLeafNode(), "A child remove without an old child only makes sense on a leaf node") : s.isEmpty() ? o.trackChildChange(Jn.childAddedChange(e, n)) : o.trackChildChange(Jn.childChangedChange(e, n, s))), t.isLeafNode() && n.isEmpty() ? t : t.updateImmediateChild(e, n).withIndex(this.index_))
            }, ei.prototype.updateFullNode = function(t, e, n) {
                return null != n && (t.isLeafNode() || t.forEachChild(De, (function(t, i) {
                    e.hasChild(t) || n.trackChildChange(Jn.childRemovedChange(t, i))
                })), e.isLeafNode() || e.forEachChild(De, (function(e, i) {
                    if (t.hasChild(e)) {
                        var r = t.getImmediateChild(e);
                        r.equals(i) || n.trackChildChange(Jn.childChangedChange(e, i, r))
                    } else n.trackChildChange(Jn.childAddedChange(e, i))
                }))), e.withIndex(this.index_)
            }, ei.prototype.updatePriority = function(t, e) {
                return t.isEmpty() ? Qe.EMPTY_NODE : t.updatePriority(e)
            }, ei.prototype.filtersNodes = function() {
                return !1
            }, ei.prototype.getIndexedFilter = function() {
                return this
            }, ei.prototype.getIndex = function() {
                return this.index_
            }, ei);

            function ei(t) {
                this.index_ = t
            }
            var ni = (ii.prototype.trackChildChange = function(t) {
                var e = t.type,
                    n = t.childName;
                c(e === Jn.CHILD_ADDED || e === Jn.CHILD_CHANGED || e === Jn.CHILD_REMOVED, "Only child changes supported for tracking"), c(".priority" !== n, "Only non-priority child changes can be tracked.");
                var i = this.changeMap.get(n);
                if (i) {
                    var r = i.type;
                    if (e === Jn.CHILD_ADDED && r === Jn.CHILD_REMOVED) this.changeMap.set(n, Jn.childChangedChange(n, t.snapshotNode, i.snapshotNode));
                    else if (e === Jn.CHILD_REMOVED && r === Jn.CHILD_ADDED) this.changeMap.delete(n);
                    else if (e === Jn.CHILD_REMOVED && r === Jn.CHILD_CHANGED) this.changeMap.set(n, Jn.childRemovedChange(n, i.oldSnap));
                    else if (e === Jn.CHILD_CHANGED && r === Jn.CHILD_ADDED) this.changeMap.set(n, Jn.childAddedChange(n, t.snapshotNode));
                    else {
                        if (e !== Jn.CHILD_CHANGED || r !== Jn.CHILD_CHANGED) throw d("Illegal combination of changes: " + t + " occurred after " + i);
                        this.changeMap.set(n, Jn.childChangedChange(n, t.snapshotNode, i.oldSnap))
                    }
                } else this.changeMap.set(n, t)
            }, ii.prototype.getChanges = function() {
                return Array.from(this.changeMap.values())
            }, ii);

            function ii() {
                this.changeMap = new Map
            }

            function ri() {}
            var oi = new(ri.prototype.getCompleteChild = function(t) {
                    return null
                }, ri.prototype.getChildAfterChild = function(t, e, n) {
                    return null
                }, ri),
                si = (ai.prototype.getCompleteChild = function(t) {
                    var e = this.viewCache_.getEventCache();
                    if (e.isCompleteForChild(t)) return e.getNode().getImmediateChild(t);
                    var n = null != this.optCompleteServerCache_ ? new Gn(this.optCompleteServerCache_, !0, !1) : this.viewCache_.getServerCache();
                    return this.writes_.calcCompleteChild(t, n)
                }, ai.prototype.getChildAfterChild = function(t, e, n) {
                    var i = null != this.optCompleteServerCache_ ? this.optCompleteServerCache_ : this.viewCache_.getCompleteServerSnap(),
                        r = this.writes_.calcIndexedSlice(i, e, 1, n, t);
                    return 0 === r.length ? null : r[0]
                }, ai);

            function ai(t, e, n) {
                void 0 === n && (n = null), this.writes_ = t, this.viewCache_ = e, this.optCompleteServerCache_ = n
            }
            var ui = function(t, e) {
                    this.viewCache = t, this.changes = e
                },
                li = (hi.prototype.assertIndexed = function(t) {
                    c(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()), "Event snap not indexed"), c(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()), "Server snap not indexed")
                }, hi.prototype.applyOperation = function(t, e, n, i) {
                    var r, o, s = new ni;
                    if (e.type === An.OVERWRITE) {
                        var a = e;
                        r = a.source.fromUser ? this.applyUserOverwrite_(t, a.path, a.snap, n, i, s) : (c(a.source.fromServer, "Unknown source."), o = a.source.tagged || t.getServerCache().isFiltered() && !a.path.isEmpty(), this.applyServerOverwrite_(t, a.path, a.snap, n, i, o, s))
                    } else if (e.type === An.MERGE) {
                        var u = e;
                        r = u.source.fromUser ? this.applyUserMerge_(t, u.path, u.children, n, i, s) : (c(u.source.fromServer, "Unknown source."), o = u.source.tagged || t.getServerCache().isFiltered(), this.applyServerMerge_(t, u.path, u.children, n, i, o, s))
                    } else if (e.type === An.ACK_USER_WRITE) {
                        var l = e;
                        r = l.revert ? this.revertUserWrite_(t, l.path, n, i, s) : this.ackUserWrite_(t, l.path, l.affectedTree, n, i, s)
                    } else {
                        if (e.type !== An.LISTEN_COMPLETE) throw d("Unknown operation type: " + e.type);
                        r = this.listenComplete_(t, e.path, n, s)
                    }
                    var h = s.getChanges();
                    return hi.maybeAddValueEvent_(t, r, h), new ui(r, h)
                }, hi.maybeAddValueEvent_ = function(t, e, n) {
                    var i = e.getEventCache();
                    if (i.isFullyInitialized()) {
                        var r = i.getNode().isLeafNode() || i.getNode().isEmpty(),
                            o = t.getCompleteEventSnap();
                        (0 < n.length || !t.getEventCache().isFullyInitialized() || r && !i.getNode().equals(o) || !i.getNode().getPriority().equals(o.getPriority())) && n.push(Jn.valueChange(e.getCompleteEventSnap()))
                    }
                }, hi.prototype.generateEventCacheAfterServerEvent_ = function(t, e, n, i, r) {
                    var o = t.getEventCache();
                    if (null != n.shadowingWrite(e)) return t;
                    var s = void 0,
                        a = void 0;
                    if (e.isEmpty())
                        if (c(t.getServerCache().isFullyInitialized(), "If change path is empty, we must have complete server data"), t.getServerCache().isFiltered()) {
                            var u = t.getCompleteServerSnap(),
                                l = u instanceof Qe ? u : Qe.EMPTY_NODE,
                                h = n.calcCompleteEventChildren(l);
                            s = this.filter_.updateFullNode(t.getEventCache().getNode(), h, r)
                        } else {
                            var d = n.calcCompleteEventCache(t.getCompleteServerSnap());
                            s = this.filter_.updateFullNode(t.getEventCache().getNode(), d, r)
                        }
                    else {
                        var p = e.getFront();
                        if (".priority" === p) {
                            c(1 === e.getLength(), "Can't have a priority with additional path components");
                            var f = o.getNode();
                            a = t.getServerCache().getNode();
                            var g = n.calcEventCacheAfterServerOverwrite(e, f, a);
                            s = null != g ? this.filter_.updatePriority(f, g) : o.getNode()
                        } else {
                            var v = e.popFront(),
                                m = void 0;
                            if (o.isCompleteForChild(p)) {
                                a = t.getServerCache().getNode();
                                var y = n.calcEventCacheAfterServerOverwrite(e, o.getNode(), a);
                                m = null != y ? o.getNode().getImmediateChild(p).updateChild(v, y) : o.getNode().getImmediateChild(p)
                            } else m = n.calcCompleteChild(p, t.getServerCache());
                            s = null != m ? this.filter_.updateChild(o.getNode(), p, m, v, i, r) : o.getNode()
                        }
                    }
                    return t.updateEventSnap(s, o.isFullyInitialized() || e.isEmpty(), this.filter_.filtersNodes())
                }, hi.prototype.applyServerOverwrite_ = function(t, e, n, i, r, o, s) {
                    var a, u = t.getServerCache(),
                        l = o ? this.filter_ : this.filter_.getIndexedFilter();
                    if (e.isEmpty()) a = l.updateFullNode(u.getNode(), n, null);
                    else if (l.filtersNodes() && !u.isFiltered()) {
                        var h = u.getNode().updateChild(e, n);
                        a = l.updateFullNode(u.getNode(), h, null)
                    } else {
                        var c = e.getFront();
                        if (!u.isCompleteForPath(e) && 1 < e.getLength()) return t;
                        var d = e.popFront(),
                            p = u.getNode().getImmediateChild(c).updateChild(d, n);
                        a = ".priority" === c ? l.updatePriority(u.getNode(), p) : l.updateChild(u.getNode(), c, p, d, oi, null)
                    }
                    var f = t.updateServerSnap(a, u.isFullyInitialized() || e.isEmpty(), l.filtersNodes()),
                        g = new si(i, f, r);
                    return this.generateEventCacheAfterServerEvent_(f, e, i, g, s)
                }, hi.prototype.applyUserOverwrite_ = function(t, e, n, i, r, o) {
                    var s, a, u = t.getEventCache(),
                        l = new si(i, t, r);
                    if (e.isEmpty()) a = this.filter_.updateFullNode(t.getEventCache().getNode(), n, o), s = t.updateEventSnap(a, !0, this.filter_.filtersNodes());
                    else {
                        var h = e.getFront();
                        if (".priority" === h) a = this.filter_.updatePriority(t.getEventCache().getNode(), n), s = t.updateEventSnap(a, u.isFullyInitialized(), u.isFiltered());
                        else {
                            var c = e.popFront(),
                                d = u.getNode().getImmediateChild(h),
                                p = void 0;
                            if (c.isEmpty()) p = n;
                            else {
                                var f = l.getCompleteChild(h);
                                p = null != f ? ".priority" === c.getBack() && f.getChild(c.parent()).isEmpty() ? f : f.updateChild(c, n) : Qe.EMPTY_NODE
                            }
                            if (d.equals(p)) s = t;
                            else {
                                var g = this.filter_.updateChild(u.getNode(), h, p, c, l, o);
                                s = t.updateEventSnap(g, u.isFullyInitialized(), this.filter_.filtersNodes())
                            }
                        }
                    }
                    return s
                }, hi.cacheHasChild_ = function(t, e) {
                    return t.getEventCache().isCompleteForChild(e)
                }, hi.prototype.applyUserMerge_ = function(t, e, n, i, r, o) {
                    var s = this,
                        a = t;
                    return n.foreach((function(n, u) {
                        var l = e.child(n);
                        hi.cacheHasChild_(t, l.getFront()) && (a = s.applyUserOverwrite_(a, l, u, i, r, o))
                    })), n.foreach((function(n, u) {
                        var l = e.child(n);
                        hi.cacheHasChild_(t, l.getFront()) || (a = s.applyUserOverwrite_(a, l, u, i, r, o))
                    })), a
                }, hi.prototype.applyMerge_ = function(t, e) {
                    return e.foreach((function(e, n) {
                        t = t.updateChild(e, n)
                    })), t
                }, hi.prototype.applyServerMerge_ = function(t, e, n, i, r, o, s) {
                    var a = this;
                    if (t.getServerCache().getNode().isEmpty() && !t.getServerCache().isFullyInitialized()) return t;
                    var u, l = t;
                    u = e.isEmpty() ? n : Hn.Empty.setTree(e, n);
                    var h = t.getServerCache().getNode();
                    return u.children.inorderTraversal((function(e, n) {
                        if (h.hasChild(e)) {
                            var u = t.getServerCache().getNode().getImmediateChild(e),
                                c = a.applyMerge_(u, n);
                            l = a.applyServerOverwrite_(l, new Nt(e), c, i, r, o, s)
                        }
                    })), u.children.inorderTraversal((function(e, n) {
                        var u = !t.getServerCache().isCompleteForChild(e) && null == n.value;
                        if (!h.hasChild(e) && !u) {
                            var c = t.getServerCache().getNode().getImmediateChild(e),
                                d = a.applyMerge_(c, n);
                            l = a.applyServerOverwrite_(l, new Nt(e), d, i, r, o, s)
                        }
                    })), l
                }, hi.prototype.ackUserWrite_ = function(t, e, n, i, r, o) {
                    if (null != i.shadowingWrite(e)) return t;
                    var s = t.getServerCache().isFiltered(),
                        a = t.getServerCache();
                    if (null != n.value) {
                        if (e.isEmpty() && a.isFullyInitialized() || a.isCompleteForPath(e)) return this.applyServerOverwrite_(t, e, a.getNode().getChild(e), i, r, s, o);
                        if (e.isEmpty()) {
                            var u = Hn.Empty;
                            return a.getNode().forEachChild(_e, (function(t, e) {
                                u = u.set(new Nt(t), e)
                            })), this.applyServerMerge_(t, e, u, i, r, s, o)
                        }
                        return t
                    }
                    var l = Hn.Empty;
                    return n.foreach((function(t, n) {
                        var i = e.child(t);
                        a.isCompleteForPath(i) && (l = l.set(t, a.getNode().getChild(i)))
                    })), this.applyServerMerge_(t, e, l, i, r, s, o)
                }, hi.prototype.listenComplete_ = function(t, e, n, i) {
                    var r = t.getServerCache(),
                        o = t.updateServerSnap(r.getNode(), r.isFullyInitialized() || e.isEmpty(), r.isFiltered());
                    return this.generateEventCacheAfterServerEvent_(o, e, n, oi, i)
                }, hi.prototype.revertUserWrite_ = function(t, e, n, i, r) {
                    var o;
                    if (null != n.shadowingWrite(e)) return t;
                    var s = new si(n, t, i),
                        a = t.getEventCache().getNode(),
                        u = void 0;
                    if (e.isEmpty() || ".priority" === e.getFront()) {
                        var l = void 0;
                        if (t.getServerCache().isFullyInitialized()) l = n.calcCompleteEventCache(t.getCompleteServerSnap());
                        else {
                            var h = t.getServerCache().getNode();
                            c(h instanceof Qe, "serverChildren would be complete if leaf node"), l = n.calcCompleteEventChildren(h)
                        }
                        l = l, u = this.filter_.updateFullNode(a, l, r)
                    } else {
                        var d = e.getFront(),
                            p = n.calcCompleteChild(d, t.getServerCache());
                        null == p && t.getServerCache().isCompleteForChild(d) && (p = a.getImmediateChild(d)), (u = null != p ? this.filter_.updateChild(a, d, p, e.popFront(), s, r) : t.getEventCache().getNode().hasChild(d) ? this.filter_.updateChild(a, d, Qe.EMPTY_NODE, e.popFront(), s, r) : a).isEmpty() && t.getServerCache().isFullyInitialized() && (o = n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode() && (u = this.filter_.updateFullNode(u, o, r))
                    }
                    return o = t.getServerCache().isFullyInitialized() || null != n.shadowingWrite(Nt.Empty), t.updateEventSnap(u, o, this.filter_.filtersNodes())
                }, hi);

            function hi(t) {
                this.filter_ = t
            }
            var ci = (di.prototype.generateEventsForChanges = function(t, e, n) {
                var i = this,
                    r = [],
                    o = [];
                return t.forEach((function(t) {
                    t.type === Jn.CHILD_CHANGED && i.index_.indexedValueChanged(t.oldSnap, t.snapshotNode) && o.push(Jn.childMovedChange(t.childName, t.snapshotNode))
                })), this.generateEventsForType_(r, Jn.CHILD_REMOVED, t, n, e), this.generateEventsForType_(r, Jn.CHILD_ADDED, t, n, e), this.generateEventsForType_(r, Jn.CHILD_MOVED, o, n, e), this.generateEventsForType_(r, Jn.CHILD_CHANGED, t, n, e), this.generateEventsForType_(r, Jn.VALUE, t, n, e), r
            }, di.prototype.generateEventsForType_ = function(t, e, n, i, r) {
                var o = this,
                    s = n.filter((function(t) {
                        return t.type === e
                    }));
                s.sort(this.compareChanges_.bind(this)), s.forEach((function(e) {
                    var n = o.materializeSingleChange_(e, r);
                    i.forEach((function(i) {
                        i.respondsTo(e.type) && t.push(i.createEvent(n, o.query_))
                    }))
                }))
            }, di.prototype.materializeSingleChange_ = function(t, e) {
                return "value" === t.type || "child_removed" === t.type || (t.prevName = e.getPredecessorChildName(t.childName, t.snapshotNode, this.index_)), t
            }, di.prototype.compareChanges_ = function(t, e) {
                if (null == t.childName || null == e.childName) throw d("Should only compare child_ events.");
                var n = new he(t.childName, t.snapshotNode),
                    i = new he(e.childName, e.snapshotNode);
                return this.index_.compare(n, i)
            }, di);

            function di(t) {
                this.query_ = t, this.index_ = this.query_.getQueryParams().getIndex()
            }
            var pi, fi = (gi.prototype.getQuery = function() {
                return this.query_
            }, gi.prototype.getServerCache = function() {
                return this.viewCache_.getServerCache().getNode()
            }, gi.prototype.getCompleteServerCache = function(t) {
                var e = this.viewCache_.getCompleteServerSnap();
                return e && (this.query_.getQueryParams().loadsAllData() || !t.isEmpty() && !e.getImmediateChild(t.getFront()).isEmpty()) ? e.getChild(t) : null
            }, gi.prototype.isEmpty = function() {
                return 0 === this.eventRegistrations_.length
            }, gi.prototype.addEventRegistration = function(t) {
                this.eventRegistrations_.push(t)
            }, gi.prototype.removeEventRegistration = function(t, e) {
                var n = [];
                if (e) {
                    c(null == t, "A cancel should cancel all event registrations.");
                    var i = this.query_.path;
                    this.eventRegistrations_.forEach((function(t) {
                        e = e;
                        var r = t.createCancelEvent(e, i);
                        r && n.push(r)
                    }))
                }
                if (t) {
                    for (var r = [], o = 0; o < this.eventRegistrations_.length; ++o) {
                        var s = this.eventRegistrations_[o];
                        if (s.matches(t)) {
                            if (t.hasAnyCallback()) {
                                r = r.concat(this.eventRegistrations_.slice(o + 1));
                                break
                            }
                        } else r.push(s)
                    }
                    this.eventRegistrations_ = r
                } else this.eventRegistrations_ = [];
                return n
            }, gi.prototype.applyOperation = function(t, e, n) {
                t.type === An.MERGE && null !== t.source.queryId && (c(this.viewCache_.getCompleteServerSnap(), "We should always have a full cache before handling merges"), c(this.viewCache_.getCompleteEventSnap(), "Missing event cache, even though we have a server cache"));
                var i = this.viewCache_,
                    r = this.processor_.applyOperation(i, t, e, n);
                return this.processor_.assertIndexed(r.viewCache), c(r.viewCache.getServerCache().isFullyInitialized() || !i.getServerCache().isFullyInitialized(), "Once a server snap is complete, it should never go back"), this.viewCache_ = r.viewCache, this.generateEventsForChanges_(r.changes, r.viewCache.getEventCache().getNode(), null)
            }, gi.prototype.getInitialEvents = function(t) {
                var e = this.viewCache_.getEventCache(),
                    n = [];
                return e.getNode().isLeafNode() || e.getNode().forEachChild(De, (function(t, e) {
                    n.push(Jn.childAddedChange(t, e))
                })), e.isFullyInitialized() && n.push(Jn.valueChange(e.getNode())), this.generateEventsForChanges_(n, e.getNode(), t)
            }, gi.prototype.generateEventsForChanges_ = function(t, e, n) {
                var i = n ? [n] : this.eventRegistrations_;
                return this.eventGenerator_.generateEventsForChanges(t, e, i)
            }, gi);

            function gi(t, e) {
                this.query_ = t, this.eventRegistrations_ = [];
                var n = this.query_.getQueryParams(),
                    i = new ti(n.getIndex()),
                    r = n.getNodeFilter();
                this.processor_ = new li(r);
                var o = e.getServerCache(),
                    s = e.getEventCache(),
                    a = i.updateFullNode(Qe.EMPTY_NODE, o.getNode(), null),
                    u = r.updateFullNode(Qe.EMPTY_NODE, s.getNode(), null),
                    l = new Gn(a, o.isFullyInitialized(), i.filtersNodes()),
                    h = new Gn(u, s.isFullyInitialized(), r.filtersNodes());
                this.viewCache_ = new Qn(h, l), this.eventGenerator_ = new ci(this.query_)
            }
            var vi = (Object.defineProperty(mi, "__referenceConstructor", {
                get: function() {
                    return c(pi, "Reference.ts has not been loaded"), pi
                },
                set: function(t) {
                    c(!pi, "__referenceConstructor has already been defined"), pi = t
                },
                enumerable: !1,
                configurable: !0
            }), mi.prototype.isEmpty = function() {
                return 0 === this.views.size
            }, mi.prototype.applyOperation = function(t, e, n) {
                var i, o, s = t.source.queryId;
                if (null !== s) {
                    var a = this.views.get(s);
                    return c(null != a, "SyncTree gave us an op for an invalid query."), a.applyOperation(t, e, n)
                }
                var u = [];
                try {
                    for (var l = r(this.views.values()), h = l.next(); !h.done; h = l.next()) a = h.value, u = u.concat(a.applyOperation(t, e, n))
                } catch (t) {
                    i = {
                        error: t
                    }
                } finally {
                    try {
                        h && !h.done && (o = l.return) && o.call(l)
                    } finally {
                        if (i) throw i.error
                    }
                }
                return u
            }, mi.prototype.addEventRegistration = function(t, e, n, i, r) {
                var o = t.queryIdentifier(),
                    s = this.views.get(o);
                if (!s) {
                    var a, u = n.calcCompleteEventCache(r ? i : null);
                    a = !!u || (u = i instanceof Qe ? n.calcCompleteEventChildren(i) : Qe.EMPTY_NODE, !1);
                    var l = new Qn(new Gn(u, a, !1), new Gn(i, r, !1));
                    s = new fi(t, l), this.views.set(o, s)
                }
                return s.addEventRegistration(e), s.getInitialEvents(e)
            }, mi.prototype.removeEventRegistration = function(t, e, n) {
                var i, s, a = t.queryIdentifier(),
                    u = [],
                    l = [],
                    h = this.hasCompleteView();
                if ("default" === a) try {
                    for (var c = r(this.views.entries()), d = c.next(); !d.done; d = c.next()) {
                        var p = o(d.value, 2),
                            f = p[0],
                            g = p[1];
                        l = l.concat(g.removeEventRegistration(e, n)), g.isEmpty() && (this.views.delete(f), g.getQuery().getQueryParams().loadsAllData() || u.push(g.getQuery()))
                    }
                } catch (t) {
                    i = {
                        error: t
                    }
                } finally {
                    try {
                        d && !d.done && (s = c.return) && s.call(c)
                    } finally {
                        if (i) throw i.error
                    }
                } else(g = this.views.get(a)) && (l = l.concat(g.removeEventRegistration(e, n)), g.isEmpty() && (this.views.delete(a), g.getQuery().getQueryParams().loadsAllData() || u.push(g.getQuery())));
                return h && !this.hasCompleteView() && u.push(new mi.__referenceConstructor(t.repo, t.path)), {
                    removed: u,
                    events: l
                }
            }, mi.prototype.getQueryViews = function() {
                var t, e, n = [];
                try {
                    for (var i = r(this.views.values()), o = i.next(); !o.done; o = i.next()) {
                        var s = o.value;
                        s.getQuery().getQueryParams().loadsAllData() || n.push(s)
                    }
                } catch (e) {
                    t = {
                        error: e
                    }
                } finally {
                    try {
                        o && !o.done && (e = i.return) && e.call(i)
                    } finally {
                        if (t) throw t.error
                    }
                }
                return n
            }, mi.prototype.getCompleteServerCache = function(t) {
                var e, n, i = null;
                try {
                    for (var o = r(this.views.values()), s = o.next(); !s.done; s = o.next()) {
                        var a = s.value;
                        i = i || a.getCompleteServerCache(t)
                    }
                } catch (t) {
                    e = {
                        error: t
                    }
                } finally {
                    try {
                        s && !s.done && (n = o.return) && n.call(o)
                    } finally {
                        if (e) throw e.error
                    }
                }
                return i
            }, mi.prototype.viewForQuery = function(t) {
                if (t.getQueryParams().loadsAllData()) return this.getCompleteView();
                var e = t.queryIdentifier();
                return this.views.get(e)
            }, mi.prototype.viewExistsForQuery = function(t) {
                return null != this.viewForQuery(t)
            }, mi.prototype.hasCompleteView = function() {
                return null != this.getCompleteView()
            }, mi.prototype.getCompleteView = function() {
                var t, e;
                try {
                    for (var n = r(this.views.values()), i = n.next(); !i.done; i = n.next()) {
                        var o = i.value;
                        if (o.getQuery().getQueryParams().loadsAllData()) return o
                    }
                } catch (e) {
                    t = {
                        error: e
                    }
                } finally {
                    try {
                        i && !i.done && (e = n.return) && e.call(n)
                    } finally {
                        if (t) throw t.error
                    }
                }
                return null
            }, mi);

            function mi() {
                this.views = new Map
            }
            var yi = (_i.prototype.addWrite = function(t, e) {
                if (t.isEmpty()) return new _i(new Hn(e));
                var n = this.writeTree_.findRootMostValueAndPath(t);
                if (null != n) {
                    var i = n.path,
                        r = n.value,
                        o = Nt.relativePath(i, t);
                    return r = r.updateChild(o, e), new _i(this.writeTree_.set(i, r))
                }
                var s = new Hn(e);
                return new _i(this.writeTree_.setTree(t, s))
            }, _i.prototype.addWrites = function(t, e) {
                var n = this;
                return Tt(e, (function(e, i) {
                    n = n.addWrite(t.child(e), i)
                })), n
            }, _i.prototype.removeWrite = function(t) {
                return t.isEmpty() ? _i.Empty : new _i(this.writeTree_.setTree(t, Hn.Empty))
            }, _i.prototype.hasCompleteWrite = function(t) {
                return null != this.getCompleteNode(t)
            }, _i.prototype.getCompleteNode = function(t) {
                var e = this.writeTree_.findRootMostValueAndPath(t);
                return null != e ? this.writeTree_.get(e.path).getChild(Nt.relativePath(e.path, t)) : null
            }, _i.prototype.getCompleteChildren = function() {
                var t = [],
                    e = this.writeTree_.value;
                return null != e ? e.isLeafNode() || e.forEachChild(De, (function(e, n) {
                    t.push(new he(e, n))
                })) : this.writeTree_.children.inorderTraversal((function(e, n) {
                    null != n.value && t.push(new he(e, n.value))
                })), t
            }, _i.prototype.childCompoundWrite = function(t) {
                if (t.isEmpty()) return this;
                var e = this.getCompleteNode(t);
                return new _i(null != e ? new Hn(e) : this.writeTree_.subtree(t))
            }, _i.prototype.isEmpty = function() {
                return this.writeTree_.isEmpty()
            }, _i.prototype.apply = function(t) {
                return function t(e, n, i) {
                    if (null != n.value) return i.updateChild(e, n.value);
                    var r = null;
                    return n.children.inorderTraversal((function(n, o) {
                        ".priority" === n ? (c(null !== o.value, "Priority writes must always be leaf nodes"), r = o.value) : i = t(e.child(n), o, i)
                    })), i.getChild(e).isEmpty() || null === r || (i = i.updateChild(e.child(".priority"), r)), i
                }(Nt.Empty, this.writeTree_, t)
            }, _i.Empty = new _i(new Hn(null)), _i);

            function _i(t) {
                this.writeTree_ = t
            }
            var bi = (wi.prototype.childWrites = function(t) {
                return new Ei(t, this)
            }, wi.prototype.addOverwrite = function(t, e, n, i) {
                c(n > this.lastWriteId_, "Stacking an older write on top of newer ones"), void 0 === i && (i = !0), this.allWrites_.push({
                    path: t,
                    snap: e,
                    writeId: n,
                    visible: i
                }), i && (this.visibleWrites_ = this.visibleWrites_.addWrite(t, e)), this.lastWriteId_ = n
            }, wi.prototype.addMerge = function(t, e, n) {
                c(n > this.lastWriteId_, "Stacking an older merge on top of newer ones"), this.allWrites_.push({
                    path: t,
                    children: e,
                    writeId: n,
                    visible: !0
                }), this.visibleWrites_ = this.visibleWrites_.addWrites(t, e), this.lastWriteId_ = n
            }, wi.prototype.getWrite = function(t) {
                for (var e = 0; e < this.allWrites_.length; e++) {
                    var n = this.allWrites_[e];
                    if (n.writeId === t) return n
                }
                return null
            }, wi.prototype.removeWrite = function(t) {
                var e = this,
                    n = this.allWrites_.findIndex((function(e) {
                        return e.writeId === t
                    }));
                c(0 <= n, "removeWrite called with nonexistent writeId.");
                var i = this.allWrites_[n];
                this.allWrites_.splice(n, 1);
                for (var r = i.visible, o = !1, s = this.allWrites_.length - 1; r && 0 <= s;) {
                    var a = this.allWrites_[s];
                    a.visible && (n <= s && this.recordContainsPath_(a, i.path) ? r = !1 : i.path.contains(a.path) && (o = !0)), s--
                }
                return !!r && (o ? this.resetTree_() : i.snap ? this.visibleWrites_ = this.visibleWrites_.removeWrite(i.path) : Tt(i.children, (function(t) {
                    e.visibleWrites_ = e.visibleWrites_.removeWrite(i.path.child(t))
                })), !0)
            }, wi.prototype.getCompleteWriteData = function(t) {
                return this.visibleWrites_.getCompleteNode(t)
            }, wi.prototype.calcCompleteEventCache = function(t, e, n, i) {
                if (n || i) {
                    var r = this.visibleWrites_.childCompoundWrite(t);
                    if (!i && r.isEmpty()) return e;
                    if (i || null != e || r.hasCompleteWrite(Nt.Empty)) {
                        var o = wi.layerTree_(this.allWrites_, (function(e) {
                            return (e.visible || i) && (!n || !~n.indexOf(e.writeId)) && (e.path.contains(t) || t.contains(e.path))
                        }), t);
                        return u = e || Qe.EMPTY_NODE, o.apply(u)
                    }
                    return null
                }
                var s = this.visibleWrites_.getCompleteNode(t);
                if (null != s) return s;
                var a = this.visibleWrites_.childCompoundWrite(t);
                if (a.isEmpty()) return e;
                if (null != e || a.hasCompleteWrite(Nt.Empty)) {
                    var u = e || Qe.EMPTY_NODE;
                    return a.apply(u)
                }
                return null
            }, wi.prototype.calcCompleteEventChildren = function(t, e) {
                var n = Qe.EMPTY_NODE,
                    i = this.visibleWrites_.getCompleteNode(t);
                if (i) return i.isLeafNode() || i.forEachChild(De, (function(t, e) {
                    n = n.updateImmediateChild(t, e)
                })), n;
                if (e) {
                    var r = this.visibleWrites_.childCompoundWrite(t);
                    return e.forEachChild(De, (function(t, e) {
                        var i = r.childCompoundWrite(new Nt(t)).apply(e);
                        n = n.updateImmediateChild(t, i)
                    })), r.getCompleteChildren().forEach((function(t) {
                        n = n.updateImmediateChild(t.name, t.node)
                    })), n
                }
                return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach((function(t) {
                    n = n.updateImmediateChild(t.name, t.node)
                })), n
            }, wi.prototype.calcEventCacheAfterServerOverwrite = function(t, e, n, i) {
                c(n || i, "Either existingEventSnap or existingServerSnap must exist");
                var r = t.child(e);
                if (this.visibleWrites_.hasCompleteWrite(r)) return null;
                var o = this.visibleWrites_.childCompoundWrite(r);
                return o.isEmpty() ? i.getChild(e) : o.apply(i.getChild(e))
            }, wi.prototype.calcCompleteChild = function(t, e, n) {
                var i = t.child(e),
                    r = this.visibleWrites_.getCompleteNode(i);
                return null != r ? r : n.isCompleteForChild(e) ? this.visibleWrites_.childCompoundWrite(i).apply(n.getNode().getImmediateChild(e)) : null
            }, wi.prototype.shadowingWrite = function(t) {
                return this.visibleWrites_.getCompleteNode(t)
            }, wi.prototype.calcIndexedSlice = function(t, e, n, i, r, o) {
                var s, a = this.visibleWrites_.childCompoundWrite(t),
                    u = a.getCompleteNode(Nt.Empty);
                if (null != u) s = u;
                else {
                    if (null == e) return [];
                    s = a.apply(e)
                }
                if ((s = s.withIndex(o)).isEmpty() || s.isLeafNode()) return [];
                for (var l = [], h = o.getCompare(), c = r ? s.getReverseIteratorFrom(n, o) : s.getIteratorFrom(n, o), d = c.getNext(); d && l.length < i;) 0 !== h(d, n) && l.push(d), d = c.getNext();
                return l
            }, wi.prototype.recordContainsPath_ = function(t, e) {
                if (t.snap) return t.path.contains(e);
                for (var n in t.children)
                    if (t.children.hasOwnProperty(n) && t.path.child(n).contains(e)) return !0;
                return !1
            }, wi.prototype.resetTree_ = function() {
                this.visibleWrites_ = wi.layerTree_(this.allWrites_, wi.DefaultFilter_, Nt.Empty), 0 < this.allWrites_.length ? this.lastWriteId_ = this.allWrites_[this.allWrites_.length - 1].writeId : this.lastWriteId_ = -1
            }, wi.DefaultFilter_ = function(t) {
                return t.visible
            }, wi.layerTree_ = function(t, e, n) {
                for (var i = yi.Empty, r = 0; r < t.length; ++r) {
                    var o = t[r];
                    if (e(o)) {
                        var s = o.path,
                            a = void 0;
                        if (o.snap) n.contains(s) ? (a = Nt.relativePath(n, s), i = i.addWrite(a, o.snap)) : s.contains(n) && (a = Nt.relativePath(s, n), i = i.addWrite(Nt.Empty, o.snap.getChild(a)));
                        else {
                            if (!o.children) throw d("WriteRecord should have .snap or .children");
                            if (n.contains(s)) a = Nt.relativePath(n, s), i = i.addWrites(a, o.children);
                            else if (s.contains(n))
                                if ((a = Nt.relativePath(s, n)).isEmpty()) i = i.addWrites(Nt.Empty, o.children);
                                else {
                                    var u = x(o.children, a.getFront());
                                    if (u) {
                                        var l = u.getChild(a.popFront());
                                        i = i.addWrite(Nt.Empty, l)
                                    }
                                }
                        }
                    }
                }
                return i
            }, wi);

            function wi() {
                this.visibleWrites_ = yi.Empty, this.allWrites_ = [], this.lastWriteId_ = -1
            }
            var Ei = (Ii.prototype.calcCompleteEventCache = function(t, e, n) {
                return this.writeTree_.calcCompleteEventCache(this.treePath_, t, e, n)
            }, Ii.prototype.calcCompleteEventChildren = function(t) {
                return this.writeTree_.calcCompleteEventChildren(this.treePath_, t)
            }, Ii.prototype.calcEventCacheAfterServerOverwrite = function(t, e, n) {
                return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_, t, e, n)
            }, Ii.prototype.shadowingWrite = function(t) {
                return this.writeTree_.shadowingWrite(this.treePath_.child(t))
            }, Ii.prototype.calcIndexedSlice = function(t, e, n, i, r) {
                return this.writeTree_.calcIndexedSlice(this.treePath_, t, e, n, i, r)
            }, Ii.prototype.calcCompleteChild = function(t, e) {
                return this.writeTree_.calcCompleteChild(this.treePath_, t, e)
            }, Ii.prototype.child = function(t) {
                return new Ii(this.treePath_.child(t), this.writeTree_)
            }, Ii);

            function Ii(t, e) {
                this.treePath_ = t, this.writeTree_ = e
            }
            var Ti = (Ci.prototype.applyUserOverwrite = function(t, e, n, i) {
                return this.pendingWriteTree_.addOverwrite(t, e, n, i), i ? this.applyOperationToSyncPoints_(new Bn(Ln.User, t, e)) : []
            }, Ci.prototype.applyUserMerge = function(t, e, n) {
                this.pendingWriteTree_.addMerge(t, e, n);
                var i = Hn.fromObject(e);
                return this.applyOperationToSyncPoints_(new $n(Ln.User, t, i))
            }, Ci.prototype.ackUserWrite = function(t, e) {
                void 0 === e && (e = !1);
                var n = this.pendingWriteTree_.getWrite(t);
                if (this.pendingWriteTree_.removeWrite(t)) {
                    var i = Hn.Empty;
                    return null != n.snap ? i = i.set(Nt.Empty, !0) : Tt(n.children, (function(t, e) {
                        i = i.set(new Nt(t), e)
                    })), this.applyOperationToSyncPoints_(new Un(n.path, i, e))
                }
                return []
            }, Ci.prototype.applyServerOverwrite = function(t, e) {
                return this.applyOperationToSyncPoints_(new Bn(Ln.Server, t, e))
            }, Ci.prototype.applyServerMerge = function(t, e) {
                var n = Hn.fromObject(e);
                return this.applyOperationToSyncPoints_(new $n(Ln.Server, t, n))
            }, Ci.prototype.applyListenComplete = function(t) {
                return this.applyOperationToSyncPoints_(new Wn(Ln.Server, t))
            }, Ci.prototype.applyTaggedQueryOverwrite = function(t, e, n) {
                var i = this.queryKeyForTag_(n);
                if (null == i) return [];
                var r = Ci.parseQueryKey_(i),
                    o = r.path,
                    s = r.queryId,
                    a = Nt.relativePath(o, t),
                    u = new Bn(Ln.forServerTaggedQuery(s), a, e);
                return this.applyTaggedOperation_(o, u)
            }, Ci.prototype.applyTaggedQueryMerge = function(t, e, n) {
                var i = this.queryKeyForTag_(n);
                if (i) {
                    var r = Ci.parseQueryKey_(i),
                        o = r.path,
                        s = r.queryId,
                        a = Nt.relativePath(o, t),
                        u = Hn.fromObject(e),
                        l = new $n(Ln.forServerTaggedQuery(s), a, u);
                    return this.applyTaggedOperation_(o, l)
                }
                return []
            }, Ci.prototype.applyTaggedListenComplete = function(t, e) {
                var n = this.queryKeyForTag_(e);
                if (n) {
                    var i = Ci.parseQueryKey_(n),
                        r = i.path,
                        o = i.queryId,
                        s = Nt.relativePath(r, t),
                        a = new Wn(Ln.forServerTaggedQuery(o), s);
                    return this.applyTaggedOperation_(r, a)
                }
                return []
            }, Ci.prototype.addEventRegistration = function(t, e) {
                var n = t.path,
                    i = null,
                    r = !1;
                this.syncPointTree_.foreachOnPath(n, (function(t, e) {
                    var o = Nt.relativePath(t, n);
                    i = i || e.getCompleteServerCache(o), r = r || e.hasCompleteView()
                }));
                var o, s = this.syncPointTree_.get(n);
                s ? (r = r || s.hasCompleteView(), i = i || s.getCompleteServerCache(Nt.Empty)) : (s = new vi, this.syncPointTree_ = this.syncPointTree_.set(n, s)), null != i ? o = !0 : (o = !1, i = Qe.EMPTY_NODE, this.syncPointTree_.subtree(n).foreachChild((function(t, e) {
                    var n = e.getCompleteServerCache(Nt.Empty);
                    n && (i = i.updateImmediateChild(t, n))
                })));
                var a = s.viewExistsForQuery(t);
                if (!a && !t.getQueryParams().loadsAllData()) {
                    var u = Ci.makeQueryKey_(t);
                    c(!this.queryToTagMap.has(u), "View does not exist, but we have a tag");
                    var l = Ci.getNextQueryTag_();
                    this.queryToTagMap.set(u, l), this.tagToQueryMap.set(l, u)
                }
                var h = this.pendingWriteTree_.childWrites(n),
                    d = s.addEventRegistration(t, e, h, i, o);
                if (!a && !r) {
                    var p = s.viewForQuery(t);
                    d = d.concat(this.setupListener_(t, p))
                }
                return d
            }, Ci.prototype.removeEventRegistration = function(t, e, n) {
                var i = this,
                    r = t.path,
                    o = this.syncPointTree_.get(r),
                    s = [];
                if (o && ("default" === t.queryIdentifier() || o.viewExistsForQuery(t))) {
                    var a = o.removeEventRegistration(t, e, n);
                    o.isEmpty() && (this.syncPointTree_ = this.syncPointTree_.remove(r));
                    var u = a.removed;
                    s = a.events;
                    var l = -1 !== u.findIndex((function(t) {
                            return t.getQueryParams().loadsAllData()
                        })),
                        h = this.syncPointTree_.findOnPath(r, (function(t, e) {
                            return e.hasCompleteView()
                        }));
                    if (l && !h) {
                        var c = this.syncPointTree_.subtree(r);
                        if (!c.isEmpty())
                            for (var d = this.collectDistinctViewsForSubTree_(c), p = 0; p < d.length; ++p) {
                                var f = d[p],
                                    g = f.getQuery(),
                                    v = this.createListenerForView_(f);
                                this.listenProvider_.startListening(Ci.queryForListening_(g), this.tagForQuery_(g), v.hashFn, v.onComplete)
                            }
                    }!h && 0 < u.length && !n && (l ? this.listenProvider_.stopListening(Ci.queryForListening_(t), null) : u.forEach((function(t) {
                        var e = i.queryToTagMap.get(Ci.makeQueryKey_(t));
                        i.listenProvider_.stopListening(Ci.queryForListening_(t), e)
                    }))), this.removeTags_(u)
                }
                return s
            }, Ci.prototype.calcCompleteEventCache = function(t, e) {
                var n = this.pendingWriteTree_,
                    i = this.syncPointTree_.findOnPath(t, (function(e, n) {
                        var i = Nt.relativePath(e, t),
                            r = n.getCompleteServerCache(i);
                        if (r) return r
                    }));
                return n.calcCompleteEventCache(t, i, e, !0)
            }, Ci.prototype.collectDistinctViewsForSubTree_ = function(t) {
                return t.fold((function(t, e, n) {
                    if (e && e.hasCompleteView()) return [e.getCompleteView()];
                    var i = [];
                    return e && (i = e.getQueryViews()), Tt(n, (function(t, e) {
                        i = i.concat(e)
                    })), i
                }))
            }, Ci.prototype.removeTags_ = function(t) {
                for (var e = 0; e < t.length; ++e) {
                    var n = t[e];
                    if (!n.getQueryParams().loadsAllData()) {
                        var i = Ci.makeQueryKey_(n),
                            r = this.queryToTagMap.get(i);
                        this.queryToTagMap.delete(i), this.tagToQueryMap.delete(r)
                    }
                }
            }, Ci.queryForListening_ = function(t) {
                return t.getQueryParams().loadsAllData() && !t.getQueryParams().isDefault() ? t.getRef() : t
            }, Ci.prototype.setupListener_ = function(t, e) {
                var n = t.path,
                    i = this.tagForQuery_(t),
                    r = this.createListenerForView_(e),
                    o = this.listenProvider_.startListening(Ci.queryForListening_(t), i, r.hashFn, r.onComplete),
                    s = this.syncPointTree_.subtree(n);
                if (i) c(!s.value.hasCompleteView(), "If we're adding a query, it shouldn't be shadowed");
                else
                    for (var a = s.fold((function(t, e, n) {
                            if (!t.isEmpty() && e && e.hasCompleteView()) return [e.getCompleteView().getQuery()];
                            var i = [];
                            return e && (i = i.concat(e.getQueryViews().map((function(t) {
                                return t.getQuery()
                            })))), Tt(n, (function(t, e) {
                                i = i.concat(e)
                            })), i
                        })), u = 0; u < a.length; ++u) {
                        var l = a[u];
                        this.listenProvider_.stopListening(Ci.queryForListening_(l), this.tagForQuery_(l))
                    }
                return o
            }, Ci.prototype.createListenerForView_ = function(t) {
                var e = this,
                    n = t.getQuery(),
                    i = this.tagForQuery_(n);
                return {
                    hashFn: function() {
                        return (t.getServerCache() || Qe.EMPTY_NODE).hash()
                    },
                    onComplete: function(t) {
                        if ("ok" === t) return i ? e.applyTaggedListenComplete(n.path, i) : e.applyListenComplete(n.path);
                        var r = function(t, e) {
                            var n = "Unknown Error";
                            "too_big" === t ? n = "The data requested exceeds the maximum size that can be accessed with a single request." : "permission_denied" === t ? n = "Client doesn't have permission to access the desired data." : "unavailable" === t && (n = "The service is unavailable");
                            var i = new Error(t + " at " + e.path.toString() + ": " + n);
                            return i.code = t.toUpperCase(), i
                        }(t, n);
                        return e.removeEventRegistration(n, null, r)
                    }
                }
            }, Ci.makeQueryKey_ = function(t) {
                return t.path.toString() + "$" + t.queryIdentifier()
            }, Ci.parseQueryKey_ = function(t) {
                var e = t.indexOf("$");
                return c(-1 !== e && e < t.length - 1, "Bad queryKey."), {
                    queryId: t.substr(e + 1),
                    path: new Nt(t.substr(0, e))
                }
            }, Ci.prototype.queryKeyForTag_ = function(t) {
                return this.tagToQueryMap.get(t)
            }, Ci.prototype.tagForQuery_ = function(t) {
                var e = Ci.makeQueryKey_(t);
                return this.queryToTagMap.get(e)
            }, Ci.getNextQueryTag_ = function() {
                return Ci.nextQueryTag_++
            }, Ci.prototype.applyTaggedOperation_ = function(t, e) {
                var n = this.syncPointTree_.get(t);
                c(n, "Missing sync point for query tag that we're tracking");
                var i = this.pendingWriteTree_.childWrites(t);
                return n.applyOperation(e, i, null)
            }, Ci.prototype.applyOperationToSyncPoints_ = function(t) {
                return this.applyOperationHelper_(t, this.syncPointTree_, null, this.pendingWriteTree_.childWrites(Nt.Empty))
            }, Ci.prototype.applyOperationHelper_ = function(t, e, n, i) {
                if (t.path.isEmpty()) return this.applyOperationDescendantsHelper_(t, e, n, i);
                var r = e.get(Nt.Empty);
                null == n && null != r && (n = r.getCompleteServerCache(Nt.Empty));
                var o = [],
                    s = t.path.getFront(),
                    a = t.operationForChild(s),
                    u = e.children.get(s);
                if (u && a) {
                    var l = n ? n.getImmediateChild(s) : null,
                        h = i.child(s);
                    o = o.concat(this.applyOperationHelper_(a, u, l, h))
                }
                return r && (o = o.concat(r.applyOperation(t, i, n))), o
            }, Ci.prototype.applyOperationDescendantsHelper_ = function(t, e, n, i) {
                var r = this,
                    o = e.get(Nt.Empty);
                null == n && null != o && (n = o.getCompleteServerCache(Nt.Empty));
                var s = [];
                return e.children.inorderTraversal((function(e, o) {
                    var a = n ? n.getImmediateChild(e) : null,
                        u = i.child(e),
                        l = t.operationForChild(e);
                    l && (s = s.concat(r.applyOperationDescendantsHelper_(l, o, a, u)))
                })), o && (s = s.concat(o.applyOperation(t, i, n))), s
            }, Ci.nextQueryTag_ = 1, Ci);

            function Ci(t) {
                this.listenProvider_ = t, this.syncPointTree_ = Hn.Empty, this.pendingWriteTree_ = new bi, this.tagToQueryMap = new Map, this.queryToTagMap = new Map
            }
            var ki = (Si.prototype.getNode = function(t) {
                return this.rootNode_.getChild(t)
            }, Si.prototype.updateSnapshot = function(t, e) {
                this.rootNode_ = this.rootNode_.updateChild(t, e)
            }, Si);

            function Si() {
                this.rootNode_ = Qe.EMPTY_NODE
            }
            var xi = (Di.prototype.getToken = function(t) {
                return this.auth_ ? this.auth_.getToken(t).catch((function(t) {
                    return t && "auth/token-not-initialized" === t.code ? (it("Got auth/token-not-initialized error.  Treating as null token."), null) : Promise.reject(t)
                })) : Promise.resolve(null)
            }, Di.prototype.addTokenChangeListener = function(t) {
                this.auth_ ? this.auth_.addAuthTokenListener(t) : (setTimeout((function() {
                    return t(null)
                }), 0), this.authProvider_.get().then((function(e) {
                    return e.addAuthTokenListener(t)
                })))
            }, Di.prototype.removeTokenChangeListener = function(t) {
                this.authProvider_.get().then((function(e) {
                    return e.removeAuthTokenListener(t)
                }))
            }, Di.prototype.notifyForInvalidToken = function() {
                var t = 'Provided authentication credentials for the app named "' + this.app_.name + '" are invalid. This usually indicates your app was not initialized correctly. ';
                "credential" in this.app_.options ? t += 'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.' : "serviceAccount" in this.app_.options ? t += 'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.' : t += 'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.', at(t)
            }, Di);

            function Di(t, e) {
                var n = this;
                this.app_ = t, this.authProvider_ = e, this.auth_ = null, this.auth_ = e.getImmediate({
                    optional: !0
                }), this.auth_ || e.get().then((function(t) {
                    return n.auth_ = t
                }))
            }
            var Ni = (Ai.prototype.incrementCounter = function(t, e) {
                void 0 === e && (e = 1), S(this.counters_, t) || (this.counters_[t] = 0), this.counters_[t] += e
            }, Ai.prototype.get = function() {
                return function(t) {
                    return function t(e, n) {
                        if (!(n instanceof Object)) return n;
                        switch (n.constructor) {
                            case Date:
                                return new Date(n.getTime());
                            case Object:
                                void 0 === e && (e = {});
                                break;
                            case Array:
                                e = [];
                                break;
                            default:
                                return n
                        }
                        for (var i in n) n.hasOwnProperty(i) && (e[i] = t(e[i], n[i]));
                        return e
                    }(void 0, t)
                }(this.counters_)
            }, Ai);

            function Ai() {
                this.counters_ = {}
            }
            var Pi = (Oi.getCollection = function(t) {
                var e = t.toString();
                return this.collections_[e] || (this.collections_[e] = new Ni), this.collections_[e]
            }, Oi.getOrCreateReporter = function(t, e) {
                var n = t.toString();
                return this.reporters_[n] || (this.reporters_[n] = e()), this.reporters_[n]
            }, Oi.collections_ = {}, Oi.reporters_ = {}, Oi);

            function Oi() {}
            var Ri = (Li.prototype.get = function() {
                var t = this.collection_.get(),
                    e = i({}, t);
                return this.last_ && Tt(this.last_, (function(t, n) {
                    e[t] = e[t] - n
                })), this.last_ = t, e
            }, Li);

            function Li(t) {
                this.collection_ = t, this.last_ = null
            }
            var Mi = (Fi.prototype.includeStat = function(t) {
                this.statsToReport_[t] = !0
            }, Fi.prototype.reportStats_ = function() {
                var t = this,
                    e = this.statsListener_.get(),
                    n = {},
                    i = !1;
                Tt(e, (function(e, r) {
                    0 < r && S(t.statsToReport_, e) && (n[e] = r, i = !0)
                })), i && this.server_.reportStats(n), St(this.reportStats_.bind(this), Math.floor(2 * Math.random() * 3e5))
            }, Fi);

            function Fi(t, e) {
                this.server_ = e, this.statsToReport_ = {}, this.statsListener_ = new Ri(t);
                var n = 1e4 + 2e4 * Math.random();
                St(this.reportStats_.bind(this), Math.floor(n))
            }
            var Ui = (ji.prototype.queueEvents = function(t) {
                for (var e = null, n = 0; n < t.length; n++) {
                    var i = t[n],
                        r = i.getPath();
                    null === e || r.equals(e.getPath()) || (this.eventLists_.push(e), e = null), null === e && (e = new Hi(r)), e.add(i)
                }
                e && this.eventLists_.push(e)
            }, ji.prototype.raiseEventsAtPath = function(t, e) {
                this.queueEvents(e), this.raiseQueuedEventsMatchingPredicate_((function(e) {
                    return e.equals(t)
                }))
            }, ji.prototype.raiseEventsForChangedPath = function(t, e) {
                this.queueEvents(e), this.raiseQueuedEventsMatchingPredicate_((function(e) {
                    return e.contains(t) || t.contains(e)
                }))
            }, ji.prototype.raiseQueuedEventsMatchingPredicate_ = function(t) {
                this.recursionDepth_++;
                for (var e = !0, n = 0; n < this.eventLists_.length; n++) {
                    var i = this.eventLists_[n];
                    i && (t(i.getPath()) ? (this.eventLists_[n].raise(), this.eventLists_[n] = null) : e = !1)
                }
                e && (this.eventLists_ = []), this.recursionDepth_--
            }, ji);

            function ji() {
                this.eventLists_ = [], this.recursionDepth_ = 0
            }
            var Hi = (qi.prototype.add = function(t) {
                this.events_.push(t)
            }, qi.prototype.raise = function() {
                for (var t = 0; t < this.events_.length; t++) {
                    var e = this.events_[t];
                    if (null !== e) {
                        this.events_[t] = null;
                        var n = e.getEventRunner();
                        yt && it("event: " + e.toString()), kt(n)
                    }
                }
            }, qi.prototype.getPath = function() {
                return this.path_
            }, qi);

            function qi(t) {
                this.path_ = t, this.events_ = []
            }
            var Wi = (Vi.prototype.trigger = function(t) {
                for (var e = [], n = 1; n < arguments.length; n++) e[n - 1] = arguments[n];
                if (Array.isArray(this.listeners_[t]))
                    for (var i = s(this.listeners_[t]), r = 0; r < i.length; r++) i[r].callback.apply(i[r].context, e)
            }, Vi.prototype.on = function(t, e, n) {
                this.validateEventType_(t), this.listeners_[t] = this.listeners_[t] || [], this.listeners_[t].push({
                    callback: e,
                    context: n
                });
                var i = this.getInitialEvent(t);
                i && e.apply(n, i)
            }, Vi.prototype.off = function(t, e, n) {
                this.validateEventType_(t);
                for (var i = this.listeners_[t] || [], r = 0; r < i.length; r++)
                    if (i[r].callback === e && (!n || n === i[r].context)) return void i.splice(r, 1)
            }, Vi.prototype.validateEventType_ = function(t) {
                c(this.allowedEvents_.find((function(e) {
                    return e === t
                })), "Unknown event: " + t)
            }, Vi);

            function Vi(t) {
                this.allowedEvents_ = t, this.listeners_ = {}, c(Array.isArray(t) && 0 < t.length, "Requires a non-empty array")
            }
            var Bi, zi = (n($i, Bi = Wi), $i.getInstance = function() {
                return new $i
            }, $i.prototype.getInitialEvent = function(t) {
                return c("visible" === t, "Unknown event type: " + t), [this.visible_]
            }, $i);

            function $i() {
                var t, e, n = Bi.call(this, ["visible"]) || this;
                return "undefined" != typeof document && void 0 !== document.addEventListener && (void 0 !== document.hidden ? (e = "visibilitychange", t = "hidden") : void 0 !== document.mozHidden ? (e = "mozvisibilitychange", t = "mozHidden") : void 0 !== document.msHidden ? (e = "msvisibilitychange", t = "msHidden") : void 0 !== document.webkitHidden && (e = "webkitvisibilitychange", t = "webkitHidden")), n.visible_ = !0, e && document.addEventListener(e, (function() {
                    var e = !document[t];
                    e !== n.visible_ && (n.visible_ = e, n.trigger("visible", e))
                }), !1), n
            }
            var Ki, Gi = (n(Yi, Ki = Wi), Yi.getInstance = function() {
                return new Yi
            }, Yi.prototype.getInitialEvent = function(t) {
                return c("online" === t, "Unknown event type: " + t), [this.online_]
            }, Yi.prototype.currentlyOnline = function() {
                return this.online_
            }, Yi);

            function Yi() {
                var t = Ki.call(this, ["online"]) || this;
                return t.online_ = !0, "undefined" == typeof window || void 0 === window.addEventListener || v() || (window.addEventListener("online", (function() {
                    t.online_ || (t.online_ = !0, t.trigger("online", !0))
                }), !1), window.addEventListener("offline", (function() {
                    t.online_ && (t.online_ = !1, t.trigger("online", !1))
                }), !1)), t
            }
            var Qi = (Xi.prototype.closeAfter = function(t, e) {
                this.closeAfterResponse = t, this.onClose = e, this.closeAfterResponse < this.currentResponseNum && (this.onClose(), this.onClose = null)
            }, Xi.prototype.handleResponse = function(t, e) {
                var n = this;
                this.pendingResponses[t] = e;
                for (var i = function() {
                        var t = r.pendingResponses[r.currentResponseNum];
                        delete r.pendingResponses[r.currentResponseNum];
                        for (var e = function(e) {
                                t[e] && kt((function() {
                                    n.onMessage_(t[e])
                                }))
                            }, i = 0; i < t.length; ++i) e(i);
                        if (r.currentResponseNum === r.closeAfterResponse) return r.onClose && (r.onClose(), r.onClose = null), "break";
                        r.currentResponseNum++
                    }, r = this; this.pendingResponses[this.currentResponseNum] && "break" !== i(););
            }, Xi);

            function Xi(t) {
                this.onMessage_ = t, this.pendingResponses = [], this.currentResponseNum = 0, this.closeAfterResponse = -1, this.onClose = null
            }
            var Ji = (Zi.prototype.open = function(t, e) {
                var n = this;
                this.curSegmentNum = 0, this.onDisconnect_ = e, this.myPacketOrderer = new Qi(t), this.isClosed_ = !1, this.connectTimeoutTimer_ = setTimeout((function() {
                        n.log_("Timed out trying to connect."), n.onClosed_(), n.connectTimeoutTimer_ = null
                    }), Math.floor(3e4)),
                    function(t) {
                        if ("complete" === document.readyState) t();
                        else {
                            var e = !1,
                                n = function() {
                                    document.body ? e || (e = !0, t()) : setTimeout(n, Math.floor(10))
                                };
                            document.addEventListener ? (document.addEventListener("DOMContentLoaded", n, !1), window.addEventListener("load", n, !1)) : document.attachEvent && (document.attachEvent("onreadystatechange", (function() {
                                "complete" === document.readyState && n()
                            })), window.attachEvent("onload", n))
                        }
                    }((function() {
                        if (!n.isClosed_) {
                            n.scriptTagHolder = new tr((function() {
                                for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                                var i = o(t, 5),
                                    r = i[0],
                                    s = i[1],
                                    a = i[2];
                                if (i[3], i[4], n.incrementIncomingBytes_(t), n.scriptTagHolder)
                                    if (n.connectTimeoutTimer_ && (clearTimeout(n.connectTimeoutTimer_), n.connectTimeoutTimer_ = null), n.everConnected_ = !0, "start" === r) n.id = s, n.password = a;
                                    else {
                                        if ("close" !== r) throw new Error("Unrecognized command received: " + r);
                                        s ? (n.scriptTagHolder.sendNewPolls = !1, n.myPacketOrderer.closeAfter(s, (function() {
                                            n.onClosed_()
                                        }))) : n.onClosed_()
                                    }
                            }), (function() {
                                for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                                var i = o(t, 2),
                                    r = i[0],
                                    s = i[1];
                                n.incrementIncomingBytes_(t), n.myPacketOrderer.handleResponse(r, s)
                            }), (function() {
                                n.onClosed_()
                            }), n.urlFn);
                            var t = {
                                start: "t"
                            };
                            t.ser = Math.floor(1e8 * Math.random()), n.scriptTagHolder.uniqueCallbackIdentifier && (t.cb = n.scriptTagHolder.uniqueCallbackIdentifier), t.v = "5", n.transportSessionId && (t.s = n.transportSessionId), n.lastSessionId && (t.ls = n.lastSessionId), n.applicationId && (t.p = n.applicationId), "undefined" != typeof location && location.href && -1 !== location.href.indexOf(Rt) && (t.r = "f");
                            var e = n.urlFn(t);
                            n.log_("Connecting via long-poll to " + e), n.scriptTagHolder.addTag(e, (function() {}))
                        }
                    }))
            }, Zi.prototype.start = function() {
                this.scriptTagHolder.startLongPoll(this.id, this.password), this.addDisconnectPingFrame(this.id, this.password)
            }, Zi.forceAllow = function() {
                Zi.forceAllow_ = !0
            }, Zi.forceDisallow = function() {
                Zi.forceDisallow_ = !0
            }, Zi.isAvailable = function() {
                return !!Zi.forceAllow_ || !(Zi.forceDisallow_ || "undefined" == typeof document || null == document.createElement || "object" == typeof window && window.chrome && window.chrome.extension && !/^chrome/.test(window.location.href) || "object" == typeof Windows && "object" == typeof Windows.UI)
            }, Zi.prototype.markConnectionHealthy = function() {}, Zi.prototype.shutdown_ = function() {
                this.isClosed_ = !0, this.scriptTagHolder && (this.scriptTagHolder.close(), this.scriptTagHolder = null), this.myDisconnFrame && (document.body.removeChild(this.myDisconnFrame), this.myDisconnFrame = null), this.connectTimeoutTimer_ && (clearTimeout(this.connectTimeoutTimer_), this.connectTimeoutTimer_ = null)
            }, Zi.prototype.onClosed_ = function() {
                this.isClosed_ || (this.log_("Longpoll is closing itself"), this.shutdown_(), this.onDisconnect_ && (this.onDisconnect_(this.everConnected_), this.onDisconnect_ = null))
            }, Zi.prototype.close = function() {
                this.isClosed_ || (this.log_("Longpoll is being closed."), this.shutdown_())
            }, Zi.prototype.send = function(t) {
                var e = C(t);
                this.bytesSent += e.length, this.stats_.incrementCounter("bytes_sent", e.length);
                for (var n, i = ct((n = a(e), p.encodeByteArray(n, !0)), 1840), r = 0; r < i.length; r++) this.scriptTagHolder.enqueueSegment(this.curSegmentNum, i.length, i[r]), this.curSegmentNum++
            }, Zi.prototype.addDisconnectPingFrame = function(t, e) {
                this.myDisconnFrame = document.createElement("iframe");
                var n = {
                    dframe: "t"
                };
                n.id = t, n.pw = e, this.myDisconnFrame.src = this.urlFn(n), this.myDisconnFrame.style.display = "none", document.body.appendChild(this.myDisconnFrame)
            }, Zi.prototype.incrementIncomingBytes_ = function(t) {
                var e = C(t).length;
                this.bytesReceived += e, this.stats_.incrementCounter("bytes_received", e)
            }, Zi);

            function Zi(t, e, n, i, r) {
                this.connId = t, this.repoInfo = e, this.applicationId = n, this.transportSessionId = i, this.lastSessionId = r, this.bytesSent = 0, this.bytesReceived = 0, this.everConnected_ = !1, this.log_ = rt(t), this.stats_ = Pi.getCollection(e), this.urlFn = function(t) {
                    return e.connectionURL(Mt, t)
                }
            }
            var tr = (er.createIFrame_ = function() {
                var t = document.createElement("iframe");
                if (t.style.display = "none", !document.body) throw "Document body has not initialized. Wait to initialize Firebase until after the document is ready.";
                document.body.appendChild(t);
                try {
                    t.contentWindow.document || it("No IE domain setting required")
                } catch (n) {
                    var e = document.domain;
                    t.src = "javascript:void((function(){document.open();document.domain='" + e + "';document.close();})())"
                }
                return t.contentDocument ? t.doc = t.contentDocument : t.contentWindow ? t.doc = t.contentWindow.document : t.document && (t.doc = t.document), t
            }, er.prototype.close = function() {
                var t = this;
                this.alive = !1, this.myIFrame && (this.myIFrame.doc.body.innerHTML = "", setTimeout((function() {
                    null !== t.myIFrame && (document.body.removeChild(t.myIFrame), t.myIFrame = null)
                }), Math.floor(0)));
                var e = this.onDisconnect;
                e && (this.onDisconnect = null, e())
            }, er.prototype.startLongPoll = function(t, e) {
                for (this.myID = t, this.myPW = e, this.alive = !0; this.newRequest_(););
            }, er.prototype.newRequest_ = function() {
                if (this.alive && this.sendNewPolls && this.outstandingRequests.size < (0 < this.pendingSegs.length ? 2 : 1)) {
                    this.currentSerial++;
                    var t = {};
                    t.id = this.myID, t.pw = this.myPW, t.ser = this.currentSerial;
                    for (var e = this.urlFn(t), n = "", i = 0; 0 < this.pendingSegs.length && this.pendingSegs[0].d.length + 30 + n.length <= 1870;) {
                        var r = this.pendingSegs.shift();
                        n = n + "&seg" + i + "=" + r.seg + "&ts" + i + "=" + r.ts + "&d" + i + "=" + r.d, i++
                    }
                    return e += n, this.addLongPollTag_(e, this.currentSerial), !0
                }
                return !1
            }, er.prototype.enqueueSegment = function(t, e, n) {
                this.pendingSegs.push({
                    seg: t,
                    ts: e,
                    d: n
                }), this.alive && this.newRequest_()
            }, er.prototype.addLongPollTag_ = function(t, e) {
                var n = this;

                function i() {
                    n.outstandingRequests.delete(e), n.newRequest_()
                }
                this.outstandingRequests.add(e);
                var r = setTimeout(i, Math.floor(25e3));
                this.addTag(t, (function() {
                    clearTimeout(r), i()
                }))
            }, er.prototype.addTag = function(t, e) {
                var n = this;
                setTimeout((function() {
                    try {
                        if (!n.sendNewPolls) return;
                        var i = n.myIFrame.doc.createElement("script");
                        i.type = "text/javascript", i.async = !0, i.src = t, i.onload = i.onreadystatechange = function() {
                            var t = i.readyState;
                            t && "loaded" !== t && "complete" !== t || (i.onload = i.onreadystatechange = null, i.parentNode && i.parentNode.removeChild(i), e())
                        }, i.onerror = function() {
                            it("Long-poll script failed to load: " + t), n.sendNewPolls = !1, n.close()
                        }, n.myIFrame.doc.body.appendChild(i)
                    } catch (t) {}
                }), Math.floor(1))
            }, er);

            function er(t, e, n, i) {
                this.onDisconnect = n, this.urlFn = i, this.outstandingRequests = new Set, this.pendingSegs = [], this.currentSerial = Math.floor(1e8 * Math.random()), this.sendNewPolls = !0, this.uniqueCallbackIdentifier = vt(), window["pLPCommand" + this.uniqueCallbackIdentifier] = t, window["pRTLPCB" + this.uniqueCallbackIdentifier] = e, this.myIFrame = er.createIFrame_();
                var r = "";
                this.myIFrame.src && "javascript:" === this.myIFrame.src.substr(0, "javascript:".length) && (r = '<script>document.domain="' + document.domain + '";<\/script>');
                var o = "<html><body>" + r + "</body></html>";
                try {
                    this.myIFrame.doc.open(), this.myIFrame.doc.write(o), this.myIFrame.doc.close()
                } catch (t) {
                    it("frame writing exception"), t.stack && it(t.stack), it(t)
                }
            }
            var nr = "",
                ir = null;
            "undefined" != typeof MozWebSocket ? ir = MozWebSocket : "undefined" != typeof WebSocket && (ir = WebSocket);
            var rr = (or.connectionURL_ = function(t, e, n) {
                var i = {
                    v: "5"
                };
                return "undefined" != typeof location && location.href && -1 !== location.href.indexOf(Rt) && (i.r = "f"), e && (i.s = e), n && (i.ls = n), t.connectionURL(Lt, i)
            }, or.prototype.open = function(t, e) {
                var n = this;
                this.onDisconnect = e, this.onMessage = t, this.log_("Websocket connecting to " + this.connURL), this.everConnected_ = !1, pt.set("previous_websocket_failure", !0);
                try {
                    if (m()) {
                        var i = l ? "AdminNode" : "Node",
                            r = {
                                headers: {
                                    "User-Agent": "Firebase/5/" + nr + "/" + process.platform + "/" + i,
                                    "X-Firebase-GMPID": this.applicationId || ""
                                }
                            },
                            o = process.env,
                            s = 0 === this.connURL.indexOf("wss://") ? o.HTTPS_PROXY || o.https_proxy : o.HTTP_PROXY || o.http_proxy;
                        s && (r.proxy = {
                            origin: s
                        }), this.mySock = new ir(this.connURL, [], r)
                    } else r = {
                        headers: {
                            "X-Firebase-GMPID": this.applicationId || ""
                        }
                    }, this.mySock = new ir(this.connURL, [], r)
                } catch (t) {
                    this.log_("Error instantiating WebSocket.");
                    var a = t.message || t.data;
                    return a && this.log_(a), void this.onClosed_()
                }
                this.mySock.onopen = function() {
                    n.log_("Websocket connected."), n.everConnected_ = !0
                }, this.mySock.onclose = function() {
                    n.log_("Websocket connection was disconnected."), n.mySock = null, n.onClosed_()
                }, this.mySock.onmessage = function(t) {
                    n.handleIncomingFrame(t)
                }, this.mySock.onerror = function(t) {
                    n.log_("WebSocket error.  Closing connection.");
                    var e = t.message || t.data;
                    e && n.log_(e), n.onClosed_()
                }
            }, or.prototype.start = function() {}, or.forceDisallow = function() {
                or.forceDisallow_ = !0
            }, or.isAvailable = function() {
                var t = !1;
                if ("undefined" != typeof navigator && navigator.userAgent) {
                    var e = navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);
                    e && 1 < e.length && parseFloat(e[1]) < 4.4 && (t = !0)
                }
                return !t && null !== ir && !or.forceDisallow_
            }, or.previouslyFailed = function() {
                return pt.isInMemoryStorage || !0 === pt.get("previous_websocket_failure")
            }, or.prototype.markConnectionHealthy = function() {
                pt.remove("previous_websocket_failure")
            }, or.prototype.appendFrame_ = function(t) {
                if (this.frames.push(t), this.frames.length === this.totalFrames) {
                    var e = this.frames.join("");
                    this.frames = null;
                    var n = T(e);
                    this.onMessage(n)
                }
            }, or.prototype.handleNewFrameCount_ = function(t) {
                this.totalFrames = t, this.frames = []
            }, or.prototype.extractFrameCount_ = function(t) {
                if (c(null === this.frames, "We already have a frame buffer"), t.length <= 6) {
                    var e = Number(t);
                    if (!isNaN(e)) return this.handleNewFrameCount_(e), null
                }
                return this.handleNewFrameCount_(1), t
            }, or.prototype.handleIncomingFrame = function(t) {
                if (null !== this.mySock) {
                    var e = t.data;
                    if (this.bytesReceived += e.length, this.stats_.incrementCounter("bytes_received", e.length), this.resetKeepAlive(), null !== this.frames) this.appendFrame_(e);
                    else {
                        var n = this.extractFrameCount_(e);
                        null !== n && this.appendFrame_(n)
                    }
                }
            }, or.prototype.send = function(t) {
                this.resetKeepAlive();
                var e = C(t);
                this.bytesSent += e.length, this.stats_.incrementCounter("bytes_sent", e.length);
                var n = ct(e, 16384);
                1 < n.length && this.sendString_(String(n.length));
                for (var i = 0; i < n.length; i++) this.sendString_(n[i])
            }, or.prototype.shutdown_ = function() {
                this.isClosed_ = !0, this.keepaliveTimer && (clearInterval(this.keepaliveTimer), this.keepaliveTimer = null), this.mySock && (this.mySock.close(), this.mySock = null)
            }, or.prototype.onClosed_ = function() {
                this.isClosed_ || (this.log_("WebSocket is closing itself"), this.shutdown_(), this.onDisconnect && (this.onDisconnect(this.everConnected_), this.onDisconnect = null))
            }, or.prototype.close = function() {
                this.isClosed_ || (this.log_("WebSocket is being closed"), this.shutdown_())
            }, or.prototype.resetKeepAlive = function() {
                var t = this;
                clearInterval(this.keepaliveTimer), this.keepaliveTimer = setInterval((function() {
                    t.mySock && t.sendString_("0"), t.resetKeepAlive()
                }), Math.floor(45e3))
            }, or.prototype.sendString_ = function(t) {
                try {
                    this.mySock.send(t)
                } catch (t) {
                    this.log_("Exception thrown from WebSocket.send():", t.message || t.data, "Closing connection."), setTimeout(this.onClosed_.bind(this), 0)
                }
            }, or.responsesRequiredToBeHealthy = 2, or.healthyTimeout = 3e4, or);

            function or(t, e, n, i, r) {
                this.connId = t, this.applicationId = n, this.keepaliveTimer = null, this.frames = null, this.totalFrames = 0, this.bytesSent = 0, this.bytesReceived = 0, this.log_ = rt(this.connId), this.stats_ = Pi.getCollection(e), this.connURL = or.connectionURL_(e, i, r)
            }
            var sr = (Object.defineProperty(ar, "ALL_TRANSPORTS", {
                get: function() {
                    return [Ji, rr]
                },
                enumerable: !1,
                configurable: !0
            }), ar.prototype.initTransports_ = function(t) {
                var e, n, i = rr && rr.isAvailable(),
                    o = i && !rr.previouslyFailed();
                if (t.webSocketOnly && (i || at("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."), o = !0), o) this.transports_ = [rr];
                else {
                    var s = this.transports_ = [];
                    try {
                        for (var a = r(ar.ALL_TRANSPORTS), u = a.next(); !u.done; u = a.next()) {
                            var l = u.value;
                            l && l.isAvailable() && s.push(l)
                        }
                    } catch (t) {
                        e = {
                            error: t
                        }
                    } finally {
                        try {
                            u && !u.done && (n = a.return) && n.call(a)
                        } finally {
                            if (e) throw e.error
                        }
                    }
                }
            }, ar.prototype.initialTransport = function() {
                if (0 < this.transports_.length) return this.transports_[0];
                throw new Error("No transports available")
            }, ar.prototype.upgradeTransport = function() {
                return 1 < this.transports_.length ? this.transports_[1] : null
            }, ar);

            function ar(t) {
                this.initTransports_(t)
            }
            var ur = (lr.prototype.start_ = function() {
                var t = this,
                    e = this.transportManager_.initialTransport();
                this.conn_ = new e(this.nextTransportId_(), this.repoInfo_, this.applicationId_, void 0, this.lastSessionId), this.primaryResponsesRequired_ = e.responsesRequiredToBeHealthy || 0;
                var n = this.connReceiver_(this.conn_),
                    i = this.disconnReceiver_(this.conn_);
                this.tx_ = this.conn_, this.rx_ = this.conn_, this.secondaryConn_ = null, this.isHealthy_ = !1, setTimeout((function() {
                    t.conn_ && t.conn_.open(n, i)
                }), Math.floor(0));
                var r = e.healthyTimeout || 0;
                0 < r && (this.healthyTimeout_ = St((function() {
                    t.healthyTimeout_ = null, t.isHealthy_ || (t.conn_ && 102400 < t.conn_.bytesReceived ? (t.log_("Connection exceeded healthy timeout but has received " + t.conn_.bytesReceived + " bytes.  Marking connection healthy."), t.isHealthy_ = !0, t.conn_.markConnectionHealthy()) : t.conn_ && 10240 < t.conn_.bytesSent ? t.log_("Connection exceeded healthy timeout but has sent " + t.conn_.bytesSent + " bytes.  Leaving connection alive.") : (t.log_("Closing unhealthy connection after timeout."), t.close()))
                }), Math.floor(r)))
            }, lr.prototype.nextTransportId_ = function() {
                return "c:" + this.id + ":" + this.connectionCount++
            }, lr.prototype.disconnReceiver_ = function(t) {
                var e = this;
                return function(n) {
                    t === e.conn_ ? e.onConnectionLost_(n) : t === e.secondaryConn_ ? (e.log_("Secondary connection lost."), e.onSecondaryConnectionLost_()) : e.log_("closing an old connection")
                }
            }, lr.prototype.connReceiver_ = function(t) {
                var e = this;
                return function(n) {
                    2 !== e.state_ && (t === e.rx_ ? e.onPrimaryMessageReceived_(n) : t === e.secondaryConn_ ? e.onSecondaryMessageReceived_(n) : e.log_("message on old connection"))
                }
            }, lr.prototype.sendRequest = function(t) {
                var e = {
                    t: "d",
                    d: t
                };
                this.sendData_(e)
            }, lr.prototype.tryCleanupConnection = function() {
                this.tx_ === this.secondaryConn_ && this.rx_ === this.secondaryConn_ && (this.log_("cleaning up and promoting a connection: " + this.secondaryConn_.connId), this.conn_ = this.secondaryConn_, this.secondaryConn_ = null)
            }, lr.prototype.onSecondaryControl_ = function(t) {
                if ("t" in t) {
                    var e = t.t;
                    "a" === e ? this.upgradeIfSecondaryHealthy_() : "r" === e ? (this.log_("Got a reset on secondary, closing it"), this.secondaryConn_.close(), this.tx_ !== this.secondaryConn_ && this.rx_ !== this.secondaryConn_ || this.close()) : "o" === e && (this.log_("got pong on secondary."), this.secondaryResponsesRequired_--, this.upgradeIfSecondaryHealthy_())
                }
            }, lr.prototype.onSecondaryMessageReceived_ = function(t) {
                var e = ht("t", t),
                    n = ht("d", t);
                if ("c" === e) this.onSecondaryControl_(n);
                else {
                    if ("d" !== e) throw new Error("Unknown protocol layer: " + e);
                    this.pendingDataMessages.push(n)
                }
            }, lr.prototype.upgradeIfSecondaryHealthy_ = function() {
                this.secondaryResponsesRequired_ <= 0 ? (this.log_("Secondary connection is healthy."), this.isHealthy_ = !0, this.secondaryConn_.markConnectionHealthy(), this.proceedWithUpgrade_()) : (this.log_("sending ping on secondary."), this.secondaryConn_.send({
                    t: "c",
                    d: {
                        t: "p",
                        d: {}
                    }
                }))
            }, lr.prototype.proceedWithUpgrade_ = function() {
                this.secondaryConn_.start(), this.log_("sending client ack on secondary"), this.secondaryConn_.send({
                    t: "c",
                    d: {
                        t: "a",
                        d: {}
                    }
                }), this.log_("Ending transmission on primary"), this.conn_.send({
                    t: "c",
                    d: {
                        t: "n",
                        d: {}
                    }
                }), this.tx_ = this.secondaryConn_, this.tryCleanupConnection()
            }, lr.prototype.onPrimaryMessageReceived_ = function(t) {
                var e = ht("t", t),
                    n = ht("d", t);
                "c" === e ? this.onControl_(n) : "d" === e && this.onDataMessage_(n)
            }, lr.prototype.onDataMessage_ = function(t) {
                this.onPrimaryResponse_(), this.onMessage_(t)
            }, lr.prototype.onPrimaryResponse_ = function() {
                this.isHealthy_ || (this.primaryResponsesRequired_--, this.primaryResponsesRequired_ <= 0 && (this.log_("Primary connection is healthy."), this.isHealthy_ = !0, this.conn_.markConnectionHealthy()))
            }, lr.prototype.onControl_ = function(t) {
                var e = ht("t", t);
                if ("d" in t) {
                    var n = t.d;
                    if ("h" === e) this.onHandshake_(n);
                    else if ("n" === e) {
                        this.log_("recvd end transmission on primary"), this.rx_ = this.secondaryConn_;
                        for (var i = 0; i < this.pendingDataMessages.length; ++i) this.onDataMessage_(this.pendingDataMessages[i]);
                        this.pendingDataMessages = [], this.tryCleanupConnection()
                    } else "s" === e ? this.onConnectionShutdown_(n) : "r" === e ? this.onReset_(n) : "e" === e ? ot("Server Error: " + n) : "o" === e ? (this.log_("got pong on primary."), this.onPrimaryResponse_(), this.sendPingOnPrimaryIfNecessary_()) : ot("Unknown control packet command: " + e)
                }
            }, lr.prototype.onHandshake_ = function(t) {
                var e = t.ts,
                    n = t.v,
                    i = t.h;
                this.sessionId = t.s, this.repoInfo_.updateHost(i), 0 === this.state_ && (this.conn_.start(), this.onConnectionEstablished_(this.conn_, e), "5" !== n && at("Protocol version mismatch detected"), this.tryStartUpgrade_())
            }, lr.prototype.tryStartUpgrade_ = function() {
                var t = this.transportManager_.upgradeTransport();
                t && this.startUpgrade_(t)
            }, lr.prototype.startUpgrade_ = function(t) {
                var e = this;
                this.secondaryConn_ = new t(this.nextTransportId_(), this.repoInfo_, this.applicationId_, this.sessionId), this.secondaryResponsesRequired_ = t.responsesRequiredToBeHealthy || 0;
                var n = this.connReceiver_(this.secondaryConn_),
                    i = this.disconnReceiver_(this.secondaryConn_);
                this.secondaryConn_.open(n, i), St((function() {
                    e.secondaryConn_ && (e.log_("Timed out trying to upgrade."), e.secondaryConn_.close())
                }), Math.floor(6e4))
            }, lr.prototype.onReset_ = function(t) {
                this.log_("Reset packet received.  New host: " + t), this.repoInfo_.updateHost(t), 1 === this.state_ ? this.close() : (this.closeConnections_(), this.start_())
            }, lr.prototype.onConnectionEstablished_ = function(t, e) {
                var n = this;
                this.log_("Realtime connection established."), this.conn_ = t, this.state_ = 1, this.onReady_ && (this.onReady_(e, this.sessionId), this.onReady_ = null), 0 === this.primaryResponsesRequired_ ? (this.log_("Primary connection is healthy."), this.isHealthy_ = !0) : St((function() {
                    n.sendPingOnPrimaryIfNecessary_()
                }), Math.floor(5e3))
            }, lr.prototype.sendPingOnPrimaryIfNecessary_ = function() {
                this.isHealthy_ || 1 !== this.state_ || (this.log_("sending ping on primary."), this.sendData_({
                    t: "c",
                    d: {
                        t: "p",
                        d: {}
                    }
                }))
            }, lr.prototype.onSecondaryConnectionLost_ = function() {
                var t = this.secondaryConn_;
                this.secondaryConn_ = null, this.tx_ !== t && this.rx_ !== t || this.close()
            }, lr.prototype.onConnectionLost_ = function(t) {
                this.conn_ = null, t || 0 !== this.state_ ? 1 === this.state_ && this.log_("Realtime connection lost.") : (this.log_("Realtime connection failed."), this.repoInfo_.isCacheableHost() && (pt.remove("host:" + this.repoInfo_.host), this.repoInfo_.internalHost = this.repoInfo_.host)), this.close()
            }, lr.prototype.onConnectionShutdown_ = function(t) {
                this.log_("Connection shutdown command received. Shutting down..."), this.onKill_ && (this.onKill_(t), this.onKill_ = null), this.onDisconnect_ = null, this.close()
            }, lr.prototype.sendData_ = function(t) {
                if (1 !== this.state_) throw "Connection is not connected";
                this.tx_.send(t)
            }, lr.prototype.close = function() {
                2 !== this.state_ && (this.log_("Closing realtime connection."), this.state_ = 2, this.closeConnections_(), this.onDisconnect_ && (this.onDisconnect_(), this.onDisconnect_ = null))
            }, lr.prototype.closeConnections_ = function() {
                this.log_("Shutting down all connections"), this.conn_ && (this.conn_.close(), this.conn_ = null), this.secondaryConn_ && (this.secondaryConn_.close(), this.secondaryConn_ = null), this.healthyTimeout_ && (clearTimeout(this.healthyTimeout_), this.healthyTimeout_ = null)
            }, lr);

            function lr(t, e, n, i, r, o, s, a) {
                this.id = t, this.repoInfo_ = e, this.applicationId_ = n, this.onMessage_ = i, this.onReady_ = r, this.onDisconnect_ = o, this.onKill_ = s, this.lastSessionId = a, this.connectionCount = 0, this.pendingDataMessages = [], this.state_ = 0, this.log_ = rt("c:" + this.id + ":"), this.transportManager_ = new sr(e), this.log_("Connection created"), this.start_()
            }
            var hr = (cr.prototype.put = function(t, e, n, i) {}, cr.prototype.merge = function(t, e, n, i) {}, cr.prototype.refreshAuthToken = function(t) {}, cr.prototype.onDisconnectPut = function(t, e, n) {}, cr.prototype.onDisconnectMerge = function(t, e, n) {}, cr.prototype.onDisconnectCancel = function(t, e) {}, cr.prototype.reportStats = function(t) {}, cr);

            function cr() {}
            var dr, pr = (n(fr, dr = hr), fr.prototype.sendRequest = function(t, e, n) {
                var i = ++this.requestNumber_,
                    r = {
                        r: i,
                        a: t,
                        b: e
                    };
                this.log_(C(r)), c(this.connected_, "sendRequest call when we're not connected not allowed."), this.realtime_.sendRequest(r), n && (this.requestCBHash_[i] = n)
            }, fr.prototype.listen = function(t, e, n, i) {
                var r = t.queryIdentifier(),
                    o = t.path.toString();
                this.log_("Listen called for " + o + " " + r), this.listens.has(o) || this.listens.set(o, new Map), c(t.getQueryParams().isDefault() || !t.getQueryParams().loadsAllData(), "listen() called for non-default but complete query"), c(!this.listens.get(o).has(r), "listen() called twice for same path/queryId.");
                var s = {
                    onComplete: i,
                    hashFn: e,
                    query: t,
                    tag: n
                };
                this.listens.get(o).set(r, s), this.connected_ && this.sendListen_(s)
            }, fr.prototype.sendListen_ = function(t) {
                var e = this,
                    n = t.query,
                    i = n.path.toString(),
                    r = n.queryIdentifier();
                this.log_("Listen on " + i + " for " + r);
                var o = {
                    p: i
                };
                t.tag && (o.q = n.queryObject(), o.t = t.tag), o.h = t.hashFn(), this.sendRequest("q", o, (function(o) {
                    var s = o.d,
                        a = o.s;
                    fr.warnOnListenWarnings_(s, n), (e.listens.get(i) && e.listens.get(i).get(r)) === t && (e.log_("listen response", o), "ok" !== a && e.removeListen_(i, r), t.onComplete && t.onComplete(a, s))
                }))
            }, fr.warnOnListenWarnings_ = function(t, e) {
                if (t && "object" == typeof t && S(t, "w")) {
                    var n = x(t, "w");
                    if (Array.isArray(n) && ~n.indexOf("no_index")) at("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding " + ('".indexOn": "' + e.getQueryParams().getIndex().toString() + '"') + " at " + e.path.toString() + " to your security rules for better performance.")
                }
            }, fr.prototype.refreshAuthToken = function(t) {
                this.authToken_ = t, this.log_("Auth token refreshed"), this.authToken_ ? this.tryAuth() : this.connected_ && this.sendRequest("unauth", {}, (function() {})), this.reduceReconnectDelayIfAdminCredential_(t)
            }, fr.prototype.reduceReconnectDelayIfAdminCredential_ = function(t) {
                var e;
                (t && 40 === t.length || "object" == typeof(e = k(t).claims) && !0 === e.admin) && (this.log_("Admin auth credential detected.  Reducing max reconnect time."), this.maxReconnectDelay_ = 3e4)
            }, fr.prototype.tryAuth = function() {
                var t, e = this;
                if (this.connected_ && this.authToken_) {
                    var n = this.authToken_,
                        i = (t = k(n).claims) && "object" == typeof t && t.hasOwnProperty("iat") ? "auth" : "gauth",
                        r = {
                            cred: n
                        };
                    null === this.authOverride_ ? r.noauth = !0 : "object" == typeof this.authOverride_ && (r.authvar = this.authOverride_), this.sendRequest(i, r, (function(t) {
                        var i = t.s,
                            r = t.d || "error";
                        e.authToken_ === n && ("ok" === i ? e.invalidAuthTokenCount_ = 0 : e.onAuthRevoked_(i, r))
                    }))
                }
            }, fr.prototype.unlisten = function(t, e) {
                var n = t.path.toString(),
                    i = t.queryIdentifier();
                this.log_("Unlisten called for " + n + " " + i), c(t.getQueryParams().isDefault() || !t.getQueryParams().loadsAllData(), "unlisten() called for non-default but complete query"), this.removeListen_(n, i) && this.connected_ && this.sendUnlisten_(n, i, t.queryObject(), e)
            }, fr.prototype.sendUnlisten_ = function(t, e, n, i) {
                this.log_("Unlisten on " + t + " for " + e);
                var r = {
                    p: t
                };
                i && (r.q = n, r.t = i), this.sendRequest("n", r)
            }, fr.prototype.onDisconnectPut = function(t, e, n) {
                this.connected_ ? this.sendOnDisconnect_("o", t, e, n) : this.onDisconnectRequestQueue_.push({
                    pathString: t,
                    action: "o",
                    data: e,
                    onComplete: n
                })
            }, fr.prototype.onDisconnectMerge = function(t, e, n) {
                this.connected_ ? this.sendOnDisconnect_("om", t, e, n) : this.onDisconnectRequestQueue_.push({
                    pathString: t,
                    action: "om",
                    data: e,
                    onComplete: n
                })
            }, fr.prototype.onDisconnectCancel = function(t, e) {
                this.connected_ ? this.sendOnDisconnect_("oc", t, null, e) : this.onDisconnectRequestQueue_.push({
                    pathString: t,
                    action: "oc",
                    data: null,
                    onComplete: e
                })
            }, fr.prototype.sendOnDisconnect_ = function(t, e, n, i) {
                var r = {
                    p: e,
                    d: n
                };
                this.log_("onDisconnect " + t, r), this.sendRequest(t, r, (function(t) {
                    i && setTimeout((function() {
                        i(t.s, t.d)
                    }), Math.floor(0))
                }))
            }, fr.prototype.put = function(t, e, n, i) {
                this.putInternal("p", t, e, n, i)
            }, fr.prototype.merge = function(t, e, n, i) {
                this.putInternal("m", t, e, n, i)
            }, fr.prototype.putInternal = function(t, e, n, i, r) {
                var o = {
                    p: e,
                    d: n
                };
                void 0 !== r && (o.h = r), this.outstandingPuts_.push({
                    action: t,
                    request: o,
                    onComplete: i
                }), this.outstandingPutCount_++;
                var s = this.outstandingPuts_.length - 1;
                this.connected_ ? this.sendPut_(s) : this.log_("Buffering put: " + e)
            }, fr.prototype.sendPut_ = function(t) {
                var e = this,
                    n = this.outstandingPuts_[t].action,
                    i = this.outstandingPuts_[t].request,
                    r = this.outstandingPuts_[t].onComplete;
                this.outstandingPuts_[t].queued = this.connected_, this.sendRequest(n, i, (function(i) {
                    e.log_(n + " response", i), delete e.outstandingPuts_[t], e.outstandingPutCount_--, 0 === e.outstandingPutCount_ && (e.outstandingPuts_ = []), r && r(i.s, i.d)
                }))
            }, fr.prototype.reportStats = function(t) {
                var e = this;
                if (this.connected_) {
                    var n = {
                        c: t
                    };
                    this.log_("reportStats", n), this.sendRequest("s", n, (function(t) {
                        if ("ok" !== t.s) {
                            var n = t.d;
                            e.log_("reportStats", "Error sending stats: " + n)
                        }
                    }))
                }
            }, fr.prototype.onDataMessage_ = function(t) {
                if ("r" in t) {
                    this.log_("from server: " + C(t));
                    var e = t.r,
                        n = this.requestCBHash_[e];
                    n && (delete this.requestCBHash_[e], n(t.b))
                } else {
                    if ("error" in t) throw "A server-side error has occurred: " + t.error;
                    "a" in t && this.onDataPush_(t.a, t.b)
                }
            }, fr.prototype.onDataPush_ = function(t, e) {
                this.log_("handleServerMessage", t, e), "d" === t ? this.onDataUpdate_(e.p, e.d, !1, e.t) : "m" === t ? this.onDataUpdate_(e.p, e.d, !0, e.t) : "c" === t ? this.onListenRevoked_(e.p, e.q) : "ac" === t ? this.onAuthRevoked_(e.s, e.d) : "sd" === t ? this.onSecurityDebugPacket_(e) : ot("Unrecognized action received from server: " + C(t) + "\nAre you using the latest client?")
            }, fr.prototype.onReady_ = function(t, e) {
                this.log_("connection ready"), this.connected_ = !0, this.lastConnectionEstablishedTime_ = (new Date).getTime(), this.handleTimestamp_(t), this.lastSessionId = e, this.firstConnection_ && this.sendConnectStats_(), this.restoreState_(), this.firstConnection_ = !1, this.onConnectStatus_(!0)
            }, fr.prototype.scheduleConnect_ = function(t) {
                var e = this;
                c(!this.realtime_, "Scheduling a connect when we're already connected/ing?"), this.establishConnectionTimer_ && clearTimeout(this.establishConnectionTimer_), this.establishConnectionTimer_ = setTimeout((function() {
                    e.establishConnectionTimer_ = null, e.establishConnection_()
                }), Math.floor(t))
            }, fr.prototype.onVisible_ = function(t) {
                t && !this.visible_ && this.reconnectDelay_ === this.maxReconnectDelay_ && (this.log_("Window became visible.  Reducing delay."), this.reconnectDelay_ = 1e3, this.realtime_ || this.scheduleConnect_(0)), this.visible_ = t
            }, fr.prototype.onOnline_ = function(t) {
                t ? (this.log_("Browser went online."), this.reconnectDelay_ = 1e3, this.realtime_ || this.scheduleConnect_(0)) : (this.log_("Browser went offline.  Killing connection."), this.realtime_ && this.realtime_.close())
            }, fr.prototype.onRealtimeDisconnect_ = function() {
                if (this.log_("data client disconnected"), this.connected_ = !1, this.realtime_ = null, this.cancelSentTransactions_(), this.requestCBHash_ = {}, this.shouldReconnect_()) {
                    this.visible_ ? this.lastConnectionEstablishedTime_ && (3e4 < (new Date).getTime() - this.lastConnectionEstablishedTime_ && (this.reconnectDelay_ = 1e3), this.lastConnectionEstablishedTime_ = null) : (this.log_("Window isn't visible.  Delaying reconnect."), this.reconnectDelay_ = this.maxReconnectDelay_, this.lastConnectionAttemptTime_ = (new Date).getTime());
                    var t = (new Date).getTime() - this.lastConnectionAttemptTime_,
                        e = Math.max(0, this.reconnectDelay_ - t);
                    e = Math.random() * e, this.log_("Trying to reconnect in " + e + "ms"), this.scheduleConnect_(e), this.reconnectDelay_ = Math.min(this.maxReconnectDelay_, 1.3 * this.reconnectDelay_)
                }
                this.onConnectStatus_(!1)
            }, fr.prototype.establishConnection_ = function() {
                if (this.shouldReconnect_()) {
                    this.log_("Making a connection attempt"), this.lastConnectionAttemptTime_ = (new Date).getTime(), this.lastConnectionEstablishedTime_ = null;
                    var t = this.onDataMessage_.bind(this),
                        e = this.onReady_.bind(this),
                        n = this.onRealtimeDisconnect_.bind(this),
                        i = this.id + ":" + fr.nextConnectionId_++,
                        r = this,
                        o = this.lastSessionId,
                        s = !1,
                        a = null,
                        u = function() {
                            a ? a.close() : (s = !0, n())
                        };
                    this.realtime_ = {
                        close: u,
                        sendRequest: function(t) {
                            c(a, "sendRequest call when we're not connected not allowed."), a.sendRequest(t)
                        }
                    };
                    var l = this.forceTokenRefresh_;
                    this.forceTokenRefresh_ = !1, this.authTokenProvider_.getToken(l).then((function(u) {
                        s ? it("getToken() completed but was canceled") : (it("getToken() completed. Creating connection."), r.authToken_ = u && u.accessToken, a = new ur(i, r.repoInfo_, r.applicationId_, t, e, n, (function(t) {
                            at(t + " (" + r.repoInfo_.toString() + ")"), r.interrupt("server_kill")
                        }), o))
                    })).then(null, (function(t) {
                        r.log_("Failed to get token: " + t), s || u()
                    }))
                }
            }, fr.prototype.interrupt = function(t) {
                it("Interrupting connection for reason: " + t), this.interruptReasons_[t] = !0, this.realtime_ ? this.realtime_.close() : (this.establishConnectionTimer_ && (clearTimeout(this.establishConnectionTimer_), this.establishConnectionTimer_ = null), this.connected_ && this.onRealtimeDisconnect_())
            }, fr.prototype.resume = function(t) {
                it("Resuming connection for reason: " + t), delete this.interruptReasons_[t], D(this.interruptReasons_) && (this.reconnectDelay_ = 1e3, this.realtime_ || this.scheduleConnect_(0))
            }, fr.prototype.handleTimestamp_ = function(t) {
                var e = t - (new Date).getTime();
                this.onServerInfoUpdate_({
                    serverTimeOffset: e
                })
            }, fr.prototype.cancelSentTransactions_ = function() {
                for (var t = 0; t < this.outstandingPuts_.length; t++) {
                    var e = this.outstandingPuts_[t];
                    e && "h" in e.request && e.queued && (e.onComplete && e.onComplete("disconnect"), delete this.outstandingPuts_[t], this.outstandingPutCount_--)
                }
                0 === this.outstandingPutCount_ && (this.outstandingPuts_ = [])
            }, fr.prototype.onListenRevoked_ = function(t, e) {
                var n;
                n = e ? e.map((function(t) {
                    return It(t)
                })).join("$") : "default";
                var i = this.removeListen_(t, n);
                i && i.onComplete && i.onComplete("permission_denied")
            }, fr.prototype.removeListen_ = function(t, e) {
                var n, i = new Nt(t).toString();
                if (this.listens.has(i)) {
                    var r = this.listens.get(i);
                    n = r.get(e), r.delete(e), 0 === r.size && this.listens.delete(i)
                } else n = void 0;
                return n
            }, fr.prototype.onAuthRevoked_ = function(t, e) {
                it("Auth token revoked: " + t + "/" + e), this.authToken_ = null, this.forceTokenRefresh_ = !0, this.realtime_.close(), "invalid_token" !== t && "permission_denied" !== t || (this.invalidAuthTokenCount_++, 3 <= this.invalidAuthTokenCount_ && (this.reconnectDelay_ = 3e4, this.authTokenProvider_.notifyForInvalidToken()))
            }, fr.prototype.onSecurityDebugPacket_ = function(t) {
                this.securityDebugCallback_ ? this.securityDebugCallback_(t) : "msg" in t && console.log("FIREBASE: " + t.msg.replace("\n", "\nFIREBASE: "))
            }, fr.prototype.restoreState_ = function() {
                var t, e, n, i;
                this.tryAuth();
                try {
                    for (var o = r(this.listens.values()), s = o.next(); !s.done; s = o.next()) {
                        var a = s.value;
                        try {
                            for (var u = (n = void 0, r(a.values())), l = u.next(); !l.done; l = u.next()) {
                                var h = l.value;
                                this.sendListen_(h)
                            }
                        } catch (e) {
                            n = {
                                error: e
                            }
                        } finally {
                            try {
                                l && !l.done && (i = u.return) && i.call(u)
                            } finally {
                                if (n) throw n.error
                            }
                        }
                    }
                } catch (e) {
                    t = {
                        error: e
                    }
                } finally {
                    try {
                        s && !s.done && (e = o.return) && e.call(o)
                    } finally {
                        if (t) throw t.error
                    }
                }
                for (var c = 0; c < this.outstandingPuts_.length; c++) this.outstandingPuts_[c] && this.sendPut_(c);
                for (; this.onDisconnectRequestQueue_.length;) {
                    var d = this.onDisconnectRequestQueue_.shift();
                    this.sendOnDisconnect_(d.action, d.pathString, d.data, d.onComplete)
                }
            }, fr.prototype.sendConnectStats_ = function() {
                var t = {};
                t["sdk.js." + nr.replace(/\./g, "-")] = 1, v() ? t["framework.cordova"] = 1 : "object" == typeof navigator && "ReactNative" === navigator.product && (t["framework.reactnative"] = 1), this.reportStats(t)
            }, fr.prototype.shouldReconnect_ = function() {
                var t = Gi.getInstance().currentlyOnline();
                return D(this.interruptReasons_) && t
            }, fr.nextPersistentConnectionId_ = 0, fr.nextConnectionId_ = 0, fr);

            function fr(t, e, n, i, r, o, s) {
                var a = dr.call(this) || this;
                if (a.repoInfo_ = t, a.applicationId_ = e, a.onDataUpdate_ = n, a.onConnectStatus_ = i, a.onServerInfoUpdate_ = r, a.authTokenProvider_ = o, a.authOverride_ = s, a.id = fr.nextPersistentConnectionId_++, a.log_ = rt("p:" + a.id + ":"), a.interruptReasons_ = {}, a.listens = new Map, a.outstandingPuts_ = [], a.outstandingPutCount_ = 0, a.onDisconnectRequestQueue_ = [], a.connected_ = !1, a.reconnectDelay_ = 1e3, a.maxReconnectDelay_ = 3e5, a.securityDebugCallback_ = null, a.lastSessionId = null, a.establishConnectionTimer_ = null, a.visible_ = !1, a.requestCBHash_ = {}, a.requestNumber_ = 0, a.realtime_ = null, a.authToken_ = null, a.forceTokenRefresh_ = !1, a.invalidAuthTokenCount_ = 0, a.firstConnection_ = !0, a.lastConnectionAttemptTime_ = null, a.lastConnectionEstablishedTime_ = null, s && !m()) throw new Error("Auth override specified in options, but not supported on non Node.js platforms");
                return a.scheduleConnect_(0), zi.getInstance().on("visible", a.onVisible_, a), -1 === t.host.indexOf("fblocal") && Gi.getInstance().on("online", a.onOnline_, a), a
            }
            var gr, vr = (n(mr, gr = hr), mr.prototype.reportStats = function(t) {
                throw new Error("Method not implemented.")
            }, mr.getListenId_ = function(t, e) {
                return void 0 !== e ? "tag$" + e : (c(t.getQueryParams().isDefault(), "should have a tag if it's not a default query."), t.path.toString())
            }, mr.prototype.listen = function(t, e, n, i) {
                var r = this,
                    o = t.path.toString();
                this.log_("Listen called for " + o + " " + t.queryIdentifier());
                var s = mr.getListenId_(t, n),
                    a = {};
                this.listens_[s] = a;
                var u = t.getQueryParams().toRestQueryStringParameters();
                this.restRequest_(o + ".json", u, (function(t, e) {
                    var u = e;
                    404 === t && (t = u = null), null === t && r.onDataUpdate_(o, u, !1, n), x(r.listens_, s) === a && i(t ? 401 === t ? "permission_denied" : "rest_error:" + t : "ok", null)
                }))
            }, mr.prototype.unlisten = function(t, e) {
                var n = mr.getListenId_(t, e);
                delete this.listens_[n]
            }, mr.prototype.refreshAuthToken = function(t) {}, mr.prototype.restRequest_ = function(t, e, n) {
                var i = this;
                void 0 === e && (e = {}), e.format = "export", this.authTokenProvider_.getToken(!1).then((function(r) {
                    var o = r && r.accessToken;
                    o && (e.auth = o);
                    var s = (i.repoInfo_.secure ? "https://" : "http://") + i.repoInfo_.host + t + "?ns=" + i.repoInfo_.namespace + function(t) {
                        for (var e = [], n = function(t, n) {
                                Array.isArray(n) ? n.forEach((function(n) {
                                    e.push(encodeURIComponent(t) + "=" + encodeURIComponent(n))
                                })) : e.push(encodeURIComponent(t) + "=" + encodeURIComponent(n))
                            }, i = 0, r = Object.entries(t); i < r.length; i++) {
                            var o = r[i];
                            n(o[0], o[1])
                        }
                        return e.length ? "&" + e.join("&") : ""
                    }(e);
                    i.log_("Sending REST request for " + s);
                    var a = new XMLHttpRequest;
                    a.onreadystatechange = function() {
                        if (n && 4 === a.readyState) {
                            i.log_("REST Response for " + s + " received. status:", a.status, "response:", a.responseText);
                            var t = null;
                            if (200 <= a.status && a.status < 300) {
                                try {
                                    t = T(a.responseText)
                                } catch (t) {
                                    at("Failed to parse JSON response for " + s + ": " + a.responseText)
                                }
                                n(null, t)
                            } else 401 !== a.status && 404 !== a.status && at("Got unsuccessful REST response for " + s + " Status: " + a.status), n(a.status);
                            n = null
                        }
                    }, a.open("GET", s, !0), a.send()
                }))
            }, mr);

            function mr(t, e, n) {
                var i = gr.call(this) || this;
                return i.repoInfo_ = t, i.onDataUpdate_ = e, i.authTokenProvider_ = n, i.log_ = rt("p:rest:"), i.listens_ = {}, i
            }
            var yr = "repo_interrupt",
                _r = (br.prototype.toString = function() {
                    return (this.repoInfo_.secure ? "https://" : "http://") + this.repoInfo_.host
                }, br.prototype.name = function() {
                    return this.repoInfo_.namespace
                }, br.prototype.serverTime = function() {
                    var t = this.infoData_.getNode(new Nt(".info/serverTimeOffset")).val() || 0;
                    return (new Date).getTime() + t
                }, br.prototype.generateServerValues = function() {
                    return (t = t = {
                        timestamp: this.serverTime()
                    }).timestamp = t.timestamp || (new Date).getTime(), t;
                    var t
                }, br.prototype.onDataUpdate_ = function(t, e, n, i) {
                    this.dataUpdateCount++;
                    var r = new Nt(t);
                    e = this.interceptServerDataCallback_ ? this.interceptServerDataCallback_(t, e) : e;
                    var o = [];
                    if (i)
                        if (n) {
                            var s = N(e, (function(t) {
                                return en(t)
                            }));
                            o = this.serverSyncTree_.applyTaggedQueryMerge(r, s, i)
                        } else {
                            var a = en(e);
                            o = this.serverSyncTree_.applyTaggedQueryOverwrite(r, a, i)
                        }
                    else if (n) {
                        var u = N(e, (function(t) {
                            return en(t)
                        }));
                        o = this.serverSyncTree_.applyServerMerge(r, u)
                    } else {
                        var l = en(e);
                        o = this.serverSyncTree_.applyServerOverwrite(r, l)
                    }
                    var h = r;
                    0 < o.length && (h = this.rerunTransactions_(r)), this.eventQueue_.raiseEventsForChangedPath(h, o)
                }, br.prototype.interceptServerData_ = function(t) {
                    this.interceptServerDataCallback_ = t
                }, br.prototype.onConnectStatus_ = function(t) {
                    this.updateInfo_("connected", t), !1 === t && this.runOnDisconnectEvents_()
                }, br.prototype.onServerInfoUpdate_ = function(t) {
                    var e = this;
                    Tt(t, (function(t, n) {
                        e.updateInfo_(t, n)
                    }))
                }, br.prototype.updateInfo_ = function(t, e) {
                    var n = new Nt("/.info/" + t),
                        i = en(e);
                    this.infoData_.updateSnapshot(n, i);
                    var r = this.infoSyncTree_.applyServerOverwrite(n, i);
                    this.eventQueue_.raiseEventsForChangedPath(n, r)
                }, br.prototype.getNextWriteId_ = function() {
                    return this.nextWriteId_++
                }, br.prototype.setWithPriority = function(t, e, n, i) {
                    var r = this;
                    this.log_("set", {
                        path: t.toString(),
                        value: e,
                        priority: n
                    });
                    var o = this.generateServerValues(),
                        s = en(e, n),
                        a = kn(s, this.serverSyncTree_.calcCompleteEventCache(t), o),
                        u = this.getNextWriteId_(),
                        l = this.serverSyncTree_.applyUserOverwrite(t, a, u, !0);
                    this.eventQueue_.queueEvents(l), this.server_.put(t.toString(), s.val(!0), (function(e, n) {
                        var o = "ok" === e;
                        o || at("set at " + t + " failed: " + e);
                        var s = r.serverSyncTree_.ackUserWrite(u, !o);
                        r.eventQueue_.raiseEventsForChangedPath(t, s), r.callOnCompleteCallback(i, e, n)
                    }));
                    var h = this.abortTransactions_(t);
                    this.rerunTransactions_(h), this.eventQueue_.raiseEventsForChangedPath(h, [])
                }, br.prototype.update = function(t, e, n) {
                    var i = this;
                    this.log_("update", {
                        path: t.toString(),
                        value: e
                    });
                    var r = !0,
                        o = this.generateServerValues(),
                        s = {};
                    if (Tt(e, (function(e, n) {
                            r = !1, s[e] = Cn(t.child(e), en(n), i.serverSyncTree_, o)
                        })), r) it("update() called with empty data.  Don't do anything."), this.callOnCompleteCallback(n, "ok");
                    else {
                        var a = this.getNextWriteId_(),
                            u = this.serverSyncTree_.applyUserMerge(t, s, a);
                        this.eventQueue_.queueEvents(u), this.server_.merge(t.toString(), e, (function(e, r) {
                            var o = "ok" === e;
                            o || at("update at " + t + " failed: " + e);
                            var s = i.serverSyncTree_.ackUserWrite(a, !o),
                                u = 0 < s.length ? i.rerunTransactions_(t) : t;
                            i.eventQueue_.raiseEventsForChangedPath(u, s), i.callOnCompleteCallback(n, e, r)
                        })), Tt(e, (function(e) {
                            var n = i.abortTransactions_(t.child(e));
                            i.rerunTransactions_(n)
                        })), this.eventQueue_.raiseEventsForChangedPath(t, [])
                    }
                }, br.prototype.runOnDisconnectEvents_ = function() {
                    var t = this;
                    this.log_("onDisconnectEvents");
                    var e = this.generateServerValues(),
                        n = new On;
                    this.onDisconnect_.forEachTree(Nt.Empty, (function(i, r) {
                        var o = Cn(i, r, t.serverSyncTree_, e);
                        n.remember(i, o)
                    }));
                    var i = [];
                    n.forEachTree(Nt.Empty, (function(e, n) {
                        i = i.concat(t.serverSyncTree_.applyServerOverwrite(e, n));
                        var r = t.abortTransactions_(e);
                        t.rerunTransactions_(r)
                    })), this.onDisconnect_ = new On, this.eventQueue_.raiseEventsForChangedPath(Nt.Empty, i)
                }, br.prototype.onDisconnectCancel = function(t, e) {
                    var n = this;
                    this.server_.onDisconnectCancel(t.toString(), (function(i, r) {
                        "ok" === i && n.onDisconnect_.forget(t), n.callOnCompleteCallback(e, i, r)
                    }))
                }, br.prototype.onDisconnectSet = function(t, e, n) {
                    var i = this,
                        r = en(e);
                    this.server_.onDisconnectPut(t.toString(), r.val(!0), (function(e, o) {
                        "ok" === e && i.onDisconnect_.remember(t, r), i.callOnCompleteCallback(n, e, o)
                    }))
                }, br.prototype.onDisconnectSetWithPriority = function(t, e, n, i) {
                    var r = this,
                        o = en(e, n);
                    this.server_.onDisconnectPut(t.toString(), o.val(!0), (function(e, n) {
                        "ok" === e && r.onDisconnect_.remember(t, o), r.callOnCompleteCallback(i, e, n)
                    }))
                }, br.prototype.onDisconnectUpdate = function(t, e, n) {
                    var i = this;
                    if (D(e)) return it("onDisconnect().update() called with empty data.  Don't do anything."), void this.callOnCompleteCallback(n, "ok");
                    this.server_.onDisconnectMerge(t.toString(), e, (function(r, o) {
                        "ok" === r && Tt(e, (function(e, n) {
                            var r = en(n);
                            i.onDisconnect_.remember(t.child(e), r)
                        })), i.callOnCompleteCallback(n, r, o)
                    }))
                }, br.prototype.addEventCallbackForQuery = function(t, e) {
                    var n;
                    n = ".info" === t.path.getFront() ? this.infoSyncTree_.addEventRegistration(t, e) : this.serverSyncTree_.addEventRegistration(t, e), this.eventQueue_.raiseEventsAtPath(t.path, n)
                }, br.prototype.removeEventCallbackForQuery = function(t, e) {
                    var n;
                    n = ".info" === t.path.getFront() ? this.infoSyncTree_.removeEventRegistration(t, e) : this.serverSyncTree_.removeEventRegistration(t, e), this.eventQueue_.raiseEventsAtPath(t.path, n)
                }, br.prototype.interrupt = function() {
                    this.persistentConnection_ && this.persistentConnection_.interrupt(yr)
                }, br.prototype.resume = function() {
                    this.persistentConnection_ && this.persistentConnection_.resume(yr)
                }, br.prototype.stats = function(t) {
                    if (void 0 === t && (t = !1), "undefined" != typeof console) {
                        var e;
                        e = t ? (this.statsListener_ || (this.statsListener_ = new Ri(this.stats_)), this.statsListener_.get()) : this.stats_.get();
                        var n = Object.keys(e).reduce((function(t, e) {
                            return Math.max(e.length, t)
                        }), 0);
                        Tt(e, (function(t, e) {
                            for (var i = t, r = t.length; r < n + 2; r++) i += " ";
                            console.log(i + e)
                        }))
                    }
                }, br.prototype.statsIncrementCounter = function(t) {
                    this.stats_.incrementCounter(t), this.statsReporter_.includeStat(t)
                }, br.prototype.log_ = function() {
                    for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                    var n = "";
                    this.persistentConnection_ && (n = this.persistentConnection_.id + ":"), it.apply(void 0, s([n], t))
                }, br.prototype.callOnCompleteCallback = function(t, e, n) {
                    t && kt((function() {
                        if ("ok" === e) t(null);
                        else {
                            var i = (e || "error").toUpperCase(),
                                r = i;
                            n && (r += ": " + n);
                            var o = new Error(r);
                            o.code = i, t(o)
                        }
                    }))
                }, Object.defineProperty(br.prototype, "database", {
                    get: function() {
                        return this.__database || (this.__database = new jr(this))
                    },
                    enumerable: !1,
                    configurable: !0
                }), br);

            function br(t, e, n, i) {
                var r = this;
                this.repoInfo_ = t, this.app = n, this.dataUpdateCount = 0, this.statsListener_ = null, this.eventQueue_ = new Ui, this.nextWriteId_ = 1, this.interceptServerDataCallback_ = null, this.onDisconnect_ = new On, this.persistentConnection_ = null;
                var o = new xi(n, i);
                if (this.stats_ = Pi.getCollection(t), e || 0 <= ("object" == typeof window && window.navigator && window.navigator.userAgent || "").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)) this.server_ = new vr(this.repoInfo_, this.onDataUpdate_.bind(this), o), setTimeout(this.onConnectStatus_.bind(this, !0), 0);
                else {
                    var s = n.options.databaseAuthVariableOverride;
                    if (null != s) {
                        if ("object" != typeof s) throw new Error("Only objects are supported for option databaseAuthVariableOverride");
                        try {
                            C(s)
                        } catch (t) {
                            throw new Error("Invalid authOverride provided: " + t)
                        }
                    }
                    this.persistentConnection_ = new pr(this.repoInfo_, n.options.appId, this.onDataUpdate_.bind(this), this.onConnectStatus_.bind(this), this.onServerInfoUpdate_.bind(this), o, s), this.server_ = this.persistentConnection_
                }
                o.addTokenChangeListener((function(t) {
                    r.server_.refreshAuthToken(t)
                })), this.statsReporter_ = Pi.getOrCreateReporter(t, (function() {
                    return new Mi(r.stats_, r.server_)
                })), this.transactionsInit_(), this.infoData_ = new ki, this.infoSyncTree_ = new Ti({
                    startListening: function(t, e, n, i) {
                        var o = [],
                            s = r.infoData_.getNode(t.path);
                        return s.isEmpty() || (o = r.infoSyncTree_.applyServerOverwrite(t.path, s), setTimeout((function() {
                            i("ok")
                        }), 0)), o
                    },
                    stopListening: function() {}
                }), this.updateInfo_("connected", !1), this.serverSyncTree_ = new Ti({
                    startListening: function(t, e, n, i) {
                        return r.server_.listen(t, n, e, (function(e, n) {
                            var o = i(e, n);
                            r.eventQueue_.raiseEventsForChangedPath(t.path, o)
                        })), []
                    },
                    stopListening: function(t, e) {
                        r.server_.unlisten(t, e)
                    }
                })
            }
            var wr = (Er.prototype.getStartPost = function() {
                return this.startPost_
            }, Er.prototype.getEndPost = function() {
                return this.endPost_
            }, Er.prototype.matches = function(t) {
                return this.index_.compare(this.getStartPost(), t) <= 0 && this.index_.compare(t, this.getEndPost()) <= 0
            }, Er.prototype.updateChild = function(t, e, n, i, r, o) {
                return this.matches(new he(e, n)) || (n = Qe.EMPTY_NODE), this.indexedFilter_.updateChild(t, e, n, i, r, o)
            }, Er.prototype.updateFullNode = function(t, e, n) {
                e.isLeafNode() && (e = Qe.EMPTY_NODE);
                var i = e.withIndex(this.index_);
                i = i.updatePriority(Qe.EMPTY_NODE);
                var r = this;
                return e.forEachChild(De, (function(t, e) {
                    r.matches(new he(t, e)) || (i = i.updateImmediateChild(t, Qe.EMPTY_NODE))
                })), this.indexedFilter_.updateFullNode(t, i, n)
            }, Er.prototype.updatePriority = function(t, e) {
                return t
            }, Er.prototype.filtersNodes = function() {
                return !0
            }, Er.prototype.getIndexedFilter = function() {
                return this.indexedFilter_
            }, Er.prototype.getIndex = function() {
                return this.index_
            }, Er.getStartPost_ = function(t) {
                if (t.hasStart()) {
                    var e = t.getIndexStartName();
                    return t.getIndex().makePost(t.getIndexStartValue(), e)
                }
                return t.getIndex().minPost()
            }, Er.getEndPost_ = function(t) {
                if (t.hasEnd()) {
                    var e = t.getIndexEndName();
                    return t.getIndex().makePost(t.getIndexEndValue(), e)
                }
                return t.getIndex().maxPost()
            }, Er);

            function Er(t) {
                this.indexedFilter_ = new ti(t.getIndex()), this.index_ = t.getIndex(), this.startPost_ = Er.getStartPost_(t), this.endPost_ = Er.getEndPost_(t)
            }
            var Ir = (Tr.prototype.updateChild = function(t, e, n, i, r, o) {
                return this.rangedFilter_.matches(new he(e, n)) || (n = Qe.EMPTY_NODE), t.getImmediateChild(e).equals(n) ? t : t.numChildren() < this.limit_ ? this.rangedFilter_.getIndexedFilter().updateChild(t, e, n, i, r, o) : this.fullLimitUpdateChild_(t, e, n, r, o)
            }, Tr.prototype.updateFullNode = function(t, e, n) {
                var i;
                if (e.isLeafNode() || e.isEmpty()) i = Qe.EMPTY_NODE.withIndex(this.index_);
                else if (2 * this.limit_ < e.numChildren() && e.isIndexed(this.index_)) {
                    i = Qe.EMPTY_NODE.withIndex(this.index_);
                    var r = void 0;
                    r = this.reverse_ ? e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(), this.index_) : e.getIteratorFrom(this.rangedFilter_.getStartPost(), this.index_);
                    for (var o = 0; r.hasNext() && o < this.limit_;) {
                        var s = r.getNext();
                        if (!(this.reverse_ ? this.index_.compare(this.rangedFilter_.getStartPost(), s) <= 0 : this.index_.compare(s, this.rangedFilter_.getEndPost()) <= 0)) break;
                        i = i.updateImmediateChild(s.name, s.node), o++
                    }
                } else {
                    i = (i = e.withIndex(this.index_)).updatePriority(Qe.EMPTY_NODE);
                    var a = void 0,
                        u = void 0,
                        l = void 0;
                    if (r = void 0, this.reverse_) {
                        r = i.getReverseIterator(this.index_), a = this.rangedFilter_.getEndPost(), u = this.rangedFilter_.getStartPost();
                        var h = this.index_.getCompare();
                        l = function(t, e) {
                            return h(e, t)
                        }
                    } else r = i.getIterator(this.index_), a = this.rangedFilter_.getStartPost(), u = this.rangedFilter_.getEndPost(), l = this.index_.getCompare();
                    o = 0;
                    for (var c = !1; r.hasNext();) s = r.getNext(), !c && l(a, s) <= 0 && (c = !0), c && o < this.limit_ && l(s, u) <= 0 ? o++ : i = i.updateImmediateChild(s.name, Qe.EMPTY_NODE)
                }
                return this.rangedFilter_.getIndexedFilter().updateFullNode(t, i, n)
            }, Tr.prototype.updatePriority = function(t, e) {
                return t
            }, Tr.prototype.filtersNodes = function() {
                return !0
            }, Tr.prototype.getIndexedFilter = function() {
                return this.rangedFilter_.getIndexedFilter()
            }, Tr.prototype.getIndex = function() {
                return this.index_
            }, Tr.prototype.fullLimitUpdateChild_ = function(t, e, n, i, r) {
                var o;
                if (this.reverse_) {
                    var s = this.index_.getCompare();
                    o = function(t, e) {
                        return s(e, t)
                    }
                } else o = this.index_.getCompare();
                var a = t;
                c(a.numChildren() === this.limit_, "");
                var u = new he(e, n),
                    l = this.reverse_ ? a.getFirstChild(this.index_) : a.getLastChild(this.index_),
                    h = this.rangedFilter_.matches(u);
                if (a.hasChild(e)) {
                    for (var d = a.getImmediateChild(e), p = i.getChildAfterChild(this.index_, l, this.reverse_); null != p && (p.name === e || a.hasChild(p.name));) p = i.getChildAfterChild(this.index_, p, this.reverse_);
                    var f = null == p ? 1 : o(p, u);
                    if (h && !n.isEmpty() && 0 <= f) return null != r && r.trackChildChange(Jn.childChangedChange(e, n, d)), a.updateImmediateChild(e, n);
                    null != r && r.trackChildChange(Jn.childRemovedChange(e, d));
                    var g = a.updateImmediateChild(e, Qe.EMPTY_NODE);
                    return null != p && this.rangedFilter_.matches(p) ? (null != r && r.trackChildChange(Jn.childAddedChange(p.name, p.node)), g.updateImmediateChild(p.name, p.node)) : g
                }
                return !n.isEmpty() && h && 0 <= o(l, u) ? (null != r && (r.trackChildChange(Jn.childRemovedChange(l.name, l.node)), r.trackChildChange(Jn.childAddedChange(e, n))), a.updateImmediateChild(e, n).updateImmediateChild(l.name, Qe.EMPTY_NODE)) : t
            }, Tr);

            function Tr(t) {
                this.rangedFilter_ = new wr(t), this.index_ = t.getIndex(), this.limit_ = t.getLimit(), this.reverse_ = !t.isViewFromLeft()
            }
            var Cr = (kr.prototype.hasStart = function() {
                return this.startSet_
            }, kr.prototype.isViewFromLeft = function() {
                return "" === this.viewFrom_ ? this.startSet_ : this.viewFrom_ === kr.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT
            }, kr.prototype.getIndexStartValue = function() {
                return c(this.startSet_, "Only valid if start has been set"), this.indexStartValue_
            }, kr.prototype.getIndexStartName = function() {
                return c(this.startSet_, "Only valid if start has been set"), this.startNameSet_ ? this.indexStartName_ : bt
            }, kr.prototype.hasEnd = function() {
                return this.endSet_
            }, kr.prototype.getIndexEndValue = function() {
                return c(this.endSet_, "Only valid if end has been set"), this.indexEndValue_
            }, kr.prototype.getIndexEndName = function() {
                return c(this.endSet_, "Only valid if end has been set"), this.endNameSet_ ? this.indexEndName_ : wt
            }, kr.prototype.hasLimit = function() {
                return this.limitSet_
            }, kr.prototype.hasAnchoredLimit = function() {
                return this.limitSet_ && "" !== this.viewFrom_
            }, kr.prototype.getLimit = function() {
                return c(this.limitSet_, "Only valid if limit has been set"), this.limit_
            }, kr.prototype.getIndex = function() {
                return this.index_
            }, kr.prototype.copy_ = function() {
                var t = new kr;
                return t.limitSet_ = this.limitSet_, t.limit_ = this.limit_, t.startSet_ = this.startSet_, t.indexStartValue_ = this.indexStartValue_, t.startNameSet_ = this.startNameSet_, t.indexStartName_ = this.indexStartName_, t.endSet_ = this.endSet_, t.indexEndValue_ = this.indexEndValue_, t.endNameSet_ = this.endNameSet_, t.indexEndName_ = this.indexEndName_, t.index_ = this.index_, t.viewFrom_ = this.viewFrom_, t
            }, kr.prototype.limit = function(t) {
                var e = this.copy_();
                return e.limitSet_ = !0, e.limit_ = t, e.viewFrom_ = "", e
            }, kr.prototype.limitToFirst = function(t) {
                var e = this.copy_();
                return e.limitSet_ = !0, e.limit_ = t, e.viewFrom_ = kr.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT, e
            }, kr.prototype.limitToLast = function(t) {
                var e = this.copy_();
                return e.limitSet_ = !0, e.limit_ = t, e.viewFrom_ = kr.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT, e
            }, kr.prototype.startAt = function(t, e) {
                var n = this.copy_();
                return n.startSet_ = !0, void 0 === t && (t = null), n.indexStartValue_ = t, null != e ? (n.startNameSet_ = !0, n.indexStartName_ = e) : (n.startNameSet_ = !1, n.indexStartName_ = ""), n
            }, kr.prototype.endAt = function(t, e) {
                var n = this.copy_();
                return n.endSet_ = !0, void 0 === t && (t = null), n.indexEndValue_ = t, void 0 !== e ? (n.endNameSet_ = !0, n.indexEndName_ = e) : (n.endNameSet_ = !1, n.indexEndName_ = ""), n
            }, kr.prototype.orderBy = function(t) {
                var e = this.copy_();
                return e.index_ = t, e
            }, kr.prototype.getQueryObject = function() {
                var t = kr.WIRE_PROTOCOL_CONSTANTS_,
                    e = {};
                if (this.startSet_ && (e[t.INDEX_START_VALUE] = this.indexStartValue_, this.startNameSet_ && (e[t.INDEX_START_NAME] = this.indexStartName_)), this.endSet_ && (e[t.INDEX_END_VALUE] = this.indexEndValue_, this.endNameSet_ && (e[t.INDEX_END_NAME] = this.indexEndName_)), this.limitSet_) {
                    e[t.LIMIT] = this.limit_;
                    var n = this.viewFrom_;
                    "" === n && (n = this.isViewFromLeft() ? t.VIEW_FROM_LEFT : t.VIEW_FROM_RIGHT), e[t.VIEW_FROM] = n
                }
                return this.index_ !== De && (e[t.INDEX] = this.index_.toString()), e
            }, kr.prototype.loadsAllData = function() {
                return !(this.startSet_ || this.endSet_ || this.limitSet_)
            }, kr.prototype.isDefault = function() {
                return this.loadsAllData() && this.index_ === De
            }, kr.prototype.getNodeFilter = function() {
                return this.loadsAllData() ? new ti(this.getIndex()) : new(this.hasLimit() ? Ir : wr)(this)
            }, kr.prototype.toRestQueryStringParameters = function() {
                var t, e = kr.REST_QUERY_CONSTANTS_,
                    n = {};
                return this.isDefault() || (t = this.index_ === De ? e.PRIORITY_INDEX : this.index_ === on ? e.VALUE_INDEX : this.index_ === _e ? e.KEY_INDEX : (c(this.index_ instanceof sn, "Unrecognized index type!"), this.index_.toString()), n[e.ORDER_BY] = C(t), this.startSet_ && (n[e.START_AT] = C(this.indexStartValue_), this.startNameSet_ && (n[e.START_AT] += "," + C(this.indexStartName_))), this.endSet_ && (n[e.END_AT] = C(this.indexEndValue_), this.endNameSet_ && (n[e.END_AT] += "," + C(this.indexEndName_))), this.limitSet_ && (this.isViewFromLeft() ? n[e.LIMIT_TO_FIRST] = this.limit_ : n[e.LIMIT_TO_LAST] = this.limit_)), n
            }, kr.WIRE_PROTOCOL_CONSTANTS_ = {
                INDEX_START_VALUE: "sp",
                INDEX_START_NAME: "sn",
                INDEX_END_VALUE: "ep",
                INDEX_END_NAME: "en",
                LIMIT: "l",
                VIEW_FROM: "vf",
                VIEW_FROM_LEFT: "l",
                VIEW_FROM_RIGHT: "r",
                INDEX: "i"
            }, kr.REST_QUERY_CONSTANTS_ = {
                ORDER_BY: "orderBy",
                PRIORITY_INDEX: "$priority",
                VALUE_INDEX: "$value",
                KEY_INDEX: "$key",
                START_AT: "startAt",
                END_AT: "endAt",
                LIMIT_TO_FIRST: "limitToFirst",
                LIMIT_TO_LAST: "limitToLast"
            }, kr.DEFAULT = new kr, kr);

            function kr() {
                this.limitSet_ = !1, this.startSet_ = !1, this.startNameSet_ = !1, this.endSet_ = !1, this.endNameSet_ = !1, this.limit_ = 0, this.viewFrom_ = "", this.indexStartValue_ = null, this.indexStartName_ = "", this.indexEndValue_ = null, this.indexEndName_ = "", this.index_ = De
            }
            var Sr, xr = (n(Dr, Sr = _n), Dr.prototype.getKey = function() {
                return M("Reference.key", 0, 0, arguments.length), this.path.isEmpty() ? null : this.path.getBack()
            }, Dr.prototype.child = function(t) {
                var e, n, i;
                return M("Reference.child", 1, 1, arguments.length), "number" == typeof t ? t = String(t) : t instanceof Nt || (null === this.path.getFront() ? (i = !(e = 1), Gt("Reference.child", e, n = (n = t) && n.replace(/^\/*\.info(\/|$)/, "/"), i)) : Gt("Reference.child", 1, t, !1)), new Dr(this.repo, this.path.child(t))
            }, Dr.prototype.getParent = function() {
                M("Reference.parent", 0, 0, arguments.length);
                var t = this.path.parent();
                return null === t ? null : new Dr(this.repo, t)
            }, Dr.prototype.getRoot = function() {
                M("Reference.root", 0, 0, arguments.length);
                for (var t = this; null !== t.getParent();) t = t.getParent();
                return t
            }, Dr.prototype.databaseProp = function() {
                return this.repo.database
            }, Dr.prototype.set = function(t, e) {
                M("Reference.set", 1, 2, arguments.length), Yt("Reference.set", this.path), Vt("Reference.set", 1, t, this.path, !1), U("Reference.set", 2, e, !0);
                var n = new f;
                return this.repo.setWithPriority(this.path, t, null, n.wrapCallback(e)), n.promise
            }, Dr.prototype.update = function(t, e) {
                if (M("Reference.update", 1, 2, arguments.length), Yt("Reference.update", this.path), Array.isArray(t)) {
                    for (var n = {}, i = 0; i < t.length; ++i) n["" + i] = t[i];
                    t = n, at("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")
                }
                Bt("Reference.update", 1, t, this.path, !1), U("Reference.update", 2, e, !0);
                var r = new f;
                return this.repo.update(this.path, t, r.wrapCallback(e)), r.promise
            }, Dr.prototype.setWithPriority = function(t, e, n) {
                if (M("Reference.setWithPriority", 2, 3, arguments.length), Yt("Reference.setWithPriority", this.path), Vt("Reference.setWithPriority", 1, t, this.path, !1), zt("Reference.setWithPriority", 2, e, !1), U("Reference.setWithPriority", 3, n, !0), ".length" === this.getKey() || ".keys" === this.getKey()) throw "Reference.setWithPriority failed: " + this.getKey() + " is a read-only object.";
                var i = new f;
                return this.repo.setWithPriority(this.path, t, e, i.wrapCallback(n)), i.promise
            }, Dr.prototype.remove = function(t) {
                return M("Reference.remove", 0, 1, arguments.length), Yt("Reference.remove", this.path), U("Reference.remove", 1, t, !0), this.set(null, t)
            }, Dr.prototype.transaction = function(t, e, n) {
                if (M("Reference.transaction", 1, 3, arguments.length), Yt("Reference.transaction", this.path), U("Reference.transaction", 1, t, !1), U("Reference.transaction", 2, e, !0), function(t, e, n, i) {
                        if (void 0 !== n && "boolean" != typeof n) throw new Error(F("Reference.transaction", 3, true) + "must be a boolean.")
                    }(0, 0, n), ".length" === this.getKey() || ".keys" === this.getKey()) throw "Reference.transaction failed: " + this.getKey() + " is a read-only object.";
                void 0 === n && (n = !0);
                var i = new f;
                return "function" == typeof e && i.promise.catch((function() {})), this.repo.startTransaction(this.path, t, (function(t, n, r) {
                    t ? i.reject(t) : i.resolve(new re(n, r)), "function" == typeof e && e(t, n, r)
                }), n), i.promise
            }, Dr.prototype.setPriority = function(t, e) {
                M("Reference.setPriority", 1, 2, arguments.length), Yt("Reference.setPriority", this.path), zt("Reference.setPriority", 1, t, !1), U("Reference.setPriority", 2, e, !0);
                var n = new f;
                return this.repo.setWithPriority(this.path.child(".priority"), t, null, n.wrapCallback(e)), n.promise
            }, Dr.prototype.push = function(t, e) {
                M("Reference.push", 0, 2, arguments.length), Yt("Reference.push", this.path), Vt("Reference.push", 1, t, this.path, !0), U("Reference.push", 2, e, !0);
                var n, i = this.repo.serverTime(),
                    r = le(i),
                    o = this.child(r),
                    s = this.child(r);
                return n = null != t ? o.set(t, e).then((function() {
                    return s
                })) : Promise.resolve(s), o.then = n.then.bind(n), o.catch = n.then.bind(n, void 0), "function" == typeof e && n.catch((function() {})), o
            }, Dr.prototype.onDisconnect = function() {
                return Yt("Reference.onDisconnect", this.path), new ne(this.repo, this.path)
            }, Object.defineProperty(Dr.prototype, "database", {
                get: function() {
                    return this.databaseProp()
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(Dr.prototype, "key", {
                get: function() {
                    return this.getKey()
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(Dr.prototype, "parent", {
                get: function() {
                    return this.getParent()
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(Dr.prototype, "root", {
                get: function() {
                    return this.getRoot()
                },
                enumerable: !1,
                configurable: !0
            }), Dr);

            function Dr(t, e) {
                if (!(t instanceof _r)) throw new Error("new Reference() no longer supported - use app.database().");
                return Sr.call(this, t, e, Cr.DEFAULT, !1) || this
            }
            _n.__referenceConstructor = xr, vi.__referenceConstructor = xr;
            var Nr, Ar, Pr = function() {
                    this.children = {}, this.childCount = 0, this.value = null
                },
                Or = (Rr.prototype.subTree = function(t) {
                    for (var e = t instanceof Nt ? t : new Nt(t), n = this, i = e.getFront(); null !== i;) n = new Rr(i, n, x(n.node_.children, i) || new Pr), i = (e = e.popFront()).getFront();
                    return n
                }, Rr.prototype.getValue = function() {
                    return this.node_.value
                }, Rr.prototype.setValue = function(t) {
                    c(void 0 !== t, "Cannot set value to undefined"), this.node_.value = t, this.updateParents_()
                }, Rr.prototype.clear = function() {
                    this.node_.value = null, this.node_.children = {}, this.node_.childCount = 0, this.updateParents_()
                }, Rr.prototype.hasChildren = function() {
                    return 0 < this.node_.childCount
                }, Rr.prototype.isEmpty = function() {
                    return null === this.getValue() && !this.hasChildren()
                }, Rr.prototype.forEachChild = function(t) {
                    var e = this;
                    Tt(this.node_.children, (function(n, i) {
                        t(new Rr(n, e, i))
                    }))
                }, Rr.prototype.forEachDescendant = function(t, e, n) {
                    e && !n && t(this), this.forEachChild((function(e) {
                        e.forEachDescendant(t, !0, n)
                    })), e && n && t(this)
                }, Rr.prototype.forEachAncestor = function(t, e) {
                    for (var n = e ? this : this.parent(); null !== n;) {
                        if (t(n)) return !0;
                        n = n.parent()
                    }
                    return !1
                }, Rr.prototype.forEachImmediateDescendantWithValue = function(t) {
                    this.forEachChild((function(e) {
                        null !== e.getValue() ? t(e) : e.forEachImmediateDescendantWithValue(t)
                    }))
                }, Rr.prototype.path = function() {
                    return new Nt(null === this.parent_ ? this.name_ : this.parent_.path() + "/" + this.name_)
                }, Rr.prototype.name = function() {
                    return this.name_
                }, Rr.prototype.parent = function() {
                    return this.parent_
                }, Rr.prototype.updateParents_ = function() {
                    null !== this.parent_ && this.parent_.updateChild_(this.name_, this)
                }, Rr.prototype.updateChild_ = function(t, e) {
                    var n = e.isEmpty(),
                        i = S(this.node_.children, t);
                    n && i ? (delete this.node_.children[t], this.node_.childCount--, this.updateParents_()) : n || i || (this.node_.children[t] = e.node_, this.node_.childCount++, this.updateParents_())
                }, Rr);

            function Rr(t, e, n) {
                void 0 === t && (t = ""), void 0 === e && (e = null), void 0 === n && (n = new Pr), this.name_ = t, this.parent_ = e, this.node_ = n
            }(Ar = Nr = Nr || {})[Ar.RUN = 0] = "RUN", Ar[Ar.SENT = 1] = "SENT", Ar[Ar.COMPLETED = 2] = "COMPLETED", Ar[Ar.SENT_NEEDS_ABORT = 3] = "SENT_NEEDS_ABORT", Ar[Ar.NEEDS_ABORT = 4] = "NEEDS_ABORT", _r.MAX_TRANSACTION_RETRIES_ = 25, _r.prototype.transactionsInit_ = function() {
                this.transactionQueueTree_ = new Or
            }, _r.prototype.startTransaction = function(t, e, n, i) {
                function r() {}
                this.log_("transaction on " + t);
                var o = new xr(this, t);
                o.on("value", r);
                var s = {
                        path: t,
                        update: e,
                        onComplete: n,
                        status: null,
                        order: vt(),
                        applyLocally: i,
                        retryCount: 0,
                        unwatcher: function() {
                            o.off("value", r)
                        },
                        abortReason: null,
                        currentWriteId: null,
                        currentInputSnapshot: null,
                        currentOutputSnapshotRaw: null,
                        currentOutputSnapshotResolved: null
                    },
                    a = this.getLatestState_(t);
                s.currentInputSnapshot = a;
                var u = s.update(a.val());
                if (void 0 === u) {
                    if (s.unwatcher(), s.currentOutputSnapshotRaw = null, s.currentOutputSnapshotResolved = null, s.onComplete) {
                        var l = new un(s.currentInputSnapshot, new xr(this, s.path), De);
                        s.onComplete(null, !1, l)
                    }
                } else {
                    ee("transaction failed: Data returned ", u, s.path), s.status = Nr.RUN;
                    var h = this.transactionQueueTree_.subTree(t),
                        d = h.getValue() || [];
                    d.push(s), h.setValue(d);
                    var p = void 0;
                    "object" == typeof u && null !== u && S(u, ".priority") ? (p = x(u, ".priority"), c(Wt(p), "Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")) : p = (this.serverSyncTree_.calcCompleteEventCache(t) || Qe.EMPTY_NODE).getPriority().val(), p = p;
                    var f = this.generateServerValues(),
                        g = en(u, p),
                        v = kn(g, a, f);
                    s.currentOutputSnapshotRaw = g, s.currentOutputSnapshotResolved = v, s.currentWriteId = this.getNextWriteId_();
                    var m = this.serverSyncTree_.applyUserOverwrite(t, v, s.currentWriteId, s.applyLocally);
                    this.eventQueue_.raiseEventsForChangedPath(t, m), this.sendReadyTransactions_()
                }
            }, _r.prototype.getLatestState_ = function(t, e) {
                return this.serverSyncTree_.calcCompleteEventCache(t, e) || Qe.EMPTY_NODE
            }, _r.prototype.sendReadyTransactions_ = function(t) {
                var e = this;
                if (void 0 === t && (t = this.transactionQueueTree_), t || this.pruneCompletedTransactionsBelowNode_(t), null !== t.getValue()) {
                    var n = this.buildTransactionQueue_(t);
                    c(0 < n.length, "Sending zero length transaction queue"), n.every((function(t) {
                        return t.status === Nr.RUN
                    })) && this.sendTransactionQueue_(t.path(), n)
                } else t.hasChildren() && t.forEachChild((function(t) {
                    e.sendReadyTransactions_(t)
                }))
            }, _r.prototype.sendTransactionQueue_ = function(t, e) {
                for (var n = this, i = e.map((function(t) {
                        return t.currentWriteId
                    })), r = this.getLatestState_(t, i), o = r, s = r.hash(), a = 0; a < e.length; a++) {
                    var u = e[a];
                    c(u.status === Nr.RUN, "tryToSendTransactionQueue_: items in queue should all be run."), u.status = Nr.SENT, u.retryCount++;
                    var l = Nt.relativePath(t, u.path);
                    o = o.updateChild(l, u.currentOutputSnapshotRaw)
                }
                var h = o.val(!0),
                    d = t;
                this.server_.put(d.toString(), h, (function(i) {
                    n.log_("transaction put response", {
                        path: d.toString(),
                        status: i
                    });
                    var r = [];
                    if ("ok" === i) {
                        for (var o = [], s = 0; s < e.length; s++) {
                            if (e[s].status = Nr.COMPLETED, r = r.concat(n.serverSyncTree_.ackUserWrite(e[s].currentWriteId)), e[s].onComplete) {
                                var a = e[s].currentOutputSnapshotResolved,
                                    u = new xr(n, e[s].path),
                                    l = new un(a, u, De);
                                o.push(e[s].onComplete.bind(null, null, !0, l))
                            }
                            e[s].unwatcher()
                        }
                        for (n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)), n.sendReadyTransactions_(), n.eventQueue_.raiseEventsForChangedPath(t, r), s = 0; s < o.length; s++) kt(o[s])
                    } else {
                        if ("datastale" === i)
                            for (s = 0; s < e.length; s++) e[s].status === Nr.SENT_NEEDS_ABORT ? e[s].status = Nr.NEEDS_ABORT : e[s].status = Nr.RUN;
                        else
                            for (at("transaction at " + d.toString() + " failed: " + i), s = 0; s < e.length; s++) e[s].status = Nr.NEEDS_ABORT, e[s].abortReason = i;
                        n.rerunTransactions_(t)
                    }
                }), s)
            }, _r.prototype.rerunTransactions_ = function(t) {
                var e = this.getAncestorTransactionNode_(t),
                    n = e.path(),
                    i = this.buildTransactionQueue_(e);
                return this.rerunTransactionQueue_(i, n), n
            }, _r.prototype.rerunTransactionQueue_ = function(t, e) {
                if (0 !== t.length) {
                    for (var n, i = [], r = [], o = t.filter((function(t) {
                            return t.status === Nr.RUN
                        })).map((function(t) {
                            return t.currentWriteId
                        })), s = 0; s < t.length; s++) {
                        var a = t[s],
                            u = Nt.relativePath(e, a.path),
                            l = !1,
                            h = void 0;
                        if (c(null !== u, "rerunTransactionsUnderNode_: relativePath should not be null."), a.status === Nr.NEEDS_ABORT) l = !0, h = a.abortReason, r = r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId, !0));
                        else if (a.status === Nr.RUN)
                            if (a.retryCount >= _r.MAX_TRANSACTION_RETRIES_) l = !0, h = "maxretry", r = r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId, !0));
                            else {
                                var d = this.getLatestState_(a.path, o);
                                a.currentInputSnapshot = d;
                                var p = t[s].update(d.val());
                                if (void 0 !== p) {
                                    ee("transaction failed: Data returned ", p, a.path);
                                    var f = en(p);
                                    "object" == typeof p && null != p && S(p, ".priority") || (f = f.updatePriority(d.getPriority()));
                                    var g = a.currentWriteId,
                                        v = kn(f, d, this.generateServerValues());
                                    a.currentOutputSnapshotRaw = f, a.currentOutputSnapshotResolved = v, a.currentWriteId = this.getNextWriteId_(), o.splice(o.indexOf(g), 1), r = (r = r.concat(this.serverSyncTree_.applyUserOverwrite(a.path, v, a.currentWriteId, a.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(g, !0))
                                } else l = !0, h = "nodata", r = r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId, !0))
                            } if (this.eventQueue_.raiseEventsForChangedPath(e, r), r = [], l && (t[s].status = Nr.COMPLETED, n = t[s].unwatcher, setTimeout(n, Math.floor(0)), t[s].onComplete))
                            if ("nodata" === h) {
                                var m = new xr(this, t[s].path),
                                    y = t[s].currentInputSnapshot,
                                    _ = new un(y, m, De);
                                i.push(t[s].onComplete.bind(null, null, !1, _))
                            } else i.push(t[s].onComplete.bind(null, new Error(h), !1, null))
                    }
                    for (this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_), s = 0; s < i.length; s++) kt(i[s]);
                    this.sendReadyTransactions_()
                }
            }, _r.prototype.getAncestorTransactionNode_ = function(t) {
                var e, n = this.transactionQueueTree_;
                for (e = t.getFront(); null !== e && null === n.getValue();) n = n.subTree(e), e = (t = t.popFront()).getFront();
                return n
            }, _r.prototype.buildTransactionQueue_ = function(t) {
                var e = [];
                return this.aggregateTransactionQueuesForNode_(t, e), e.sort((function(t, e) {
                    return t.order - e.order
                })), e
            }, _r.prototype.aggregateTransactionQueuesForNode_ = function(t, e) {
                var n = this,
                    i = t.getValue();
                if (null !== i)
                    for (var r = 0; r < i.length; r++) e.push(i[r]);
                t.forEachChild((function(t) {
                    n.aggregateTransactionQueuesForNode_(t, e)
                }))
            }, _r.prototype.pruneCompletedTransactionsBelowNode_ = function(t) {
                var e = this,
                    n = t.getValue();
                if (n) {
                    for (var i = 0, r = 0; r < n.length; r++) n[r].status !== Nr.COMPLETED && (n[i] = n[r], i++);
                    n.length = i, t.setValue(0 < n.length ? n : null)
                }
                t.forEachChild((function(t) {
                    e.pruneCompletedTransactionsBelowNode_(t)
                }))
            }, _r.prototype.abortTransactions_ = function(t) {
                var e = this,
                    n = this.getAncestorTransactionNode_(t).path(),
                    i = this.transactionQueueTree_.subTree(t);
                return i.forEachAncestor((function(t) {
                    e.abortTransactionsOnNode_(t)
                })), this.abortTransactionsOnNode_(i), i.forEachDescendant((function(t) {
                    e.abortTransactionsOnNode_(t)
                })), n
            }, _r.prototype.abortTransactionsOnNode_ = function(t) {
                var e = t.getValue();
                if (null !== e) {
                    for (var n = [], i = [], r = -1, o = 0; o < e.length; o++) e[o].status !== Nr.SENT_NEEDS_ABORT && (e[o].status === Nr.SENT ? (c(r === o - 1, "All SENT items should be at beginning of queue."), e[r = o].status = Nr.SENT_NEEDS_ABORT, e[o].abortReason = "set") : (c(e[o].status === Nr.RUN, "Unexpected transaction status in abort"), e[o].unwatcher(), i = i.concat(this.serverSyncTree_.ackUserWrite(e[o].currentWriteId, !0)), e[o].onComplete && n.push(e[o].onComplete.bind(null, new Error("set"), !1, null))));
                    for (-1 === r ? t.setValue(null) : e.length = r + 1, this.eventQueue_.raiseEventsForChangedPath(t.path(), i), o = 0; o < n.length; o++) kt(n[o])
                }
            };
            var Lr, Mr = "databaseURL",
                Fr = (Ur.getInstance = function() {
                    return Lr = Lr || new Ur
                }, Ur.prototype.interrupt = function() {
                    var t, e, n, i;
                    try {
                        for (var o = r(Object.keys(this.repos_)), s = o.next(); !s.done; s = o.next()) {
                            var a = s.value;
                            try {
                                for (var u = (n = void 0, r(Object.keys(this.repos_[a]))), l = u.next(); !l.done; l = u.next()) {
                                    var h = l.value;
                                    this.repos_[a][h].interrupt()
                                }
                            } catch (e) {
                                n = {
                                    error: e
                                }
                            } finally {
                                try {
                                    l && !l.done && (i = u.return) && i.call(u)
                                } finally {
                                    if (n) throw n.error
                                }
                            }
                        }
                    } catch (e) {
                        t = {
                            error: e
                        }
                    } finally {
                        try {
                            s && !s.done && (e = o.return) && e.call(o)
                        } finally {
                            if (t) throw t.error
                        }
                    }
                }, Ur.prototype.resume = function() {
                    var t, e, n, i;
                    try {
                        for (var o = r(Object.keys(this.repos_)), s = o.next(); !s.done; s = o.next()) {
                            var a = s.value;
                            try {
                                for (var u = (n = void 0, r(Object.keys(this.repos_[a]))), l = u.next(); !l.done; l = u.next()) {
                                    var h = l.value;
                                    this.repos_[a][h].resume()
                                }
                            } catch (e) {
                                n = {
                                    error: e
                                }
                            } finally {
                                try {
                                    l && !l.done && (i = u.return) && i.call(u)
                                } finally {
                                    if (n) throw n.error
                                }
                            }
                        }
                    } catch (e) {
                        t = {
                            error: e
                        }
                    } finally {
                        try {
                            s && !s.done && (e = o.return) && e.call(o)
                        } finally {
                            if (t) throw t.error
                        }
                    }
                }, Ur.prototype.databaseFromApp = function(t, e, n) {
                    var i = n || t.options[Mr];
                    void 0 === i && st("Can't determine Firebase Database URL.  Be sure to include " + Mr + " option when calling firebase.initializeApp().");
                    var r = jt(i),
                        o = r.repoInfo,
                        s = void 0;
                    return "undefined" != typeof process && (s = process.env.FIREBASE_DATABASE_EMULATOR_HOST), s && (o = (r = jt(i = "http://" + s + "?ns=" + o.namespace)).repoInfo), Qt("Invalid Firebase Database URL", 1, r), r.path.isEmpty() || st("Database URL must point to the root of a Firebase Database (not including a child path)."), this.createRepo(o, t, e).database
                }, Ur.prototype.deleteRepo = function(t) {
                    var e = x(this.repos_, t.app.name);
                    e && x(e, t.repoInfo_.toURLString()) === t || st("Database " + t.app.name + "(" + t.repoInfo_ + ") has already been deleted."), t.interrupt(), delete e[t.repoInfo_.toURLString()]
                }, Ur.prototype.createRepo = function(t, e, n) {
                    var i = x(this.repos_, e.name);
                    i || (i = {}, this.repos_[e.name] = i);
                    var r = x(i, t.toURLString());
                    return r && st("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."), r = new _r(t, this.useRestClient_, e, n), i[t.toURLString()] = r
                }, Ur.prototype.forceRestClient = function(t) {
                    this.useRestClient_ = t
                }, Ur);

            function Ur() {
                this.repos_ = {}, this.useRestClient_ = !1
            }
            var jr = (Object.defineProperty(Hr.prototype, "app", {
                get: function() {
                    return this.repo_.app
                },
                enumerable: !1,
                configurable: !0
            }), Hr.prototype.ref = function(t) {
                return this.checkDeleted_("ref"), M("database.ref", 0, 1, arguments.length), t instanceof xr ? this.refFromURL(t.toString()) : void 0 !== t ? this.root_.child(t) : this.root_
            }, Hr.prototype.refFromURL = function(t) {
                var e = "database.refFromURL";
                this.checkDeleted_(e), M(e, 1, 1, arguments.length);
                var n = jt(t);
                Qt(e, 1, n);
                var i = n.repoInfo;
                return i.host !== this.repo_.repoInfo_.host && st(e + ": Host name does not match the current database: (found " + i.host + " but expected " + this.repo_.repoInfo_.host + ")"), this.ref(n.path.toString())
            }, Hr.prototype.checkDeleted_ = function(t) {
                null === this.repo_ && st("Cannot call " + t + " on a deleted database.")
            }, Hr.prototype.goOffline = function() {
                M("database.goOffline", 0, 0, arguments.length), this.checkDeleted_("goOffline"), this.repo_.interrupt()
            }, Hr.prototype.goOnline = function() {
                M("database.goOnline", 0, 0, arguments.length), this.checkDeleted_("goOnline"), this.repo_.resume()
            }, Hr.ServerValue = {
                TIMESTAMP: {
                    ".sv": "timestamp"
                },
                increment: function(t) {
                    return {
                        ".sv": {
                            increment: t
                        }
                    }
                }
            }, Hr);

            function Hr(t) {
                (this.repo_ = t) instanceof _r || st("Don't call new Database() directly - please use firebase.database()."), this.root_ = new xr(t, Nt.Empty), this.INTERNAL = new qr(this)
            }
            var qr = (Wr.prototype.delete = function() {
                return function(t, e, n, i) {
                    return new(n = n || Promise)((function(r, o) {
                        function s(t) {
                            try {
                                u(i.next(t))
                            } catch (t) {
                                o(t)
                            }
                        }

                        function a(t) {
                            try {
                                u(i.throw(t))
                            } catch (t) {
                                o(t)
                            }
                        }

                        function u(t) {
                            var e;
                            t.done ? r(t.value) : ((e = t.value) instanceof n ? e : new n((function(t) {
                                t(e)
                            }))).then(s, a)
                        }
                        u((i = i.apply(t, e || [])).next())
                    }))
                }(this, void 0, void 0, (function() {
                    return function(t, e) {
                        var n, i, r, o, s = {
                            label: 0,
                            sent: function() {
                                if (1 & r[0]) throw r[1];
                                return r[1]
                            },
                            trys: [],
                            ops: []
                        };
                        return o = {
                            next: a(0),
                            throw: a(1),
                            return: a(2)
                        }, "function" == typeof Symbol && (o[Symbol.iterator] = function() {
                            return this
                        }), o;

                        function a(o) {
                            return function(a) {
                                return function(o) {
                                    if (n) throw new TypeError("Generator is already executing.");
                                    for (; s;) try {
                                        if (n = 1, i && (r = 2 & o[0] ? i.return : o[0] ? i.throw || ((r = i.return) && r.call(i), 0) : i.next) && !(r = r.call(i, o[1])).done) return r;
                                        switch (i = 0, r && (o = [2 & o[0], r.value]), o[0]) {
                                            case 0:
                                            case 1:
                                                r = o;
                                                break;
                                            case 4:
                                                return s.label++, {
                                                    value: o[1],
                                                    done: !1
                                                };
                                            case 5:
                                                s.label++, i = o[1], o = [0];
                                                continue;
                                            case 7:
                                                o = s.ops.pop(), s.trys.pop();
                                                continue;
                                            default:
                                                if (!(r = 0 < (r = s.trys).length && r[r.length - 1]) && (6 === o[0] || 2 === o[0])) {
                                                    s = 0;
                                                    continue
                                                }
                                                if (3 === o[0] && (!r || o[1] > r[0] && o[1] < r[3])) {
                                                    s.label = o[1];
                                                    break
                                                }
                                                if (6 === o[0] && s.label < r[1]) {
                                                    s.label = r[1], r = o;
                                                    break
                                                }
                                                if (r && s.label < r[2]) {
                                                    s.label = r[2], s.ops.push(o);
                                                    break
                                                }
                                                r[2] && s.ops.pop(), s.trys.pop();
                                                continue
                                        }
                                        o = e.call(t, s)
                                    } catch (t) {
                                        o = [6, t], i = 0
                                    } finally {
                                        n = r = 0
                                    }
                                    if (5 & o[0]) throw o[1];
                                    return {
                                        value: o[0] ? o[1] : void 0,
                                        done: !0
                                    }
                                }([o, a])
                            }
                        }
                    }(this, (function(t) {
                        return this.database.checkDeleted_("delete"), Fr.getInstance().deleteRepo(this.database.repo_), this.database.repo_ = null, this.database.root_ = null, this.database.INTERNAL = null, this.database = null, [2]
                    }))
                }))
            }, Wr);

            function Wr(t) {
                this.database = t
            }
            var Vr = Object.freeze({
                    __proto__: null,
                    forceLongPolling: function() {
                        rr.forceDisallow(), Ji.forceAllow()
                    },
                    forceWebSockets: function() {
                        Ji.forceDisallow()
                    },
                    isWebSocketsAvailable: function() {
                        return rr.isAvailable()
                    },
                    setSecurityDebugCallback: function(t, e) {
                        t.repo.persistentConnection_.securityDebugCallback_ = e
                    },
                    stats: function(t, e) {
                        t.repo.stats(e)
                    },
                    statsIncrementCounter: function(t, e) {
                        t.repo.statsIncrementCounter(e)
                    },
                    dataUpdateCount: function(t) {
                        return t.repo.dataUpdateCount
                    },
                    interceptServerData: function(t, e) {
                        return t.repo.interceptServerData_(e)
                    }
                }),
                Br = pr;
            pr.prototype.simpleListen = function(t, e) {
                this.sendRequest("q", {
                    p: t
                }, e)
            }, pr.prototype.echo = function(t, e) {
                this.sendRequest("echo", {
                    d: t
                }, e)
            };
            var zr, $r, Kr = ur,
                Gr = Ft,
                Yr = Object.freeze({
                    __proto__: null,
                    DataConnection: Br,
                    RealTimeConnection: Kr,
                    hijackHash: function(t) {
                        var e = pr.prototype.put;
                        return pr.prototype.put = function(n, i, r, o) {
                                void 0 !== o && (o = t()), e.call(this, n, i, r, o)
                            },
                            function() {
                                pr.prototype.put = e
                            }
                    },
                    ConnectionTarget: Gr,
                    queryIdentifier: function(t) {
                        return t.queryIdentifier()
                    },
                    forceRestClient: function(t) {
                        Fr.getInstance().forceRestClient(t)
                    }
                }),
                Qr = jr.ServerValue;
            $r = (zr = t).SDK_VERSION, nr = $r, zr.INTERNAL.registerComponent(new G("database", (function(t, e) {
                var n = t.getProvider("app").getImmediate(),
                    i = t.getProvider("auth-internal");
                return Fr.getInstance().databaseFromApp(n, i, e)
            }), "PUBLIC").setServiceProps({
                Reference: xr,
                Query: _n,
                Database: jr,
                DataSnapshot: un,
                enableLogging: nt,
                INTERNAL: Vr,
                ServerValue: Qr,
                TEST_ACCESS: Yr
            }).setMultipleInstances(!0)), zr.registerVersion("@firebase/database", "0.6.7")
        }).apply(this, arguments)
    } catch (t) {
        throw console.error(t), new Error("Cannot instantiate firebase-database.js - be sure to load firebase-app.js first.")
    }
})), search_space = [], LOADED_COOKIE = {}, load_all_cookies(), BUG_REPORT_FORMAT = '<div class="w3-card-4" style="background: white;" id="{{bug_report_id}}"><table style="width: 100%;"><tr><td><p> Bug ID <b style="margin: 10px;" id="bug_report_desc_id">{{bug_report_id}}</b></p></td></tr><tr><td id="displayName"><div style="float: right;"><img style="border-radius: 50%; width: 20px; height: 20px;" id="photoURL" src="{{photoURL}}"> {{displayName}}<div></td></tr><tr><td><p style="margin: 10px;" id="bug_report_desc">{{bug_report_desc}}</p></td></tr><tr><td style"font-size: 80%;"><div style="overflow: hidden; height: 50px; float left;"><div style="float:left;" id="comment_rotoator_bug_report_{{bug_report_id}}"></div></div></td><td></td></tr></table><header class="w3-container"></header><footer class="w3-container"><div class="w3-row"><table style="width: 100%;"><tr></tr></table></div></footer></div><br>', DRIVE_LINK_FORMAT = '<div class="w3-card-4" style="background: white; margin: 10px;" id="{{drive_link_id}}"><header class="w3-container"><a target="_blank" id="drive_link_url" href="{{drive_link_url}}"><button class="w3-button w3-round-large" id="driveLinkButton" ><b style="margin: 10px; float: left;" id="drive_link_desc">{{drive_link_desc}}</b></button></a><div style="overflow: hidden; height: 50px; float left;"><button class="w3-button w3-round-large" onclick="edit_drive_link(\'{{drive_link_id}}\')"><i class="fa fa-edit"></i></button><div style="float:left;" id="comment_rotoator_drive_link_{{drive_link_id}}"></div></div><div id="displayName" style="float: right;"><div><img style="border-radius: 50%; width: 20px; height: 20px;" id="photoURL" src="{{photoURL}}"> {{displayName}}<div></div></header></div>', DEADLINE_FORMAT = '<div class="container left" id="{{deadline_id}}"><div class="content"><h4 id="deadline_date">{{deadline_date}}</h4><h3 id="deadline_title">{{deadline_title}}</h3><u><p style="font-size: 80%;" id="deadline_status">{{deadline_status}}</p></u><u><p style="font-size: 80%;" id="deadline_department">{{deadline_department}}</p></u><p id="deadline_desc">{{deadline_desc}}</p><button class="w3-button w3-round-large" onclick="edit_deadline(\'{{deadline_id}}\')"><i class="fa fa-edit"></i></button><a id="deadline_url" target="_blank" href="{{deadline_url}}"><button class="w3-button w3-round-large"><i class="fa fa-external-link"></i> Link</button></a></div><br><div class="content deadlineComment" style="width: 500px; float: bottom; display: inline-block;" id="comment_rotoator_deadline_{{deadline_id}}"></div></div>', unseen_deadlines = 0, PURCHASE_FORMAT = '<div class="w3-card-4" style="background: white;" id="{{purchase_id}}"><header class="w3-container"><b><h3 id="purchase_desc">{{purchase_desc}}</h3></b><div style="overflow: hidden; height: 50px;"><div style="float:left;"><button class="w3-button w3-round-large" id="expandButton" onclick="expand_purchase(\'{{purchase_id}}\')"><i class="fa fa-folder"></i></button></div><div style="float:left;" id="comment_rotoator_purchase_{{purchase_id}}"></div></div></header><div class="w3-container" id="purchasecontent" style="display: none;"><div class="w3-third w3-center"><p>Cost : Rs.<b id="purchase_cost">{{purchase_cost}}</b></p><p>Vega Covered : Rs.<b id="purchase_cost_vega">{{purchase_cost_vega}}</b></p><p>Supplier : <b id="purchase_place">{{purchase_place}}</b></p></div><div class="w3-third w3-center"><h4>Bill</h4><img class="zoom" onclick="zoomImage(this)" id="bill_img" src="{{bill_img}}"></div><div class="w3-third w3-center w3-margin-bottom"><h4>Item</h4><img class="zoom" onclick="zoomImage(this)" id="item_img" src="{{item_img}}"></div></div><footer class="w3-container"><div class="w3-row"><table style="width: 100%;"><tr><td style"font-size: 80%;"><u id="purchase_date">{{purchase_date}}</u></td><td id="displayName"><div style="float: right;"><img style="border-radius: 50%; width: 20px; height: 20px;" id="photoURL" src="{{photoURL}}"> {{displayName}}<div></td></tr></table></div></footer></div><br>', unseen_purchases = 0, comment_rotoator_counter = {}, comments_rotator_list = {}, ATTENDANCE_FORMAT = '<div class="w3-card-4" style="background: white; margin: 10px;" id="{{attendance_id}}" onclick="openAttendanceButtonClick(\'{{attendance_id}}\')" ><header class="w3-container"><p style="float: left; margin: 10px;" id="attendance_date">{{attendance_date}}</p> <b style="float: right; margin: 10px;" id="attendance_desc">{{attendance_desc}}</b></header><footer class="w3-container"><div class="w3-row"><table style="width: 100%;"><tr></tr></table></div></footer></div>', ATTENDANCE_USER_FORMAT_DETAILED = '<table style="width: 90%;"><tr><td><p id="displayName"><div><img style="border-radius: 50%; width: 20px; height: 20px;" id="photoURL" src="{{photoURL}}">{{displayName}}<div></p></td><td><div>{{attendance_count}}</div></td></tr></table><div class="event_list"><span>{{event_list}}</span></div><hr>', ATTENDANCE_USER_FORMAT = '<p id="displayName"><div><img style="border-radius: 50%; width: 20px; height: 20px;" id="photoURL" src="{{photoURL}}">{{displayName}}<input style="float: right;" type="checkbox" id="{{uid}}" name="{{uid}}" value="{{uid}}"><div></p><hr>', ATTENDANCE_USER_FORMAT_no_check = '<p id="displayName"><div><img style="border-radius: 50%; width: 20px; height: 20px;" id="photoURL" src="{{photoURL}}">{{displayName}}<div></p><hr>', attendance_user_list = [], all_user_list = {}, all_admin_list = {}, all_verified_list = {}, ALL_USER_FORMAT_DETAILED = '<table style="width: 90%;"><tr><td><p id="displayName"><div><img style="border-radius: 50%; width: 20px; height: 20px;" id="photoURL" src="{{photoURL}}">{{displayName}}<div></p></td><td>{{admin_status}}</td><td>{{verified_status}}</td></tr></table><hr>';
var sopen = !1,
    firstLogin = !0,
    vn = "0.0.06",
    config = {
        apiKey: "AIzaSyCQlRM64aEQxd6NGLVtWkdNyUHE4sVics0",
        authDomain: "vega-19361.firebaseapp.com",
        databaseURL: "https://vega-19361.firebaseio.com",
        projectId: "vega-19361",
        storageBucket: "vega-19361.appspot.com",
        messagingSenderId: "130442856682",
        appId: "1:130442856682:web:2ea182ee1192450c8cef93",
        measurementId: "G-HG66NNEQF6"
    },
    loading = !0;

function check_offline_mode() {
    OFFLINE_MODE && (USER_IS_ADMIN = !1, USER = is_seen("USER", "user_details"), USER ? USER_IS_VERYFIED = !0 : USER_IS_VERYFIED = !1, USER ? (openPage("PRIMARY_PAGE"), update_deadline_UI(get_cache("deadline")), update_purchases_UI(get_cache("purchase")), update_) : openPage("OFFLINE_PAGE"))
}

function logout() {
    fb.auth().signOut().then((function() {
        alert("Logout Successful!"), location.reload()
    }), (function(t) {
        displayError(t)
    }))
}

function zoomImage(t) {
    $('<form><img style="width: 600px;" src="' + t.src + '"></form>').dialog({
        modal: !0,
        title: "Image",
        show: "blind",
        hide: "fold",
        draggable: !1,
        width: .9 * $(window).width(),
        height: .9 * $(window).height(),
        resizable: !0,
        dialogClass: "dialog-full-mode",
        buttons: {
            Close: function() {
                $(this).dialog("close"), $(this).dialog("destroy")
            }
        }
    })
}

function openPage(t) {
    closeAllPages(), $("#" + t)[0].style.display = "block", $(".fab")[0].style.display = "PRIMARY_PAGE" == t ? "block" : "none"
}

function closeAllPages() {
    $("#PRIMARY_PAGE")[0].style.display = "none", $("#LOADING_PAGE")[0].style.display = "none", $("#LOGIN_PAGE")[0].style.display = "none", $("#OFFLINE_PAGE")[0].style.display = "none", $("#ABOUT_PAGE")[0].style.display = "none", $("#FIRST_LOGIN")[0].style.display = "none", $("#NOT_VERIFIED_PAGE")[0].style.display = "none"
}

function removeUser(t, e) {
    ref.root.child(e + "/" + t).remove()
}

function viewProfile(t) {
    $("<p>Do you want to logout?</p>").dialog({
        modal: !0,
        title: "Logout",
        show: "blind",
        hide: "fold",
        draggable: !1,
        resizable: !1,
        buttons: {
            No: function() {
                $(this).dialog("close"), $(this).dialog("destroy")
            },
            Yes: function() {
                logout(), $(this).dialog("close"), $(this).dialog("destroy"), location.reload()
            }
        }
    })
}

function checkOpen() {
    $("body").css("overflow", "auto"), setTimeout((function() {
        var t = getParameter("s");
        if (t) {
            var e = new Switch(t);
            history.pushState({
                type: "home"
            }, "home", "/"), ref.root.child("/switchs/title/" + t).on("value", (function(n) {
                n.val() ? (e.setSwitch(n.val()), $("<p>" + n.val() + " has been added to your SwitchTable</p>").dialog({
                    modal: !0,
                    title: "Added " + n.val(),
                    show: "blind",
                    hide: "fold",
                    draggable: !1,
                    resizable: !1,
                    buttons: {
                        "Thanks!": function() {
                            $(this).dialog("close"), $(this).dialog("destroy")
                        }
                    }
                })) : $('<form><input id="New_Switch_Name_add_URL" type="text" style="z-index:10000; width: 100%;" name="New_Switch_Name_add" placeholder="Switch Name" value=""></form>').dialog({
                    modal: !0,
                    title: "Add New Switch",
                    show: "blind",
                    hide: "fold",
                    draggable: !1,
                    resizable: !1,
                    buttons: {
                        Add: function() {
                            var e = $("#New_Switch_Name_add_URL").val();
                            new Switch(t).setSwitch(e), $("<p>" + e + " has been added to your SwitchTable</p>").dialog({
                                modal: !0,
                                title: "Added " + e,
                                show: "blind",
                                hide: "fold",
                                draggable: !1,
                                resizable: !1,
                                buttons: {
                                    "Thanks!": function() {
                                        $(this).dialog("close"), $(this).dialog("destroy")
                                    }
                                }
                            }), $(this).dialog("close"), $(this).dialog("destroy")
                        }
                    }
                })
            }))
        }
    }), 1e3);
    try {
        document.getElementById("loading").style.display = "none"
    } catch (t) {}
    "null" != USER.uid && ref.root.child("/user_id/" + USER.uid).once("value", (function(t) {
        !t.val() && firstLogin && "null" != USER.uid && (openPage("FIRST_LOGIN"), firstLogin = !1, ref.root.child("/user_id/" + USER.uid).set({
            email: USER.email,
            displayName: USER.providerData[0].displayName,
            photoURL: USER.photoURL
        }))
    }))
}

function saveMessagingDeviceToken() {
    firebase.messaging().getToken().then((function(t) {
        t ? (console.log("Got FCM device token:", t), firebase.firestore().collection("fcmTokens").doc(t).set({
            uid: firebase.auth().currentUser.uid
        })) : requestNotificationsPermissions()
    })).catch((function(t) {
        console.error("Unable to get messaging token.", t)
    }))
}

function requestNotificationsPermissions() {
    console.log("Requesting notifications permission..."), firebase.messaging().requestPermission().then((function() {
        saveMessagingDeviceToken()
    })).catch((function(t) {
        console.error("Unable to get permission to notify.", t)
    }))
}

function getParameter(t) {
    var e = document.location.href;
    e || (e = window.location.href), t = t.replace(/[\[\]]/g, "\\$&");
    var n = new RegExp("[?&]" + t + "(=([^&#]*)|&|#|$)").exec(e);
    return n ? n[2] ? decodeURIComponent(n[2].replace(/\+/g, " ")) : "" : null
}

function loginTrue() {
    fb.auth().signInWithRedirect(provider), fb.auth().getRedirectResult().then((function(t) {
        console.log("Logged in"), console.log(t.uid)
    })).catch((function(t) {
        displayError(t)
    }))
}

function init() {
    try {
        ref.root.child("web_app_vn").on("value", (function(t) {
            var e = t.val();
            console.log("web_app_vn=" + e)
        }))
    } catch (t) {
        console.log(t)
    }
    $("#flpg1").show(), $("#first-login-1").addClass("firstloginpage"), $("#main-page-0").show(), $("#page-uno").addClass("papertabscSEL"), $(".papertabsc").unbind().click((function(t) {
        switch ($(".papertabscSEL").removeClass("papertabscSEL"), $("#main-page-0").hide(), $("#main-page-1").hide(), t.target.innerHTML) {
            case "Switches":
                $("#main-page-0").show(), $(t.target).addClass("papertabscSEL");
                break;
            case "Groups":
                $("#main-page-1").show(), $(t.target).addClass("papertabscSEL")
        }
    })), $("#notification_button").unbind().click((function(t) {
        saveMessagingDeviceToken()
    })), fb.auth().onAuthStateChanged((function(t) {
        if (t) openPage("LOADING_PAGE"), USER = t, checkOpen(), ref.root.child("admin").child(USER.uid).on("value", (function(t) {
            t.val() ? USER_IS_ADMIN = !0 : USER_IS_ADMIN = !1, USER_IS_ADMIN && ($("#admin_console_button")[0].style.display = "block"), ref.root.child("verified").child(USER.uid).on("value", (function(t) {
                t.val() ? USER_IS_VERYFIED = !0 : USER_IS_VERYFIED = !1, USER_IS_VERYFIED ? (set_seen("USER", "user_details", USER), openPage("PRIMARY_PAGE"), refresh_attendances(), refresh_purchases(), refresh_deadlines(), refresh_drive_links(), refresh_bug_report()) : openPage("NOT_VERIFIED_PAGE")
            }))
        })), document.getElementById("login-button").style.display = "none", document.getElementById("user-pic") && (t.photoURL ? document.getElementById("user-pic").src = t.photoURL : document.getElementById("user-pic").sec = "user.jpg");
        else {
            openPage("LOGIN_PAGE");
            try {
                document.getElementById("loading").style.display = "none"
            } catch (t) {}
            document.getElementById("login-button") && (document.getElementById("login-button").style.visibility = "visible")
        }
    }))
}
USER_IS_ADMIN = !1, USER_IS_VERYFIED = !1, openPage("LOADING_PAGE"), $("body").css("overflow", "auto"), setInterval((function() {
    try {
        navigator.onLine ? $("#OFFLINE_WARNING").hide() : $("#OFFLINE_WARNING").show()
    } catch (t) {}
}), 1e3), window.addEventListener("beforeinstallprompt", t => {
    console.log("", "beforeinstallprompt", t), window.deferredPrompt = t
}), butInstall = $("#install_button")[0], butInstall.addEventListener("click", () => {
    console.log("", "butInstall-clicked");
    const t = window.deferredPrompt;
    t && (t.prompt(), t.userChoice.then(t => {
        console.log("", "userChoice", t), window.deferredPrompt = null
    }))
}), window.addEventListener("DOMContentLoaded", () => {
    let t = "browser tab";
    switch (navigator.standalone && (t = "standalone-ios"), window.matchMedia("(display-mode: standalone)").matches && (t = "standalone"), console.log("DISPLAY_MODE_LAUNCH:", t), t) {
        case "browser tab":
            $("#install_button")[0].style.display = "block";
            break;
        default:
            $("#install_button")[0].style.display = "none"
    }
}), document.body.onload = function() {
    fb = firebase.initializeApp(config), ref = fb.database().ref(), storage = fb.storage().ref(), provider = new firebase.auth.GoogleAuthProvider, OFFLINE_MODE ? check_offline_mode() : init(), window.addEventListener("HTMLImportsLoaded", (function(t) {
        OFFLINE_MODE ? check_offline_mode() : init()
    }))
}, $(".fab").unbind("click").click((function() {
    for (tablinks = document.getElementsByClassName("tablinks"), selected_tab = "", i = 0; i < tablinks.length; i++)
        if (tablinks[i].classList.contains("active")) {
            selected_tab = tablinks[i].innerText;
            break
        } switch (selected_tab) {
        case "Timeline":
            new_deadline();
            break;
        case "Purchase":
            new_purchase();
            break;
        case "Drive":
            new_drive_link();
            break;
        case "Report Bug":
            new_bug_report();
            break;
        case "Attendance":
            new_attendance();
            break;
        default:
            alert("Nothing to add")
    }
}));